const VU="modulepreload",UU=function(e){return"/"+e},tM={},Ge=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=UU(o),o in tM)return;tM[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let m=i.length-1;m>=0;m--){const v=i[m];if(v.href===o&&(!s||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":VU,s||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),s)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function HU(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const jU=()=>{},GU=Object.assign,WU=Object.prototype.hasOwnProperty,M1=(e,t)=>WU.call(e,t),bl=Array.isArray,X_=e=>n4(e)==="[object Map]",r4=e=>typeof e=="function",qU=e=>typeof e=="string",gC=e=>typeof e=="symbol",ig=e=>e!==null&&typeof e=="object",XU=Object.prototype.toString,n4=e=>XU.call(e),ZU=e=>n4(e).slice(8,-1),yC=e=>qU(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_C=(e,t)=>!Object.is(e,t),KU=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})};let Zo;class YU{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zo,!t&&Zo&&(this.index=(Zo.scopes||(Zo.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Zo;try{return Zo=this,t()}finally{Zo=r}}}on(){Zo=this}off(){Zo=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function JU(e,t=Zo){t&&t.active&&t.effects.push(e)}function i4(){return Zo}function QU(e){Zo&&Zo.cleanups.push(e)}const bC=e=>{const t=new Set(e);return t.w=0,t.n=0,t},o4=e=>(e.w&Vu)>0,a4=e=>(e.n&Vu)>0,eH=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Vu},tH=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];o4(i)&&!a4(i)?i.delete(e):t[r++]=i,i.w&=~Vu,i.n&=~Vu}t.length=r}},T0=new WeakMap;let Em=0,Vu=1;const vS=30;let Za;const dh=Symbol(""),gS=Symbol("");class xC{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,JU(this,n)}run(){if(!this.active)return this.fn();let t=Za,r=ku;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Za,Za=this,ku=!0,Vu=1<<++Em,Em<=vS?eH(this):rM(this),this.fn()}finally{Em<=vS&&tH(this),Vu=1<<--Em,Za=this.parent,ku=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Za===this?this.deferStop=!0:this.active&&(rM(this),this.onStop&&this.onStop(),this.active=!1)}}function rM(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let ku=!0;const s4=[];function Rd(){s4.push(ku),ku=!1}function zd(){const e=s4.pop();ku=e===void 0?!0:e}function Oo(e,t,r){if(ku&&Za){let n=T0.get(e);n||T0.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=bC()),l4(i)}}function l4(e,t){let r=!1;Em<=vS?a4(e)||(e.n|=Vu,r=!o4(e)):r=!e.has(Za),r&&(e.add(Za),Za.deps.push(e))}function Cl(e,t,r,n,i,o){const s=T0.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(r==="length"&&bl(e)){const h=Number(n);s.forEach((d,m)=>{(m==="length"||m>=h)&&a.push(d)})}else switch(r!==void 0&&a.push(s.get(r)),t){case"add":bl(e)?yC(r)&&a.push(s.get("length")):(a.push(s.get(dh)),X_(e)&&a.push(s.get(gS)));break;case"delete":bl(e)||(a.push(s.get(dh)),X_(e)&&a.push(s.get(gS)));break;case"set":X_(e)&&a.push(s.get(dh));break}if(a.length===1)a[0]&&yS(a[0]);else{const h=[];for(const d of a)d&&h.push(...d);yS(bC(h))}}function yS(e,t){const r=bl(e)?e:[...e];for(const n of r)n.computed&&nM(n);for(const n of r)n.computed||nM(n)}function nM(e,t){(e!==Za||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function rH(e,t){var r;return(r=T0.get(e))==null?void 0:r.get(t)}const nH=HU("__proto__,__v_isRef,__isVue"),u4=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gC)),iH=wC(),oH=wC(!1,!0),aH=wC(!0),iM=sH();function sH(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Fr(this);for(let o=0,s=this.length;o<s;o++)Oo(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Fr)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Rd();const n=Fr(this)[t].apply(this,r);return zd(),n}}),e}function lH(e){const t=Fr(this);return Oo(t,"has",e),t.hasOwnProperty(e)}function wC(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?TH:p4:t?d4:f4).get(n))return n;const s=bl(n);if(!e){if(s&&M1(iM,i))return Reflect.get(iM,i,o);if(i==="hasOwnProperty")return lH}const a=Reflect.get(n,i,o);return(gC(i)?u4.has(i):nH(i))||(e||Oo(n,"get",i),t)?a:fi(a)?s&&yC(i)?a:a.value:ig(a)?e?og(a):eo(a):a}}const uH=c4(),cH=c4(!0);function c4(e=!1){return function(r,n,i,o){let s=r[n];if(hd(s)&&fi(s)&&!fi(i))return!1;if(!e&&(!C0(i)&&!hd(i)&&(s=Fr(s),i=Fr(i)),!bl(r)&&fi(s)&&!fi(i)))return s.value=i,!0;const a=bl(r)&&yC(n)?Number(n)<r.length:M1(r,n),h=Reflect.set(r,n,i,o);return r===Fr(o)&&(a?_C(i,s)&&Cl(r,"set",n,i):Cl(r,"add",n,i)),h}}function hH(e,t){const r=M1(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&Cl(e,"delete",t,void 0),n}function fH(e,t){const r=Reflect.has(e,t);return(!gC(t)||!u4.has(t))&&Oo(e,"has",t),r}function dH(e){return Oo(e,"iterate",bl(e)?"length":dh),Reflect.ownKeys(e)}const h4={get:iH,set:uH,deleteProperty:hH,has:fH,ownKeys:dH},pH={get:aH,set(e,t){return!0},deleteProperty(e,t){return!0}},mH=GU({},h4,{get:oH,set:cH}),SC=e=>e,D1=e=>Reflect.getPrototypeOf(e);function Oy(e,t,r=!1,n=!1){e=e.__v_raw;const i=Fr(e),o=Fr(t);r||(t!==o&&Oo(i,"get",t),Oo(i,"get",o));const{has:s}=D1(i),a=n?SC:r?EC:dv;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function ky(e,t=!1){const r=this.__v_raw,n=Fr(r),i=Fr(e);return t||(e!==i&&Oo(n,"has",e),Oo(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function Ry(e,t=!1){return e=e.__v_raw,!t&&Oo(Fr(e),"iterate",dh),Reflect.get(e,"size",e)}function oM(e){e=Fr(e);const t=Fr(this);return D1(t).has.call(t,e)||(t.add(e),Cl(t,"add",e,e)),this}function aM(e,t){t=Fr(t);const r=Fr(this),{has:n,get:i}=D1(r);let o=n.call(r,e);o||(e=Fr(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?_C(t,s)&&Cl(r,"set",e,t):Cl(r,"add",e,t),this}function sM(e){const t=Fr(this),{has:r,get:n}=D1(t);let i=r.call(t,e);i||(e=Fr(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&Cl(t,"delete",e,void 0),o}function lM(){const e=Fr(this),t=e.size!==0,r=e.clear();return t&&Cl(e,"clear",void 0,void 0),r}function zy(e,t){return function(n,i){const o=this,s=o.__v_raw,a=Fr(s),h=t?SC:e?EC:dv;return!e&&Oo(a,"iterate",dh),s.forEach((d,m)=>n.call(i,h(d),h(m),o))}}function $y(e,t,r){return function(...n){const i=this.__v_raw,o=Fr(i),s=X_(o),a=e==="entries"||e===Symbol.iterator&&s,h=e==="keys"&&s,d=i[e](...n),m=r?SC:t?EC:dv;return!t&&Oo(o,"iterate",h?gS:dh),{next(){const{value:v,done:g}=d.next();return g?{value:v,done:g}:{value:a?[m(v[0]),m(v[1])]:m(v),done:g}},[Symbol.iterator](){return this}}}}function hu(e){return function(...t){return e==="delete"?!1:this}}function vH(){const e={get(o){return Oy(this,o)},get size(){return Ry(this)},has:ky,add:oM,set:aM,delete:sM,clear:lM,forEach:zy(!1,!1)},t={get(o){return Oy(this,o,!1,!0)},get size(){return Ry(this)},has:ky,add:oM,set:aM,delete:sM,clear:lM,forEach:zy(!1,!0)},r={get(o){return Oy(this,o,!0)},get size(){return Ry(this,!0)},has(o){return ky.call(this,o,!0)},add:hu("add"),set:hu("set"),delete:hu("delete"),clear:hu("clear"),forEach:zy(!0,!1)},n={get(o){return Oy(this,o,!0,!0)},get size(){return Ry(this,!0)},has(o){return ky.call(this,o,!0)},add:hu("add"),set:hu("set"),delete:hu("delete"),clear:hu("clear"),forEach:zy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=$y(o,!1,!1),r[o]=$y(o,!0,!1),t[o]=$y(o,!1,!0),n[o]=$y(o,!0,!0)}),[e,r,t,n]}const[gH,yH,_H,bH]=vH();function TC(e,t){const r=t?e?bH:_H:e?yH:gH;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(M1(r,i)&&i in n?r:n,i,o)}const xH={get:TC(!1,!1)},wH={get:TC(!1,!0)},SH={get:TC(!0,!1)},f4=new WeakMap,d4=new WeakMap,p4=new WeakMap,TH=new WeakMap;function CH(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function EH(e){return e.__v_skip||!Object.isExtensible(e)?0:CH(ZU(e))}function eo(e){return hd(e)?e:CC(e,!1,h4,xH,f4)}function AH(e){return CC(e,!1,mH,wH,d4)}function og(e){return CC(e,!0,pH,SH,p4)}function CC(e,t,r,n,i){if(!ig(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=EH(e);if(s===0)return e;const a=new Proxy(e,s===2?n:r);return i.set(e,a),a}function Kf(e){return hd(e)?Kf(e.__v_raw):!!(e&&e.__v_isReactive)}function hd(e){return!!(e&&e.__v_isReadonly)}function C0(e){return!!(e&&e.__v_isShallow)}function m4(e){return Kf(e)||hd(e)}function Fr(e){const t=e&&e.__v_raw;return t?Fr(t):e}function v4(e){return KU(e,"__v_skip",!0),e}const dv=e=>ig(e)?eo(e):e,EC=e=>ig(e)?og(e):e;function AC(e){ku&&Za&&(e=Fr(e),l4(e.dep||(e.dep=bC())))}function PC(e,t){e=Fr(e);const r=e.dep;r&&yS(r)}function fi(e){return!!(e&&e.__v_isRef===!0)}function Ft(e){return g4(e,!1)}function Rt(e){return g4(e,!0)}function g4(e,t){return fi(e)?e:new PH(e,t)}class PH{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Fr(t),this._value=r?t:dv(t)}get value(){return AC(this),this._value}set value(t){const r=this.__v_isShallow||C0(t)||hd(t);t=r?t:Fr(t),_C(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:dv(t),PC(this))}}function Qt(e){return fi(e)?e.value:e}const IH={get:(e,t,r)=>Qt(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return fi(i)&&!fi(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function y4(e){return Kf(e)?e:new Proxy(e,IH)}class MH{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=t(()=>AC(this),()=>PC(this));this._get=r,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function DH(e){return new MH(e)}function ag(e){const t=bl(e)?new Array(e.length):{};for(const r in e)t[r]=_4(e,r);return t}class LH{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return rH(Fr(this._object),this._key)}}class OH{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function E0(e,t,r){return fi(e)?e:r4(e)?new OH(e):ig(e)&&arguments.length>1?_4(e,t,r):Ft(e)}function _4(e,t,r){const n=e[t];return fi(n)?n:new LH(e,t,r)}class kH{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new xC(t,()=>{this._dirty||(this._dirty=!0,PC(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Fr(this);return AC(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function RH(e,t,r=!1){let n,i;const o=r4(e);return o?(n=e,i=jU):(n=e.get,i=e.set),new kH(n,i,o||!i,r)}function zH(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const kn={},Yf=[],Ls=()=>{},$H=()=>!1,BH=/^on[^a-z]/,L1=e=>BH.test(e),b4=e=>e.startsWith("onUpdate:"),to=Object.assign,IC=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},FH=Object.prototype.hasOwnProperty,un=(e,t)=>FH.call(e,t),Nr=Array.isArray,x4=e=>MC(e)==="[object Map]",w4=e=>MC(e)==="[object Set]",Mr=e=>typeof e=="function",ro=e=>typeof e=="string",pi=e=>e!==null&&typeof e=="object",S4=e=>pi(e)&&Mr(e.then)&&Mr(e.catch),T4=Object.prototype.toString,MC=e=>T4.call(e),C4=e=>MC(e)==="[object Object]",Bm=zH(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O1=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},NH=/-(\w)/g,Rs=O1(e=>e.replace(NH,(t,r)=>r?r.toUpperCase():"")),VH=/\B([A-Z])/g,k1=O1(e=>e.replace(VH,"-$1").toLowerCase()),DC=O1(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xx=O1(e=>e?`on${DC(e)}`:""),uM=(e,t)=>!Object.is(e,t),Zx=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},_S=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},UH=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let cM;const bS=()=>cM||(cM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $d(e){if(Nr(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=ro(n)?WH(n):$d(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(ro(e))return e;if(pi(e))return e}}const HH=/;(?![^(]*\))/g,jH=/:([^]+)/,GH=new RegExp("\\/\\*.*?\\*\\/","gs");function WH(e){const t={};return e.replace(GH,"").split(HH).forEach(r=>{if(r){const n=r.split(jH);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function $i(e){let t="";if(ro(e))t=e;else if(Nr(e))for(let r=0;r<e.length;r++){const n=$i(e[r]);n&&(t+=n+" ")}else if(pi(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function qH(e){if(!e)return null;let{class:t,style:r}=e;return t&&!ro(t)&&(e.class=$i(t)),r&&(e.style=$d(r)),e}const Qr=e=>ro(e)?e:e==null?"":Nr(e)||pi(e)&&(e.toString===T4||!Mr(e.toString))?JSON.stringify(e,E4,2):String(e),E4=(e,t)=>t&&t.__v_isRef?E4(e,t.value):x4(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:w4(t)?{[`Set(${t.size})`]:[...t.values()]}:pi(t)&&!Nr(t)&&!C4(t)?String(t):t;function Ru(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){sg(o,t,r)}return i}function Ta(e,t,r,n){if(Mr(e)){const o=Ru(e,t,r,n);return o&&S4(o)&&o.catch(s=>{sg(s,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Ta(e[o],t,r,n));return i}function sg(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=r;for(;o;){const d=o.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,s,a)===!1)return}o=o.parent}const h=t.appContext.config.errorHandler;if(h){Ru(h,null,10,[e,s,a]);return}}XH(e,r,i,n)}function XH(e,t,r,n=!0){console.error(e)}let pv=!1,xS=!1;const Qi=[];let Es=0;const Jf=[];let ml=null,eh=0;const A4=Promise.resolve();let LC=null;function ko(e){const t=LC||A4;return e?t.then(this?e.bind(this):e):t}function ZH(e){let t=Es+1,r=Qi.length;for(;t<r;){const n=t+r>>>1;mv(Qi[n])<e?t=n+1:r=n}return t}function R1(e){(!Qi.length||!Qi.includes(e,pv&&e.allowRecurse?Es+1:Es))&&(e.id==null?Qi.push(e):Qi.splice(ZH(e.id),0,e),P4())}function P4(){!pv&&!xS&&(xS=!0,LC=A4.then(I4))}function KH(e){const t=Qi.indexOf(e);t>Es&&Qi.splice(t,1)}function YH(e){Nr(e)?Jf.push(...e):(!ml||!ml.includes(e,e.allowRecurse?eh+1:eh))&&Jf.push(e),P4()}function hM(e,t=pv?Es+1:0){for(;t<Qi.length;t++){const r=Qi[t];r&&r.pre&&(Qi.splice(t,1),t--,r())}}function A0(e){if(Jf.length){const t=[...new Set(Jf)];if(Jf.length=0,ml){ml.push(...t);return}for(ml=t,ml.sort((r,n)=>mv(r)-mv(n)),eh=0;eh<ml.length;eh++)ml[eh]();ml=null,eh=0}}const mv=e=>e.id==null?1/0:e.id,JH=(e,t)=>{const r=mv(e)-mv(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function I4(e){xS=!1,pv=!0,Qi.sort(JH);const t=Ls;try{for(Es=0;Es<Qi.length;Es++){const r=Qi[Es];r&&r.active!==!1&&Ru(r,null,14)}}finally{Es=0,Qi.length=0,A0(),pv=!1,LC=null,(Qi.length||Jf.length)&&I4()}}function QH(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||kn;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const m=`${s==="modelValue"?"model":s}Modifiers`,{number:v,trim:g}=n[m]||kn;g&&(i=r.map(_=>ro(_)?_.trim():_)),v&&(i=r.map(UH))}let a,h=n[a=Xx(t)]||n[a=Xx(Rs(t))];!h&&o&&(h=n[a=Xx(k1(t))]),h&&Ta(h,e,6,i);const d=n[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ta(d,e,6,i)}}function M4(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!Mr(e)){const h=d=>{const m=M4(d,t,!0);m&&(a=!0,to(s,m))};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!o&&!a?(pi(e)&&n.set(e,null),null):(Nr(o)?o.forEach(h=>s[h]=null):to(s,o),pi(e)&&n.set(e,s),s)}function z1(e,t){return!e||!L1(t)?!1:(t=t.slice(2).replace(/Once$/,""),un(e,t[0].toLowerCase()+t.slice(1))||un(e,k1(t))||un(e,t))}let zi=null,$1=null;function P0(e){const t=zi;return zi=e,$1=e&&e.type.__scopeId||null,t}function D4(e){$1=e}function L4(){$1=null}function mn(e,t=zi,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&TM(-1);const o=P0(t);let s;try{s=e(...i)}finally{P0(o),n._d&&TM(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Kx(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:h,emit:d,render:m,renderCache:v,data:g,setupState:_,ctx:T,inheritAttrs:P}=e;let M,I;const D=P0(e);try{if(r.shapeFlag&4){const z=i||n;M=Xa(m.call(z,z,v,o,_,g,T)),I=h}else{const z=t;M=Xa(z.length>1?z(o,{attrs:h,slots:a,emit:d}):z(o,null)),I=t.props?h:ej(h)}}catch(z){Um.length=0,sg(z,e,1),M=fe(Mo)}let O=M;if(I&&P!==!1){const z=Object.keys(I),{shapeFlag:F}=O;z.length&&F&7&&(s&&z.some(b4)&&(I=tj(I,s)),O=Al(O,I))}return r.dirs&&(O=Al(O),O.dirs=O.dirs?O.dirs.concat(r.dirs):r.dirs),r.transition&&(O.transition=r.transition),M=O,P0(D),M}const ej=e=>{let t;for(const r in e)(r==="class"||r==="style"||L1(r))&&((t||(t={}))[r]=e[r]);return t},tj=(e,t)=>{const r={};for(const n in e)(!b4(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function rj(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:a,patchFlag:h}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return n?fM(n,s,d):!!s;if(h&8){const m=t.dynamicProps;for(let v=0;v<m.length;v++){const g=m[v];if(s[g]!==n[g]&&!z1(d,g))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?fM(n,s,d):!0:!!s;return!1}function fM(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!z1(r,o))return!0}return!1}function nj({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const ij=e=>e.__isSuspense;function O4(e,t){t&&t.pendingBranch?Nr(e)?t.effects.push(...e):t.effects.push(e):YH(e)}function di(e,t){return OC(e,null,t)}const By={};function rr(e,t,r){return OC(e,t,r)}function OC(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=kn){var a;const h=i4()===((a=gi)==null?void 0:a.scope)?gi:null;let d,m=!1,v=!1;if(fi(e)?(d=()=>e.value,m=C0(e)):Kf(e)?(d=()=>e,n=!0):Nr(e)?(v=!0,m=e.some(z=>Kf(z)||C0(z)),d=()=>e.map(z=>{if(fi(z))return z.value;if(Kf(z))return uh(z);if(Mr(z))return Ru(z,h,2)})):Mr(e)?t?d=()=>Ru(e,h,2):d=()=>{if(!(h&&h.isUnmounted))return g&&g(),Ta(e,h,3,[_])}:d=Ls,t&&n){const z=d;d=()=>uh(z())}let g,_=z=>{g=D.onStop=()=>{Ru(z,h,4)}},T;if(dd)if(_=Ls,t?r&&Ta(t,h,3,[d(),v?[]:void 0,_]):d(),i==="sync"){const z=Jj();T=z.__watcherHandles||(z.__watcherHandles=[])}else return Ls;let P=v?new Array(e.length).fill(By):By;const M=()=>{if(D.active)if(t){const z=D.run();(n||m||(v?z.some((F,N)=>uM(F,P[N])):uM(z,P)))&&(g&&g(),Ta(t,h,3,[z,P===By?void 0:v&&P[0]===By?[]:P,_]),P=z)}else D.run()};M.allowRecurse=!!t;let I;i==="sync"?I=M:i==="post"?I=()=>Ao(M,h&&h.suspense):(M.pre=!0,h&&(M.id=h.uid),I=()=>R1(M));const D=new xC(d,I);t?r?M():P=D.run():i==="post"?Ao(D.run.bind(D),h&&h.suspense):D.run();const O=()=>{D.stop(),h&&h.scope&&IC(h.scope.effects,D)};return T&&T.push(O),O}function oj(e,t,r){const n=this.proxy,i=ro(e)?e.includes(".")?k4(n,e):()=>n[e]:e.bind(n,n);let o;Mr(t)?o=t:(o=t.handler,r=t);const s=gi;fd(this);const a=OC(i,o.bind(n),r);return s?fd(s):ph(),a}function k4(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function uh(e,t){if(!pi(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),fi(e))uh(e.value,t);else if(Nr(e))for(let r=0;r<e.length;r++)uh(e[r],t);else if(w4(e)||x4(e))e.forEach(r=>{uh(r,t)});else if(C4(e))for(const r in e)uh(e[r],t);return e}function wh(e,t){const r=zi;if(r===null)return e;const n=N1(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,h,d=kn]=t[o];s&&(Mr(s)&&(s={mounted:s,updated:s}),s.deep&&uh(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:h,modifiers:d}))}return e}function Ts(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let h=a.dir[n];h&&(Rd(),Ta(h,r,8,[e.el,a,e,t]),zd())}}function R4(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn(()=>{e.isMounted=!0}),Pi(()=>{e.isUnmounting=!0}),e}const la=[Function,Array],z4={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:la,onEnter:la,onAfterEnter:la,onEnterCancelled:la,onBeforeLeave:la,onLeave:la,onAfterLeave:la,onLeaveCancelled:la,onBeforeAppear:la,onAppear:la,onAfterAppear:la,onAppearCancelled:la},aj={name:"BaseTransition",props:z4,setup(e,{slots:t}){const r=Ol(),n=R4();let i;return()=>{const o=t.default&&kC(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const P of o)if(P.type!==Mo){s=P;break}}const a=Fr(e),{mode:h}=a;if(n.isLeaving)return Yx(s);const d=dM(s);if(!d)return Yx(s);const m=vv(d,a,n,r);gv(d,m);const v=r.subTree,g=v&&dM(v);let _=!1;const{getTransitionKey:T}=d.type;if(T){const P=T();i===void 0?i=P:P!==i&&(i=P,_=!0)}if(g&&g.type!==Mo&&(!th(d,g)||_)){const P=vv(g,a,n,r);if(gv(g,P),h==="out-in")return n.isLeaving=!0,P.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},Yx(s);h==="in-out"&&d.type!==Mo&&(P.delayLeave=(M,I,D)=>{const O=$4(n,g);O[String(g.key)]=g,M._leaveCb=()=>{I(),M._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=D})}return s}}},sj=aj;function $4(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function vv(e,t,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:h,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:v,onLeave:g,onAfterLeave:_,onLeaveCancelled:T,onBeforeAppear:P,onAppear:M,onAfterAppear:I,onAppearCancelled:D}=t,O=String(e.key),z=$4(r,e),F=(U,J)=>{U&&Ta(U,n,9,J)},N=(U,J)=>{const K=J[1];F(U,J),Nr(U)?U.every(ne=>ne.length<=1)&&K():U.length<=1&&K()},H={mode:o,persisted:s,beforeEnter(U){let J=a;if(!r.isMounted)if(i)J=P||a;else return;U._leaveCb&&U._leaveCb(!0);const K=z[O];K&&th(e,K)&&K.el._leaveCb&&K.el._leaveCb(),F(J,[U])},enter(U){let J=h,K=d,ne=m;if(!r.isMounted)if(i)J=M||h,K=I||d,ne=D||m;else return;let ae=!1;const he=U._enterCb=ie=>{ae||(ae=!0,ie?F(ne,[U]):F(K,[U]),H.delayedLeave&&H.delayedLeave(),U._enterCb=void 0)};J?N(J,[U,he]):he()},leave(U,J){const K=String(e.key);if(U._enterCb&&U._enterCb(!0),r.isUnmounting)return J();F(v,[U]);let ne=!1;const ae=U._leaveCb=he=>{ne||(ne=!0,J(),he?F(T,[U]):F(_,[U]),U._leaveCb=void 0,z[K]===e&&delete z[K])};z[K]=e,g?N(g,[U,ae]):ae()},clone(U){return vv(U,t,r,n)}};return H}function Yx(e){if(lg(e))return e=Al(e),e.children=null,e}function dM(e){return lg(e)?e.children?e.children[0]:void 0:e}function gv(e,t){e.shapeFlag&6&&e.component?gv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function kC(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===Tr?(s.patchFlag&128&&i++,n=n.concat(kC(s.children,t,a))):(t||s.type!==Mo)&&n.push(a!=null?Al(s,{key:a}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function bt(e,t){return Mr(e)?(()=>to({name:e.name},t,{setup:e}))():e}const Qf=e=>!!e.type.__asyncLoader;function Bt(e){Mr(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=e;let h=null,d,m=0;const v=()=>(m++,h=null,g()),g=()=>{let _;return h||(_=h=t().catch(T=>{if(T=T instanceof Error?T:new Error(String(T)),a)return new Promise((P,M)=>{a(T,()=>P(v()),()=>M(T),m+1)});throw T}).then(T=>_!==h&&h?h:(T&&(T.__esModule||T[Symbol.toStringTag]==="Module")&&(T=T.default),d=T,T)))};return bt({name:"AsyncComponentWrapper",__asyncLoader:g,get __asyncResolved(){return d},setup(){const _=gi;if(d)return()=>Jx(d,_);const T=D=>{h=null,sg(D,_,13,!n)};if(s&&_.suspense||dd)return g().then(D=>()=>Jx(D,_)).catch(D=>(T(D),()=>n?fe(n,{error:D}):null));const P=Ft(!1),M=Ft(),I=Ft(!!i);return i&&setTimeout(()=>{I.value=!1},i),o!=null&&setTimeout(()=>{if(!P.value&&!M.value){const D=new Error(`Async component timed out after ${o}ms.`);T(D),M.value=D}},o),g().then(()=>{P.value=!0,_.parent&&lg(_.parent.vnode)&&R1(_.parent.update)}).catch(D=>{T(D),M.value=D}),()=>{if(P.value&&d)return Jx(d,_);if(M.value&&n)return fe(n,{error:M.value});if(r&&!I.value)return fe(r)}}})}function Jx(e,t){const{ref:r,props:n,children:i,ce:o}=t.vnode,s=fe(e,n,i);return s.ref=r,s.ce=o,delete t.vnode.ce,s}const lg=e=>e.type.__isKeepAlive;function lj(e,t){B4(e,"a",t)}function uj(e,t){B4(e,"da",t)}function B4(e,t,r=gi){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(B1(t,n,r),r){let i=r.parent;for(;i&&i.parent;)lg(i.parent.vnode)&&cj(n,t,r,i),i=i.parent}}function cj(e,t,r,n){const i=B1(t,e,n,!0);Ll(()=>{IC(n[t],i)},r)}function B1(e,t,r=gi,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;Rd(),fd(r);const a=Ta(t,r,e,s);return ph(),zd(),a});return n?i.unshift(o):i.push(o),o}}const Dl=e=>(t,r=gi)=>(!dd||e==="sp")&&B1(e,(...n)=>t(...n),r),F4=Dl("bm"),cn=Dl("m"),N4=Dl("bu"),Mh=Dl("u"),Pi=Dl("bum"),Ll=Dl("um"),hj=Dl("sp"),fj=Dl("rtg"),dj=Dl("rtc");function pj(e,t=gi){B1("ec",e,t)}const V4="components",mj="directives";function Hn(e,t){return U4(V4,e,!0,t)||e}const vj=Symbol.for("v-ndc");function gj(e){return U4(mj,e)}function U4(e,t,r=!0,n=!1){const i=zi||gi;if(i){const o=i.type;if(e===V4){const a=Zj(o,!1);if(a&&(a===t||a===Rs(t)||a===DC(Rs(t))))return o}const s=pM(i[e]||o[e],t)||pM(i.appContext[e],t);return!s&&n?o:s}}function pM(e,t){return e&&(e[t]||e[Rs(t)]||e[DC(Rs(t))])}function Qa(e,t,r,n){let i;const o=r&&r[n];if(Nr(e)||ro(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(pi(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,h=s.length;a<h;a++){const d=s[a];i[a]=t(e[d],d,a,o&&o[a])}}else i=[];return r&&(r[n]=i),i}function pn(e,t,r={},n,i){if(zi.isCE||zi.parent&&Qf(zi.parent)&&zi.parent.isCE)return t!=="default"&&(r.name=t),fe("slot",r,n&&n());let o=e[t];o&&o._c&&(o._d=!1),_t();const s=o&&H4(o(r)),a=Fn(Tr,{key:r.key||s&&s.key||`_${t}`},s||(n?n():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function H4(e){return e.some(t=>El(t)?!(t.type===Mo||t.type===Tr&&!H4(t.children)):!0)?e:null}const wS=e=>e?t6(e)?N1(e)||e.proxy:wS(e.parent):null,Fm=to(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wS(e.parent),$root:e=>wS(e.root),$emit:e=>e.emit,$options:e=>RC(e),$forceUpdate:e=>e.f||(e.f=()=>R1(e.update)),$nextTick:e=>e.n||(e.n=ko.bind(e.proxy)),$watch:e=>oj.bind(e)}),Qx=(e,t)=>e!==kn&&!e.__isScriptSetup&&un(e,t),yj={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:a,appContext:h}=e;let d;if(t[0]!=="$"){const _=s[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(Qx(n,t))return s[t]=1,n[t];if(i!==kn&&un(i,t))return s[t]=2,i[t];if((d=e.propsOptions[0])&&un(d,t))return s[t]=3,o[t];if(r!==kn&&un(r,t))return s[t]=4,r[t];SS&&(s[t]=0)}}const m=Fm[t];let v,g;if(m)return t==="$attrs"&&Oo(e,"get",t),m(e);if((v=a.__cssModules)&&(v=v[t]))return v;if(r!==kn&&un(r,t))return s[t]=4,r[t];if(g=h.config.globalProperties,un(g,t))return g[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return Qx(i,t)?(i[t]=r,!0):n!==kn&&un(n,t)?(n[t]=r,!0):un(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let a;return!!r[s]||e!==kn&&un(e,s)||Qx(t,s)||(a=o[0])&&un(a,s)||un(n,s)||un(Fm,s)||un(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:un(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function mM(e){return Nr(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let SS=!0;function _j(e){const t=RC(e),r=e.proxy,n=e.ctx;SS=!1,t.beforeCreate&&vM(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:h,inject:d,created:m,beforeMount:v,mounted:g,beforeUpdate:_,updated:T,activated:P,deactivated:M,beforeDestroy:I,beforeUnmount:D,destroyed:O,unmounted:z,render:F,renderTracked:N,renderTriggered:H,errorCaptured:U,serverPrefetch:J,expose:K,inheritAttrs:ne,components:ae,directives:he,filters:ie}=t;if(d&&bj(d,n,null),s)for(const Be in s){const Ve=s[Be];Mr(Ve)&&(n[Be]=Ve.bind(r))}if(i){const Be=i.call(r,r);pi(Be)&&(e.data=eo(Be))}if(SS=!0,o)for(const Be in o){const Ve=o[Be],ht=Mr(Ve)?Ve.bind(r,r):Mr(Ve.get)?Ve.get.bind(r,r):Ls,mt=!Mr(Ve)&&Mr(Ve.set)?Ve.set.bind(r):Ls,dt=_e({get:ht,set:mt});Object.defineProperty(n,Be,{enumerable:!0,configurable:!0,get:()=>dt.value,set:vt=>dt.value=vt})}if(a)for(const Be in a)j4(a[Be],n,r,Be);if(h){const Be=Mr(h)?h.call(r):h;Reflect.ownKeys(Be).forEach(Ve=>{Mn(Ve,Be[Ve])})}m&&vM(m,e,"c");function ce(Be,Ve){Nr(Ve)?Ve.forEach(ht=>Be(ht.bind(r))):Ve&&Be(Ve.bind(r))}if(ce(F4,v),ce(cn,g),ce(N4,_),ce(Mh,T),ce(lj,P),ce(uj,M),ce(pj,U),ce(dj,N),ce(fj,H),ce(Pi,D),ce(Ll,z),ce(hj,J),Nr(K))if(K.length){const Be=e.exposed||(e.exposed={});K.forEach(Ve=>{Object.defineProperty(Be,Ve,{get:()=>r[Ve],set:ht=>r[Ve]=ht})})}else e.exposed||(e.exposed={});F&&e.render===Ls&&(e.render=F),ne!=null&&(e.inheritAttrs=ne),ae&&(e.components=ae),he&&(e.directives=he)}function bj(e,t,r=Ls){Nr(e)&&(e=TS(e));for(const n in e){const i=e[n];let o;pi(i)?"default"in i?o=Er(i.from||n,i.default,!0):o=Er(i.from||n):o=Er(i),fi(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[n]=o}}function vM(e,t,r){Ta(Nr(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function j4(e,t,r,n){const i=n.includes(".")?k4(r,n):()=>r[n];if(ro(e)){const o=t[e];Mr(o)&&rr(i,o)}else if(Mr(e))rr(i,e.bind(r));else if(pi(e))if(Nr(e))e.forEach(o=>j4(o,t,r,n));else{const o=Mr(e.handler)?e.handler.bind(r):t[e.handler];Mr(o)&&rr(i,o,e)}}function RC(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let h;return a?h=a:!i.length&&!r&&!n?h=t:(h={},i.length&&i.forEach(d=>I0(h,d,s,!0)),I0(h,t,s)),pi(t)&&o.set(t,h),h}function I0(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&I0(e,o,r,!0),i&&i.forEach(s=>I0(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const a=xj[s]||r&&r[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const xj={data:gM,props:yM,emits:yM,methods:Am,computed:Am,beforeCreate:ho,created:ho,beforeMount:ho,mounted:ho,beforeUpdate:ho,updated:ho,beforeDestroy:ho,beforeUnmount:ho,destroyed:ho,unmounted:ho,activated:ho,deactivated:ho,errorCaptured:ho,serverPrefetch:ho,components:Am,directives:Am,watch:Sj,provide:gM,inject:wj};function gM(e,t){return t?e?function(){return to(Mr(e)?e.call(this,this):e,Mr(t)?t.call(this,this):t)}:t:e}function wj(e,t){return Am(TS(e),TS(t))}function TS(e){if(Nr(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ho(e,t){return e?[...new Set([].concat(e,t))]:t}function Am(e,t){return e?to(Object.create(null),e,t):t}function yM(e,t){return e?Nr(e)&&Nr(t)?[...new Set([...e,...t])]:to(Object.create(null),mM(e),mM(t??{})):t}function Sj(e,t){if(!e)return t;if(!t)return e;const r=to(Object.create(null),e);for(const n in t)r[n]=ho(e[n],t[n]);return r}function G4(){return{app:null,config:{isNativeTag:$H,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tj=0;function Cj(e,t){return function(n,i=null){Mr(n)||(n=to({},n)),i!=null&&!pi(i)&&(i=null);const o=G4(),s=new Set;let a=!1;const h=o.app={_uid:Tj++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Qj,get config(){return o.config},set config(d){},use(d,...m){return s.has(d)||(d&&Mr(d.install)?(s.add(d),d.install(h,...m)):Mr(d)&&(s.add(d),d(h,...m))),h},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),h},component(d,m){return m?(o.components[d]=m,h):o.components[d]},directive(d,m){return m?(o.directives[d]=m,h):o.directives[d]},mount(d,m,v){if(!a){const g=fe(n,i);return g.appContext=o,m&&t?t(g,d):e(g,d,v),a=!0,h._container=d,d.__vue_app__=h,N1(g.component)||g.component.proxy}},unmount(){a&&(e(null,h._container),delete h._container.__vue_app__)},provide(d,m){return o.provides[d]=m,h},runWithContext(d){M0=h;try{return d()}finally{M0=null}}};return h}}let M0=null;function Mn(e,t){if(gi){let r=gi.provides;const n=gi.parent&&gi.parent.provides;n===r&&(r=gi.provides=Object.create(n)),r[e]=t}}function Er(e,t,r=!1){const n=gi||zi;if(n||M0){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:M0._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Mr(t)?t.call(n&&n.proxy):t}}function Ej(e,t,r,n=!1){const i={},o={};_S(o,F1,1),e.propsDefaults=Object.create(null),W4(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:AH(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Aj(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Fr(i),[h]=e.propsOptions;let d=!1;if((n||s>0)&&!(s&16)){if(s&8){const m=e.vnode.dynamicProps;for(let v=0;v<m.length;v++){let g=m[v];if(z1(e.emitsOptions,g))continue;const _=t[g];if(h)if(un(o,g))_!==o[g]&&(o[g]=_,d=!0);else{const T=Rs(g);i[T]=CS(h,a,T,_,e,!1)}else _!==o[g]&&(o[g]=_,d=!0)}}}else{W4(e,t,i,o)&&(d=!0);let m;for(const v in a)(!t||!un(t,v)&&((m=k1(v))===v||!un(t,m)))&&(h?r&&(r[v]!==void 0||r[m]!==void 0)&&(i[v]=CS(h,a,v,void 0,e,!0)):delete i[v]);if(o!==a)for(const v in o)(!t||!un(t,v))&&(delete o[v],d=!0)}d&&Cl(e,"set","$attrs")}function W4(e,t,r,n){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let h in t){if(Bm(h))continue;const d=t[h];let m;i&&un(i,m=Rs(h))?!o||!o.includes(m)?r[m]=d:(a||(a={}))[m]=d:z1(e.emitsOptions,h)||(!(h in n)||d!==n[h])&&(n[h]=d,s=!0)}if(o){const h=Fr(r),d=a||kn;for(let m=0;m<o.length;m++){const v=o[m];r[v]=CS(i,h,v,d[v],e,!un(d,v))}}return s}function CS(e,t,r,n,i,o){const s=e[r];if(s!=null){const a=un(s,"default");if(a&&n===void 0){const h=s.default;if(s.type!==Function&&!s.skipFactory&&Mr(h)){const{propsDefaults:d}=i;r in d?n=d[r]:(fd(i),n=d[r]=h.call(null,t),ph())}else n=h}s[0]&&(o&&!a?n=!1:s[1]&&(n===""||n===k1(r))&&(n=!0))}return n}function q4(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},a=[];let h=!1;if(!Mr(e)){const m=v=>{h=!0;const[g,_]=q4(v,t,!0);to(s,g),_&&a.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!h)return pi(e)&&n.set(e,Yf),Yf;if(Nr(o))for(let m=0;m<o.length;m++){const v=Rs(o[m]);_M(v)&&(s[v]=kn)}else if(o)for(const m in o){const v=Rs(m);if(_M(v)){const g=o[m],_=s[v]=Nr(g)||Mr(g)?{type:g}:to({},g);if(_){const T=wM(Boolean,_.type),P=wM(String,_.type);_[0]=T>-1,_[1]=P<0||T<P,(T>-1||un(_,"default"))&&a.push(v)}}}const d=[s,a];return pi(e)&&n.set(e,d),d}function _M(e){return e[0]!=="$"}function bM(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function xM(e,t){return bM(e)===bM(t)}function wM(e,t){return Nr(t)?t.findIndex(r=>xM(r,e)):Mr(t)&&xM(t,e)?0:-1}const X4=e=>e[0]==="_"||e==="$stable",zC=e=>Nr(e)?e.map(Xa):[Xa(e)],Pj=(e,t,r)=>{if(t._n)return t;const n=mn((...i)=>zC(t(...i)),r);return n._c=!1,n},Z4=(e,t,r)=>{const n=e._ctx;for(const i in e){if(X4(i))continue;const o=e[i];if(Mr(o))t[i]=Pj(i,o,n);else if(o!=null){const s=zC(o);t[i]=()=>s}}},K4=(e,t)=>{const r=zC(t);e.slots.default=()=>r},Ij=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Fr(t),_S(t,"_",r)):Z4(t,e.slots={})}else e.slots={},t&&K4(e,t);_S(e.slots,F1,1)},Mj=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=kn;if(n.shapeFlag&32){const a=t._;a?r&&a===1?o=!1:(to(i,t),!r&&a===1&&delete i._):(o=!t.$stable,Z4(t,i)),s=t}else t&&(K4(e,t),s={default:1});if(o)for(const a in i)!X4(a)&&!(a in s)&&delete i[a]};function D0(e,t,r,n,i=!1){if(Nr(e)){e.forEach((g,_)=>D0(g,t&&(Nr(t)?t[_]:t),r,n,i));return}if(Qf(n)&&!i)return;const o=n.shapeFlag&4?N1(n.component)||n.component.proxy:n.el,s=i?null:o,{i:a,r:h}=e,d=t&&t.r,m=a.refs===kn?a.refs={}:a.refs,v=a.setupState;if(d!=null&&d!==h&&(ro(d)?(m[d]=null,un(v,d)&&(v[d]=null)):fi(d)&&(d.value=null)),Mr(h))Ru(h,a,12,[s,m]);else{const g=ro(h),_=fi(h);if(g||_){const T=()=>{if(e.f){const P=g?un(v,h)?v[h]:m[h]:h.value;i?Nr(P)&&IC(P,o):Nr(P)?P.includes(o)||P.push(o):g?(m[h]=[o],un(v,h)&&(v[h]=m[h])):(h.value=[o],e.k&&(m[e.k]=h.value))}else g?(m[h]=s,un(v,h)&&(v[h]=s)):_&&(h.value=s,e.k&&(m[e.k]=s))};s?(T.id=-1,Ao(T,r)):T()}}}let fu=!1;const Fy=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Ny=e=>e.nodeType===8;function Dj(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:o,parentNode:s,remove:a,insert:h,createComment:d}}=e,m=(I,D)=>{if(!D.hasChildNodes()){r(null,I,D),A0(),D._vnode=I;return}fu=!1,v(D.firstChild,I,null,null,null),A0(),D._vnode=I,fu&&console.error("Hydration completed but contains mismatches.")},v=(I,D,O,z,F,N=!1)=>{const H=Ny(I)&&I.data==="[",U=()=>P(I,D,O,z,F,H),{type:J,ref:K,shapeFlag:ne,patchFlag:ae}=D;let he=I.nodeType;D.el=I,ae===-2&&(N=!1,D.dynamicChildren=null);let ie=null;switch(J){case Uu:he!==3?D.children===""?(h(D.el=i(""),s(I),I),ie=I):ie=U():(I.data!==D.children&&(fu=!0,I.data=D.children),ie=o(I));break;case Mo:he!==8||H?ie=U():ie=o(I);break;case Vm:if(H&&(I=o(I),he=I.nodeType),he===1||he===3){ie=I;const de=!D.children.length;for(let ce=0;ce<D.staticCount;ce++)de&&(D.children+=ie.nodeType===1?ie.outerHTML:ie.data),ce===D.staticCount-1&&(D.anchor=ie),ie=o(ie);return H?o(ie):ie}else U();break;case Tr:H?ie=T(I,D,O,z,F,N):ie=U();break;default:if(ne&1)he!==1||D.type.toLowerCase()!==I.tagName.toLowerCase()?ie=U():ie=g(I,D,O,z,F,N);else if(ne&6){D.slotScopeIds=F;const de=s(I);if(t(D,de,null,O,z,Fy(de),N),ie=H?M(I):o(I),ie&&Ny(ie)&&ie.data==="teleport end"&&(ie=o(ie)),Qf(D)){let ce;H?(ce=fe(Tr),ce.anchor=ie?ie.previousSibling:de.lastChild):ce=I.nodeType===3?Ro(""):fe("div"),ce.el=I,D.component.subTree=ce}}else ne&64?he!==8?ie=U():ie=D.type.hydrate(I,D,O,z,F,N,e,_):ne&128&&(ie=D.type.hydrate(I,D,O,z,Fy(s(I)),F,N,e,v))}return K!=null&&D0(K,null,z,D),ie},g=(I,D,O,z,F,N)=>{N=N||!!D.dynamicChildren;const{type:H,props:U,patchFlag:J,shapeFlag:K,dirs:ne}=D,ae=H==="input"&&ne||H==="option";if(ae||J!==-1){if(ne&&Ts(D,null,O,"created"),U)if(ae||!N||J&48)for(const ie in U)(ae&&ie.endsWith("value")||L1(ie)&&!Bm(ie))&&n(I,ie,null,U[ie],!1,void 0,O);else U.onClick&&n(I,"onClick",null,U.onClick,!1,void 0,O);let he;if((he=U&&U.onVnodeBeforeMount)&&pa(he,O,D),ne&&Ts(D,null,O,"beforeMount"),((he=U&&U.onVnodeMounted)||ne)&&O4(()=>{he&&pa(he,O,D),ne&&Ts(D,null,O,"mounted")},z),K&16&&!(U&&(U.innerHTML||U.textContent))){let ie=_(I.firstChild,D,I,O,z,F,N);for(;ie;){fu=!0;const de=ie;ie=ie.nextSibling,a(de)}}else K&8&&I.textContent!==D.children&&(fu=!0,I.textContent=D.children)}return I.nextSibling},_=(I,D,O,z,F,N,H)=>{H=H||!!D.dynamicChildren;const U=D.children,J=U.length;for(let K=0;K<J;K++){const ne=H?U[K]:U[K]=Xa(U[K]);if(I)I=v(I,ne,z,F,N,H);else{if(ne.type===Uu&&!ne.children)continue;fu=!0,r(null,ne,O,null,z,F,Fy(O),N)}}return I},T=(I,D,O,z,F,N)=>{const{slotScopeIds:H}=D;H&&(F=F?F.concat(H):H);const U=s(I),J=_(o(I),D,U,O,z,F,N);return J&&Ny(J)&&J.data==="]"?o(D.anchor=J):(fu=!0,h(D.anchor=d("]"),U,J),J)},P=(I,D,O,z,F,N)=>{if(fu=!0,D.el=null,N){const J=M(I);for(;;){const K=o(I);if(K&&K!==J)a(K);else break}}const H=o(I),U=s(I);return a(I),r(null,D,U,H,O,z,Fy(U),F),H},M=I=>{let D=0;for(;I;)if(I=o(I),I&&Ny(I)&&(I.data==="["&&D++,I.data==="]")){if(D===0)return o(I);D--}return I};return[m,v]}const Ao=O4;function Lj(e){return Y4(e)}function Oj(e){return Y4(e,Dj)}function Y4(e,t){const r=bS();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:a,createComment:h,setText:d,setElementText:m,parentNode:v,nextSibling:g,setScopeId:_=Ls,insertStaticContent:T}=e,P=(le,ye,Ee,je=null,Ye=null,qe=null,nt=!1,Oe=null,tt=!!ye.dynamicChildren)=>{if(le===ye)return;le&&!th(le,ye)&&(je=ze(le),vt(le,Ye,qe,!0),le=null),ye.patchFlag===-2&&(tt=!1,ye.dynamicChildren=null);const{type:rt,ref:Tt,shapeFlag:Lt}=ye;switch(rt){case Uu:M(le,ye,Ee,je);break;case Mo:I(le,ye,Ee,je);break;case Vm:le==null&&D(ye,Ee,je,nt);break;case Tr:ae(le,ye,Ee,je,Ye,qe,nt,Oe,tt);break;default:Lt&1?F(le,ye,Ee,je,Ye,qe,nt,Oe,tt):Lt&6?he(le,ye,Ee,je,Ye,qe,nt,Oe,tt):(Lt&64||Lt&128)&&rt.process(le,ye,Ee,je,Ye,qe,nt,Oe,tt,We)}Tt!=null&&Ye&&D0(Tt,le&&le.ref,qe,ye||le,!ye)},M=(le,ye,Ee,je)=>{if(le==null)n(ye.el=a(ye.children),Ee,je);else{const Ye=ye.el=le.el;ye.children!==le.children&&d(Ye,ye.children)}},I=(le,ye,Ee,je)=>{le==null?n(ye.el=h(ye.children||""),Ee,je):ye.el=le.el},D=(le,ye,Ee,je)=>{[le.el,le.anchor]=T(le.children,ye,Ee,je,le.el,le.anchor)},O=({el:le,anchor:ye},Ee,je)=>{let Ye;for(;le&&le!==ye;)Ye=g(le),n(le,Ee,je),le=Ye;n(ye,Ee,je)},z=({el:le,anchor:ye})=>{let Ee;for(;le&&le!==ye;)Ee=g(le),i(le),le=Ee;i(ye)},F=(le,ye,Ee,je,Ye,qe,nt,Oe,tt)=>{nt=nt||ye.type==="svg",le==null?N(ye,Ee,je,Ye,qe,nt,Oe,tt):J(le,ye,Ye,qe,nt,Oe,tt)},N=(le,ye,Ee,je,Ye,qe,nt,Oe)=>{let tt,rt;const{type:Tt,props:Lt,shapeFlag:Pt,transition:qt,dirs:sr}=le;if(tt=le.el=s(le.type,qe,Lt&&Lt.is,Lt),Pt&8?m(tt,le.children):Pt&16&&U(le.children,tt,null,je,Ye,qe&&Tt!=="foreignObject",nt,Oe),sr&&Ts(le,null,je,"created"),H(tt,le,le.scopeId,nt,je),Lt){for(const Re in Lt)Re!=="value"&&!Bm(Re)&&o(tt,Re,null,Lt[Re],qe,le.children,je,Ye,st);"value"in Lt&&o(tt,"value",null,Lt.value),(rt=Lt.onVnodeBeforeMount)&&pa(rt,je,le)}sr&&Ts(le,null,je,"beforeMount");const yr=(!Ye||Ye&&!Ye.pendingBranch)&&qt&&!qt.persisted;yr&&qt.beforeEnter(tt),n(tt,ye,Ee),((rt=Lt&&Lt.onVnodeMounted)||yr||sr)&&Ao(()=>{rt&&pa(rt,je,le),yr&&qt.enter(tt),sr&&Ts(le,null,je,"mounted")},Ye)},H=(le,ye,Ee,je,Ye)=>{if(Ee&&_(le,Ee),je)for(let qe=0;qe<je.length;qe++)_(le,je[qe]);if(Ye){let qe=Ye.subTree;if(ye===qe){const nt=Ye.vnode;H(le,nt,nt.scopeId,nt.slotScopeIds,Ye.parent)}}},U=(le,ye,Ee,je,Ye,qe,nt,Oe,tt=0)=>{for(let rt=tt;rt<le.length;rt++){const Tt=le[rt]=Oe?Su(le[rt]):Xa(le[rt]);P(null,Tt,ye,Ee,je,Ye,qe,nt,Oe)}},J=(le,ye,Ee,je,Ye,qe,nt)=>{const Oe=ye.el=le.el;let{patchFlag:tt,dynamicChildren:rt,dirs:Tt}=ye;tt|=le.patchFlag&16;const Lt=le.props||kn,Pt=ye.props||kn;let qt;Ee&&Sc(Ee,!1),(qt=Pt.onVnodeBeforeUpdate)&&pa(qt,Ee,ye,le),Tt&&Ts(ye,le,Ee,"beforeUpdate"),Ee&&Sc(Ee,!0);const sr=Ye&&ye.type!=="foreignObject";if(rt?K(le.dynamicChildren,rt,Oe,Ee,je,sr,qe):nt||Ve(le,ye,Oe,null,Ee,je,sr,qe,!1),tt>0){if(tt&16)ne(Oe,ye,Lt,Pt,Ee,je,Ye);else if(tt&2&&Lt.class!==Pt.class&&o(Oe,"class",null,Pt.class,Ye),tt&4&&o(Oe,"style",Lt.style,Pt.style,Ye),tt&8){const yr=ye.dynamicProps;for(let Re=0;Re<yr.length;Re++){const at=yr[Re],Wr=Lt[at],yn=Pt[at];(yn!==Wr||at==="value")&&o(Oe,at,Wr,yn,Ye,le.children,Ee,je,st)}}tt&1&&le.children!==ye.children&&m(Oe,ye.children)}else!nt&&rt==null&&ne(Oe,ye,Lt,Pt,Ee,je,Ye);((qt=Pt.onVnodeUpdated)||Tt)&&Ao(()=>{qt&&pa(qt,Ee,ye,le),Tt&&Ts(ye,le,Ee,"updated")},je)},K=(le,ye,Ee,je,Ye,qe,nt)=>{for(let Oe=0;Oe<ye.length;Oe++){const tt=le[Oe],rt=ye[Oe],Tt=tt.el&&(tt.type===Tr||!th(tt,rt)||tt.shapeFlag&70)?v(tt.el):Ee;P(tt,rt,Tt,null,je,Ye,qe,nt,!0)}},ne=(le,ye,Ee,je,Ye,qe,nt)=>{if(Ee!==je){if(Ee!==kn)for(const Oe in Ee)!Bm(Oe)&&!(Oe in je)&&o(le,Oe,Ee[Oe],null,nt,ye.children,Ye,qe,st);for(const Oe in je){if(Bm(Oe))continue;const tt=je[Oe],rt=Ee[Oe];tt!==rt&&Oe!=="value"&&o(le,Oe,rt,tt,nt,ye.children,Ye,qe,st)}"value"in je&&o(le,"value",Ee.value,je.value)}},ae=(le,ye,Ee,je,Ye,qe,nt,Oe,tt)=>{const rt=ye.el=le?le.el:a(""),Tt=ye.anchor=le?le.anchor:a("");let{patchFlag:Lt,dynamicChildren:Pt,slotScopeIds:qt}=ye;qt&&(Oe=Oe?Oe.concat(qt):qt),le==null?(n(rt,Ee,je),n(Tt,Ee,je),U(ye.children,Ee,Tt,Ye,qe,nt,Oe,tt)):Lt>0&&Lt&64&&Pt&&le.dynamicChildren?(K(le.dynamicChildren,Pt,Ee,Ye,qe,nt,Oe),(ye.key!=null||Ye&&ye===Ye.subTree)&&$C(le,ye,!0)):Ve(le,ye,Ee,Tt,Ye,qe,nt,Oe,tt)},he=(le,ye,Ee,je,Ye,qe,nt,Oe,tt)=>{ye.slotScopeIds=Oe,le==null?ye.shapeFlag&512?Ye.ctx.activate(ye,Ee,je,nt,tt):ie(ye,Ee,je,Ye,qe,nt,tt):de(le,ye,tt)},ie=(le,ye,Ee,je,Ye,qe,nt)=>{const Oe=le.component=jj(le,je,Ye);if(lg(le)&&(Oe.ctx.renderer=We),Gj(Oe),Oe.asyncDep){if(Ye&&Ye.registerDep(Oe,ce),!le.el){const tt=Oe.subTree=fe(Mo);I(null,tt,ye,Ee)}return}ce(Oe,le,ye,Ee,Ye,qe,nt)},de=(le,ye,Ee)=>{const je=ye.component=le.component;if(rj(le,ye,Ee))if(je.asyncDep&&!je.asyncResolved){Be(je,ye,Ee);return}else je.next=ye,KH(je.update),je.update();else ye.el=le.el,je.vnode=ye},ce=(le,ye,Ee,je,Ye,qe,nt)=>{const Oe=()=>{if(le.isMounted){let{next:Tt,bu:Lt,u:Pt,parent:qt,vnode:sr}=le,yr=Tt,Re;Sc(le,!1),Tt?(Tt.el=sr.el,Be(le,Tt,nt)):Tt=sr,Lt&&Zx(Lt),(Re=Tt.props&&Tt.props.onVnodeBeforeUpdate)&&pa(Re,qt,Tt,sr),Sc(le,!0);const at=Kx(le),Wr=le.subTree;le.subTree=at,P(Wr,at,v(Wr.el),ze(Wr),le,Ye,qe),Tt.el=at.el,yr===null&&nj(le,at.el),Pt&&Ao(Pt,Ye),(Re=Tt.props&&Tt.props.onVnodeUpdated)&&Ao(()=>pa(Re,qt,Tt,sr),Ye)}else{let Tt;const{el:Lt,props:Pt}=ye,{bm:qt,m:sr,parent:yr}=le,Re=Qf(ye);if(Sc(le,!1),qt&&Zx(qt),!Re&&(Tt=Pt&&Pt.onVnodeBeforeMount)&&pa(Tt,yr,ye),Sc(le,!0),Lt&&ct){const at=()=>{le.subTree=Kx(le),ct(Lt,le.subTree,le,Ye,null)};Re?ye.type.__asyncLoader().then(()=>!le.isUnmounted&&at()):at()}else{const at=le.subTree=Kx(le);P(null,at,Ee,je,le,Ye,qe),ye.el=at.el}if(sr&&Ao(sr,Ye),!Re&&(Tt=Pt&&Pt.onVnodeMounted)){const at=ye;Ao(()=>pa(Tt,yr,at),Ye)}(ye.shapeFlag&256||yr&&Qf(yr.vnode)&&yr.vnode.shapeFlag&256)&&le.a&&Ao(le.a,Ye),le.isMounted=!0,ye=Ee=je=null}},tt=le.effect=new xC(Oe,()=>R1(rt),le.scope),rt=le.update=()=>tt.run();rt.id=le.uid,Sc(le,!0),rt()},Be=(le,ye,Ee)=>{ye.component=le;const je=le.vnode.props;le.vnode=ye,le.next=null,Aj(le,ye.props,je,Ee),Mj(le,ye.children,Ee),Rd(),hM(),zd()},Ve=(le,ye,Ee,je,Ye,qe,nt,Oe,tt=!1)=>{const rt=le&&le.children,Tt=le?le.shapeFlag:0,Lt=ye.children,{patchFlag:Pt,shapeFlag:qt}=ye;if(Pt>0){if(Pt&128){mt(rt,Lt,Ee,je,Ye,qe,nt,Oe,tt);return}else if(Pt&256){ht(rt,Lt,Ee,je,Ye,qe,nt,Oe,tt);return}}qt&8?(Tt&16&&st(rt,Ye,qe),Lt!==rt&&m(Ee,Lt)):Tt&16?qt&16?mt(rt,Lt,Ee,je,Ye,qe,nt,Oe,tt):st(rt,Ye,qe,!0):(Tt&8&&m(Ee,""),qt&16&&U(Lt,Ee,je,Ye,qe,nt,Oe,tt))},ht=(le,ye,Ee,je,Ye,qe,nt,Oe,tt)=>{le=le||Yf,ye=ye||Yf;const rt=le.length,Tt=ye.length,Lt=Math.min(rt,Tt);let Pt;for(Pt=0;Pt<Lt;Pt++){const qt=ye[Pt]=tt?Su(ye[Pt]):Xa(ye[Pt]);P(le[Pt],qt,Ee,null,Ye,qe,nt,Oe,tt)}rt>Tt?st(le,Ye,qe,!0,!1,Lt):U(ye,Ee,je,Ye,qe,nt,Oe,tt,Lt)},mt=(le,ye,Ee,je,Ye,qe,nt,Oe,tt)=>{let rt=0;const Tt=ye.length;let Lt=le.length-1,Pt=Tt-1;for(;rt<=Lt&&rt<=Pt;){const qt=le[rt],sr=ye[rt]=tt?Su(ye[rt]):Xa(ye[rt]);if(th(qt,sr))P(qt,sr,Ee,null,Ye,qe,nt,Oe,tt);else break;rt++}for(;rt<=Lt&&rt<=Pt;){const qt=le[Lt],sr=ye[Pt]=tt?Su(ye[Pt]):Xa(ye[Pt]);if(th(qt,sr))P(qt,sr,Ee,null,Ye,qe,nt,Oe,tt);else break;Lt--,Pt--}if(rt>Lt){if(rt<=Pt){const qt=Pt+1,sr=qt<Tt?ye[qt].el:je;for(;rt<=Pt;)P(null,ye[rt]=tt?Su(ye[rt]):Xa(ye[rt]),Ee,sr,Ye,qe,nt,Oe,tt),rt++}}else if(rt>Pt)for(;rt<=Lt;)vt(le[rt],Ye,qe,!0),rt++;else{const qt=rt,sr=rt,yr=new Map;for(rt=sr;rt<=Pt;rt++){const Hr=ye[rt]=tt?Su(ye[rt]):Xa(ye[rt]);Hr.key!=null&&yr.set(Hr.key,rt)}let Re,at=0;const Wr=Pt-sr+1;let yn=!1,dr=0;const an=new Array(Wr);for(rt=0;rt<Wr;rt++)an[rt]=0;for(rt=qt;rt<=Lt;rt++){const Hr=le[rt];if(at>=Wr){vt(Hr,Ye,qe,!0);continue}let Rn;if(Hr.key!=null)Rn=yr.get(Hr.key);else for(Re=sr;Re<=Pt;Re++)if(an[Re-sr]===0&&th(Hr,ye[Re])){Rn=Re;break}Rn===void 0?vt(Hr,Ye,qe,!0):(an[Rn-sr]=rt+1,Rn>=dr?dr=Rn:yn=!0,P(Hr,ye[Rn],Ee,null,Ye,qe,nt,Oe,tt),at++)}const Kn=yn?kj(an):Yf;for(Re=Kn.length-1,rt=Wr-1;rt>=0;rt--){const Hr=sr+rt,Rn=ye[Hr],gt=Hr+1<Tt?ye[Hr+1].el:je;an[rt]===0?P(null,Rn,Ee,gt,Ye,qe,nt,Oe,tt):yn&&(Re<0||rt!==Kn[Re]?dt(Rn,Ee,gt,2):Re--)}}},dt=(le,ye,Ee,je,Ye=null)=>{const{el:qe,type:nt,transition:Oe,children:tt,shapeFlag:rt}=le;if(rt&6){dt(le.component.subTree,ye,Ee,je);return}if(rt&128){le.suspense.move(ye,Ee,je);return}if(rt&64){nt.move(le,ye,Ee,We);return}if(nt===Tr){n(qe,ye,Ee);for(let Lt=0;Lt<tt.length;Lt++)dt(tt[Lt],ye,Ee,je);n(le.anchor,ye,Ee);return}if(nt===Vm){O(le,ye,Ee);return}if(je!==2&&rt&1&&Oe)if(je===0)Oe.beforeEnter(qe),n(qe,ye,Ee),Ao(()=>Oe.enter(qe),Ye);else{const{leave:Lt,delayLeave:Pt,afterLeave:qt}=Oe,sr=()=>n(qe,ye,Ee),yr=()=>{Lt(qe,()=>{sr(),qt&&qt()})};Pt?Pt(qe,sr,yr):yr()}else n(qe,ye,Ee)},vt=(le,ye,Ee,je=!1,Ye=!1)=>{const{type:qe,props:nt,ref:Oe,children:tt,dynamicChildren:rt,shapeFlag:Tt,patchFlag:Lt,dirs:Pt}=le;if(Oe!=null&&D0(Oe,null,Ee,le,!0),Tt&256){ye.ctx.deactivate(le);return}const qt=Tt&1&&Pt,sr=!Qf(le);let yr;if(sr&&(yr=nt&&nt.onVnodeBeforeUnmount)&&pa(yr,ye,le),Tt&6)nr(le.component,Ee,je);else{if(Tt&128){le.suspense.unmount(Ee,je);return}qt&&Ts(le,null,ye,"beforeUnmount"),Tt&64?le.type.remove(le,ye,Ee,Ye,We,je):rt&&(qe!==Tr||Lt>0&&Lt&64)?st(rt,ye,Ee,!1,!0):(qe===Tr&&Lt&384||!Ye&&Tt&16)&&st(tt,ye,Ee),je&&Jt(le)}(sr&&(yr=nt&&nt.onVnodeUnmounted)||qt)&&Ao(()=>{yr&&pa(yr,ye,le),qt&&Ts(le,null,ye,"unmounted")},Ee)},Jt=le=>{const{type:ye,el:Ee,anchor:je,transition:Ye}=le;if(ye===Tr){ar(Ee,je);return}if(ye===Vm){z(le);return}const qe=()=>{i(Ee),Ye&&!Ye.persisted&&Ye.afterLeave&&Ye.afterLeave()};if(le.shapeFlag&1&&Ye&&!Ye.persisted){const{leave:nt,delayLeave:Oe}=Ye,tt=()=>nt(Ee,qe);Oe?Oe(le.el,qe,tt):tt()}else qe()},ar=(le,ye)=>{let Ee;for(;le!==ye;)Ee=g(le),i(le),le=Ee;i(ye)},nr=(le,ye,Ee)=>{const{bum:je,scope:Ye,update:qe,subTree:nt,um:Oe}=le;je&&Zx(je),Ye.stop(),qe&&(qe.active=!1,vt(nt,le,ye,Ee)),Oe&&Ao(Oe,ye),Ao(()=>{le.isUnmounted=!0},ye),ye&&ye.pendingBranch&&!ye.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===ye.pendingId&&(ye.deps--,ye.deps===0&&ye.resolve())},st=(le,ye,Ee,je=!1,Ye=!1,qe=0)=>{for(let nt=qe;nt<le.length;nt++)vt(le[nt],ye,Ee,je,Ye)},ze=le=>le.shapeFlag&6?ze(le.component.subTree):le.shapeFlag&128?le.suspense.next():g(le.anchor||le.el),et=(le,ye,Ee)=>{le==null?ye._vnode&&vt(ye._vnode,null,null,!0):P(ye._vnode||null,le,ye,null,null,null,Ee),hM(),A0(),ye._vnode=le},We={p:P,um:vt,m:dt,r:Jt,mt:ie,mc:U,pc:Ve,pbc:K,n:ze,o:e};let ut,ct;return t&&([ut,ct]=t(We)),{render:et,hydrate:ut,createApp:Cj(et,ut)}}function Sc({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function $C(e,t,r=!1){const n=e.children,i=t.children;if(Nr(n)&&Nr(i))for(let o=0;o<n.length;o++){const s=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Su(i[o]),a.el=s.el),r||$C(s,a)),a.type===Uu&&(a.el=s.el)}}function kj(e){const t=e.slice(),r=[0];let n,i,o,s,a;const h=e.length;for(n=0;n<h;n++){const d=e[n];if(d!==0){if(i=r[r.length-1],e[i]<d){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,e[r[a]]<d?o=a+1:s=a;d<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}const Rj=e=>e.__isTeleport,Nm=e=>e&&(e.disabled||e.disabled===""),SM=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ES=(e,t)=>{const r=e&&e.to;return ro(r)?t?t(r):null:r},zj={__isTeleport:!0,process(e,t,r,n,i,o,s,a,h,d){const{mc:m,pc:v,pbc:g,o:{insert:_,querySelector:T,createText:P,createComment:M}}=d,I=Nm(t.props);let{shapeFlag:D,children:O,dynamicChildren:z}=t;if(e==null){const F=t.el=P(""),N=t.anchor=P("");_(F,r,n),_(N,r,n);const H=t.target=ES(t.props,T),U=t.targetAnchor=P("");H&&(_(U,H),s=s||SM(H));const J=(K,ne)=>{D&16&&m(O,K,ne,i,o,s,a,h)};I?J(r,N):H&&J(H,U)}else{t.el=e.el;const F=t.anchor=e.anchor,N=t.target=e.target,H=t.targetAnchor=e.targetAnchor,U=Nm(e.props),J=U?r:N,K=U?F:H;if(s=s||SM(N),z?(g(e.dynamicChildren,z,J,i,o,s,a),$C(e,t,!0)):h||v(e,t,J,K,i,o,s,a,!1),I)U||Vy(t,r,F,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ne=t.target=ES(t.props,T);ne&&Vy(t,ne,null,d,0)}else U&&Vy(t,N,H,d,1)}J4(t)},remove(e,t,r,n,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:h,anchor:d,targetAnchor:m,target:v,props:g}=e;if(v&&o(m),(s||!Nm(g))&&(o(d),a&16))for(let _=0;_<h.length;_++){const T=h[_];i(T,t,r,!0,!!T.dynamicChildren)}},move:Vy,hydrate:$j};function Vy(e,t,r,{o:{insert:n},m:i},o=2){o===0&&n(e.targetAnchor,t,r);const{el:s,anchor:a,shapeFlag:h,children:d,props:m}=e,v=o===2;if(v&&n(s,t,r),(!v||Nm(m))&&h&16)for(let g=0;g<d.length;g++)i(d[g],t,r,2);v&&n(a,t,r)}function $j(e,t,r,n,i,o,{o:{nextSibling:s,parentNode:a,querySelector:h}},d){const m=t.target=ES(t.props,h);if(m){const v=m._lpa||m.firstChild;if(t.shapeFlag&16)if(Nm(t.props))t.anchor=d(s(e),t,a(e),r,n,i,o),t.targetAnchor=v;else{t.anchor=s(e);let g=v;for(;g;)if(g=s(g),g&&g.nodeType===8&&g.data==="teleport anchor"){t.targetAnchor=g,m._lpa=t.targetAnchor&&s(t.targetAnchor);break}d(v,t,m,r,n,i,o)}J4(t)}return t.anchor&&s(t.anchor)}const BC=zj;function J4(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Tr=Symbol.for("v-fgt"),Uu=Symbol.for("v-txt"),Mo=Symbol.for("v-cmt"),Vm=Symbol.for("v-stc"),Um=[];let Ka=null;function _t(e=!1){Um.push(Ka=e?null:[])}function Bj(){Um.pop(),Ka=Um[Um.length-1]||null}let yv=1;function TM(e){yv+=e}function Q4(e){return e.dynamicChildren=yv>0?Ka||Yf:null,Bj(),yv>0&&Ka&&Ka.push(e),e}function Wt(e,t,r,n,i,o){return Q4(fr(e,t,r,n,i,o,!0))}function Fn(e,t,r,n,i){return Q4(fe(e,t,r,n,i,!0))}function El(e){return e?e.__v_isVNode===!0:!1}function th(e,t){return e.type===t.type&&e.key===t.key}const F1="__vInternal",e6=({key:e})=>e??null,Z_=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?ro(e)||fi(e)||Mr(e)?{i:zi,r:e,k:t,f:!!r}:e:null);function fr(e,t=null,r=null,n=0,i=null,o=e===Tr?0:1,s=!1,a=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&e6(t),ref:t&&Z_(t),scopeId:$1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:zi};return a?(FC(h,r),o&128&&e.normalize(h)):r&&(h.shapeFlag|=ro(r)?8:16),yv>0&&!s&&Ka&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&Ka.push(h),h}const fe=Fj;function Fj(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===vj)&&(e=Mo),El(e)){const a=Al(e,t,!0);return r&&FC(a,r),yv>0&&!o&&Ka&&(a.shapeFlag&6?Ka[Ka.indexOf(e)]=a:Ka.push(a)),a.patchFlag|=-2,a}if(Kj(e)&&(e=e.__vccOpts),t){t=Nj(t);let{class:a,style:h}=t;a&&!ro(a)&&(t.class=$i(a)),pi(h)&&(m4(h)&&!Nr(h)&&(h=to({},h)),t.style=$d(h))}const s=ro(e)?1:ij(e)?128:Rj(e)?64:pi(e)?4:Mr(e)?2:0;return fr(e,t,r,n,i,s,o,!0)}function Nj(e){return e?m4(e)||F1 in e?to({},e):e:null}function Al(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,a=t?L0(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&e6(a),ref:t&&t.ref?r&&i?Nr(i)?i.concat(Z_(t)):[i,Z_(t)]:Z_(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tr?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Al(e.ssContent),ssFallback:e.ssFallback&&Al(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ro(e=" ",t=0){return fe(Uu,null,e,t)}function Vj(e,t){const r=fe(Vm,null,e);return r.staticCount=t,r}function In(e="",t=!1){return t?(_t(),Fn(Mo,null,e)):fe(Mo,null,e)}function Xa(e){return e==null||typeof e=="boolean"?fe(Mo):Nr(e)?fe(Tr,null,e.slice()):typeof e=="object"?Su(e):fe(Uu,null,String(e))}function Su(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Al(e)}function FC(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Nr(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),FC(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(F1 in t)?t._ctx=zi:i===3&&zi&&(zi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Mr(t)?(t={default:t,_ctx:zi},r=32):(t=String(t),n&64?(r=16,t=[Ro(t)]):r=8);e.children=t,e.shapeFlag|=r}function L0(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=$i([t.class,n.class]));else if(i==="style")t.style=$d([t.style,n.style]);else if(L1(i)){const o=t[i],s=n[i];s&&o!==s&&!(Nr(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=n[i])}return t}function pa(e,t,r,n=null){Ta(e,t,7,[r,n])}const Uj=G4();let Hj=0;function jj(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Uj,o={uid:Hj++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new YU(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q4(n,i),emitsOptions:M4(n,i),emit:null,emitted:null,propsDefaults:kn,inheritAttrs:n.inheritAttrs,ctx:kn,data:kn,props:kn,attrs:kn,slots:kn,refs:kn,setupState:kn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=QH.bind(null,o),e.ce&&e.ce(o),o}let gi=null;const Ol=()=>gi||zi;let NC,vf,CM="__VUE_INSTANCE_SETTERS__";(vf=bS()[CM])||(vf=bS()[CM]=[]),vf.push(e=>gi=e),NC=e=>{vf.length>1?vf.forEach(t=>t(e)):vf[0](e)};const fd=e=>{NC(e),e.scope.on()},ph=()=>{gi&&gi.scope.off(),NC(null)};function t6(e){return e.vnode.shapeFlag&4}let dd=!1;function Gj(e,t=!1){dd=t;const{props:r,children:n}=e.vnode,i=t6(e);Ej(e,r,i,t),Ij(e,n);const o=i?Wj(e,t):void 0;return dd=!1,o}function Wj(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=v4(new Proxy(e.ctx,yj));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?Xj(e):null;fd(e),Rd();const o=Ru(n,e,0,[e.props,i]);if(zd(),ph(),S4(o)){if(o.then(ph,ph),t)return o.then(s=>{EM(e,s,t)}).catch(s=>{sg(s,e,0)});e.asyncDep=o}else EM(e,o,t)}else r6(e,t)}function EM(e,t,r){Mr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pi(t)&&(e.setupState=y4(t)),r6(e,r)}let AM;function r6(e,t,r){const n=e.type;if(!e.render){if(!t&&AM&&!n.render){const i=n.template||RC(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:h}=n,d=to(to({isCustomElement:o,delimiters:a},s),h);n.render=AM(i,d)}}e.render=n.render||Ls}fd(e),Rd(),_j(e),zd(),ph()}function qj(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Oo(e,"get","$attrs"),t[r]}}))}function Xj(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return qj(e)},slots:e.slots,emit:e.emit,expose:t}}function N1(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(y4(v4(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Fm)return Fm[r](e)},has(t,r){return r in t||r in Fm}}))}function Zj(e,t=!0){return Mr(e)?e.displayName||e.name:e.name||t&&e.__name}function Kj(e){return Mr(e)&&"__vccOpts"in e}const _e=(e,t)=>RH(e,t,dd);function Dr(e,t,r){const n=arguments.length;return n===2?pi(t)&&!Nr(t)?El(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&El(r)&&(r=[r]),fe(e,t,r))}const Yj=Symbol.for("v-scx"),Jj=()=>Er(Yj),Qj="3.3.2";function eG(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const tG=/^on[^a-z]/,rG=e=>tG.test(e),nG=e=>e.startsWith("onUpdate:"),V1=Object.assign,U1=Array.isArray,iG=e=>typeof e=="function",_v=e=>typeof e=="string",oG=e=>e!==null&&typeof e=="object",n6=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},aG=/\B([A-Z])/g,VC=n6(e=>e.replace(aG,"-$1").toLowerCase()),sG=n6(e=>e.charAt(0).toUpperCase()+e.slice(1)),lG=e=>{const t=_v(e)?Number(e):NaN;return isNaN(t)?e:t},uG="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cG=eG(uG);function i6(e){return!!e||e===""}const hG="http://www.w3.org/2000/svg",rh=typeof document<"u"?document:null,PM=rh&&rh.createElement("template"),fG={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?rh.createElementNS(hG,e):rh.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>rh.createTextNode(e),createComment:e=>rh.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rh.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{PM.innerHTML=n?`<svg>${e}</svg>`:e;const a=PM.content;if(n){const h=a.firstChild;for(;h.firstChild;)a.appendChild(h.firstChild);a.removeChild(h)}t.insertBefore(a,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function dG(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function pG(e,t,r){const n=e.style,i=_v(r);if(r&&!i){if(t&&!_v(t))for(const o in t)r[o]==null&&AS(n,o,"");for(const o in r)AS(n,o,r[o])}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const IM=/\s*!important$/;function AS(e,t,r){if(U1(r))r.forEach(n=>AS(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=mG(e,t);IM.test(r)?e.setProperty(VC(n),r.replace(IM,""),"important"):e[n]=r}}const MM=["Webkit","Moz","ms"],ew={};function mG(e,t){const r=ew[t];if(r)return r;let n=Rs(t);if(n!=="filter"&&n in e)return ew[t]=n;n=sG(n);for(let i=0;i<MM.length;i++){const o=MM[i]+n;if(o in e)return ew[t]=o}return t}const DM="http://www.w3.org/1999/xlink";function vG(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(DM,t.slice(6,t.length)):e.setAttributeNS(DM,t,r);else{const o=cG(t);r==null||o&&!i6(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function gG(e,t,r,n,i,o,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,o),e[t]=r??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=r;const d=a==="OPTION"?e.getAttribute("value"):e.value,m=r??"";d!==m&&(e.value=m),r==null&&e.removeAttribute(t);return}let h=!1;if(r===""||r==null){const d=typeof e[t];d==="boolean"?r=i6(r):r==null&&d==="string"?(r="",h=!0):d==="number"&&(r=0,h=!0)}try{e[t]=r}catch{}h&&e.removeAttribute(t)}function yG(e,t,r,n){e.addEventListener(t,r,n)}function _G(e,t,r,n){e.removeEventListener(t,r,n)}function bG(e,t,r,n,i=null){const o=e._vei||(e._vei={}),s=o[t];if(n&&s)s.value=n;else{const[a,h]=xG(t);if(n){const d=o[t]=TG(n,i);yG(e,a,d,h)}else s&&(_G(e,a,s,h),o[t]=void 0)}}const LM=/(?:Once|Passive|Capture)$/;function xG(e){let t;if(LM.test(e)){t={};let n;for(;n=e.match(LM);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):VC(e.slice(2)),t]}let tw=0;const wG=Promise.resolve(),SG=()=>tw||(wG.then(()=>tw=0),tw=Date.now());function TG(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ta(CG(n,r.value),t,5,[n])};return r.value=e,r.attached=SG(),r}function CG(e,t){if(U1(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const OM=/^on[a-z]/,EG=(e,t,r,n,i=!1,o,s,a,h)=>{t==="class"?dG(e,n,i):t==="style"?pG(e,r,n):rG(t)?nG(t)||bG(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):AG(e,t,n,i))?gG(e,t,n,o,s,a,h):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),vG(e,t,n,i))};function AG(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&OM.test(t)&&iG(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||OM.test(t)&&_v(r)?!1:t in e}const du="transition",Zp="animation",ns=(e,{slots:t})=>Dr(sj,a6(e),t);ns.displayName="Transition";const o6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},PG=ns.props=V1({},z4,o6),Tc=(e,t=[])=>{U1(e)?e.forEach(r=>r(...t)):e&&e(...t)},kM=e=>e?U1(e)?e.some(t=>t.length>1):e.length>1:!1;function a6(e){const t={};for(const ae in e)ae in o6||(t[ae]=e[ae]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:h=o,appearActiveClass:d=s,appearToClass:m=a,leaveFromClass:v=`${r}-leave-from`,leaveActiveClass:g=`${r}-leave-active`,leaveToClass:_=`${r}-leave-to`}=e,T=IG(i),P=T&&T[0],M=T&&T[1],{onBeforeEnter:I,onEnter:D,onEnterCancelled:O,onLeave:z,onLeaveCancelled:F,onBeforeAppear:N=I,onAppear:H=D,onAppearCancelled:U=O}=t,J=(ae,he,ie)=>{bu(ae,he?m:a),bu(ae,he?d:s),ie&&ie()},K=(ae,he)=>{ae._isLeaving=!1,bu(ae,v),bu(ae,_),bu(ae,g),he&&he()},ne=ae=>(he,ie)=>{const de=ae?H:D,ce=()=>J(he,ae,ie);Tc(de,[he,ce]),RM(()=>{bu(he,ae?h:o),fl(he,ae?m:a),kM(de)||zM(he,n,P,ce)})};return V1(t,{onBeforeEnter(ae){Tc(I,[ae]),fl(ae,o),fl(ae,s)},onBeforeAppear(ae){Tc(N,[ae]),fl(ae,h),fl(ae,d)},onEnter:ne(!1),onAppear:ne(!0),onLeave(ae,he){ae._isLeaving=!0;const ie=()=>K(ae,he);fl(ae,v),l6(),fl(ae,g),RM(()=>{ae._isLeaving&&(bu(ae,v),fl(ae,_),kM(z)||zM(ae,n,M,ie))}),Tc(z,[ae,ie])},onEnterCancelled(ae){J(ae,!1),Tc(O,[ae])},onAppearCancelled(ae){J(ae,!0),Tc(U,[ae])},onLeaveCancelled(ae){K(ae),Tc(F,[ae])}})}function IG(e){if(e==null)return null;if(oG(e))return[rw(e.enter),rw(e.leave)];{const t=rw(e);return[t,t]}}function rw(e){return lG(e)}function fl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function bu(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function RM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let MG=0;function zM(e,t,r,n){const i=e._endId=++MG,o=()=>{i===e._endId&&n()};if(r)return setTimeout(o,r);const{type:s,timeout:a,propCount:h}=s6(e,t);if(!s)return n();const d=s+"end";let m=0;const v=()=>{e.removeEventListener(d,g),o()},g=_=>{_.target===e&&++m>=h&&v()};setTimeout(()=>{m<h&&v()},a+1),e.addEventListener(d,g)}function s6(e,t){const r=window.getComputedStyle(e),n=T=>(r[T]||"").split(", "),i=n(`${du}Delay`),o=n(`${du}Duration`),s=$M(i,o),a=n(`${Zp}Delay`),h=n(`${Zp}Duration`),d=$M(a,h);let m=null,v=0,g=0;t===du?s>0&&(m=du,v=s,g=o.length):t===Zp?d>0&&(m=Zp,v=d,g=h.length):(v=Math.max(s,d),m=v>0?s>d?du:Zp:null,g=m?m===du?o.length:h.length:0);const _=m===du&&/\b(transform|all)(,|$)/.test(n(`${du}Property`).toString());return{type:m,timeout:v,propCount:g,hasTransform:_}}function $M(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>BM(r)+BM(e[n])))}function BM(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function l6(){return document.body.offsetHeight}const u6=new WeakMap,c6=new WeakMap,h6={name:"TransitionGroup",props:V1({},PG,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ol(),n=R4();let i,o;return Mh(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!RG(i[0].el,r.vnode.el,s))return;i.forEach(LG),i.forEach(OG);const a=i.filter(kG);l6(),a.forEach(h=>{const d=h.el,m=d.style;fl(d,s),m.transform=m.webkitTransform=m.transitionDuration="";const v=d._moveCb=g=>{g&&g.target!==d||(!g||/transform$/.test(g.propertyName))&&(d.removeEventListener("transitionend",v),d._moveCb=null,bu(d,s))};d.addEventListener("transitionend",v)})}),()=>{const s=Fr(e),a=a6(s);let h=s.tag||Tr;i=o,o=t.default?kC(t.default()):[];for(let d=0;d<o.length;d++){const m=o[d];m.key!=null&&gv(m,vv(m,a,n,r))}if(i)for(let d=0;d<i.length;d++){const m=i[d];gv(m,vv(m,a,n,r)),u6.set(m,m.el.getBoundingClientRect())}return fe(h,null,o)}}},DG=e=>delete e.mode;h6.props;const f6=h6;function LG(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function OG(e){c6.set(e,e.el.getBoundingClientRect())}function kG(e){const t=u6.get(e),r=c6.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${n}px,${i}px)`,o.transitionDuration="0s",e}}function RG(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=s6(n);return i.removeChild(n),o}const zG=["ctrl","shift","alt","meta"],$G={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zG.some(r=>e[`${r}Key`]&&!t.includes(r))},FM=(e,t)=>(r,...n)=>{for(let i=0;i<t.length;i++){const o=$G[t[i]];if(o&&o(r,t))return}return e(r,...n)},BG={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},FG=(e,t)=>r=>{if(!("key"in r))return;const n=VC(r.key);if(t.some(i=>i===n||BG[i]===n))return e(r)},pd={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Kp(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Kp(e,!0),n.enter(e)):n.leave(e,()=>{Kp(e,!1)}):Kp(e,t))},beforeUnmount(e,{value:t}){Kp(e,t)}};function Kp(e,t){e.style.display=t?e._vod:"none"}const d6=V1({patchProp:EG},fG);let Hm,NM=!1;function NG(){return Hm||(Hm=Lj(d6))}function VG(){return Hm=NM?Hm:Oj(d6),NM=!0,Hm}const O0=(...e)=>{NG().render(...e)},UG=(...e)=>{const t=VG().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=HG(n);if(i)return r(i,!0,i instanceof SVGElement)},t};function HG(e){return _v(e)?document.querySelector(e):e}const jG={"v-8daa1a0e":()=>Ge(()=>import("./index.html-462e1a41.js"),[]).then(({data:e})=>e),"v-74bc627b":()=>Ge(()=>import("./index.html-eb18c019.js"),[]).then(({data:e})=>e),"v-08ae5eba":()=>Ge(()=>import("./2018-2019.html-6df7b75f.js"),[]).then(({data:e})=>e),"v-93cfbde4":()=>Ge(()=>import("./2019-2020.html-4ce2d375.js"),[]).then(({data:e})=>e),"v-f917537a":()=>Ge(()=>import("./2020-2021.html-93c2659b.js"),[]).then(({data:e})=>e),"v-1a0de1a3":()=>Ge(()=>import("./2021-2022.html-0c8f639e.js"),[]).then(({data:e})=>e),"v-190ab309":()=>Ge(()=>import("./2021fall.html-fecf308b.js"),[]).then(({data:e})=>e),"v-9eb125fa":()=>Ge(()=>import("./2022-2023.html-c6606309.js"),[]).then(({data:e})=>e),"v-96167c50":()=>Ge(()=>import("./index.html-be8a5214.js"),[]).then(({data:e})=>e),"v-96536bf0":()=>Ge(()=>import("./index.html-12e2a17e.js"),[]).then(({data:e})=>e),"v-dbd38712":()=>Ge(()=>import("./index.html-f6e4f59a.js"),[]).then(({data:e})=>e),"v-c73889da":()=>Ge(()=>import("./index.html-bca1b7e0.js"),[]).then(({data:e})=>e),"v-2c5c0e04":()=>Ge(()=>import("./building-11-elevator.html-41e8732d.js"),[]).then(({data:e})=>e),"v-104cfa63":()=>Ge(()=>import("./2021.html-ab8984b0.js"),[]).then(({data:e})=>e),"v-780207b9":()=>Ge(()=>import("./index.html-0db73764.js"),[]).then(({data:e})=>e),"v-14e6315a":()=>Ge(()=>import("./index.html-edcdf602.js"),[]).then(({data:e})=>e),"v-42f2be94":()=>Ge(()=>import("./vehicle-charger.html-a72444cb.js"),[]).then(({data:e})=>e),"v-ed48bdf8":()=>Ge(()=>import("./index.html-834a4f2f.js"),[]).then(({data:e})=>e),"v-f4bc5604":()=>Ge(()=>import("./index.html-eb5540a3.js"),[]).then(({data:e})=>e),"v-1500d063":()=>Ge(()=>import("./index.html-6ebee453.js"),[]).then(({data:e})=>e),"v-014445c8":()=>Ge(()=>import("./index.html-f08a1eb2.js"),[]).then(({data:e})=>e),"v-461d4a7c":()=>Ge(()=>import("./registered-organization-2019.html-980e7607.js"),[]).then(({data:e})=>e),"v-6ba7e826":()=>Ge(()=>import("./registered-organization-2020.html-84bee617.js"),[]).then(({data:e})=>e),"v-6d5cc0c5":()=>Ge(()=>import("./registered-organization-2021.html-f788e063.js"),[]).then(({data:e})=>e),"v-28ddfa13":()=>Ge(()=>import("./index.html-19cbfb61.js"),[]).then(({data:e})=>e),"v-be92ea7e":()=>Ge(()=>import("./index.html-449d2048.js"),[]).then(({data:e})=>e),"v-d7188082":()=>Ge(()=>import("./index.html-a63adfde.js"),[]).then(({data:e})=>e),"v-d1061704":()=>Ge(()=>import("./paper-tools.html-60251304.js"),[]).then(({data:e})=>e),"v-4322d0a7":()=>Ge(()=>import("./index.html-8deb1c72.js"),[]).then(({data:e})=>e),"v-69b23ddf":()=>Ge(()=>import("./index.html-83cc8007.js"),[]).then(({data:e})=>e),"v-57bda71b":()=>Ge(()=>import("./bustimer-old.html-3fa28d4a.js"),[]).then(({data:e})=>e),"v-1678dd6f":()=>Ge(()=>import("./bustimer-wx.html-5340cb55.js"),[]).then(({data:e})=>e),"v-1630dfb5":()=>Ge(()=>import("./bustimer.html-3a0ac59e.js"),[]).then(({data:e})=>e),"v-6a28f6e0":()=>Ge(()=>import("./holiday.html-154443ae.js"),[]).then(({data:e})=>e),"v-48975204":()=>Ge(()=>import("./redirect.html-d18ba873.js"),[]).then(({data:e})=>e),"v-8059a7a6":()=>Ge(()=>import("./workday.html-2d182c51.js"),[]).then(({data:e})=>e),"v-181cc452":()=>Ge(()=>import("./index.html-8738d0f4.js"),[]).then(({data:e})=>e),"v-22cd7d0c":()=>Ge(()=>import("./index.html-64466982.js"),[]).then(({data:e})=>e),"v-0e92d420":()=>Ge(()=>import("./index.html-75b00be9.js"),[]).then(({data:e})=>e),"v-2b8cac58":()=>Ge(()=>import("./.html-0d2fe2da.js"),[]).then(({data:e})=>e),"v-66965350":()=>Ge(()=>import("./.html-72f9af6d.js"),[]).then(({data:e})=>e),"v-66317da4":()=>Ge(()=>import("./.html-c33ad481.js"),[]).then(({data:e})=>e),"v-5c3fcdf6":()=>Ge(()=>import("./index.html-9b12143b.js"),[]).then(({data:e})=>e),"v-04710004":()=>Ge(()=>import("./index.html-6e033e10.js"),[]).then(({data:e})=>e),"v-5589dd0c":()=>Ge(()=>import("./dorm-floor-plan.html-6ee8bfb0.js"),[]).then(({data:e})=>e),"v-d42194b6":()=>Ge(()=>import("./index.html-f8e292f5.js"),[]).then(({data:e})=>e),"v-20383a78":()=>Ge(()=>import("./index.html-bf6a4e46.js"),[]).then(({data:e})=>e),"v-42c1fa44":()=>Ge(()=>import("./index.html-a7f6b4a6.js"),[]).then(({data:e})=>e),"v-76cff034":()=>Ge(()=>import("./index.html-e5b751d4.js"),[]).then(({data:e})=>e),"v-ac3449b2":()=>Ge(()=>import("./send-receive-email-by-proxy.html-ef9676fa.js"),[]).then(({data:e})=>e),"v-29860ed0":()=>Ge(()=>import("./index.html-19231713.js"),[]).then(({data:e})=>e),"v-622da02f":()=>Ge(()=>import("./index.html-46ffb0d9.js"),[]).then(({data:e})=>e),"v-5e590ec6":()=>Ge(()=>import("./index.html-55df6efe.js"),[]).then(({data:e})=>e),"v-1fa222d4":()=>Ge(()=>import("./index.html-029f5c94.js"),[]).then(({data:e})=>e),"v-48519846":()=>Ge(()=>import("./index.html-3e960530.js"),[]).then(({data:e})=>e),"v-369295b4":()=>Ge(()=>import("./index.html-552b04b5.js"),[]).then(({data:e})=>e),"v-3692bb1f":()=>Ge(()=>import("./index.html-9fe9badf.js"),[]).then(({data:e})=>e),"v-425958ce":()=>Ge(()=>import("./index.html-e591657c.js"),[]).then(({data:e})=>e),"v-3692ee77":()=>Ge(()=>import("./index.html-f923fcd8.js"),[]).then(({data:e})=>e),"v-2686552a":()=>Ge(()=>import("./index.html-2f188677.js"),[]).then(({data:e})=>e),"v-45d74ec0":()=>Ge(()=>import("./index.html-14741737.js"),[]).then(({data:e})=>e),"v-772a5784":()=>Ge(()=>import("./index.html-789f2b28.js"),[]).then(({data:e})=>e),"v-8460eeb8":()=>Ge(()=>import("./advice-on-study.html-ef8bfd6e.js"),[]).then(({data:e})=>e),"v-435bd49a":()=>Ge(()=>import("./info-on-study.html-25641cb9.js"),[]).then(({data:e})=>e),"v-6323734e":()=>Ge(()=>import("./.html-85ec4859.js"),[]).then(({data:e})=>e),"v-5eb748bf":()=>Ge(()=>import("./innovative-project.html-71803d9e.js"),[]).then(({data:e})=>e),"v-2a23f022":()=>Ge(()=>import("./index.html-454a6b7e.js"),[]).then(({data:e})=>e),"v-66061b92":()=>Ge(()=>import("./index.html-75885907.js"),[]).then(({data:e})=>e),"v-89ac2bec":()=>Ge(()=>import("./index.html-10468cac.js"),[]).then(({data:e})=>e),"v-1549b190":()=>Ge(()=>import("./index.html-5a2e0f63.js"),[]).then(({data:e})=>e),"v-9e1961f8":()=>Ge(()=>import("./index.html-67d10bc8.js"),[]).then(({data:e})=>e),"v-6bba5e58":()=>Ge(()=>import("./index.html-b9c5d45e.js"),[]).then(({data:e})=>e),"v-83a77034":()=>Ge(()=>import("./index.html-b292bf67.js"),[]).then(({data:e})=>e),"v-296d1d15":()=>Ge(()=>import("./index.html-0f8514a5.js"),[]).then(({data:e})=>e),"v-fb711be8":()=>Ge(()=>import("./index.html-252b8cfb.js"),[]).then(({data:e})=>e),"v-3706649a":()=>Ge(()=>import("./404.html-f9875e7b.js"),[]).then(({data:e})=>e)},GG=JSON.parse(`{"base":"/","lang":"en-US","title":"","description":"","head":[["link",{"rel":"icon","href":"/logo-assets/touch/homescreen192.png"}],["meta",{"name":"theme-color","content":"#49BF7C"}],["link",{"rel":"manifest","href":"/manifest.webmanifest"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:type","content":"article"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:image","content":"https://mirrors.sustech.edu.cn/git/sustech-online/sustech-online-ng/-/raw/master/docs/assets/og-image.png"}],["meta",{"prefix":"og: http://ogp.me/ns#","property":"og:article:author","content":"sustech.online"}],["meta",{"name":"apple-mobile-web-app-capable","content":"yes"}],["meta",{"name":"apple-mobile-web-app-status-bar-style","content":"black"}],["link",{"rel":"apple-touch-icon","href":"/logo-assets/touch/homescreen168.png"}],["meta",{"name":"msapplication-TileImage","content":"/logo-assets/touch/homescreen144.png"}],["meta",{"name":"msapplication-TileColor","content":"#49BF7C"}],["meta",{"name":"google-site-verification","content":"Av-srANCmFA_yZ8Iasa1yQsIPJCF_zlP5AoD35m6_Ww"}],["script",{"async":true,"src":"https://googletagmanager.com/gtag/js?id=G-1BQBXDGY3R"}],["script",{},"\\n                        window.dataLayer = window.dataLayer || [];\\n                        function gtag(){dataLayer.push(arguments);}\\n                        gtag('js', new Date());\\n                        gtag('config', 'G-1BQBXDGY3R');\\n                        "],["script",{"src":"/wx_helper.js"}],["script",{"src":"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"}],["script",{"src":"https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"}],["script",{"src":"https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"}],["script",{"src":"https://lib.baomitu.com/datatables/1.10.21/js/jquery.dataTables.min.js"}],["link",{"rel":"stylesheet","type":"text/css","href":"https://lib.baomitu.com/datatables/1.10.21/css/jquery.dataTables.min.css"}]],"locales":{"/":{"title":"","lang":"zh-CN","description":"Online manual for sustecher"}}}`),ug=Array.isArray,WG=e=>typeof e=="function",Os=e=>typeof e=="string";var qG=([e,t,r])=>e==="meta"&&t.name?`${e}.${t.name}`:["title","base"].includes(e)?e:e==="template"&&t.id?`${e}.${t.id}`:JSON.stringify([e,t,r]),XG=e=>{const t=new Set,r=[];return e.forEach(n=>{const i=qG(n);t.has(i)||(t.add(i),r.push(n))}),r},cg=e=>/^(https?:)?\/\//.test(e),ZG=e=>/^mailto:/.test(e),KG=e=>/^tel:/.test(e),UC=e=>Object.prototype.toString.call(e)==="[object Object]",p6=e=>e[e.length-1]==="/"?e.slice(0,-1):e,m6=e=>e[0]==="/"?e.slice(1):e,v6=(e,t)=>{const r=Object.keys(e).sort((n,i)=>{const o=i.split("/").length-n.split("/").length;return o!==0?o:i.length-n.length});for(const n of r)if(t.startsWith(n))return n;return"/"},VM=(e,t="/")=>{const r=e.replace(/^(https?:)?\/\/[^/]*/,"");return r.startsWith(t)?`/${r.slice(t.length)}`:r};const g6={"v-8daa1a0e":Bt(()=>Ge(()=>import("./index.html-8bb38764.js"),[])),"v-74bc627b":Bt(()=>Ge(()=>import("./index.html-b7b9feeb.js"),[])),"v-08ae5eba":Bt(()=>Ge(()=>import("./2018-2019.html-3ab00238.js"),[])),"v-93cfbde4":Bt(()=>Ge(()=>import("./2019-2020.html-5a35d008.js"),[])),"v-f917537a":Bt(()=>Ge(()=>import("./2020-2021.html-f0f2bdac.js"),[])),"v-1a0de1a3":Bt(()=>Ge(()=>import("./2021-2022.html-a824d1bb.js"),[])),"v-190ab309":Bt(()=>Ge(()=>import("./2021fall.html-13a11d33.js"),[])),"v-9eb125fa":Bt(()=>Ge(()=>import("./2022-2023.html-3722cb6d.js"),["assets/2022-2023.html-3722cb6d.js","assets/22-23-spring-0b3d9f4c.js"])),"v-96167c50":Bt(()=>Ge(()=>import("./index.html-d8c32668.js"),["assets/index.html-d8c32668.js","assets/22-23-spring-0b3d9f4c.js"])),"v-96536bf0":Bt(()=>Ge(()=>import("./index.html-7eb4a246.js"),[])),"v-dbd38712":Bt(()=>Ge(()=>import("./index.html-e690f2a7.js"),[])),"v-c73889da":Bt(()=>Ge(()=>import("./index.html-7d91c1ee.js"),[])),"v-2c5c0e04":Bt(()=>Ge(()=>import("./building-11-elevator.html-c88826c9.js"),[])),"v-104cfa63":Bt(()=>Ge(()=>import("./2021.html-448adb52.js"),[])),"v-780207b9":Bt(()=>Ge(()=>import("./index.html-0cfe98f4.js"),[])),"v-14e6315a":Bt(()=>Ge(()=>import("./index.html-c4f62cfb.js"),[])),"v-42f2be94":Bt(()=>Ge(()=>import("./vehicle-charger.html-93588820.js"),[])),"v-ed48bdf8":Bt(()=>Ge(()=>import("./index.html-b4340f44.js"),[])),"v-f4bc5604":Bt(()=>Ge(()=>import("./index.html-0922c30e.js"),[])),"v-1500d063":Bt(()=>Ge(()=>import("./index.html-2c51860b.js"),[])),"v-014445c8":Bt(()=>Ge(()=>import("./index.html-70043612.js"),[])),"v-461d4a7c":Bt(()=>Ge(()=>import("./registered-organization-2019.html-0716d728.js"),[])),"v-6ba7e826":Bt(()=>Ge(()=>import("./registered-organization-2020.html-b1b8e55a.js"),[])),"v-6d5cc0c5":Bt(()=>Ge(()=>import("./registered-organization-2021.html-6c40b322.js"),[])),"v-28ddfa13":Bt(()=>Ge(()=>import("./index.html-b4fc2e2e.js"),[])),"v-be92ea7e":Bt(()=>Ge(()=>import("./index.html-8351c771.js"),[])),"v-d7188082":Bt(()=>Ge(()=>import("./index.html-44d1345d.js"),[])),"v-d1061704":Bt(()=>Ge(()=>import("./paper-tools.html-64565668.js"),[])),"v-4322d0a7":Bt(()=>Ge(()=>import("./index.html-af4ebfd9.js"),["assets/index.html-af4ebfd9.js","assets/1-ba814636.js"])),"v-69b23ddf":Bt(()=>Ge(()=>import("./index.html-828c5131.js"),["assets/index.html-828c5131.js","assets/1-ba814636.js"])),"v-57bda71b":Bt(()=>Ge(()=>import("./bustimer-old.html-922cb806.js"),["assets/bustimer-old.html-922cb806.js","assets/busline2-c318b2e1.js"])),"v-1678dd6f":Bt(()=>Ge(()=>import("./bustimer-wx.html-0a3ab32f.js"),[])),"v-1630dfb5":Bt(()=>Ge(()=>import("./bustimer.html-24561104.js"),[])),"v-6a28f6e0":Bt(()=>Ge(()=>import("./holiday.html-5a8643e3.js"),["assets/holiday.html-5a8643e3.js","assets/busline2-c318b2e1.js"])),"v-48975204":Bt(()=>Ge(()=>import("./redirect.html-23bf722e.js"),[])),"v-8059a7a6":Bt(()=>Ge(()=>import("./workday.html-a085232d.js"),["assets/workday.html-a085232d.js","assets/busline2-c318b2e1.js"])),"v-181cc452":Bt(()=>Ge(()=>import("./index.html-54e811bf.js"),[])),"v-22cd7d0c":Bt(()=>Ge(()=>import("./index.html-8abb23a7.js"),[])),"v-0e92d420":Bt(()=>Ge(()=>import("./index.html-6d28ca64.js"),[])),"v-2b8cac58":Bt(()=>Ge(()=>import("./.html-36b7fb3c.js"),[])),"v-66965350":Bt(()=>Ge(()=>import("./.html-27f47f07.js"),[])),"v-66317da4":Bt(()=>Ge(()=>import("./.html-b14e9b17.js"),[])),"v-5c3fcdf6":Bt(()=>Ge(()=>import("./index.html-df39a1a7.js"),[])),"v-04710004":Bt(()=>Ge(()=>import("./index.html-7016e7f1.js"),[])),"v-5589dd0c":Bt(()=>Ge(()=>import("./dorm-floor-plan.html-27d5ab04.js"),[])),"v-d42194b6":Bt(()=>Ge(()=>import("./index.html-bf349e18.js"),[])),"v-20383a78":Bt(()=>Ge(()=>import("./index.html-5db636be.js"),[])),"v-42c1fa44":Bt(()=>Ge(()=>import("./index.html-be484f08.js"),[])),"v-76cff034":Bt(()=>Ge(()=>import("./index.html-33eb0c04.js"),[])),"v-ac3449b2":Bt(()=>Ge(()=>import("./send-receive-email-by-proxy.html-01aacaf4.js"),[])),"v-29860ed0":Bt(()=>Ge(()=>import("./index.html-c6e00799.js"),[])),"v-622da02f":Bt(()=>Ge(()=>import("./index.html-309f2576.js"),[])),"v-5e590ec6":Bt(()=>Ge(()=>import("./index.html-d30bd2d4.js"),[])),"v-1fa222d4":Bt(()=>Ge(()=>import("./index.html-8c7c60e9.js"),[])),"v-48519846":Bt(()=>Ge(()=>import("./index.html-6f017c30.js"),[])),"v-369295b4":Bt(()=>Ge(()=>import("./index.html-d0418015.js"),[])),"v-3692bb1f":Bt(()=>Ge(()=>import("./index.html-eef29a88.js"),[])),"v-425958ce":Bt(()=>Ge(()=>import("./index.html-232990f3.js"),[])),"v-3692ee77":Bt(()=>Ge(()=>import("./index.html-5391e381.js"),[])),"v-2686552a":Bt(()=>Ge(()=>import("./index.html-834302ba.js"),[])),"v-45d74ec0":Bt(()=>Ge(()=>import("./index.html-7aa60370.js"),[])),"v-772a5784":Bt(()=>Ge(()=>import("./index.html-f579e9d5.js"),[])),"v-8460eeb8":Bt(()=>Ge(()=>import("./advice-on-study.html-8b9cb770.js"),[])),"v-435bd49a":Bt(()=>Ge(()=>import("./info-on-study.html-c7099e90.js"),[])),"v-6323734e":Bt(()=>Ge(()=>import("./.html-135a9de0.js"),[])),"v-5eb748bf":Bt(()=>Ge(()=>import("./innovative-project.html-39436181.js"),[])),"v-2a23f022":Bt(()=>Ge(()=>import("./index.html-df40a103.js"),[])),"v-66061b92":Bt(()=>Ge(()=>import("./index.html-032c5e9a.js"),[])),"v-89ac2bec":Bt(()=>Ge(()=>import("./index.html-10fc76ff.js"),[])),"v-1549b190":Bt(()=>Ge(()=>import("./index.html-47d63ec0.js"),[])),"v-9e1961f8":Bt(()=>Ge(()=>import("./index.html-a4771d57.js"),[])),"v-6bba5e58":Bt(()=>Ge(()=>import("./index.html-d416e9cf.js"),[])),"v-83a77034":Bt(()=>Ge(()=>import("./index.html-4ca7dc4c.js"),[])),"v-296d1d15":Bt(()=>Ge(()=>import("./index.html-aedc0c62.js"),[])),"v-fb711be8":Bt(()=>Ge(()=>import("./index.html-84edd4aa.js"),[])),"v-3706649a":Bt(()=>Ge(()=>import("./404.html-e6cea28c.js"),[]))};var YG=Symbol(""),JG=Ft(jG),y6=og({key:"",path:"",title:"",lang:"",frontmatter:{},headers:[]}),Tu=Ft(y6),zu=()=>Tu,_6=Symbol(""),xl=()=>{const e=Er(_6);if(!e)throw new Error("usePageFrontmatter() is called without provider.");return e},b6=Symbol(""),QG=()=>{const e=Er(b6);if(!e)throw new Error("usePageHead() is called without provider.");return e},eW=Symbol(""),x6=Symbol(""),w6=()=>{const e=Er(x6);if(!e)throw new Error("usePageLang() is called without provider.");return e},S6=Symbol(""),tW=()=>{const e=Er(S6);if(!e)throw new Error("usePageLayout() is called without provider.");return e},HC=Symbol(""),hg=()=>{const e=Er(HC);if(!e)throw new Error("useRouteLocale() is called without provider.");return e},Vf=Ft(GG),rW=()=>Vf,T6=Symbol(""),jC=()=>{const e=Er(T6);if(!e)throw new Error("useSiteLocaleData() is called without provider.");return e},nW=Symbol(""),iW="Layout",oW="NotFound",dl=eo({resolveLayouts:e=>e.reduce((t,r)=>({...t,...r.layouts}),{}),resolvePageData:async e=>{const t=JG.value[e];return await(t==null?void 0:t())??y6},resolvePageFrontmatter:e=>e.frontmatter,resolvePageHead:(e,t,r)=>{const n=Os(t.description)?t.description:r.description,i=[...ug(t.head)?t.head:[],...r.head,["title",{},e],["meta",{name:"description",content:n}]];return XG(i)},resolvePageHeadTitle:(e,t)=>[e.title,t.title].filter(r=>!!r).join(" | "),resolvePageLang:e=>e.lang||"en",resolvePageLayout:(e,t)=>{let r;if(e.path){const n=e.frontmatter.layout;Os(n)?r=n:r=iW}else r=oW;return t[r]},resolveRouteLocale:(e,t)=>v6(e,t),resolveSiteLocaleData:(e,t)=>({...e,...e.locales[t]})}),GC=bt({name:"ClientOnly",setup(e,t){const r=Ft(!1);return cn(()=>{r.value=!0}),()=>{var n,i;return r.value?(i=(n=t.slots).default)==null?void 0:i.call(n):null}}}),aW=bt({name:"Content",props:{pageKey:{type:String,required:!1,default:""}},setup(e){const t=zu(),r=_e(()=>g6[e.pageKey||t.value.key]);return()=>r.value?Dr(r.value):Dr("div","404 Not Found")}}),is=(e={})=>e,H1=e=>cg(e)?e:`/${m6(e)}`;function WC(e,t,r){var n,i,o;t===void 0&&(t=50),r===void 0&&(r={});var s=(n=r.isImmediate)!=null&&n,a=(i=r.callback)!=null&&i,h=r.maxWait,d=Date.now(),m=[];function v(){if(h!==void 0){var _=Date.now()-d;if(_+t>=h)return h-_}return t}var g=function(){var _=[].slice.call(arguments),T=this;return new Promise(function(P,M){var I=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,d=Date.now(),!s){var O=e.apply(T,_);a&&a(O),m.forEach(function(z){return(0,z.resolve)(O)}),m=[]}},v()),I){var D=e.apply(T,_);return a&&a(D),P(D)}m.push({resolve:P,reject:M})})};return g.cancel=function(_){o!==void 0&&clearTimeout(o),m.forEach(function(T){return(0,T.reject)(_)}),m=[]},g}/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zf=typeof window<"u";function sW(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ln=Object.assign;function nw(e,t){const r={};for(const n in t){const i=t[n];r[n]=es(i)?i.map(e):e(i)}return r}const jm=()=>{},es=Array.isArray,lW=/\/$/,uW=e=>e.replace(lW,"");function iw(e,t,r="/"){let n,i={},o="",s="";const a=t.indexOf("#");let h=t.indexOf("?");return a<h&&a>=0&&(h=-1),h>-1&&(n=t.slice(0,h),o=t.slice(h+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),s=t.slice(a,t.length)),n=dW(n??t,r),{fullPath:n+(o&&"?")+o+s,path:n,query:i,hash:s}}function cW(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function UM(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hW(e,t,r){const n=t.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&md(t.matched[n],r.matched[i])&&C6(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function md(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function C6(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!fW(e[r],t[r]))return!1;return!0}function fW(e,t){return es(e)?HM(e,t):es(t)?HM(t,e):e===t}function HM(e,t){return es(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function dW(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=r.length-1,s,a;for(s=0;s<n.length;s++)if(a=n[s],a!==".")if(a==="..")o>1&&o--;else break;return r.slice(0,o).join("/")+"/"+n.slice(s-(s===n.length?1:0)).join("/")}var bv;(function(e){e.pop="pop",e.push="push"})(bv||(bv={}));var Gm;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Gm||(Gm={}));function pW(e){if(!e)if(zf){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),uW(e)}const mW=/^[^#]+#/;function vW(e,t){return e.replace(mW,"#")+t}function gW(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const j1=()=>({left:window.pageXOffset,top:window.pageYOffset});function yW(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;t=gW(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function jM(e,t){return(history.state?history.state.position-t:-1)+e}const PS=new Map;function _W(e,t){PS.set(e,t)}function bW(e){const t=PS.get(e);return PS.delete(e),t}let xW=()=>location.protocol+"//"+location.host;function E6(e,t){const{pathname:r,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,h=i.slice(a);return h[0]!=="/"&&(h="/"+h),UM(h,"")}return UM(r,e)+n+i}function wW(e,t,r,n){let i=[],o=[],s=null;const a=({state:g})=>{const _=E6(e,location),T=r.value,P=t.value;let M=0;if(g){if(r.value=_,t.value=g,s&&s===T){s=null;return}M=P?g.position-P.position:0}else n(_);i.forEach(I=>{I(r.value,T,{delta:M,type:bv.pop,direction:M?M>0?Gm.forward:Gm.back:Gm.unknown})})};function h(){s=r.value}function d(g){i.push(g);const _=()=>{const T=i.indexOf(g);T>-1&&i.splice(T,1)};return o.push(_),_}function m(){const{history:g}=window;g.state&&g.replaceState(ln({},g.state,{scroll:j1()}),"")}function v(){for(const g of o)g();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:h,listen:d,destroy:v}}function GM(e,t,r,n=!1,i=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:i?j1():null}}function SW(e){const{history:t,location:r}=window,n={value:E6(e,r)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(h,d,m){const v=e.indexOf("#"),g=v>-1?(r.host&&document.querySelector("base")?e:e.slice(v))+h:xW()+e+h;try{t[m?"replaceState":"pushState"](d,"",g),i.value=d}catch(_){console.error(_),r[m?"replace":"assign"](g)}}function s(h,d){const m=ln({},t.state,GM(i.value.back,h,i.value.forward,!0),d,{position:i.value.position});o(h,m,!0),n.value=h}function a(h,d){const m=ln({},i.value,t.state,{forward:h,scroll:j1()});o(m.current,m,!0);const v=ln({},GM(n.value,h,null),{position:m.position+1},d);o(h,v,!1),n.value=h}return{location:n,state:i,push:a,replace:s}}function TW(e){e=pW(e);const t=SW(e),r=wW(e,t.state,t.location,t.replace);function n(o,s=!0){s||r.pauseListeners(),history.go(o)}const i=ln({location:"",base:e,go:n,createHref:vW.bind(null,e)},t,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function CW(e){return typeof e=="string"||e&&typeof e=="object"}function A6(e){return typeof e=="string"||typeof e=="symbol"}const pl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},P6=Symbol("");var WM;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(WM||(WM={}));function vd(e,t){return ln(new Error,{type:e,[P6]:!0},t)}function ol(e,t){return e instanceof Error&&P6 in e&&(t==null||!!(e.type&t))}const qM="[^/]+?",EW={sensitive:!1,strict:!1,start:!0,end:!0},AW=/[.+*?^${}()[\]/\\]/g;function PW(e,t){const r=ln({},EW,t),n=[];let i=r.start?"^":"";const o=[];for(const d of e){const m=d.length?[]:[90];r.strict&&!d.length&&(i+="/");for(let v=0;v<d.length;v++){const g=d[v];let _=40+(r.sensitive?.25:0);if(g.type===0)v||(i+="/"),i+=g.value.replace(AW,"\\$&"),_+=40;else if(g.type===1){const{value:T,repeatable:P,optional:M,regexp:I}=g;o.push({name:T,repeatable:P,optional:M});const D=I||qM;if(D!==qM){_+=10;try{new RegExp(`(${D})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${T}" (${D}): `+z.message)}}let O=P?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;v||(O=M&&d.length<2?`(?:/${O})`:"/"+O),M&&(O+="?"),i+=O,_+=20,M&&(_+=-8),P&&(_+=-20),D===".*"&&(_+=-50)}m.push(_)}n.push(m)}if(r.strict&&r.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function a(d){const m=d.match(s),v={};if(!m)return null;for(let g=1;g<m.length;g++){const _=m[g]||"",T=o[g-1];v[T.name]=_&&T.repeatable?_.split("/"):_}return v}function h(d){let m="",v=!1;for(const g of e){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const _ of g)if(_.type===0)m+=_.value;else if(_.type===1){const{value:T,repeatable:P,optional:M}=_,I=T in d?d[T]:"";if(es(I)&&!P)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const D=es(I)?I.join("/"):I;if(!D)if(M)g.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${T}"`);m+=D}}return m||"/"}return{re:s,score:n,keys:o,parse:a,stringify:h}}function IW(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function MW(e,t){let r=0;const n=e.score,i=t.score;for(;r<n.length&&r<i.length;){const o=IW(n[r],i[r]);if(o)return o;r++}if(Math.abs(i.length-n.length)===1){if(XM(n))return 1;if(XM(i))return-1}return i.length-n.length}function XM(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const DW={type:0,value:""},LW=/[a-zA-Z0-9_]/;function OW(e){if(!e)return[[]];if(e==="/")return[[DW]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${r})/"${d}": ${_}`)}let r=0,n=r;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,h,d="",m="";function v(){d&&(r===0?o.push({type:0,value:d}):r===1||r===2||r===3?(o.length>1&&(h==="*"||h==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:m,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=h}for(;a<e.length;){if(h=e[a++],h==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:h==="/"?(d&&v(),s()):h===":"?(v(),r=1):g();break;case 4:g(),r=n;break;case 1:h==="("?r=2:LW.test(h)?g():(v(),r=0,h!=="*"&&h!=="?"&&h!=="+"&&a--);break;case 2:h===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+h:r=3:m+=h;break;case 3:v(),r=0,h!=="*"&&h!=="?"&&h!=="+"&&a--,m="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${d}"`),v(),s(),i}function kW(e,t,r){const n=PW(OW(e.path),r),i=ln(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function RW(e,t){const r=[],n=new Map;t=YM({strict:!1,end:!0,sensitive:!1},t);function i(m){return n.get(m)}function o(m,v,g){const _=!g,T=zW(m);T.aliasOf=g&&g.record;const P=YM(t,m),M=[T];if("alias"in m){const O=typeof m.alias=="string"?[m.alias]:m.alias;for(const z of O)M.push(ln({},T,{components:g?g.record.components:T.components,path:z,aliasOf:g?g.record:T}))}let I,D;for(const O of M){const{path:z}=O;if(v&&z[0]!=="/"){const F=v.record.path,N=F[F.length-1]==="/"?"":"/";O.path=v.record.path+(z&&N+z)}if(I=kW(O,v,P),g?g.alias.push(I):(D=D||I,D!==I&&D.alias.push(I),_&&m.name&&!KM(I)&&s(m.name)),T.children){const F=T.children;for(let N=0;N<F.length;N++)o(F[N],I,g&&g.children[N])}g=g||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&h(I)}return D?()=>{s(D)}:jm}function s(m){if(A6(m)){const v=n.get(m);v&&(n.delete(m),r.splice(r.indexOf(v),1),v.children.forEach(s),v.alias.forEach(s))}else{const v=r.indexOf(m);v>-1&&(r.splice(v,1),m.record.name&&n.delete(m.record.name),m.children.forEach(s),m.alias.forEach(s))}}function a(){return r}function h(m){let v=0;for(;v<r.length&&MW(m,r[v])>=0&&(m.record.path!==r[v].record.path||!I6(m,r[v]));)v++;r.splice(v,0,m),m.record.name&&!KM(m)&&n.set(m.record.name,m)}function d(m,v){let g,_={},T,P;if("name"in m&&m.name){if(g=n.get(m.name),!g)throw vd(1,{location:m});P=g.record.name,_=ln(ZM(v.params,g.keys.filter(D=>!D.optional).map(D=>D.name)),m.params&&ZM(m.params,g.keys.map(D=>D.name))),T=g.stringify(_)}else if("path"in m)T=m.path,g=r.find(D=>D.re.test(T)),g&&(_=g.parse(T),P=g.record.name);else{if(g=v.name?n.get(v.name):r.find(D=>D.re.test(v.path)),!g)throw vd(1,{location:m,currentLocation:v});P=g.record.name,_=ln({},v.params,m.params),T=g.stringify(_)}const M=[];let I=g;for(;I;)M.unshift(I.record),I=I.parent;return{name:P,path:T,params:_,matched:M,meta:BW(M)}}return e.forEach(m=>o(m)),{addRoute:o,resolve:d,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function ZM(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function zW(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:$W(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function $W(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="boolean"?r:r[n];return t}function KM(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function BW(e){return e.reduce((t,r)=>ln(t,r.meta),{})}function YM(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function I6(e,t){return t.children.some(r=>r===e||I6(e,r))}const M6=/#/g,FW=/&/g,NW=/\//g,VW=/=/g,UW=/\?/g,D6=/\+/g,HW=/%5B/g,jW=/%5D/g,L6=/%5E/g,GW=/%60/g,O6=/%7B/g,WW=/%7C/g,k6=/%7D/g,qW=/%20/g;function qC(e){return encodeURI(""+e).replace(WW,"|").replace(HW,"[").replace(jW,"]")}function XW(e){return qC(e).replace(O6,"{").replace(k6,"}").replace(L6,"^")}function IS(e){return qC(e).replace(D6,"%2B").replace(qW,"+").replace(M6,"%23").replace(FW,"%26").replace(GW,"`").replace(O6,"{").replace(k6,"}").replace(L6,"^")}function ZW(e){return IS(e).replace(VW,"%3D")}function KW(e){return qC(e).replace(M6,"%23").replace(UW,"%3F")}function YW(e){return e==null?"":KW(e).replace(NW,"%2F")}function k0(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function JW(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(D6," "),s=o.indexOf("="),a=k0(s<0?o:o.slice(0,s)),h=s<0?null:k0(o.slice(s+1));if(a in t){let d=t[a];es(d)||(d=t[a]=[d]),d.push(h)}else t[a]=h}return t}function JM(e){let t="";for(let r in e){const n=e[r];if(r=ZW(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(es(n)?n.map(o=>o&&IS(o)):[n&&IS(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+r,o!=null&&(t+="="+o))})}return t}function QW(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=es(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const eq=Symbol(""),QM=Symbol(""),G1=Symbol(""),XC=Symbol(""),MS=Symbol("");function Yp(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function r(){e=[]}return{add:t,list:()=>e,reset:r}}function Cu(e,t,r,n,i){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const h=v=>{v===!1?a(vd(4,{from:r,to:t})):v instanceof Error?a(v):CW(v)?a(vd(2,{from:t,to:v})):(o&&n.enterCallbacks[i]===o&&typeof v=="function"&&o.push(v),s())},d=e.call(n&&n.instances[i],t,r,h);let m=Promise.resolve(d);e.length<3&&(m=m.then(h)),m.catch(v=>a(v))})}function ow(e,t,r,n){const i=[];for(const o of e)for(const s in o.components){let a=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(tq(a)){const d=(a.__vccOpts||a)[t];d&&i.push(Cu(d,r,n,o,s))}else{let h=a();i.push(()=>h.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const m=sW(d)?d.default:d;o.components[s]=m;const g=(m.__vccOpts||m)[t];return g&&Cu(g,r,n,o,s)()}))}}return i}function tq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function eD(e){const t=Er(G1),r=Er(XC),n=_e(()=>t.resolve(Qt(e.to))),i=_e(()=>{const{matched:h}=n.value,{length:d}=h,m=h[d-1],v=r.matched;if(!m||!v.length)return-1;const g=v.findIndex(md.bind(null,m));if(g>-1)return g;const _=tD(h[d-2]);return d>1&&tD(m)===_&&v[v.length-1].path!==_?v.findIndex(md.bind(null,h[d-2])):g}),o=_e(()=>i.value>-1&&iq(r.params,n.value.params)),s=_e(()=>i.value>-1&&i.value===r.matched.length-1&&C6(r.params,n.value.params));function a(h={}){return nq(h)?t[Qt(e.replace)?"replace":"push"](Qt(e.to)).catch(jm):Promise.resolve()}return{route:n,href:_e(()=>n.value.href),isActive:o,isExactActive:s,navigate:a}}const rq=bt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eD,setup(e,{slots:t}){const r=eo(eD(e)),{options:n}=Er(G1),i=_e(()=>({[rD(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[rD(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const o=t.default&&t.default(r);return e.custom?o:Dr("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},o)}}}),R6=rq;function nq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function iq(e,t){for(const r in t){const n=t[r],i=e[r];if(typeof n=="string"){if(n!==i)return!1}else if(!es(i)||i.length!==n.length||n.some((o,s)=>o!==i[s]))return!1}return!0}function tD(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const rD=(e,t,r)=>e??t??r,oq=bt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=Er(MS),i=_e(()=>e.route||n.value),o=Er(QM,0),s=_e(()=>{let d=Qt(o);const{matched:m}=i.value;let v;for(;(v=m[d])&&!v.components;)d++;return d}),a=_e(()=>i.value.matched[s.value]);Mn(QM,_e(()=>s.value+1)),Mn(eq,a),Mn(MS,i);const h=Ft();return rr(()=>[h.value,a.value,e.name],([d,m,v],[g,_,T])=>{m&&(m.instances[v]=d,_&&_!==m&&d&&d===g&&(m.leaveGuards.size||(m.leaveGuards=_.leaveGuards),m.updateGuards.size||(m.updateGuards=_.updateGuards))),d&&m&&(!_||!md(m,_)||!g)&&(m.enterCallbacks[v]||[]).forEach(P=>P(d))},{flush:"post"}),()=>{const d=i.value,m=e.name,v=a.value,g=v&&v.components[m];if(!g)return nD(r.default,{Component:g,route:d});const _=v.props[m],T=_?_===!0?d.params:typeof _=="function"?_(d):_:null,M=Dr(g,ln({},T,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(v.instances[m]=null)},ref:h}));return nD(r.default,{Component:M,route:d})||M}}});function nD(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const z6=oq;function aq(e){const t=RW(e.routes,e),r=e.parseQuery||JW,n=e.stringifyQuery||JM,i=e.history,o=Yp(),s=Yp(),a=Yp(),h=Rt(pl);let d=pl;zf&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=nw.bind(null,ze=>""+ze),v=nw.bind(null,YW),g=nw.bind(null,k0);function _(ze,et){let We,ut;return A6(ze)?(We=t.getRecordMatcher(ze),ut=et):ut=ze,t.addRoute(ut,We)}function T(ze){const et=t.getRecordMatcher(ze);et&&t.removeRoute(et)}function P(){return t.getRoutes().map(ze=>ze.record)}function M(ze){return!!t.getRecordMatcher(ze)}function I(ze,et){if(et=ln({},et||h.value),typeof ze=="string"){const Ee=iw(r,ze,et.path),je=t.resolve({path:Ee.path},et),Ye=i.createHref(Ee.fullPath);return ln(Ee,je,{params:g(je.params),hash:k0(Ee.hash),redirectedFrom:void 0,href:Ye})}let We;if("path"in ze)We=ln({},ze,{path:iw(r,ze.path,et.path).path});else{const Ee=ln({},ze.params);for(const je in Ee)Ee[je]==null&&delete Ee[je];We=ln({},ze,{params:v(Ee)}),et.params=v(et.params)}const ut=t.resolve(We,et),ct=ze.hash||"";ut.params=m(g(ut.params));const le=cW(n,ln({},ze,{hash:XW(ct),path:ut.path})),ye=i.createHref(le);return ln({fullPath:le,hash:ct,query:n===JM?QW(ze.query):ze.query||{}},ut,{redirectedFrom:void 0,href:ye})}function D(ze){return typeof ze=="string"?iw(r,ze,h.value.path):ln({},ze)}function O(ze,et){if(d!==ze)return vd(8,{from:et,to:ze})}function z(ze){return H(ze)}function F(ze){return z(ln(D(ze),{replace:!0}))}function N(ze){const et=ze.matched[ze.matched.length-1];if(et&&et.redirect){const{redirect:We}=et;let ut=typeof We=="function"?We(ze):We;return typeof ut=="string"&&(ut=ut.includes("?")||ut.includes("#")?ut=D(ut):{path:ut},ut.params={}),ln({query:ze.query,hash:ze.hash,params:"path"in ut?{}:ze.params},ut)}}function H(ze,et){const We=d=I(ze),ut=h.value,ct=ze.state,le=ze.force,ye=ze.replace===!0,Ee=N(We);if(Ee)return H(ln(D(Ee),{state:typeof Ee=="object"?ln({},ct,Ee.state):ct,force:le,replace:ye}),et||We);const je=We;je.redirectedFrom=et;let Ye;return!le&&hW(n,ut,We)&&(Ye=vd(16,{to:je,from:ut}),dt(ut,ut,!0,!1)),(Ye?Promise.resolve(Ye):K(je,ut)).catch(qe=>ol(qe)?ol(qe,2)?qe:mt(qe):Ve(qe,je,ut)).then(qe=>{if(qe){if(ol(qe,2))return H(ln({replace:ye},D(qe.to),{state:typeof qe.to=="object"?ln({},ct,qe.to.state):ct,force:le}),et||je)}else qe=ae(je,ut,!0,ye,ct);return ne(je,ut,qe),qe})}function U(ze,et){const We=O(ze,et);return We?Promise.reject(We):Promise.resolve()}function J(ze){const et=ar.values().next().value;return et&&typeof et.runWithContext=="function"?et.runWithContext(ze):ze()}function K(ze,et){let We;const[ut,ct,le]=sq(ze,et);We=ow(ut.reverse(),"beforeRouteLeave",ze,et);for(const Ee of ut)Ee.leaveGuards.forEach(je=>{We.push(Cu(je,ze,et))});const ye=U.bind(null,ze,et);return We.push(ye),st(We).then(()=>{We=[];for(const Ee of o.list())We.push(Cu(Ee,ze,et));return We.push(ye),st(We)}).then(()=>{We=ow(ct,"beforeRouteUpdate",ze,et);for(const Ee of ct)Ee.updateGuards.forEach(je=>{We.push(Cu(je,ze,et))});return We.push(ye),st(We)}).then(()=>{We=[];for(const Ee of ze.matched)if(Ee.beforeEnter&&!et.matched.includes(Ee))if(es(Ee.beforeEnter))for(const je of Ee.beforeEnter)We.push(Cu(je,ze,et));else We.push(Cu(Ee.beforeEnter,ze,et));return We.push(ye),st(We)}).then(()=>(ze.matched.forEach(Ee=>Ee.enterCallbacks={}),We=ow(le,"beforeRouteEnter",ze,et),We.push(ye),st(We))).then(()=>{We=[];for(const Ee of s.list())We.push(Cu(Ee,ze,et));return We.push(ye),st(We)}).catch(Ee=>ol(Ee,8)?Ee:Promise.reject(Ee))}function ne(ze,et,We){for(const ut of a.list())J(()=>ut(ze,et,We))}function ae(ze,et,We,ut,ct){const le=O(ze,et);if(le)return le;const ye=et===pl,Ee=zf?history.state:{};We&&(ut||ye?i.replace(ze.fullPath,ln({scroll:ye&&Ee&&Ee.scroll},ct)):i.push(ze.fullPath,ct)),h.value=ze,dt(ze,et,We,ye),mt()}let he;function ie(){he||(he=i.listen((ze,et,We)=>{if(!nr.listening)return;const ut=I(ze),ct=N(ut);if(ct){H(ln(ct,{replace:!0}),ut).catch(jm);return}d=ut;const le=h.value;zf&&_W(jM(le.fullPath,We.delta),j1()),K(ut,le).catch(ye=>ol(ye,12)?ye:ol(ye,2)?(H(ye.to,ut).then(Ee=>{ol(Ee,20)&&!We.delta&&We.type===bv.pop&&i.go(-1,!1)}).catch(jm),Promise.reject()):(We.delta&&i.go(-We.delta,!1),Ve(ye,ut,le))).then(ye=>{ye=ye||ae(ut,le,!1),ye&&(We.delta&&!ol(ye,8)?i.go(-We.delta,!1):We.type===bv.pop&&ol(ye,20)&&i.go(-1,!1)),ne(ut,le,ye)}).catch(jm)}))}let de=Yp(),ce=Yp(),Be;function Ve(ze,et,We){mt(ze);const ut=ce.list();return ut.length?ut.forEach(ct=>ct(ze,et,We)):console.error(ze),Promise.reject(ze)}function ht(){return Be&&h.value!==pl?Promise.resolve():new Promise((ze,et)=>{de.add([ze,et])})}function mt(ze){return Be||(Be=!ze,ie(),de.list().forEach(([et,We])=>ze?We(ze):et()),de.reset()),ze}function dt(ze,et,We,ut){const{scrollBehavior:ct}=e;if(!zf||!ct)return Promise.resolve();const le=!We&&bW(jM(ze.fullPath,0))||(ut||!We)&&history.state&&history.state.scroll||null;return ko().then(()=>ct(ze,et,le)).then(ye=>ye&&yW(ye)).catch(ye=>Ve(ye,ze,et))}const vt=ze=>i.go(ze);let Jt;const ar=new Set,nr={currentRoute:h,listening:!0,addRoute:_,removeRoute:T,hasRoute:M,getRoutes:P,resolve:I,options:e,push:z,replace:F,go:vt,back:()=>vt(-1),forward:()=>vt(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:ce.add,isReady:ht,install(ze){const et=this;ze.component("RouterLink",R6),ze.component("RouterView",z6),ze.config.globalProperties.$router=et,Object.defineProperty(ze.config.globalProperties,"$route",{enumerable:!0,get:()=>Qt(h)}),zf&&!Jt&&h.value===pl&&(Jt=!0,z(i.location).catch(ct=>{}));const We={};for(const ct in pl)We[ct]=_e(()=>h.value[ct]);ze.provide(G1,et),ze.provide(XC,eo(We)),ze.provide(MS,h);const ut=ze.unmount;ar.add(ze),ze.unmount=function(){ar.delete(ze),ar.size<1&&(d=pl,he&&he(),he=null,h.value=pl,Jt=!1,Be=!1),ut()}}};function st(ze){return ze.reduce((et,We)=>et.then(()=>J(We)),Promise.resolve())}return nr}function sq(e,t){const r=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const a=t.matched[s];a&&(e.matched.find(d=>md(d,a))?n.push(a):r.push(a));const h=e.matched[s];h&&(t.matched.find(d=>md(d,h))||i.push(h))}return[r,n,i]}function Dh(){return Er(G1)}function qu(){return Er(XC)}const lq=({headerLinkSelector:e,headerAnchorSelector:t,delay:r,offset:n=5})=>{const i=Dh(),s=WC(()=>{var P,M;const a=Math.max(window.scrollY,document.documentElement.scrollTop,document.body.scrollTop);if(Math.abs(a-0)<n){iD(i,"");return}const d=window.innerHeight+a,m=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),v=Math.abs(m-d)<n,g=Array.from(document.querySelectorAll(e)),T=Array.from(document.querySelectorAll(t)).filter(I=>g.some(D=>D.hash===I.hash));for(let I=0;I<T.length;I++){const D=T[I],O=T[I+1],z=a>=(((P=D.parentElement)==null?void 0:P.offsetTop)??0)-n,F=!O||a<(((M=O.parentElement)==null?void 0:M.offsetTop)??0)-n;if(!(z&&F))continue;const H=decodeURIComponent(i.currentRoute.value.hash),U=decodeURIComponent(D.hash);if(H===U)return;if(v){for(let J=I+1;J<T.length;J++)if(H===decodeURIComponent(T[J].hash))return}iD(i,U);return}},r);cn(()=>{window.addEventListener("scroll",s)}),Pi(()=>{window.removeEventListener("scroll",s)})},iD=async(e,t)=>{const{scrollBehavior:r}=e.options;e.options.scrollBehavior=void 0,await e.replace({query:e.currentRoute.value.query,hash:t,force:!0}).finally(()=>e.options.scrollBehavior=r)},uq="a.sidebar-item",cq=".header-anchor",hq=300,fq=5,dq=is({setup(){lq({headerLinkSelector:uq,headerAnchorSelector:cq,delay:hq,offset:fq})}}),oD=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,pq=()=>window.scrollTo({top:0,behavior:"smooth"});const mq=bt({name:"BackToTop",setup(){const e=Ft(0),t=_e(()=>e.value>300),r=WC(()=>{e.value=oD()},100);cn(()=>{e.value=oD(),window.addEventListener("scroll",()=>r())});const n=Dr("div",{class:"back-to-top",onClick:pq});return()=>Dr(ns,{name:"back-to-top"},()=>t.value?n:null)}}),vq=is({rootComponents:[mq]});const gq=Dr("svg",{class:"external-link-icon",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"},[Dr("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),Dr("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})]),yq=bt({name:"ExternalLinkIcon",props:{locales:{type:Object,required:!1,default:()=>({})}},setup(e){const t=hg(),r=_e(()=>e.locales[t.value]??{openInNewWindow:"open in new window"});return()=>Dr("span",[gq,Dr("span",{class:"external-link-icon-sr-only"},r.value.openInNewWindow)])}}),_q={"/":{openInNewWindow:""}},bq=is({enhance({app:e}){e.component("ExternalLinkIcon",Dr(yq,{locales:_q}))}});/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy=function(t){return t.tagName==="IMG"},xq=function(t){return NodeList.prototype.isPrototypeOf(t)},K_=function(t){return t&&t.nodeType===1},aD=function(t){var r=t.currentSrc||t.src;return r.substr(-4).toLowerCase()===".svg"},sD=function(t){try{return Array.isArray(t)?t.filter(Uy):xq(t)?[].slice.call(t).filter(Uy):K_(t)?[t].filter(Uy):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(Uy):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},wq=function(t){var r=document.createElement("div");return r.classList.add("medium-zoom-overlay"),r.style.background=t,r},Sq=function(t){var r=t.getBoundingClientRect(),n=r.top,i=r.left,o=r.width,s=r.height,a=t.cloneNode(),h=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,d=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=n+h+"px",a.style.left=i+d+"px",a.style.width=o+"px",a.style.height=s+"px",a.style.transform="",a},gf=function(t,r){var n=Kc({bubbles:!1,cancelable:!1,detail:void 0},r);if(typeof window.CustomEvent=="function")return new CustomEvent(t,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i},Tq=function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=window.Promise||function(ae){function he(){}ae(he,he)},i=function(ae){var he=ae.target;if(he===J){T();return}O.indexOf(he)!==-1&&P({target:he})},o=function(){if(!(F||!U.original)){var ae=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(N-ae)>H.scrollOffset&&setTimeout(T,150)}},s=function(ae){var he=ae.key||ae.keyCode;(he==="Escape"||he==="Esc"||he===27)&&T()},a=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ae;if(ae.background&&(J.style.background=ae.background),ae.container&&ae.container instanceof Object&&(he.container=Kc({},H.container,ae.container)),ae.template){var ie=K_(ae.template)?ae.template:document.querySelector(ae.template);he.template=ie}return H=Kc({},H,he),O.forEach(function(de){de.dispatchEvent(gf("medium-zoom:update",{detail:{zoom:K}}))}),K},h=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(Kc({},H,ae))},d=function(){for(var ae=arguments.length,he=Array(ae),ie=0;ie<ae;ie++)he[ie]=arguments[ie];var de=he.reduce(function(ce,Be){return[].concat(ce,sD(Be))},[]);return de.filter(function(ce){return O.indexOf(ce)===-1}).forEach(function(ce){O.push(ce),ce.classList.add("medium-zoom-image")}),z.forEach(function(ce){var Be=ce.type,Ve=ce.listener,ht=ce.options;de.forEach(function(mt){mt.addEventListener(Be,Ve,ht)})}),K},m=function(){for(var ae=arguments.length,he=Array(ae),ie=0;ie<ae;ie++)he[ie]=arguments[ie];U.zoomed&&T();var de=he.length>0?he.reduce(function(ce,Be){return[].concat(ce,sD(Be))},[]):O;return de.forEach(function(ce){ce.classList.remove("medium-zoom-image"),ce.dispatchEvent(gf("medium-zoom:detach",{detail:{zoom:K}}))}),O=O.filter(function(ce){return de.indexOf(ce)===-1}),K},v=function(ae,he){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(de){de.addEventListener("medium-zoom:"+ae,he,ie)}),z.push({type:"medium-zoom:"+ae,listener:he,options:ie}),K},g=function(ae,he){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O.forEach(function(de){de.removeEventListener("medium-zoom:"+ae,he,ie)}),z=z.filter(function(de){return!(de.type==="medium-zoom:"+ae&&de.listener.toString()===he.toString())}),K},_=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ae.target,ie=function(){var ce={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Be=void 0,Ve=void 0;if(H.container)if(H.container instanceof Object)ce=Kc({},ce,H.container),Be=ce.width-ce.left-ce.right-H.margin*2,Ve=ce.height-ce.top-ce.bottom-H.margin*2;else{var ht=K_(H.container)?H.container:document.querySelector(H.container),mt=ht.getBoundingClientRect(),dt=mt.width,vt=mt.height,Jt=mt.left,ar=mt.top;ce=Kc({},ce,{width:dt,height:vt,left:Jt,top:ar})}Be=Be||ce.width-H.margin*2,Ve=Ve||ce.height-H.margin*2;var nr=U.zoomedHd||U.original,st=aD(nr)?Be:nr.naturalWidth||Be,ze=aD(nr)?Ve:nr.naturalHeight||Ve,et=nr.getBoundingClientRect(),We=et.top,ut=et.left,ct=et.width,le=et.height,ye=Math.min(Math.max(ct,st),Be)/ct,Ee=Math.min(Math.max(le,ze),Ve)/le,je=Math.min(ye,Ee),Ye=(-ut+(Be-ct)/2+H.margin+ce.left)/je,qe=(-We+(Ve-le)/2+H.margin+ce.top)/je,nt="scale("+je+") translate3d("+Ye+"px, "+qe+"px, 0)";U.zoomed.style.transform=nt,U.zoomedHd&&(U.zoomedHd.style.transform=nt)};return new n(function(de){if(he&&O.indexOf(he)===-1){de(K);return}var ce=function dt(){F=!1,U.zoomed.removeEventListener("transitionend",dt),U.original.dispatchEvent(gf("medium-zoom:opened",{detail:{zoom:K}})),de(K)};if(U.zoomed){de(K);return}if(he)U.original=he;else if(O.length>0){var Be=O;U.original=Be[0]}else{de(K);return}if(U.original.dispatchEvent(gf("medium-zoom:open",{detail:{zoom:K}})),N=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,F=!0,U.zoomed=Sq(U.original),document.body.appendChild(J),H.template){var Ve=K_(H.template)?H.template:document.querySelector(H.template);U.template=document.createElement("div"),U.template.appendChild(Ve.content.cloneNode(!0)),document.body.appendChild(U.template)}if(U.original.parentElement&&U.original.parentElement.tagName==="PICTURE"&&U.original.currentSrc&&(U.zoomed.src=U.original.currentSrc),document.body.appendChild(U.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),U.original.classList.add("medium-zoom-image--hidden"),U.zoomed.classList.add("medium-zoom-image--opened"),U.zoomed.addEventListener("click",T),U.zoomed.addEventListener("transitionend",ce),U.original.getAttribute("data-zoom-src")){U.zoomedHd=U.zoomed.cloneNode(),U.zoomedHd.removeAttribute("srcset"),U.zoomedHd.removeAttribute("sizes"),U.zoomedHd.removeAttribute("loading"),U.zoomedHd.src=U.zoomed.getAttribute("data-zoom-src"),U.zoomedHd.onerror=function(){clearInterval(ht),console.warn("Unable to reach the zoom image target "+U.zoomedHd.src),U.zoomedHd=null,ie()};var ht=setInterval(function(){U.zoomedHd.complete&&(clearInterval(ht),U.zoomedHd.classList.add("medium-zoom-image--opened"),U.zoomedHd.addEventListener("click",T),document.body.appendChild(U.zoomedHd),ie())},10)}else if(U.original.hasAttribute("srcset")){U.zoomedHd=U.zoomed.cloneNode(),U.zoomedHd.removeAttribute("sizes"),U.zoomedHd.removeAttribute("loading");var mt=U.zoomedHd.addEventListener("load",function(){U.zoomedHd.removeEventListener("load",mt),U.zoomedHd.classList.add("medium-zoom-image--opened"),U.zoomedHd.addEventListener("click",T),document.body.appendChild(U.zoomedHd),ie()})}else ie()})},T=function(){return new n(function(ae){if(F||!U.original){ae(K);return}var he=function ie(){U.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(U.zoomed),U.zoomedHd&&document.body.removeChild(U.zoomedHd),document.body.removeChild(J),U.zoomed.classList.remove("medium-zoom-image--opened"),U.template&&document.body.removeChild(U.template),F=!1,U.zoomed.removeEventListener("transitionend",ie),U.original.dispatchEvent(gf("medium-zoom:closed",{detail:{zoom:K}})),U.original=null,U.zoomed=null,U.zoomedHd=null,U.template=null,ae(K)};F=!0,document.body.classList.remove("medium-zoom--opened"),U.zoomed.style.transform="",U.zoomedHd&&(U.zoomedHd.style.transform=""),U.template&&(U.template.style.transition="opacity 150ms",U.template.style.opacity=0),U.original.dispatchEvent(gf("medium-zoom:close",{detail:{zoom:K}})),U.zoomed.addEventListener("transitionend",he)})},P=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ae.target;return U.original?T():_({target:he})},M=function(){return H},I=function(){return O},D=function(){return U.original},O=[],z=[],F=!1,N=0,H=r,U={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?H=t:(t||typeof t=="string")&&d(t),H=Kc({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},H);var J=wq(H.background);document.addEventListener("click",i),document.addEventListener("keyup",s),document.addEventListener("scroll",o),window.addEventListener("resize",T);var K={open:_,close:T,toggle:P,update:a,clone:h,attach:d,detach:m,on:v,off:g,getOptions:M,getImages:I,getZoomedImage:D};return K};function Cq(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(!e||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Eq=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Cq(Eq);const Aq=Tq,Pq=Symbol("mediumZoom");const Iq=".theme-default-content > img, .theme-default-content :not(a) > img",Mq={},Dq=300,Lq=is({enhance({app:e,router:t}){const r=Aq(Mq);r.refresh=(n=Iq)=>{r.detach(),r.attach(n)},e.provide(Pq,r),t.afterEach(()=>{setTimeout(()=>r.refresh(),Dq)})}});/**
 * NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT
 */const Zr={settings:{minimum:.08,easing:"ease",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"body",template:'<div class="bar" role="bar"></div>'},status:null,set:e=>{const t=Zr.isStarted();e=aw(e,Zr.settings.minimum,1),Zr.status=e===1?null:e;const r=Zr.render(!t),n=r.querySelector(Zr.settings.barSelector),i=Zr.settings.speed,o=Zr.settings.easing;return r.offsetWidth,Oq(s=>{Hy(n,{transform:"translate3d("+lD(e)+"%,0,0)",transition:"all "+i+"ms "+o}),e===1?(Hy(r,{transition:"none",opacity:"1"}),r.offsetWidth,setTimeout(function(){Hy(r,{transition:"all "+i+"ms linear",opacity:"0"}),setTimeout(function(){Zr.remove(),s()},i)},i)):setTimeout(()=>s(),i)}),Zr},isStarted:()=>typeof Zr.status=="number",start:()=>{Zr.status||Zr.set(0);const e=()=>{setTimeout(()=>{Zr.status&&(Zr.trickle(),e())},Zr.settings.trickleSpeed)};return Zr.settings.trickle&&e(),Zr},done:e=>!e&&!Zr.status?Zr:Zr.inc(.3+.5*Math.random()).set(1),inc:e=>{let t=Zr.status;return t?(typeof e!="number"&&(e=(1-t)*aw(Math.random()*t,.1,.95)),t=aw(t+e,0,.994),Zr.set(t)):Zr.start()},trickle:()=>Zr.inc(Math.random()*Zr.settings.trickleRate),render:e=>{if(Zr.isRendered())return document.getElementById("nprogress");uD(document.documentElement,"nprogress-busy");const t=document.createElement("div");t.id="nprogress",t.innerHTML=Zr.settings.template;const r=t.querySelector(Zr.settings.barSelector),n=e?"-100":lD(Zr.status||0),i=document.querySelector(Zr.settings.parent);return Hy(r,{transition:"all 0 linear",transform:"translate3d("+n+"%,0,0)"}),i!==document.body&&uD(i,"nprogress-custom-parent"),i==null||i.appendChild(t),t},remove:()=>{cD(document.documentElement,"nprogress-busy"),cD(document.querySelector(Zr.settings.parent),"nprogress-custom-parent");const e=document.getElementById("nprogress");e&&kq(e)},isRendered:()=>!!document.getElementById("nprogress")},aw=(e,t,r)=>e<t?t:e>r?r:e,lD=e=>(-1+e)*100,Oq=function(){const e=[];function t(){const r=e.shift();r&&r(t)}return function(r){e.push(r),e.length===1&&t()}}(),Hy=function(){const e=["Webkit","O","Moz","ms"],t={};function r(s){return s.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,h){return h.toUpperCase()})}function n(s){const a=document.body.style;if(s in a)return s;let h=e.length;const d=s.charAt(0).toUpperCase()+s.slice(1);let m;for(;h--;)if(m=e[h]+d,m in a)return m;return s}function i(s){return s=r(s),t[s]??(t[s]=n(s))}function o(s,a,h){a=i(a),s.style[a]=h}return function(s,a){for(const h in a){const d=a[h];d!==void 0&&Object.prototype.hasOwnProperty.call(a,h)&&o(s,h,d)}}}(),$6=(e,t)=>(typeof e=="string"?e:ZC(e)).indexOf(" "+t+" ")>=0,uD=(e,t)=>{const r=ZC(e),n=r+t;$6(r,t)||(e.className=n.substring(1))},cD=(e,t)=>{const r=ZC(e);if(!$6(e,t))return;const n=r.replace(" "+t+" "," ");e.className=n.substring(1,n.length-1)},ZC=e=>(" "+(e.className||"")+" ").replace(/\s+/gi," "),kq=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)};const Rq=()=>{cn(()=>{const e=Dh(),t=new Set;t.add(e.currentRoute.value.path),e.beforeEach(r=>{t.has(r.path)||Zr.start()}),e.afterEach(r=>{t.add(r.path),Zr.done()})})},zq=is({setup(){Rq()}}),$q=JSON.parse('{"navbar":[{"text":"","link":"/"},{"text":"","link":"https://daily.sustech.online/"},{"text":"","link":"/miniapp/"},{"text":"","link":"/about/"},{"text":"","link":"/site-help/"}],"repo":"sustech-cra/sustech-online-ng","repoLabel":"Github","docsRepo":"sustech-cra/sustech-online-ng","docsDir":"docs","editLinkText":"","lastUpdatedText":"","contributorsText":"","editLink":true,"docsBranch":"master","tip":"","warning":"","danger":"","notFound":["",""," 404 ",""],"backToHome":"","openInNewWindow":"","toggleColorMode":"","toggleSidebar":"","sidebarDepth":2,"sidebar":["/","/facility/","/contact/","/calendar/","/service/","/life/","/study/","/organizations/","/media/",{"text":"","link":"/transport/","children":[{"text":"","link":"/transport/bustimer.md","children":[]},{"text":"-","link":"/transport/workday.md","children":[]},{"text":"-","link":"/transport/holiday.md","children":[]},{"text":"","link":"/transport/","children":[]}]},"/surroundings/"],"locales":{"/":{"selectLanguageName":"English"}},"colorMode":"auto","colorModeSwitch":true,"logo":null,"selectLanguageText":"Languages","selectLanguageAriaLabel":"Select language","lastUpdated":true,"contributors":true}'),Bq=Ft($q),Fq=()=>Bq,B6=Symbol(""),Nq=()=>{const e=Er(B6);if(!e)throw new Error("useThemeLocaleData() is called without provider.");return e},Vq=(e,t)=>{const{locales:r,...n}=e;return{...n,...r==null?void 0:r[t]}},Uq=is({enhance({app:e}){const t=Fq(),r=e._context.provides[HC],n=_e(()=>Vq(t.value,r.value));e.provide(B6,n),Object.defineProperties(e.config.globalProperties,{$theme:{get(){return t.value}},$themeLocale:{get(){return n.value}}})}}),Hq=bt({__name:"Badge",props:{type:{type:String,required:!1,default:"tip"},text:{type:String,required:!1,default:""},vertical:{type:String,required:!1,default:void 0}},setup(e){return(t,r)=>(_t(),Wt("span",{class:$i(["badge",e.type]),style:$d({verticalAlign:e.vertical})},[pn(t.$slots,"default",{},()=>[Ro(Qr(e.text),1)])],6))}}),Kr=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},jq=Kr(Hq,[["__file","Badge.vue"]]),Gq=bt({name:"CodeGroup",slots:Object,setup(e,{slots:t}){const r=Ft(-1),n=Ft([]),i=(a=r.value)=>{a<n.value.length-1?r.value=a+1:r.value=0,n.value[r.value].focus()},o=(a=r.value)=>{a>0?r.value=a-1:r.value=n.value.length-1,n.value[r.value].focus()},s=(a,h)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),r.value=h):a.key==="ArrowRight"?(a.preventDefault(),i(h)):a.key==="ArrowLeft"&&(a.preventDefault(),o(h))};return()=>{var h;const a=(((h=t.default)==null?void 0:h.call(t))||[]).filter(d=>d.type.name==="CodeGroupItem").map(d=>(d.props===null&&(d.props={}),d));return a.length===0?null:(r.value<0||r.value>a.length-1?(r.value=a.findIndex(d=>d.props.active===""||d.props.active===!0),r.value===-1&&(r.value=0)):a.forEach((d,m)=>{d.props.active=m===r.value}),Dr("div",{class:"code-group"},[Dr("div",{class:"code-group__nav"},Dr("ul",{class:"code-group__ul"},a.map((d,m)=>{const v=m===r.value;return Dr("li",{class:"code-group__li"},Dr("button",{ref:g=>{g&&(n.value[m]=g)},class:{"code-group__nav-tab":!0,"code-group__nav-tab-active":v},ariaPressed:v,ariaExpanded:v,onClick:()=>r.value=m,onKeydown:g=>s(g,m)},d.props.title))}))),a]))}}}),Wq=["aria-selected"],qq=bt({name:"CodeGroupItem"}),Xq=bt({...qq,props:{title:{type:String,required:!0},active:{type:Boolean,required:!1,default:!1}},setup(e){return(t,r)=>(_t(),Wt("div",{class:$i(["code-group-item",{"code-group-item__active":e.active}]),"aria-selected":e.active},[pn(t.$slots,"default")],10,Wq))}}),Zq=Kr(Xq,[["__file","CodeGroupItem.vue"]]);function F6(e){return i4()?(QU(e),!0):!1}function xv(e){return typeof e=="function"?e():Qt(e)}const Kq=typeof window<"u",N6=()=>{};function Yq(e,t){function r(...n){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(o)})}return r}const V6=e=>e();function Jq(e=V6){const t=Ft(!0);function r(){t.value=!1}function n(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:og(t),pause:r,resume:n,eventFilter:i}}function Qq(...e){if(e.length!==1)return E0(...e);const t=e[0];return typeof t=="function"?og(DH(()=>({get:t,set:N6}))):Ft(t)}function eX(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,i=fi(e),o=Ft(e);function s(a){if(arguments.length)return o.value=a,o.value;{const h=xv(r);return o.value=o.value===h?xv(n):h,o.value}}return i?s:[o,s]}var hD=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,nX=(e,t)=>{var r={};for(var n in e)tX.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&hD)for(var n of hD(e))t.indexOf(n)<0&&rX.call(e,n)&&(r[n]=e[n]);return r};function iX(e,t,r={}){const n=r,{eventFilter:i=V6}=n,o=nX(n,["eventFilter"]);return rr(e,Yq(i,t),o)}var oX=Object.defineProperty,aX=Object.defineProperties,sX=Object.getOwnPropertyDescriptors,R0=Object.getOwnPropertySymbols,U6=Object.prototype.hasOwnProperty,H6=Object.prototype.propertyIsEnumerable,fD=(e,t,r)=>t in e?oX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lX=(e,t)=>{for(var r in t||(t={}))U6.call(t,r)&&fD(e,r,t[r]);if(R0)for(var r of R0(t))H6.call(t,r)&&fD(e,r,t[r]);return e},uX=(e,t)=>aX(e,sX(t)),cX=(e,t)=>{var r={};for(var n in e)U6.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&R0)for(var n of R0(e))t.indexOf(n)<0&&H6.call(e,n)&&(r[n]=e[n]);return r};function hX(e,t,r={}){const n=r,{eventFilter:i}=n,o=cX(n,["eventFilter"]),{eventFilter:s,pause:a,resume:h,isActive:d}=Jq(i);return{stop:iX(e,t,uX(lX({},o),{eventFilter:s})),pause:a,resume:h,isActive:d}}function fX(e){var t;const r=xv(e);return(t=r==null?void 0:r.$el)!=null?t:r}const z0=Kq?window:void 0;function DS(...e){let t,r,n,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,i]=e,t=z0):[t,r,n,i]=e,!t)return N6;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(m=>m()),o.length=0},a=(m,v,g,_)=>(m.addEventListener(v,g,_),()=>m.removeEventListener(v,g,_)),h=rr(()=>[fX(t),xv(i)],([m,v])=>{s(),m&&o.push(...r.flatMap(g=>n.map(_=>a(m,g,_,v))))},{immediate:!0,flush:"post"}),d=()=>{h(),s()};return F6(d),d}function dX(){const e=Ft(!1);return Ol()&&cn(()=>{e.value=!0}),e}function pX(e){const t=dX();return _e(()=>(t.value,!!e()))}function mX(e,t={}){const{window:r=z0}=t,n=pX(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const o=Ft(!1),s=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},a=()=>{n.value&&(s(),i=r.matchMedia(Qq(e).value),o.value=!!(i!=null&&i.matches),i&&("addEventListener"in i?i.addEventListener("change",a):i.addListener(a)))};return di(a),F6(()=>s()),o}const jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gy="__vueuse_ssr_handlers__",vX=gX();function gX(){return Gy in jy||(jy[Gy]=jy[Gy]||{}),jy[Gy]}function yX(e,t){return vX[e]||t}function _X(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var bX=Object.defineProperty,dD=Object.getOwnPropertySymbols,xX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,pD=(e,t,r)=>t in e?bX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mD=(e,t)=>{for(var r in t||(t={}))xX.call(t,r)&&pD(e,r,t[r]);if(dD)for(var r of dD(t))wX.call(t,r)&&pD(e,r,t[r]);return e};const SX={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},vD="vueuse-storage";function TX(e,t,r,n={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:h=!0,mergeDefaults:d=!1,shallow:m,window:v=z0,eventFilter:g,onError:_=U=>{console.error(U)}}=n,T=(m?Rt:Ft)(t);if(!r)try{r=yX("getDefaultStorage",()=>{var U;return(U=z0)==null?void 0:U.localStorage})()}catch(U){_(U)}if(!r)return T;const P=xv(t),M=_X(P),I=(i=n.serializer)!=null?i:SX[M],{pause:D,resume:O}=hX(T,()=>z(T.value),{flush:o,deep:s,eventFilter:g});return v&&a&&(DS(v,"storage",H),DS(v,vD,N)),H(),T;function z(U){try{if(U==null)r.removeItem(e);else{const J=I.write(U),K=r.getItem(e);K!==J&&(r.setItem(e,J),v&&v.dispatchEvent(new CustomEvent(vD,{detail:{key:e,oldValue:K,newValue:J,storageArea:r}})))}}catch(J){_(J)}}function F(U){const J=U?U.newValue:r.getItem(e);if(J==null)return h&&P!==null&&r.setItem(e,I.write(P)),P;if(!U&&d){const K=I.read(J);return typeof d=="function"?d(K,P):M==="object"&&!Array.isArray(K)?mD(mD({},P),K):K}else return typeof J!="string"?J:I.read(J)}function N(U){H(U.detail)}function H(U){if(!(U&&U.storageArea!==r)){if(U&&U.key==null){T.value=P;return}if(!(U&&U.key!==e)){D();try{T.value=F(U)}catch(J){_(J)}finally{U?ko(O):O()}}}}}function CX(e){return mX("(prefers-color-scheme: dark)",e)}const go=()=>Nq(),j6=Symbol(""),KC=()=>{const e=Er(j6);if(!e)throw new Error("useDarkMode() is called without provider.");return e},EX=()=>{const e=go(),t=CX(),r=TX("vuepress-color-scheme",e.value.colorMode),n=_e({get(){return e.value.colorModeSwitch?r.value==="auto"?t.value:r.value==="dark":e.value.colorMode==="dark"},set(i){i===t.value?r.value="auto":r.value=i?"dark":"light"}});Mn(j6,n),AX(n)},AX=e=>{const t=(r=e.value)=>{const n=window==null?void 0:window.document.querySelector("html");n==null||n.classList.toggle("dark",r)};cn(()=>{rr(e,t,{immediate:!0})}),Ll(()=>t())},G6=(...e)=>{const r=Dh().resolve(...e),n=r.matched[r.matched.length-1];if(!(n!=null&&n.redirect))return r;const{redirect:i}=n,o=WG(i)?i(r):i,s=Os(o)?{path:o}:o;return G6({hash:r.hash,query:r.query,params:r.params,...s})},YC=e=>{const t=G6(encodeURI(e));return{text:t.meta.title||e,link:t.name==="404"?e:t.fullPath}};let sw=null,Jp=null;const PX={wait:()=>sw,pending:()=>{sw=new Promise(e=>Jp=e)},resolve:()=>{Jp==null||Jp(),sw=null,Jp=null}},W6=()=>PX,q6=Symbol("sidebarItems"),JC=()=>{const e=Er(q6);if(!e)throw new Error("useSidebarItems() is called without provider.");return e},IX=()=>{const e=go(),t=xl(),r=_e(()=>MX(t.value,e.value));Mn(q6,r)},MX=(e,t)=>{const r=e.sidebar??t.sidebar??"auto",n=e.sidebarDepth??t.sidebarDepth??2;return e.home||r===!1?[]:r==="auto"?LX(n):ug(r)?X6(r,n):UC(r)?OX(r,n):[]},DX=(e,t)=>({text:e.title,link:e.link,children:QC(e.children,t)}),QC=(e,t)=>t>0?e.map(r=>DX(r,t-1)):[],LX=e=>{const t=zu();return[{text:t.value.title,children:QC(t.value.headers,e)}]},X6=(e,t)=>{const r=qu(),n=zu(),i=o=>{var a;let s;if(Os(o)?s=YC(o):s=o,s.children)return{...s,children:s.children.map(h=>i(h))};if(s.link===r.path){const h=((a=n.value.headers[0])==null?void 0:a.level)===1?n.value.headers[0].children:n.value.headers;return{...s,children:QC(h,t)}}return s};return e.map(o=>i(o))},OX=(e,t)=>{const r=qu(),n=v6(e,r.path),i=e[n]??[];return X6(i,t)},kX="719px",RX={mobile:kX};var wv;(function(e){e.MOBILE="mobile"})(wv||(wv={}));var t4;const zX={[wv.MOBILE]:Number.parseInt((t4=RX.mobile)==null?void 0:t4.replace("px",""),10)},Z6=(e,t)=>{const r=zX[e];Number.isInteger(r)&&cn(()=>{t(r),window.addEventListener("resize",()=>t(r),!1),window.addEventListener("orientationchange",()=>t(r),!1)})},$X={},BX={class:"theme-default-content"};function FX(e,t){const r=Hn("Content");return _t(),Wt("div",BX,[fe(r)])}const NX=Kr($X,[["render",FX],["__file","HomeContent.vue"]]),VX={key:0,class:"features"},UX=bt({__name:"HomeFeatures",setup(e){const t=xl(),r=_e(()=>ug(t.value.features)?t.value.features:[]);return(n,i)=>r.value.length?(_t(),Wt("div",VX,[(_t(!0),Wt(Tr,null,Qa(r.value,o=>(_t(),Wt("div",{key:o.title,class:"feature"},[fr("h2",null,Qr(o.title),1),fr("p",null,Qr(o.details),1)]))),128))])):In("",!0)}}),HX=Kr(UX,[["__file","HomeFeatures.vue"]]),jX=["innerHTML"],GX=["textContent"],WX=bt({__name:"HomeFooter",setup(e){const t=xl(),r=_e(()=>t.value.footer),n=_e(()=>t.value.footerHtml);return(i,o)=>r.value?(_t(),Wt(Tr,{key:0},[n.value?(_t(),Wt("div",{key:0,class:"footer",innerHTML:r.value},null,8,jX)):(_t(),Wt("div",{key:1,class:"footer",textContent:Qr(r.value)},null,8,GX))],64)):In("",!0)}}),qX=Kr(WX,[["__file","HomeFooter.vue"]]),XX=["href","rel","target","aria-label"],ZX=bt({inheritAttrs:!1}),KX=bt({...ZX,__name:"AutoLink",props:{item:{type:Object,required:!0}},setup(e){const t=e,r=qu(),n=rW(),{item:i}=ag(t),o=_e(()=>cg(i.value.link)),s=_e(()=>ZG(i.value.link)||KG(i.value.link)),a=_e(()=>{if(!s.value){if(i.value.target)return i.value.target;if(o.value)return"_blank"}}),h=_e(()=>a.value==="_blank"),d=_e(()=>!o.value&&!s.value&&!h.value),m=_e(()=>{if(!s.value){if(i.value.rel)return i.value.rel;if(h.value)return"noopener noreferrer"}}),v=_e(()=>i.value.ariaLabel||i.value.text),g=_e(()=>{const P=Object.keys(n.value.locales);return P.length?!P.some(M=>M===i.value.link):i.value.link!=="/"}),_=_e(()=>g.value?r.path.startsWith(i.value.link):!1),T=_e(()=>d.value?i.value.activeMatch?new RegExp(i.value.activeMatch).test(r.path):_.value:!1);return(P,M)=>{const I=Hn("RouterLink"),D=Hn("AutoLinkExternalIcon");return d.value?(_t(),Fn(I,L0({key:0,class:{"router-link-active":T.value},to:Qt(i).link,"aria-label":v.value},P.$attrs),{default:mn(()=>[pn(P.$slots,"before"),Ro(" "+Qr(Qt(i).text)+" ",1),pn(P.$slots,"after")]),_:3},16,["class","to","aria-label"])):(_t(),Wt("a",L0({key:1,class:"external-link",href:Qt(i).link,rel:m.value,target:a.value,"aria-label":v.value},P.$attrs),[pn(P.$slots,"before"),Ro(" "+Qr(Qt(i).text)+" ",1),h.value?(_t(),Fn(D,{key:0})):In("",!0),pn(P.$slots,"after")],16,XX))}}}),wl=Kr(KX,[["__file","AutoLink.vue"]]),YX={class:"hero"},JX={key:0,id:"main-title"},QX={key:1,class:"description"},eZ={key:2,class:"actions"},tZ=bt({__name:"HomeHero",setup(e){const t=xl(),r=jC(),n=KC(),i=_e(()=>n.value&&t.value.heroImageDark!==void 0?t.value.heroImageDark:t.value.heroImage),o=_e(()=>t.value.heroAlt||a.value||"hero"),s=_e(()=>t.value.heroHeight||280),a=_e(()=>t.value.heroText===null?null:t.value.heroText||r.value.title||"Hello"),h=_e(()=>t.value.tagline===null?null:t.value.tagline||r.value.description||"Welcome to your VuePress site"),d=_e(()=>ug(t.value.actions)?t.value.actions.map(({text:v,link:g,type:_="primary"})=>({text:v,link:g,type:_})):[]),m=()=>{if(!i.value)return null;const v=Dr("img",{src:H1(i.value),alt:o.value,height:s.value});return t.value.heroImageDark===void 0?v:Dr(GC,()=>v)};return(v,g)=>(_t(),Wt("header",YX,[fe(m),a.value?(_t(),Wt("h1",JX,Qr(a.value),1)):In("",!0),h.value?(_t(),Wt("p",QX,Qr(h.value),1)):In("",!0),d.value.length?(_t(),Wt("p",eZ,[(_t(!0),Wt(Tr,null,Qa(d.value,_=>(_t(),Fn(wl,{key:_.text,class:$i(["action-button",[_.type]]),item:_},null,8,["class","item"]))),128))])):In("",!0)]))}}),rZ=Kr(tZ,[["__file","HomeHero.vue"]]),nZ={class:"home"},iZ=bt({__name:"Home",setup(e){return(t,r)=>(_t(),Wt("main",nZ,[fe(rZ),fe(HX),fe(NX),fe(qX)]))}}),oZ=Kr(iZ,[["__file","Home.vue"]]),aZ=bt({__name:"NavbarBrand",setup(e){const t=hg(),r=jC(),n=go(),i=KC(),o=_e(()=>n.value.home||t.value),s=_e(()=>r.value.title),a=_e(()=>i.value&&n.value.logoDark!==void 0?n.value.logoDark:n.value.logo),h=()=>{if(!a.value)return null;const d=Dr("img",{class:"logo",src:H1(a.value),alt:s.value});return n.value.logoDark===void 0?d:Dr(GC,()=>d)};return(d,m)=>{const v=Hn("RouterLink");return _t(),Fn(v,{to:o.value},{default:mn(()=>[fe(h),s.value?(_t(),Wt("span",{key:0,class:$i(["site-name",{"can-hide":a.value}])},Qr(s.value),3)):In("",!0)]),_:1},8,["to"])}}}),sZ=Kr(aZ,[["__file","NavbarBrand.vue"]]),lZ=bt({__name:"DropdownTransition",setup(e){const t=n=>{n.style.height=n.scrollHeight+"px"},r=n=>{n.style.height=""};return(n,i)=>(_t(),Fn(ns,{name:"dropdown",onEnter:t,onAfterEnter:r,onBeforeLeave:t},{default:mn(()=>[pn(n.$slots,"default")]),_:3}))}}),K6=Kr(lZ,[["__file","DropdownTransition.vue"]]),uZ=["aria-label"],cZ={class:"title"},hZ=fr("span",{class:"arrow down"},null,-1),fZ=["aria-label"],dZ={class:"title"},pZ={class:"navbar-dropdown"},mZ={class:"navbar-dropdown-subtitle"},vZ={key:1},gZ={class:"navbar-dropdown-subitem-wrapper"},yZ=bt({__name:"NavbarDropdown",props:{item:{type:Object,required:!0}},setup(e){const t=e,{item:r}=ag(t),n=_e(()=>r.value.ariaLabel||r.value.text),i=Ft(!1),o=qu();rr(()=>o.path,()=>{i.value=!1});const s=h=>{h.detail===0?i.value=!i.value:i.value=!1},a=(h,d)=>d[d.length-1]===h;return(h,d)=>(_t(),Wt("div",{class:$i(["navbar-dropdown-wrapper",{open:i.value}])},[fr("button",{class:"navbar-dropdown-title",type:"button","aria-label":n.value,onClick:s},[fr("span",cZ,Qr(Qt(r).text),1),hZ],8,uZ),fr("button",{class:"navbar-dropdown-title-mobile",type:"button","aria-label":n.value,onClick:d[0]||(d[0]=m=>i.value=!i.value)},[fr("span",dZ,Qr(Qt(r).text),1),fr("span",{class:$i(["arrow",i.value?"down":"right"])},null,2)],8,fZ),fe(K6,null,{default:mn(()=>[wh(fr("ul",pZ,[(_t(!0),Wt(Tr,null,Qa(Qt(r).children,m=>(_t(),Wt("li",{key:m.text,class:"navbar-dropdown-item"},[m.children?(_t(),Wt(Tr,{key:0},[fr("h4",mZ,[m.link?(_t(),Fn(wl,{key:0,item:m,onFocusout:v=>a(m,Qt(r).children)&&m.children.length===0&&(i.value=!1)},null,8,["item","onFocusout"])):(_t(),Wt("span",vZ,Qr(m.text),1))]),fr("ul",gZ,[(_t(!0),Wt(Tr,null,Qa(m.children,v=>(_t(),Wt("li",{key:v.link,class:"navbar-dropdown-subitem"},[fe(wl,{item:v,onFocusout:g=>a(v,m.children)&&a(m,Qt(r).children)&&(i.value=!1)},null,8,["item","onFocusout"])]))),128))])],64)):(_t(),Fn(wl,{key:1,item:m,onFocusout:v=>a(m,Qt(r).children)&&(i.value=!1)},null,8,["item","onFocusout"]))]))),128))],512),[[pd,i.value]])]),_:1})],2))}}),_Z=Kr(yZ,[["__file","NavbarDropdown.vue"]]),gD=e=>decodeURI(e).replace(/#.*$/,"").replace(/(index)?\.(md|html)$/,""),bZ=(e,t)=>{if(t.hash===e)return!0;const r=gD(t.path),n=gD(e);return r===n},Y6=(e,t)=>e.link&&bZ(e.link,t)?!0:e.children?e.children.some(r=>Y6(r,t)):!1,J6=e=>!cg(e)||/github\.com/.test(e)?"GitHub":/bitbucket\.org/.test(e)?"Bitbucket":/gitlab\.com/.test(e)?"GitLab":/gitee\.com/.test(e)?"Gitee":null,xZ={GitHub:":repo/edit/:branch/:path",GitLab:":repo/-/edit/:branch/:path",Gitee:":repo/edit/:branch/:path",Bitbucket:":repo/src/:branch/:path?mode=edit&spa=0&at=:branch&fileviewer=file-view-default"},wZ=({docsRepo:e,editLinkPattern:t})=>{if(t)return t;const r=J6(e);return r!==null?xZ[r]:null},SZ=({docsRepo:e,docsBranch:t,docsDir:r,filePathRelative:n,editLinkPattern:i})=>{if(!n)return null;const o=wZ({docsRepo:e,editLinkPattern:i});return o?o.replace(/:repo/,cg(e)?e:`https://github.com/${e}`).replace(/:branch/,t).replace(/:path/,m6(`${p6(r)}/${n}`)):null},TZ={key:0,class:"navbar-items"},CZ=bt({__name:"NavbarItems",setup(e){const t=()=>{const m=Dh(),v=hg(),g=jC(),_=go();return _e(()=>{const T=Object.keys(g.value.locales);if(T.length<2)return[];const P=m.currentRoute.value.path,M=m.currentRoute.value.fullPath;return[{text:_.value.selectLanguageText??"unknown language",ariaLabel:_.value.selectLanguageAriaLabel??_.value.selectLanguageText??"unknown language",children:T.map(D=>{var U,J;const O=((U=g.value.locales)==null?void 0:U[D])??{},z=((J=_.value.locales)==null?void 0:J[D])??{},F=`${O.lang}`,N=z.selectLanguageName??F;let H;if(F===g.value.lang)H=M;else{const K=P.replace(v.value,D);m.getRoutes().some(ne=>ne.path===K)?H=M.replace(P,K):H=z.home??D}return{text:N,link:H}})}]})},r=()=>{const m=go(),v=_e(()=>m.value.repo),g=_e(()=>v.value?J6(v.value):null),_=_e(()=>v.value&&!cg(v.value)?`https://github.com/${v.value}`:v.value),T=_e(()=>_.value?m.value.repoLabel?m.value.repoLabel:g.value===null?"Source":g.value:null);return _e(()=>!_.value||!T.value?[]:[{text:T.value,link:_.value}])},n=m=>Os(m)?YC(m):m.children?{...m,children:m.children.map(n)}:m,i=()=>{const m=go();return _e(()=>(m.value.navbar||[]).map(n))},o=Ft(!1),s=i(),a=t(),h=r(),d=_e(()=>[...s.value,...a.value,...h.value]);return Z6(wv.MOBILE,m=>{window.innerWidth<m?o.value=!0:o.value=!1}),(m,v)=>d.value.length?(_t(),Wt("nav",TZ,[(_t(!0),Wt(Tr,null,Qa(d.value,g=>(_t(),Wt("div",{key:g.text,class:"navbar-item"},[g.children?(_t(),Fn(_Z,{key:0,item:g,class:$i(o.value?"mobile":"")},null,8,["item","class"])):(_t(),Fn(wl,{key:1,item:g},null,8,["item"]))]))),128))])):In("",!0)}}),Q6=Kr(CZ,[["__file","NavbarItems.vue"]]),EZ=["title"],AZ={class:"icon",focusable:"false",viewBox:"0 0 32 32"},PZ=Vj('<path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path>',9),IZ=[PZ],MZ={class:"icon",focusable:"false",viewBox:"0 0 32 32"},DZ=fr("path",{d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z",fill:"currentColor"},null,-1),LZ=[DZ],OZ=bt({__name:"ToggleColorModeButton",setup(e){const t=go(),r=KC(),n=()=>{r.value=!r.value};return(i,o)=>(_t(),Wt("button",{class:"toggle-color-mode-button",title:Qt(t).toggleColorMode,onClick:n},[wh((_t(),Wt("svg",AZ,IZ,512)),[[pd,!Qt(r)]]),wh((_t(),Wt("svg",MZ,LZ,512)),[[pd,Qt(r)]])],8,EZ))}}),kZ=Kr(OZ,[["__file","ToggleColorModeButton.vue"]]),RZ=["title"],zZ=fr("div",{class:"icon","aria-hidden":"true"},[fr("span"),fr("span"),fr("span")],-1),$Z=[zZ],BZ=bt({__name:"ToggleSidebarButton",emits:["toggle"],setup(e){const t=go();return(r,n)=>(_t(),Wt("div",{class:"toggle-sidebar-button",title:Qt(t).toggleSidebar,"aria-expanded":"false",role:"button",tabindex:"0",onClick:n[0]||(n[0]=i=>r.$emit("toggle"))},$Z,8,RZ))}}),FZ=Kr(BZ,[["__file","ToggleSidebarButton.vue"]]),NZ=bt({__name:"Navbar",emits:["toggle-sidebar"],setup(e){const t=go(),r=Ft(null),n=Ft(null),i=Ft(0),o=_e(()=>i.value?{maxWidth:i.value+"px"}:{});Z6(wv.MOBILE,a=>{var d;const h=s(r.value,"paddingLeft")+s(r.value,"paddingRight");window.innerWidth<a?i.value=0:i.value=r.value.offsetWidth-h-(((d=n.value)==null?void 0:d.offsetWidth)||0)});function s(a,h){var v,g,_;const d=(_=(g=(v=a==null?void 0:a.ownerDocument)==null?void 0:v.defaultView)==null?void 0:g.getComputedStyle(a,null))==null?void 0:_[h],m=Number.parseInt(d,10);return Number.isNaN(m)?0:m}return(a,h)=>{const d=Hn("NavbarSearch");return _t(),Wt("header",{ref_key:"navbar",ref:r,class:"navbar"},[fe(FZ,{onToggle:h[0]||(h[0]=m=>a.$emit("toggle-sidebar"))}),fr("span",{ref_key:"navbarBrand",ref:n},[fe(sZ)],512),fr("div",{class:"navbar-items-wrapper",style:$d(o.value)},[pn(a.$slots,"before"),fe(Q6,{class:"can-hide"}),pn(a.$slots,"after"),Qt(t).colorModeSwitch?(_t(),Fn(kZ,{key:0})):In("",!0),fe(d)],4)],512)}}}),VZ=Kr(NZ,[["__file","Navbar.vue"]]),UZ={class:"page-meta"},HZ={key:0,class:"meta-item edit-link"},jZ={key:1,class:"meta-item last-updated"},GZ={class:"meta-item-label"},WZ={class:"meta-item-info"},qZ={key:2,class:"meta-item contributors"},XZ={class:"meta-item-label"},ZZ={class:"meta-item-info"},KZ=["title"],YZ=bt({__name:"PageMeta",setup(e){const t=()=>{const h=go(),d=zu(),m=xl();return _e(()=>{if(!(m.value.editLink??h.value.editLink??!0))return null;const{repo:g,docsRepo:_=g,docsBranch:T="main",docsDir:P="",editLinkText:M}=h.value;if(!_)return null;const I=SZ({docsRepo:_,docsBranch:T,docsDir:P,filePathRelative:d.value.filePathRelative,editLinkPattern:m.value.editLinkPattern??h.value.editLinkPattern});return I?{text:M??"Edit this page",link:I}:null})},r=()=>{const h=go(),d=zu(),m=xl();return _e(()=>{var _,T;return!(m.value.lastUpdated??h.value.lastUpdated??!0)||!((_=d.value.git)!=null&&_.updatedTime)?null:new Date((T=d.value.git)==null?void 0:T.updatedTime).toLocaleString()})},n=()=>{const h=go(),d=zu(),m=xl();return _e(()=>{var g;return m.value.contributors??h.value.contributors??!0?((g=d.value.git)==null?void 0:g.contributors)??null:null})},i=go(),o=t(),s=r(),a=n();return(h,d)=>{const m=Hn("ClientOnly");return _t(),Wt("footer",UZ,[Qt(o)?(_t(),Wt("div",HZ,[fe(wl,{class:"meta-item-label",item:Qt(o)},null,8,["item"])])):In("",!0),Qt(s)?(_t(),Wt("div",jZ,[fr("span",GZ,Qr(Qt(i).lastUpdatedText)+": ",1),fe(m,null,{default:mn(()=>[fr("span",WZ,Qr(Qt(s)),1)]),_:1})])):In("",!0),Qt(a)&&Qt(a).length?(_t(),Wt("div",qZ,[fr("span",XZ,Qr(Qt(i).contributorsText)+": ",1),fr("span",ZZ,[(_t(!0),Wt(Tr,null,Qa(Qt(a),(v,g)=>(_t(),Wt(Tr,{key:g},[fr("span",{class:"contributor",title:`email: ${v.email}`},Qr(v.name),9,KZ),g!==Qt(a).length-1?(_t(),Wt(Tr,{key:0},[Ro(", ")],64)):In("",!0)],64))),128))])])):In("",!0)])}}}),JZ=Kr(YZ,[["__file","PageMeta.vue"]]),QZ={key:0,class:"page-nav"},eK={class:"inner"},tK={key:0,class:"prev"},rK={key:1,class:"next"},nK=bt({__name:"PageNav",setup(e){const t=h=>h===!1?null:Os(h)?YC(h):UC(h)?h:!1,r=(h,d,m)=>{const v=h.findIndex(g=>g.link===d);if(v!==-1){const g=h[v+m];return g!=null&&g.link?g:null}for(const g of h)if(g.children){const _=r(g.children,d,m);if(_)return _}return null},n=xl(),i=JC(),o=qu(),s=_e(()=>{const h=t(n.value.prev);return h!==!1?h:r(i.value,o.path,-1)}),a=_e(()=>{const h=t(n.value.next);return h!==!1?h:r(i.value,o.path,1)});return(h,d)=>s.value||a.value?(_t(),Wt("nav",QZ,[fr("p",eK,[s.value?(_t(),Wt("span",tK,[fe(wl,{item:s.value},null,8,["item"])])):In("",!0),a.value?(_t(),Wt("span",rK,[fe(wl,{item:a.value},null,8,["item"])])):In("",!0)])])):In("",!0)}}),iK=Kr(nK,[["__file","PageNav.vue"]]),oK={class:"page"},aK={class:"theme-default-content"},sK=bt({__name:"Page",setup(e){return(t,r)=>{const n=Hn("Content");return _t(),Wt("main",oK,[pn(t.$slots,"top"),fr("div",aK,[pn(t.$slots,"content-top"),fe(n),pn(t.$slots,"content-bottom")]),fe(JZ),fe(iK),pn(t.$slots,"bottom")])}}}),lK=Kr(sK,[["__file","Page.vue"]]),uK=["onKeydown"],cK={class:"sidebar-item-children"},hK=bt({__name:"SidebarItem",props:{item:{type:Object,required:!0},depth:{type:Number,required:!1,default:0}},setup(e){const t=e,{item:r,depth:n}=ag(t),i=qu(),o=Dh(),s=_e(()=>Y6(r.value,i)),a=_e(()=>({"sidebar-item":!0,"sidebar-heading":n.value===0,active:s.value,collapsible:r.value.collapsible})),h=_e(()=>r.value.collapsible?s.value:!0),[d,m]=eX(h.value),v=_=>{r.value.collapsible&&(_.preventDefault(),m())},g=o.afterEach(_=>{ko(()=>{d.value=h.value})});return Pi(()=>{g()}),(_,T)=>{var M;const P=Hn("SidebarItem",!0);return _t(),Wt("li",null,[Qt(r).link?(_t(),Fn(wl,{key:0,class:$i(a.value),item:Qt(r)},null,8,["class","item"])):(_t(),Wt("p",{key:1,tabindex:"0",class:$i(a.value),onClick:v,onKeydown:FG(v,["enter"])},[Ro(Qr(Qt(r).text)+" ",1),Qt(r).collapsible?(_t(),Wt("span",{key:0,class:$i(["arrow",Qt(d)?"down":"right"])},null,2)):In("",!0)],42,uK)),(M=Qt(r).children)!=null&&M.length?(_t(),Fn(K6,{key:2},{default:mn(()=>[wh(fr("ul",cK,[(_t(!0),Wt(Tr,null,Qa(Qt(r).children,I=>(_t(),Fn(P,{key:`${Qt(n)}${I.text}${I.link}`,item:I,depth:Qt(n)+1},null,8,["item","depth"]))),128))],512),[[pd,Qt(d)]])]),_:1})):In("",!0)])}}}),fK=Kr(hK,[["__file","SidebarItem.vue"]]),dK={key:0,class:"sidebar-items"},pK=bt({__name:"SidebarItems",setup(e){const t=qu(),r=JC();return cn(()=>{rr(()=>t.hash,n=>{const i=document.querySelector(".sidebar");if(!i)return;const o=document.querySelector(`.sidebar a.sidebar-item[href="${t.path}${n}"]`);if(!o)return;const{top:s,height:a}=i.getBoundingClientRect(),{top:h,height:d}=o.getBoundingClientRect();h<s?o.scrollIntoView(!0):h+d>s+a&&o.scrollIntoView(!1)})}),(n,i)=>Qt(r).length?(_t(),Wt("ul",dK,[(_t(!0),Wt(Tr,null,Qa(Qt(r),o=>(_t(),Fn(fK,{key:`${o.text}${o.link}`,item:o},null,8,["item"]))),128))])):In("",!0)}}),mK=Kr(pK,[["__file","SidebarItems.vue"]]),vK={class:"sidebar"},gK=bt({__name:"Sidebar",setup(e){return(t,r)=>(_t(),Wt("aside",vK,[fe(Q6),pn(t.$slots,"top"),fe(mK),pn(t.$slots,"bottom")]))}}),yK=Kr(gK,[["__file","Sidebar.vue"]]),_K=bt({__name:"Layout",setup(e){const t=zu(),r=xl(),n=go(),i=_e(()=>r.value.navbar!==!1&&n.value.navbar!==!1),o=JC(),s=Ft(!1),a=M=>{s.value=typeof M=="boolean"?M:!s.value},h={x:0,y:0},d=M=>{h.x=M.changedTouches[0].clientX,h.y=M.changedTouches[0].clientY},m=M=>{const I=M.changedTouches[0].clientX-h.x,D=M.changedTouches[0].clientY-h.y;Math.abs(I)>Math.abs(D)&&Math.abs(I)>40&&(I>0&&h.x<=80?a(!0):a(!1))},v=_e(()=>[{"no-navbar":!i.value,"no-sidebar":!o.value.length,"sidebar-open":s.value},r.value.pageClass]);let g;cn(()=>{g=Dh().afterEach(()=>{a(!1)})}),Ll(()=>{g()});const _=W6(),T=_.resolve,P=_.pending;return(M,I)=>(_t(),Wt("div",{class:$i(["theme-container",v.value]),onTouchstart:d,onTouchend:m},[pn(M.$slots,"navbar",{},()=>[i.value?(_t(),Fn(VZ,{key:0,onToggleSidebar:a},{before:mn(()=>[pn(M.$slots,"navbar-before")]),after:mn(()=>[pn(M.$slots,"navbar-after")]),_:3})):In("",!0)]),fr("div",{class:"sidebar-mask",onClick:I[0]||(I[0]=D=>a(!1))}),pn(M.$slots,"sidebar",{},()=>[fe(yK,null,{top:mn(()=>[pn(M.$slots,"sidebar-top")]),bottom:mn(()=>[pn(M.$slots,"sidebar-bottom")]),_:3})]),pn(M.$slots,"page",{},()=>[Qt(r).home?(_t(),Fn(oZ,{key:0})):(_t(),Fn(ns,{key:1,name:"fade-slide-y",mode:"out-in",onBeforeEnter:Qt(T),onBeforeLeave:Qt(P)},{default:mn(()=>[(_t(),Fn(lK,{key:Qt(t).path},{top:mn(()=>[pn(M.$slots,"page-top")]),"content-top":mn(()=>[pn(M.$slots,"page-content-top")]),"content-bottom":mn(()=>[pn(M.$slots,"page-content-bottom")]),bottom:mn(()=>[pn(M.$slots,"page-bottom")]),_:3}))]),_:3},8,["onBeforeEnter","onBeforeLeave"]))])],34))}}),bK=Kr(_K,[["__file","Layout.vue"]]),xK={class:"theme-container"},wK={class:"page"},SK={class:"theme-default-content"},TK=fr("h1",null,"404",-1),CK=bt({__name:"NotFound",setup(e){const t=hg(),r=go(),n=r.value.notFound??["Not Found"],i=()=>n[Math.floor(Math.random()*n.length)],o=r.value.home??t.value,s=r.value.backToHome??"Back to home";return(a,h)=>{const d=Hn("RouterLink");return _t(),Wt("div",xK,[fr("main",wK,[fr("div",SK,[TK,fr("blockquote",null,Qr(i()),1),fe(d,{to:Qt(o)},{default:mn(()=>[Ro(Qr(Qt(s)),1)]),_:1},8,["to"])])])])}}}),EK=Kr(CK,[["__file","NotFound.vue"]]);const AK=is({enhance({app:e,router:t}){e.component("Badge",jq),e.component("CodeGroup",Gq),e.component("CodeGroupItem",Zq),e.component("AutoLinkExternalIcon",()=>{const n=e.component("ExternalLinkIcon");return n?Dr(n):null}),e.component("NavbarSearch",()=>{const n=e.component("Docsearch")||e.component("SearchBox");return n?Dr(n):null});const r=t.options.scrollBehavior;t.options.scrollBehavior=async(...n)=>(await W6().wait(),r(...n))},setup(){EX(),IX()},layouts:{Layout:bK,NotFound:EK}}),PK=e=>{const t=DS("keydown",r=>{const n=r.key==="k"&&(r.ctrlKey||r.metaKey);!(r.key==="/")&&!n||(r.preventDefault(),e(),t())})},IK=e=>e.button===1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey,MK=()=>{const e=Dh();return{hitComponent:({hit:t,children:r})=>({type:"a",ref:void 0,constructor:void 0,key:void 0,props:{href:t.url,onClick:n=>{IK(n)||(n.preventDefault(),e.push(VM(t.url,"/")))},children:r},__v:null}),navigator:{navigate:({itemUrl:t})=>{e.push(VM(t,"/"))}},transformSearchClient:t=>{const r=WC(t.search,500);return{...t,search:async(...n)=>r(...n)}}}},DK=(e=[],t)=>[`lang:${t}`,...ug(e)?e:[e]],LK=({buttonText:e="Search",buttonAriaLabel:t=e}={})=>`<button type="button" class="DocSearch DocSearch-Button" aria-label="${t}"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">${e}</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button>`,OK=16,ez=()=>{if(document.querySelector(".DocSearch-Modal"))return;const e=new Event("keydown");e.key="k",e.metaKey=!0,window.dispatchEvent(e),setTimeout(ez,OK)},kK=e=>{const t="algolia-preconnect";(window.requestIdleCallback||setTimeout)(()=>{if(document.head.querySelector(`#${t}`))return;const n=document.createElement("link");n.id=t,n.rel="preconnect",n.href=`https://${e}-dsn.algolia.net`,n.crossOrigin="",document.head.appendChild(n)})},RK={appId:"6KECEJUGJH",apiKey:"9a5c8aa7cb2d5d32ebd66790e1a84789",indexName:"sustech-online-keys",locales:{"/":{placeholder:"",translations:{button:{buttonText:"",buttonAriaLabel:""},modal:{searchBox:{resetButtonTitle:"",resetButtonAriaLabel:"",cancelButtonText:"",cancelButtonAriaLabel:""},startScreen:{recentSearchesTitle:"",noRecentSearchesText:"",saveRecentSearchButtonTitle:"",removeRecentSearchButtonTitle:"",favoriteSearchesTitle:"",removeFavoriteSearchButtonTitle:""},errorScreen:{titleText:"",helpText:""},footer:{selectText:"",navigateText:"",closeText:"",searchByText:""},noResultsScreen:{noResultsText:"",suggestedQueryText:"",reportMissingResultsText:"",reportMissingResultsLinkText:""}}}}}};Ge(()=>import("./style-e9220a04.js"),[]),Ge(()=>import("./docsearch-1d421ddb.js"),[]);const zK=bt({name:"Docsearch",props:{containerId:{type:String,required:!1,default:"docsearch-container"},options:{type:Object,required:!1,default:()=>RK}},setup(e){const t=MK(),r=w6(),n=hg(),i=Ft(!1),o=Ft(!1),s=_e(()=>{var d;return{...e.options,...(d=e.options.locales)==null?void 0:d[n.value]}}),a=async()=>{var m;const{default:d}=await Ge(()=>import("./index-997ea542.js"),[]);d({...t,...s.value,container:`#${e.containerId}`,searchParameters:{...s.value.searchParameters,facetFilters:DK((m=s.value.searchParameters)==null?void 0:m.facetFilters,r.value)}}),i.value=!0},h=()=>{o.value||i.value||(o.value=!0,a(),ez(),rr(n,a))};return PK(h),cn(()=>kK(s.value.appId)),()=>{var d;return[Dr("div",{id:e.containerId,style:{display:i.value?"block":"none"}}),i.value?null:Dr("div",{onClick:h,innerHTML:LK((d=s.value.translations)==null?void 0:d.button)})]}}}),$K=is({enhance({app:e}){e.component("Docsearch",zK)}});function BK(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(i){i(r)}),(n=e.get("*"))&&n.slice().map(function(i){i(t,r)})}}}const FK=Symbol("pwaEvent"),NK="service-worker.js",VK=is({setup(){const e=(...r)=>console.log("[@vuepress/plugin-pwa]",...r),t=BK();Mn(FK,t),cn(async()=>{const{register:r}=await Ge(()=>import("./index-e32a7948.js"),[]);r(H1(NK),{ready(n){e("Service worker is active."),t.emit("ready",n)},registered(n){e("Service worker has been registered."),t.emit("registered",n)},cached(n){e("Content has been cached for offline use."),t.emit("cached",n)},updatefound(n){e("New content is downloading."),t.emit("updatefound",n)},updated(n){e("New content is available, please refresh."),t.emit("updated",n)},offline(){e("No internet connection found. App is running in offline mode."),t.emit("offline")},error(n){e("Error during service worker registration:",n),t.emit("error",n)}})})}}),UK=(e,t,r)=>{const n=`#${e.slug}`,i=[t.linkClass];return t.linkActiveClass&&r.hash===n&&i.push(t.linkActiveClass),t.linkChildrenActiveClass&&e.children.some(o=>`#${o.slug}`===r.hash)&&i.push(t.linkChildrenActiveClass),t.linkTag==="RouterLink"?Dr(R6,{to:n,class:i,ariaLabel:e.title},()=>e.title):Dr("a",{href:n,class:i,ariaLabel:e.title},e.title)},tz=(e,t,r)=>e.length===0?[]:[Dr("ul",{class:t.listClass},e.map(n=>Dr("li",{class:t.itemClass},[UK(n,t,r),tz(n.children,t,r)])))],HK=bt({name:"Toc",props:{headers:{type:Array,required:!1,default:null},options:{type:Object,required:!1,default:()=>({})}},setup(e){const{headers:t,options:r}=ag(e),n=qu(),i=zu(),o=_e(()=>{var h;const a=t.value||i.value.headers;return((h=a[0])==null?void 0:h.level)===1?a[0].children:a}),s=_e(()=>({containerTag:"nav",containerClass:"vuepress-toc",listClass:"vuepress-toc-list",itemClass:"vuepress-toc-item",linkTag:"RouterLink",linkClass:"vuepress-toc-link",linkActiveClass:"active",linkChildrenActiveClass:"active",...r.value}));return()=>{const a=tz(o.value,s.value,n);return s.value.containerTag?Dr(s.value.containerTag,{class:s.value.containerClass},a):a}}}),jK={},GK=is({enhance({app:e}){e.component("Toc",t=>Dr(HK,{headers:t.headers,options:{...jK,...t.options}}))}});var rz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var rE={exports:{}},nz=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},WK=nz,nE=Object.prototype.toString,iE=function(e){return function(t){var r=nE.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Lh(e){return e=e.toLowerCase(),function(r){return iE(r)===e}}function oE(e){return Array.isArray(e)}function $0(e){return typeof e>"u"}function qK(e){return e!==null&&!$0(e)&&e.constructor!==null&&!$0(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var iz=Lh("ArrayBuffer");function XK(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&iz(e.buffer),t}function ZK(e){return typeof e=="string"}function KK(e){return typeof e=="number"}function oz(e){return e!==null&&typeof e=="object"}function Y_(e){if(iE(e)!=="object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}var YK=Lh("Date"),JK=Lh("File"),QK=Lh("Blob"),eY=Lh("FileList");function aE(e){return nE.call(e)==="[object Function]"}function tY(e){return oz(e)&&aE(e.pipe)}function rY(e){var t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||nE.call(e)===t||aE(e.toString)&&e.toString()===t)}var nY=Lh("URLSearchParams");function iY(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function oY(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function sE(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),oE(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function LS(){var e={};function t(i,o){Y_(e[o])&&Y_(i)?e[o]=LS(e[o],i):Y_(i)?e[o]=LS({},i):oE(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)sE(arguments[r],t);return e}function aY(e,t,r){return sE(t,function(i,o){r&&typeof i=="function"?e[o]=WK(i,r):e[o]=i}),e}function sY(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function lY(e,t,r,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)}function uY(e,t,r){var n,i,o,s={};t=t||{};do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],s[o]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t}function cY(e,t,r){e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;var n=e.indexOf(t,r);return n!==-1&&n===r}function hY(e){if(!e)return null;var t=e.length;if($0(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r}var fY=function(e){return function(t){return e&&t instanceof e}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Ni={isArray:oE,isArrayBuffer:iz,isBuffer:qK,isFormData:rY,isArrayBufferView:XK,isString:ZK,isNumber:KK,isObject:oz,isPlainObject:Y_,isUndefined:$0,isDate:YK,isFile:JK,isBlob:QK,isFunction:aE,isStream:tY,isURLSearchParams:nY,isStandardBrowserEnv:oY,forEach:sE,merge:LS,extend:aY,trim:iY,stripBOM:sY,inherits:lY,toFlatObject:uY,kindOf:iE,kindOfTest:Lh,endsWith:cY,toArray:hY,isTypedArray:fY,isFileList:eY},yf=Ni;function yD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var az=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(yf.isURLSearchParams(r))i=r.toString();else{var o=[];yf.forEach(r,function(h,d){h===null||typeof h>"u"||(yf.isArray(h)?d=d+"[]":h=[h],yf.forEach(h,function(v){yf.isDate(v)?v=v.toISOString():yf.isObject(v)&&(v=JSON.stringify(v)),o.push(yD(d)+"="+yD(v))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},dY=Ni;function W1(){this.handlers=[]}W1.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};W1.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};W1.prototype.forEach=function(t){dY.forEach(this.handlers,function(n){n!==null&&t(n)})};var pY=W1,mY=Ni,vY=function(t,r){mY.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},sz=Ni;function gd(e,t,r,n,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}sz.inherits(gd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var lz=gd.prototype,uz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){uz[e]={value:e}});Object.defineProperties(gd,uz);Object.defineProperty(lz,"isAxiosError",{value:!0});gd.from=function(e,t,r,n,i,o){var s=Object.create(lz);return sz.toFlatObject(e,s,function(h){return h!==Error.prototype}),gd.call(s,e.message,t,r,n,i),s.name=e.name,o&&Object.assign(s,o),s};var Bd=gd,cz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fa=Ni;function gY(e,t){t=t||new FormData;var r=[];function n(o){return o===null?"":Fa.isDate(o)?o.toISOString():Fa.isArrayBuffer(o)||Fa.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function i(o,s){if(Fa.isPlainObject(o)||Fa.isArray(o)){if(r.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);r.push(o),Fa.forEach(o,function(h,d){if(!Fa.isUndefined(h)){var m=s?s+"."+d:d,v;if(h&&!s&&typeof h=="object"){if(Fa.endsWith(d,"{}"))h=JSON.stringify(h);else if(Fa.endsWith(d,"[]")&&(v=Fa.toArray(h))){v.forEach(function(g){!Fa.isUndefined(g)&&t.append(m,n(g))});return}}i(h,m)}}),r.pop()}else t.append(s,n(o))}return i(e),t}var hz=gY,lw,_D;function yY(){if(_D)return lw;_D=1;var e=Bd;return lw=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},lw}var uw,bD;function _Y(){if(bD)return uw;bD=1;var e=Ni;return uw=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,s,a,h){var d=[];d.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&d.push("expires="+new Date(o).toGMTString()),e.isString(s)&&d.push("path="+s),e.isString(a)&&d.push("domain="+a),h===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),uw}var bY=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},xY=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},wY=bY,SY=xY,fz=function(t,r){return t&&!wY(r)?SY(t,r):r},cw,xD;function TY(){if(xD)return cw;xD=1;var e=Ni,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return cw=function(n){var i={},o,s,a;return n&&e.forEach(n.split(`
`),function(d){if(a=d.indexOf(":"),o=e.trim(d.substr(0,a)).toLowerCase(),s=e.trim(d.substr(a+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([s]):i[o]=i[o]?i[o]+", "+s:s}}),i},cw}var hw,wD;function CY(){if(wD)return hw;wD=1;var e=Ni;return hw=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(s){var a=s;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(a){var h=e.isString(a)?o(a):a;return h.protocol===i.protocol&&h.host===i.host}}():function(){return function(){return!0}}(),hw}var fw,SD;function q1(){if(SD)return fw;SD=1;var e=Bd,t=Ni;function r(n){e.call(this,n??"canceled",e.ERR_CANCELED),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),fw=r,fw}var dw,TD;function EY(){return TD||(TD=1,dw=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),dw}var pw,CD;function ED(){if(CD)return pw;CD=1;var e=Ni,t=yY(),r=_Y(),n=az,i=fz,o=TY(),s=CY(),a=cz,h=Bd,d=q1(),m=EY();return pw=function(g){return new Promise(function(T,P){var M=g.data,I=g.headers,D=g.responseType,O;function z(){g.cancelToken&&g.cancelToken.unsubscribe(O),g.signal&&g.signal.removeEventListener("abort",O)}e.isFormData(M)&&e.isStandardBrowserEnv()&&delete I["Content-Type"];var F=new XMLHttpRequest;if(g.auth){var N=g.auth.username||"",H=g.auth.password?unescape(encodeURIComponent(g.auth.password)):"";I.Authorization="Basic "+btoa(N+":"+H)}var U=i(g.baseURL,g.url);F.open(g.method.toUpperCase(),n(U,g.params,g.paramsSerializer),!0),F.timeout=g.timeout;function J(){if(F){var ae="getAllResponseHeaders"in F?o(F.getAllResponseHeaders()):null,he=!D||D==="text"||D==="json"?F.responseText:F.response,ie={data:he,status:F.status,statusText:F.statusText,headers:ae,config:g,request:F};t(function(ce){T(ce),z()},function(ce){P(ce),z()},ie),F=null}}if("onloadend"in F?F.onloadend=J:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(J)},F.onabort=function(){F&&(P(new h("Request aborted",h.ECONNABORTED,g,F)),F=null)},F.onerror=function(){P(new h("Network Error",h.ERR_NETWORK,g,F,F)),F=null},F.ontimeout=function(){var he=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded",ie=g.transitional||a;g.timeoutErrorMessage&&(he=g.timeoutErrorMessage),P(new h(he,ie.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,g,F)),F=null},e.isStandardBrowserEnv()){var K=(g.withCredentials||s(U))&&g.xsrfCookieName?r.read(g.xsrfCookieName):void 0;K&&(I[g.xsrfHeaderName]=K)}"setRequestHeader"in F&&e.forEach(I,function(he,ie){typeof M>"u"&&ie.toLowerCase()==="content-type"?delete I[ie]:F.setRequestHeader(ie,he)}),e.isUndefined(g.withCredentials)||(F.withCredentials=!!g.withCredentials),D&&D!=="json"&&(F.responseType=g.responseType),typeof g.onDownloadProgress=="function"&&F.addEventListener("progress",g.onDownloadProgress),typeof g.onUploadProgress=="function"&&F.upload&&F.upload.addEventListener("progress",g.onUploadProgress),(g.cancelToken||g.signal)&&(O=function(ae){F&&(P(!ae||ae&&ae.type?new d:ae),F.abort(),F=null)},g.cancelToken&&g.cancelToken.subscribe(O),g.signal&&(g.signal.aborted?O():g.signal.addEventListener("abort",O))),M||(M=null);var ne=m(U);if(ne&&["http","https","file"].indexOf(ne)===-1){P(new h("Unsupported protocol "+ne+":",h.ERR_BAD_REQUEST,g));return}F.send(M)})},pw}var mw,AD;function AY(){return AD||(AD=1,mw=null),mw}var Ei=Ni,PD=vY,ID=Bd,PY=cz,IY=hz,MY={"Content-Type":"application/x-www-form-urlencoded"};function MD(e,t){!Ei.isUndefined(e)&&Ei.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function DY(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=ED()),e}function LY(e,t,r){if(Ei.isString(e))try{return(t||JSON.parse)(e),Ei.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var X1={transitional:PY,adapter:DY(),transformRequest:[function(t,r){if(PD(r,"Accept"),PD(r,"Content-Type"),Ei.isFormData(t)||Ei.isArrayBuffer(t)||Ei.isBuffer(t)||Ei.isStream(t)||Ei.isFile(t)||Ei.isBlob(t))return t;if(Ei.isArrayBufferView(t))return t.buffer;if(Ei.isURLSearchParams(t))return MD(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=Ei.isObject(t),i=r&&r["Content-Type"],o;if((o=Ei.isFileList(t))||n&&i==="multipart/form-data"){var s=this.env&&this.env.FormData;return IY(o?{"files[]":t}:t,s&&new s)}else if(n||i==="application/json")return MD(r,"application/json"),LY(t);return t}],transformResponse:[function(t){var r=this.transitional||X1.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Ei.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?ID.from(s,ID.ERR_BAD_RESPONSE,this,null,this.response):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:AY()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ei.forEach(["delete","get","head"],function(t){X1.headers[t]={}});Ei.forEach(["post","put","patch"],function(t){X1.headers[t]=Ei.merge(MY)});var lE=X1,OY=Ni,kY=lE,RY=function(t,r,n){var i=this||kY;return OY.forEach(n,function(s){t=s.call(i,t,r)}),t},vw,DD;function dz(){return DD||(DD=1,vw=function(t){return!!(t&&t.__CANCEL__)}),vw}var LD=Ni,gw=RY,zY=dz(),$Y=lE,BY=q1();function yw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new BY}var FY=function(t){yw(t),t.headers=t.headers||{},t.data=gw.call(t,t.data,t.headers,t.transformRequest),t.headers=LD.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),LD.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||$Y.adapter;return r(t).then(function(i){return yw(t),i.data=gw.call(t,i.data,i.headers,t.transformResponse),i},function(i){return zY(i)||(yw(t),i&&i.response&&(i.response.data=gw.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Go=Ni,pz=function(t,r){r=r||{};var n={};function i(m,v){return Go.isPlainObject(m)&&Go.isPlainObject(v)?Go.merge(m,v):Go.isPlainObject(v)?Go.merge({},v):Go.isArray(v)?v.slice():v}function o(m){if(Go.isUndefined(r[m])){if(!Go.isUndefined(t[m]))return i(void 0,t[m])}else return i(t[m],r[m])}function s(m){if(!Go.isUndefined(r[m]))return i(void 0,r[m])}function a(m){if(Go.isUndefined(r[m])){if(!Go.isUndefined(t[m]))return i(void 0,t[m])}else return i(void 0,r[m])}function h(m){if(m in r)return i(t[m],r[m]);if(m in t)return i(void 0,t[m])}var d={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:h};return Go.forEach(Object.keys(t).concat(Object.keys(r)),function(v){var g=d[v]||o,_=g(v);Go.isUndefined(_)&&g!==h||(n[v]=_)}),n},_w,OD;function mz(){return OD||(OD=1,_w={version:"0.27.2"}),_w}var NY=mz().version,Eu=Bd,uE={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){uE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var kD={};uE.transitional=function(t,r,n){function i(o,s){return"[Axios v"+NY+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(t===!1)throw new Eu(i(s," has been removed"+(r?" in "+r:"")),Eu.ERR_DEPRECATED);return r&&!kD[s]&&(kD[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,a):!0}};function VY(e,t,r){if(typeof e!="object")throw new Eu("options must be an object",Eu.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],h=a===void 0||s(a,o,e);if(h!==!0)throw new Eu("option "+o+" must be "+h,Eu.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Eu("Unknown option "+o,Eu.ERR_BAD_OPTION)}}var UY={assertOptions:VY,validators:uE},vz=Ni,HY=az,RD=pY,zD=FY,Z1=pz,jY=fz,gz=UY,_f=gz.validators;function yd(e){this.defaults=e,this.interceptors={request:new RD,response:new RD}}yd.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Z1(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&gz.assertOptions(n,{silentJSONParsing:_f.transitional(_f.boolean),forcedJSONParsing:_f.transitional(_f.boolean),clarifyTimeoutError:_f.transitional(_f.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(o=o&&_.synchronous,i.unshift(_.fulfilled,_.rejected))});var s=[];this.interceptors.response.forEach(function(_){s.push(_.fulfilled,_.rejected)});var a;if(!o){var h=[zD,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(s),a=Promise.resolve(r);h.length;)a=a.then(h.shift(),h.shift());return a}for(var d=r;i.length;){var m=i.shift(),v=i.shift();try{d=m(d)}catch(g){v(g);break}}try{a=zD(d)}catch(g){return Promise.reject(g)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};yd.prototype.getUri=function(t){t=Z1(this.defaults,t);var r=jY(t.baseURL,t.url);return HY(r,t.params,t.paramsSerializer)};vz.forEach(["delete","get","head","options"],function(t){yd.prototype[t]=function(r,n){return this.request(Z1(n||{},{method:t,url:r,data:(n||{}).data}))}});vz.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,a){return this.request(Z1(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}yd.prototype[t]=r(),yd.prototype[t+"Form"]=r(!0)});var GY=yd,bw,$D;function WY(){if($D)return bw;$D=1;var e=q1();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var i=this;this.promise.then(function(o){if(i._listeners){var s,a=i._listeners.length;for(s=0;s<a;s++)i._listeners[s](o);i._listeners=null}}),this.promise.then=function(o){var s,a=new Promise(function(h){i.subscribe(h),s=h}).then(o);return a.cancel=function(){i.unsubscribe(s)},a},r(function(s){i.reason||(i.reason=new e(s),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(s){n=s});return{token:i,cancel:n}},bw=t,bw}var xw,BD;function qY(){return BD||(BD=1,xw=function(t){return function(n){return t.apply(null,n)}}),xw}var ww,FD;function XY(){if(FD)return ww;FD=1;var e=Ni;return ww=function(r){return e.isObject(r)&&r.isAxiosError===!0},ww}var ND=Ni,ZY=nz,J_=GY,KY=pz,YY=lE;function yz(e){var t=new J_(e),r=ZY(J_.prototype.request,t);return ND.extend(r,J_.prototype,t),ND.extend(r,t),r.create=function(i){return yz(KY(e,i))},r}var zo=yz(YY);zo.Axios=J_;zo.CanceledError=q1();zo.CancelToken=WY();zo.isCancel=dz();zo.VERSION=mz().version;zo.toFormData=hz;zo.AxiosError=Bd;zo.Cancel=zo.CanceledError;zo.all=function(t){return Promise.all(t)};zo.spread=qY();zo.isAxiosError=XY();rE.exports=zo;rE.exports.default=zo;var JY=rE.exports,QY=JY;const Ko=eE(QY);function VD(e){let t=Math.abs(e),r=Math.floor(t/3600);t-=r*3600;let n=Math.floor(t/60);return t-=n*60,[r,n,t]}function UD(e){return e<10?"0"+e:e}const eJ={props:{secondFromDispatch:{type:Number},stationEstimate:{type:String},startSecond:{type:Number}},computed:{timeToShow:function(){let e=VD(this.secondFromDispatch),t=e[2]>=30;return e[1]>0?[e[0]>0?e[0]+"":"",e[1],"",t?"":""].join(""):t?"":""},startTime:function(){let e=VD(this.startSecond);return["",UD(e[0]),":",UD(e[1])].join("")},isWaiting:function(){return this.secondFromDispatch<=0}}},tJ={key:0};function rJ(e,t,r,n,i,o){return r.secondFromDispatch?(_t(),Wt("tr",{key:0,class:$i(o.isWaiting?"bus-waiting":"bus-running")},[fr("td",null,Qr(o.startTime),1),fr("td",null,Qr(o.isWaiting?"":""),1),fr("td",null,Qr((o.isWaiting,""+o.timeToShow)),1),r.stationEstimate?(_t(),Wt("td",tJ,Qr(r.stationEstimate),1)):In("",!0)],2)):In("",!0)}const nJ=Kr(eJ,[["render",rJ],["__scopeId","data-v-259a8620"],["__file","BusItem.vue"]]);function _z(e,t,r){return e*3600+t*60+r}function iJ(e){let t=[];for(let r of e){let n=r.split(":"),i=_z(Number(n[0].trim()),Number(n[1].trim()),0);t.push(i)}return t.sort((r,n)=>r-n)}const oJ={data(){return{secondFromZero:0,second:0,minute:0,hour:0,timeRangeAfterReach:3}},props:{times:{},stations:{},minuteOnRoad:{type:Number,default:20},timeRangeBeforeDispatch:{type:Number,default:60}},components:{BusItem:nJ},mounted(){setInterval(()=>{this.tick()},1e3)},methods:{tick:function(){var e=new Date;this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds(),this.secondFromZero=_z(this.hour,this.minute,this.second)},formatNumber:function(e){return e<10?"0"+e:e},stationEstimate:function(e){if(!this.stationNames)return"null";if(e<=0)return this.stationNames[0];let t=this.stationNames.length;if(e>=this.minuteOnRoad*60)return this.stationNames[t-1];let r=e/60/this.minuteOnRoad,n="";for(let i in this.stationPositions)if(r<this.stationPositions[i]){n=this.stationNames[i];break}return n}},computed:{secondList:function(){return iJ(this.times)},busToShow:function(){if(!this.secondList)return null;let e=[],t=[];for(let r of this.secondList){let n=this.secondFromZero-r;n<0&&n>-this.timeRangeBeforeDispatch*60&&t.push([n,r]),n>0&&n<(this.minuteOnRoad+this.timeRangeAfterReach)*60&&e.push([n,r])}return e.concat(t)},stationNames:function(){let e=[];for(let t of this.stations)e.push(t[0]);return e},stationPositions:function(){let e=[];for(let t of this.stations)e.push(t[1]);return e}}},aJ=e=>(D4("data-v-dc817d2c"),e=e(),L4(),e),sJ={key:0,class:"bus-timer-tb"},lJ={colspan:"2"},uJ={colspan:"2",style:{"text-align":"right"}},cJ={key:0,colspan:"4"},hJ=aJ(()=>fr("p",{class:"plus-note"},"* ",-1));function fJ(e,t,r,n,i,o){const s=Hn("bus-item");return _t(),Wt("div",null,[o.busToShow?(_t(),Wt("table",sJ,[fr("thead",null,[fr("tr",null,[fr("th",lJ,Qr(r.stations[0][0])+" > "+Qr(r.stations[r.stations.length-1][0]),1),fr("th",uJ,Qr(o.formatNumber(i.hour))+":"+Qr(o.formatNumber(i.minute))+":"+Qr(o.formatNumber(i.second)),1)]),(_t(!0),Wt(Tr,null,Qa(o.busToShow,(a,h)=>(_t(),Fn(s,{secondFromDispatch:a[0],stationEstimate:o.stationEstimate(a[0]),startSecond:a[1],key:h},null,8,["secondFromDispatch","stationEstimate","startSecond"]))),128)),fr("tr",null,[Object.keys(o.busToShow).length==0?(_t(),Wt("td",cJ,"  ")):In("",!0)])])])):In("",!0),hJ])}const dJ=Kr(oJ,[["render",fJ],["__scopeId","data-v-dc817d2c"],["__file","BusTimer.vue"]]);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function pJ(e,t){if(Sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mJ(e){var t=pJ(e,"string");return Sv(t)==="symbol"?t:String(t)}function vJ(e,t,r){return t=mJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me.apply(this,arguments)}const gJ=e=>typeof e=="function",yJ=Array.isArray,_J=e=>typeof e=="string",bJ=e=>e!==null&&typeof e=="object",xJ=/^on[^a-z]/,wJ=e=>xJ.test(e),bz=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},SJ=/-(\w)/g,K1=bz(e=>e.replace(SJ,(t,r)=>r?r.toUpperCase():"")),TJ=/\B([A-Z])/g,CJ=bz(e=>e.replace(TJ,"-$1").toLowerCase()),EJ=Object.prototype.hasOwnProperty,jD=(e,t)=>EJ.call(e,t);function AJ(e,t,r,n){const i=e[r];if(i!=null){const o=jD(i,"default");if(o&&n===void 0){const s=i.default;n=i.type!==Function&&gJ(s)?s():s}i.type===Boolean&&(!jD(t,r)&&!o?n=!1:n===""&&(n=!0))}return n}function Qp(e){return typeof e=="number"?`${e}px`:e}function Uf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof e=="function"?e(t):e??r}function PJ(e){let t;const r=new Promise(i=>{t=e(()=>{i(!0)})}),n=()=>{t==null||t()};return n.then=(i,o)=>r.then(i,o),n.promise=r,n}function $r(){const e=[];for(let t=0;t<arguments.length;t++){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r){if(_J(r))e.push(r);else if(yJ(r))for(let n=0;n<r.length;n++){const i=$r(r[n]);i&&e.push(i)}else if(bJ(r))for(const n in r)r[n]&&e.push(n)}}return e.join(" ")}var xz=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];r.call(n,s[1],s[0])}},t}()}(),OS=typeof window<"u"&&typeof document<"u"&&window.document===document,B0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),IJ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(B0):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),MJ=2;function DJ(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&a()}function s(){IJ(o)}function a(){var h=Date.now();if(r){if(h-i<MJ)return;n=!0}else r=!0,n=!1,setTimeout(s,t);i=h}return a}var LJ=20,OJ=["top","right","bottom","left","width","height","size","weight"],kJ=typeof MutationObserver<"u",RJ=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=DJ(this.refresh.bind(this),LJ)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!OS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kJ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!OS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=OJ.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),wz=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},_d=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||B0},Sz=Y1(0,0,0,0);function F0(e){return parseFloat(e)||0}function GD(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+F0(o)},0)}function zJ(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],s=e["padding-"+o];r[o]=F0(s)}return r}function $J(e){var t=e.getBBox();return Y1(0,0,t.width,t.height)}function BJ(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Sz;var n=_d(e).getComputedStyle(e),i=zJ(n),o=i.left+i.right,s=i.top+i.bottom,a=F0(n.width),h=F0(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=GD(n,"left","right")+o),Math.round(h+s)!==r&&(h-=GD(n,"top","bottom")+s)),!NJ(e)){var d=Math.round(a+o)-t,m=Math.round(h+s)-r;Math.abs(d)!==1&&(a-=d),Math.abs(m)!==1&&(h-=m)}return Y1(i.left,i.top,a,h)}var FJ=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof _d(e).SVGGraphicsElement}:function(e){return e instanceof _d(e).SVGElement&&typeof e.getBBox=="function"}}();function NJ(e){return e===_d(e).document.documentElement}function VJ(e){return OS?FJ(e)?$J(e):BJ(e):Sz}function UJ(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return wz(s,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),s}function Y1(e,t,r,n){return{x:e,y:t,width:r,height:n}}var HJ=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Y1(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=VJ(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),jJ=function(){function e(t,r){var n=UJ(r);wz(this,{target:t,contentRect:n})}return e}(),GJ=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new xz,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof _d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new HJ(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof _d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new jJ(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Tz=typeof WeakMap<"u"?new WeakMap:new xz,Cz=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=RJ.getInstance(),n=new GJ(t,r,this);Tz.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Cz.prototype[e]=function(){var t;return(t=Tz.get(this))[e].apply(t,arguments)}});var Ez=function(){return typeof B0.ResizeObserver<"u"?B0.ResizeObserver:Cz}(),WJ=typeof global=="object"&&global&&global.Object===Object&&global;const Az=WJ;var qJ=typeof self=="object"&&self&&self.Object===Object&&self,XJ=Az||qJ||Function("return this")();const kl=XJ;var ZJ=kl.Symbol;const zs=ZJ;var Pz=Object.prototype,KJ=Pz.hasOwnProperty,YJ=Pz.toString,em=zs?zs.toStringTag:void 0;function JJ(e){var t=KJ.call(e,em),r=e[em];try{e[em]=void 0;var n=!0}catch{}var i=YJ.call(e);return n&&(t?e[em]=r:delete e[em]),i}var QJ=Object.prototype,eQ=QJ.toString;function tQ(e){return eQ.call(e)}var rQ="[object Null]",nQ="[object Undefined]",WD=zs?zs.toStringTag:void 0;function Fd(e){return e==null?e===void 0?nQ:rQ:WD&&WD in Object(e)?JJ(e):tQ(e)}function iQ(e,t){return function(r){return e(t(r))}}function bd(e){return e!=null&&typeof e=="object"}const oQ=e=>e!=null&&e!=="",kS=oQ,aQ=(e,t)=>{const r=me({},e);return Object.keys(t).forEach(n=>{const i=r[n];if(i)i.type||i.default?i.default=t[n]:i.def?i.def(t[n]):r[n]={type:i,default:t[n]};else throw new Error(`not have ${n} prop`)}),r},fg=aQ,sQ=e=>{const t=Object.keys(e),r={},n={},i={};for(let o=0,s=t.length;o<s;o++){const a=t[o];wJ(a)?(r[a[2].toLowerCase()+a.slice(3)]=e[a],n[a]=e[a]):i[a]=e[a]}return{onEvents:n,events:r,extraAttrs:i}},lQ=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const r={},n=/;(?![^(]*\))/g,i=/:(.+)/;return typeof e=="object"?e:(e.split(n).forEach(function(o){if(o){const s=o.split(i);if(s.length>1){const a=t?K1(s[0].trim()):s[0].trim();r[a]=s[1].trim()}}}),r)},uQ=(e,t)=>e[t]!==void 0,Iz=Symbol("skipFlatten"),Do=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Array.isArray(e)?e:[e],n=[];return r.forEach(i=>{Array.isArray(i)?n.push(...Do(i,t)):i&&i.type===Tr?i.key===Iz?n.push(i):n.push(...Do(i.children,t)):i&&El(i)?t&&!Mz(i)?n.push(i):t||n.push(i):kS(i)&&n.push(i)}),n},cQ=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(El(e))return e.type===Tr?t==="default"?Do(e.children):[]:e.children&&e.children[t]?Do(e.children[t](r)):[];{let n=e.$slots[t]&&e.$slots[t](r);return Do(n)}},Pu=e=>{var t;let r=((t=e==null?void 0:e.vnode)===null||t===void 0?void 0:t.el)||e&&(e.$el||e);for(;r&&!r.tagName;)r=r.nextSibling;return r},hQ=e=>{const t={};if(e.$&&e.$.vnode){const r=e.$.vnode.props||{};Object.keys(e.$props).forEach(n=>{const i=e.$props[n],o=CJ(n);(i!==void 0||o in r)&&(t[n]=i)})}else if(El(e)&&typeof e.type=="object"){const r=e.props||{},n={};Object.keys(r).forEach(o=>{n[K1(o)]=r[o]});const i=e.type.props||{};Object.keys(i).forEach(o=>{const s=AJ(i,n,o,n[o]);(s!==void 0||o in n)&&(t[o]=s)})}return t},fQ=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i;if(e.$){const o=e[t];if(o!==void 0)return typeof o=="function"&&n?o(r):o;i=e.$slots[t],i=n&&i?i(r):i}else if(El(e)){const o=e.props&&e.props[t];if(o!==void 0&&e.props!==null)return typeof o=="function"&&n?o(r):o;e.type===Tr?i=e.children:e.children&&e.children[t]&&(i=e.children[t],i=n&&i?i(r):i)}return Array.isArray(i)&&(i=Do(i),i=i.length===1?i[0]:i,i=i.length===0?void 0:i),i};function qD(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r={};return e.$?r=me(me({},r),e.$attrs):r=me(me({},r),e.props),sQ(r)[t?"onEvents":"events"]}function dQ(e,t){let n=((El(e)?e.props:e.$attrs)||{}).style||{};if(typeof n=="string")n=lQ(n,t);else if(t&&n){const i={};return Object.keys(n).forEach(o=>i[K1(o)]=n[o]),i}return n}function pQ(e){return e.length===1&&e[0].type===Tr}function Mz(e){return e&&(e.type===Mo||e.type===Tr&&e.children.length===0||e.type===Uu&&e.children.trim()==="")}function dg(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];return e.forEach(r=>{Array.isArray(r)?t.push(...r):(r==null?void 0:r.type)===Tr?t.push(...dg(r.children)):t.push(r)}),t.filter(r=>!Mz(r))}function J1(e){return Array.isArray(e)&&e.length===1&&(e=e[0]),e&&e.__v_isVNode&&typeof e.type!="symbol"}function cE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var n,i;return(n=t[r])!==null&&n!==void 0?n:(i=e[r])===null||i===void 0?void 0:i.call(e)}const N0=bt({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(e,t){let{slots:r}=t;const n=eo({width:0,height:0,offsetHeight:0,offsetWidth:0});let i=null,o=null;const s=()=>{o&&(o.disconnect(),o=null)},a=m=>{const{onResize:v}=e,g=m[0].target,{width:_,height:T}=g.getBoundingClientRect(),{offsetWidth:P,offsetHeight:M}=g,I=Math.floor(_),D=Math.floor(T);if(n.width!==I||n.height!==D||n.offsetWidth!==P||n.offsetHeight!==M){const O={width:I,height:D,offsetWidth:P,offsetHeight:M};me(n,O),v&&Promise.resolve().then(()=>{v(me(me({},O),{offsetWidth:P,offsetHeight:M}),g)})}},h=Ol(),d=()=>{const{disabled:m}=e;if(m){s();return}const v=Pu(h);v!==i&&(s(),i=v),!o&&v&&(o=new Ez(a),o.observe(v))};return cn(()=>{d()}),Mh(()=>{d()}),Ll(()=>{s()}),rr(()=>e.disabled,()=>{d()},{flush:"post"}),()=>{var m;return(m=r.default)===null||m===void 0?void 0:m.call(r)[0]}}});let Dz=e=>setTimeout(e,16),Lz=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(Dz=e=>window.requestAnimationFrame(e),Lz=e=>window.cancelAnimationFrame(e));let XD=0;const hE=new Map;function Oz(e){hE.delete(e)}function ri(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;XD+=1;const r=XD;function n(i){if(i===0)Oz(r),e();else{const o=Dz(()=>{n(i-1)});hE.set(r,o)}}return n(t),r}ri.cancel=e=>{const t=hE.get(e);return Oz(t),Lz(t)};const V0=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t},Q1=e=>{const t=e;return t.install=function(r){r.component(t.displayName||t.name,e)},e};function ZD(){return{type:[Function,Array]}}function On(e){return{type:Object,default:e}}function mh(e){return{type:Boolean,default:e}}function ja(e){return{type:Function,default:e}}function RS(e,t){const r={validator:()=>!0,default:e};return r}function zS(e){return{type:Array,default:e}}function Hf(e){return{type:String,default:e}}function kz(e,t){return e?{type:e,default:t}:RS(t)}let Rz=!1;try{let e=Object.defineProperty({},"passive",{get(){Rz=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}const jf=Rz;function Pm(e,t,r,n){if(e&&e.addEventListener){let i=n;i===void 0&&jf&&(t==="touchstart"||t==="touchmove"||t==="wheel")&&(i={passive:!1}),e.addEventListener(t,r,i)}return{remove:()=>{e&&e.removeEventListener&&e.removeEventListener(t,r)}}}const fE="anticon",mQ=Symbol("GlobalFormContextKey"),vQ=e=>{Mn(mQ,e)},gQ=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:On(),input:On(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:On(),pageHeader:On(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String},space:On(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:On(),pagination:On(),theme:On(),select:On()}),dE=Symbol("configProvider"),zz={getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:_e(()=>fE),getPopupContainer:_e(()=>()=>document.body)},$z=()=>Er(dE,zz),yQ=e=>Mn(dE,e),Bz=Symbol("DisabledContextKey"),pE=()=>Er(Bz,Ft(void 0)),_Q=e=>{const t=pE();return Mn(Bz,_e(()=>{var r;return(r=e.value)!==null&&r!==void 0?r:t.value})),e},bQ={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},xQ={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},wQ=xQ,SQ={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Fz=SQ,TQ={lang:me({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},wQ),timePickerLocale:me({},Fz)},KD=TQ,Wo="${label} is not a valid ${type}",CQ={locale:"en",Pagination:bQ,DatePicker:KD,TimePicker:Fz,Calendar:KD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Wo,method:Wo,array:Wo,object:Wo,number:Wo,date:Wo,boolean:Wo,integer:Wo,float:Wo,regexp:Wo,email:Wo,url:Wo,hex:Wo},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},Tv=CQ,Nz=bt({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(e,t){let{slots:r}=t;const n=Er("localeData",{}),i=_e(()=>{const{componentName:s="global",defaultLocale:a}=e,h=a||Tv[s||"global"],{antLocale:d}=n,m=s&&d?d[s]:{};return me(me({},typeof h=="function"?h():h),m||{})}),o=_e(()=>{const{antLocale:s}=n,a=s&&s.locale;return s&&s.exist&&!a?Tv.locale:a});return()=>{const s=e.children||r.default,{antLocale:a}=n;return s==null?void 0:s(i.value,o.value,a)}}});function mE(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}class EQ{constructor(){this.cache=new Map}get(t){return this.cache.get(Array.isArray(t)?t.join("%"):t)||null}update(t,r){const n=Array.isArray(t)?t.join("%"):t,i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}const AQ=EQ,Vz="data-token-hash",ed="data-css-hash",Wm="__cssinjs_instance__",U0=Math.random().toString(12).slice(2);function Uz(){if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${ed}]`)||[],{firstChild:t}=document.head;Array.from(e).forEach(n=>{n[Wm]=n[Wm]||U0,document.head.insertBefore(n,t)});const r={};Array.from(document.querySelectorAll(`style[${ed}]`)).forEach(n=>{var i;const o=n.getAttribute(ed);r[o]?n[Wm]===U0&&((i=n.parentNode)===null||i===void 0||i.removeChild(n)):r[o]=!0})}return new AQ}const Hz=Symbol("StyleContextKey"),vE={cache:Uz(),defaultCache:!0,hashPriority:"low"},gE=()=>Er(Hz,Rt(me({},vE))),PQ=e=>{const t=gE(),r=Rt(me({},vE));return rr([()=>Qt(e),t],()=>{const n=me({},t.value),i=Qt(e);Object.keys(i).forEach(s=>{const a=i[s];i[s]!==void 0&&(n[s]=a)});const{cache:o}=i;n.cache=n.cache||Uz(),n.defaultCache=!o&&t.value.defaultCache,r.value=n},{immediate:!0}),Mn(Hz,r),r},IQ=()=>({autoClear:mh(),mock:Hf(),cache:On(),defaultCache:mh(),hashPriority:Hf(),container:kz(),ssrInline:mh(),transformers:zS(),linters:zS()});Q1(bt({name:"AStyleProvider",inheritAttrs:!1,props:fg(IQ(),vE),setup(e,t){let{slots:r}=t;return PQ(e),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}));function jz(e,t,r,n){const i=gE(),o=Rt(""),s=Rt();di(()=>{o.value=[e,...t.value].join("%")});const a=h=>{i.value.cache.update(h,d=>{const[m=0,v]=d||[];return m-1===0?(n==null||n(v,!1),null):[m-1,v]})};return rr(o,(h,d)=>{d&&a(d),i.value.cache.update(h,m=>{const[v=0,g]=m||[],T=g||r();return[v+1,T]}),s.value=i.value.cache.get(o.value)[1]},{immediate:!0}),Pi(()=>{a(o.value)}),s}function Hu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nh(e,t){return e&&e.contains?e.contains(t):!1}const YD="data-vc-order",MQ="vc-util-key",$S=new Map;function Gz(){let{mark:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e?e.startsWith("data-")?e:`data-${e}`:MQ}function eb(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function DQ(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Wz(e){return Array.from(($S.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function qz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Hu())return null;const{csp:r,prepend:n}=t,i=document.createElement("style");i.setAttribute(YD,DQ(n)),r!=null&&r.nonce&&(i.nonce=r==null?void 0:r.nonce),i.innerHTML=e;const o=eb(t),{firstChild:s}=o;if(n){if(n==="queue"){const a=Wz(o).filter(h=>["prepend","prependQueue"].includes(h.getAttribute(YD)));if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function Xz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=eb(t);return Wz(r).find(n=>n.getAttribute(Gz(t))===e)}function H0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Xz(e,t);r&&eb(t).removeChild(r)}function LQ(e,t){const r=$S.get(e);if(!r||!nh(document,r)){const n=qz("",t),{parentNode:i}=n;$S.set(e,i),e.removeChild(n)}}function Cv(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n,i,o;const s=eb(r);LQ(s,r);const a=Xz(t,r);if(a)return!((n=r.csp)===null||n===void 0)&&n.nonce&&a.nonce!==((i=r.csp)===null||i===void 0?void 0:i.nonce)&&(a.nonce=(o=r.csp)===null||o===void 0?void 0:o.nonce),a.innerHTML!==e&&(a.innerHTML=e),a;const h=qz(e,r);return h.setAttribute(Gz(r),t),h}function j0(e){let t="";return Object.keys(e).forEach(r=>{const n=e[r];t+=r,n&&typeof n=="object"?t+=j0(n):t+=n}),t}function OQ(e,t){return mE(`${t}_${j0(e)}`)}const qm=`layer-${Date.now()}-${Math.random()}`.replace(/\./g,""),Zz="903px";function kQ(e,t){var r;if(Hu()){Cv(e,qm);const n=document.createElement("div");n.style.position="fixed",n.style.left="0",n.style.top="0",t==null||t(n),document.body.appendChild(n);const i=getComputedStyle(n).width===Zz;return(r=n.parentNode)===null||r===void 0||r.removeChild(n),H0(qm),i}return!1}let Sw;function RQ(){return Sw===void 0&&(Sw=kQ(`@layer ${qm} { .${qm} { width: ${Zz}!important; } }`,e=>{e.className=qm})),Sw}const JD={},zQ="css",ih=new Map;function $Q(e){ih.set(e,(ih.get(e)||0)+1)}function BQ(e){typeof document<"u"&&document.querySelectorAll(`style[${Vz}="${e}"]`).forEach(r=>{var n;r[Wm]===U0&&((n=r.parentNode)===null||n===void 0||n.removeChild(r))})}function FQ(e){ih.set(e,(ih.get(e)||0)-1);const t=Array.from(ih.keys()),r=t.filter(n=>(ih.get(n)||0)<=0);r.length<t.length&&r.forEach(n=>{BQ(n),ih.delete(n)})}function NQ(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft({});const n=_e(()=>me({},...t.value)),i=_e(()=>j0(n.value)),o=_e(()=>j0(r.value.override||JD));return jz("token",_e(()=>[r.value.salt||"",e.value.id,i.value,o.value]),()=>{const{salt:a="",override:h=JD,formatToken:d}=r.value,m=e.value.getDerivativeToken(n.value);let v=me(me({},m),h);d&&(v=d(v));const g=OQ(v,a);v._tokenKey=g,$Q(g);const _=`${zQ}-${mE(g)}`;return v._hashId=_,[v,_]},a=>{FQ(a[0]._tokenKey)})}var VQ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kz="comm",Yz="rule",Jz="decl",UQ="@import",HQ="@keyframes",jQ="@layer",GQ=Math.abs,yE=String.fromCharCode;function Qz(e){return e.trim()}function Q_(e,t,r){return e.replace(t,r)}function WQ(e,t){return e.indexOf(t)}function Ev(e,t){return e.charCodeAt(t)|0}function Av(e,t,r){return e.slice(t,r)}function yl(e){return e.length}function qQ(e){return e.length}function Wy(e,t){return t.push(e),e}var tb=1,xd=1,e$=0,Ea=0,hi=0,Nd="";function _E(e,t,r,n,i,o,s,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:tb,column:xd,length:s,return:"",siblings:a}}function XQ(){return hi}function ZQ(){return hi=Ea>0?Ev(Nd,--Ea):0,xd--,hi===10&&(xd=1,tb--),hi}function Ja(){return hi=Ea<e$?Ev(Nd,Ea++):0,xd++,hi===10&&(xd=1,tb++),hi}function vh(){return Ev(Nd,Ea)}function e0(){return Ea}function rb(e,t){return Av(Nd,e,t)}function BS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KQ(e){return tb=xd=1,e$=yl(Nd=e),Ea=0,[]}function YQ(e){return Nd="",e}function Tw(e){return Qz(rb(Ea-1,FS(e===91?e+2:e===40?e+1:e)))}function JQ(e){for(;(hi=vh())&&hi<33;)Ja();return BS(e)>2||BS(hi)>3?"":" "}function QQ(e,t){for(;--t&&Ja()&&!(hi<48||hi>102||hi>57&&hi<65||hi>70&&hi<97););return rb(e,e0()+(t<6&&vh()==32&&Ja()==32))}function FS(e){for(;Ja();)switch(hi){case e:return Ea;case 34:case 39:e!==34&&e!==39&&FS(hi);break;case 40:e===41&&FS(e);break;case 92:Ja();break}return Ea}function eee(e,t){for(;Ja()&&e+hi!==47+10;)if(e+hi===42+42&&vh()===47)break;return"/*"+rb(t,Ea-1)+"*"+yE(e===47?e:Ja())}function tee(e){for(;!BS(vh());)Ja();return rb(e,Ea)}function ree(e){return YQ(t0("",null,null,null,[""],e=KQ(e),0,[0],e))}function t0(e,t,r,n,i,o,s,a,h){for(var d=0,m=0,v=s,g=0,_=0,T=0,P=1,M=1,I=1,D=0,O="",z=i,F=o,N=n,H=O;M;)switch(T=D,D=Ja()){case 40:if(T!=108&&Ev(H,v-1)==58){WQ(H+=Q_(Tw(D),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:H+=Tw(D);break;case 9:case 10:case 13:case 32:H+=JQ(T);break;case 92:H+=QQ(e0()-1,7);continue;case 47:switch(vh()){case 42:case 47:Wy(nee(eee(Ja(),e0()),t,r,h),h);break;default:H+="/"}break;case 123*P:a[d++]=yl(H)*I;case 125*P:case 59:case 0:switch(D){case 0:case 125:M=0;case 59+m:I==-1&&(H=Q_(H,/\f/g,"")),_>0&&yl(H)-v&&Wy(_>32?e5(H+";",n,r,v-1,h):e5(Q_(H," ","")+";",n,r,v-2,h),h);break;case 59:H+=";";default:if(Wy(N=QD(H,t,r,d,m,i,a,O,z=[],F=[],v,o),o),D===123)if(m===0)t0(H,t,N,N,z,o,v,a,F);else switch(g===99&&Ev(H,3)===110?100:g){case 100:case 108:case 109:case 115:t0(e,N,N,n&&Wy(QD(e,N,N,0,0,i,a,O,i,z=[],v,F),F),i,F,v,a,n?z:F);break;default:t0(H,N,N,N,[""],F,0,a,F)}}d=m=_=0,P=I=1,O=H="",v=s;break;case 58:v=1+yl(H),_=T;default:if(P<1){if(D==123)--P;else if(D==125&&P++==0&&ZQ()==125)continue}switch(H+=yE(D),D*P){case 38:I=m>0?1:(H+="\f",-1);break;case 44:a[d++]=(yl(H)-1)*I,I=1;break;case 64:vh()===45&&(H+=Tw(Ja())),g=vh(),m=v=yl(O=H+=tee(e0())),D++;break;case 45:T===45&&yl(H)==2&&(P=0)}}return o}function QD(e,t,r,n,i,o,s,a,h,d,m,v){for(var g=i-1,_=i===0?o:[""],T=qQ(_),P=0,M=0,I=0;P<n;++P)for(var D=0,O=Av(e,g+1,g=GQ(M=s[P])),z=e;D<T;++D)(z=Qz(M>0?_[D]+" "+O:Q_(O,/&\f/g,_[D])))&&(h[I++]=z);return _E(e,t,r,i===0?Yz:a,h,d,m,v)}function nee(e,t,r,n){return _E(e,t,r,Kz,yE(XQ()),Av(e,2,-2),0,n)}function e5(e,t,r,n,i){return _E(e,t,r,Jz,Av(e,0,n),Av(e,n+1,-1),n,i)}function NS(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function iee(e,t,r,n){switch(e.type){case jQ:if(e.children.length)break;case UQ:case Jz:return e.return=e.return||e.value;case Kz:return"";case HQ:return e.return=e.value+"{"+NS(e.children,n)+"}";case Yz:if(!yl(e.value=e.props.join(",")))return""}return yl(r=NS(e.children,n))?e.return=e.value+"{"+r+"}":""}let t5={};function oee(e,t){}function aee(e,t,r){!t&&!t5[r]&&(e(!1,r),t5[r]=!0)}function see(e,t){aee(oee,e,t)}const r5=Hu(),lee="_skip_check_",t$="_multi_value_";function n5(e){return NS(ree(e),iee).replace(/\{%%%\:[^;];}/g,";")}function uee(e){return typeof e=="object"&&e&&(lee in e||t$ in e)}function cee(e,t,r){if(!t)return e;const n=`.${t}`,i=r==="low"?`:where(${n})`:n;return e.split(",").map(s=>{var a;const h=s.trim().split(/\s+/);let d=h[0]||"";const m=((a=d.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return d=`${m}${i}${d.slice(m.length)}`,[d,...h.slice(1)].join(" ")}).join(",")}const i5=new Set,VS=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:r,injectHash:n,parentSelectors:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:s,path:a,hashPriority:h,transformers:d=[],linters:m=[]}=t;let v="",g={};function _(M){const I=M.getName(o);if(!g[I]){const[D]=VS(M.style,t,{root:!1,parentSelectors:i});g[I]=`@keyframes ${M.getName(o)}${D}`}}function T(M){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return M.forEach(D=>{Array.isArray(D)?T(D,I):D&&I.push(D)}),I}if(T(Array.isArray(e)?e:[e]).forEach(M=>{const I=typeof M=="string"&&!r?{}:M;if(typeof I=="string")v+=`${I}
`;else if(I._keyframe)_(I);else{const D=d.reduce((O,z)=>{var F;return((F=z==null?void 0:z.visit)===null||F===void 0?void 0:F.call(z,O))||O},I);Object.keys(D).forEach(O=>{var z;const F=D[O];if(typeof F=="object"&&F&&(O!=="animationName"||!F._keyframe)&&!uee(F)){let N=!1,H=O.trim(),U=!1;(r||n)&&o?H.startsWith("@")?N=!0:H=cee(O,o,h):r&&!o&&(H==="&"||H==="")&&(H="",U=!0);const[J,K]=VS(F,t,{root:U,injectHash:N,parentSelectors:[...i,H]});g=me(me({},g),K),v+=`${H}${J}`}else{let N=function(U,J){const K=U.replace(/[A-Z]/g,ae=>`-${ae.toLowerCase()}`);let ne=J;!VQ[U]&&typeof ne=="number"&&ne!==0&&(ne=`${ne}px`),U==="animationName"&&(J!=null&&J._keyframe)&&(_(J),ne=J.getName(o)),v+=`${K}:${ne};`};const H=(z=F==null?void 0:F.value)!==null&&z!==void 0?z:F;typeof F=="object"&&(F!=null&&F[t$])&&Array.isArray(H)?H.forEach(U=>{N(O,U)}):N(O,H)}})}}),!r)v=`{${v}}`;else if(s&&RQ()){const M=s.split(",");v=`@layer ${M[M.length-1].trim()} {${v}}`,M.length>1&&(v=`@layer ${s}{%%%:%}${v}`)}return[v,g]};function hee(e,t){return mE(`${e.join("%")}${t}`)}function US(e,t){const r=gE(),n=_e(()=>e.value.token._tokenKey),i=_e(()=>[n.value,...e.value.path]);let o=r5;return jz("style",i,()=>{const s=t(),{hashPriority:a,container:h,transformers:d,linters:m}=r.value,{path:v,hashId:g,layer:_}=e.value,[T,P]=VS(s,{hashId:g,hashPriority:a,layer:_,path:v.join("-"),transformers:d,linters:m}),M=n5(T),I=hee(i.value,M);if(o){const D=Cv(M,I,{mark:ed,prepend:"queue",attachTo:h});D[Wm]=U0,D.setAttribute(Vz,n.value),Object.keys(P).forEach(O=>{i5.has(O)||(i5.add(O),Cv(n5(P[O]),`_effect-${O}`,{mark:ed,prepend:"queue",attachTo:h}))})}return[M,n.value,I]},(s,a)=>{let[,,h]=s;(a||r.value.autoClear)&&r5&&H0(h,{mark:ed})}),s=>s}class fee{constructor(t,r){this._keyframe=!0,this.name=t,this.style=r}getName(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?`${t}-${this.name}`:this.name}}const En=fee;function dee(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class wd{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n={map:this.cache};return t.forEach(i=>{var o;n?n=(o=n==null?void 0:n.map)===null||o===void 0?void 0:o.get(i):n=void 0}),n!=null&&n.value&&r&&(n.value[1]=this.cacheCallTimes++),n==null?void 0:n.value}get(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}has(t){return!!this.internalGet(t)}set(t,r){if(!this.has(t)){if(this.size()+1>wd.MAX_CACHE_SIZE+wd.MAX_CACHE_OFFSET){const[i]=this.keys.reduce((o,s)=>{const[,a]=o;return this.internalGet(s)[1]<a?[s,this.internalGet(s)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(i)}this.keys.push(t)}let n=this.cache;t.forEach((i,o)=>{if(o===t.length-1)n.set(i,{value:[r,this.cacheCallTimes++]});else{const s=n.get(i);s?s.map||(s.map=new Map):n.set(i,{map:new Map}),n=n.get(i).map}})}deleteByPath(t,r){var n;const i=t.get(r[0]);if(r.length===1)return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(n=i.value)===null||n===void 0?void 0:n[0];const o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}delete(t){if(this.has(t))return this.keys=this.keys.filter(r=>!dee(r,t)),this.deleteByPath(this.cache,t)}}wd.MAX_CACHE_SIZE=20;wd.MAX_CACHE_OFFSET=5;function pee(){}let mee=pee;const nb=mee;let o5=0;class vee{constructor(t){this.derivatives=Array.isArray(t)?t:[t],this.id=o5,t.length===0&&nb(t.length>0),o5+=1}getDerivativeToken(t){return this.derivatives.reduce((r,n)=>n(t,r),void 0)}}const Cw=new wd;function r$(e){const t=Array.isArray(e)?e:[e];return Cw.has(t)||Cw.set(t,new vee(t)),Cw.get(t)}const gee="4.0.1",G0=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Bi(e,t){yee(e)&&(e="100%");var r=_ee(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function qy(e){return Math.min(1,Math.max(0,e))}function yee(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function _ee(e){return typeof e=="string"&&e.indexOf("%")!==-1}function n$(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Xy(e){return e<=1?"".concat(Number(e)*100,"%"):e}function ch(e){return e.length===1?"0"+e:String(e)}function bee(e,t,r){return{r:Bi(e,255)*255,g:Bi(t,255)*255,b:Bi(r,255)*255}}function a5(e,t,r){e=Bi(e,255),t=Bi(t,255),r=Bi(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o=0,s=0,a=(n+i)/2;if(n===i)s=0,o=0;else{var h=n-i;switch(s=a>.5?h/(2-n-i):h/(n+i),n){case e:o=(t-r)/h+(t<r?6:0);break;case t:o=(r-e)/h+2;break;case r:o=(e-t)/h+4;break}o/=6}return{h:o,s,l:a}}function Ew(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xee(e,t,r){var n,i,o;if(e=Bi(e,360),t=Bi(t,100),r=Bi(r,100),t===0)i=r,o=r,n=r;else{var s=r<.5?r*(1+t):r+t-r*t,a=2*r-s;n=Ew(a,s,e+1/3),i=Ew(a,s,e),o=Ew(a,s,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function HS(e,t,r){e=Bi(e,255),t=Bi(t,255),r=Bi(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),o=0,s=n,a=n-i,h=n===0?0:a/n;if(n===i)o=0;else{switch(n){case e:o=(t-r)/a+(t<r?6:0);break;case t:o=(r-e)/a+2;break;case r:o=(e-t)/a+4;break}o/=6}return{h:o,s:h,v:s}}function wee(e,t,r){e=Bi(e,360)*6,t=Bi(t,100),r=Bi(r,100);var n=Math.floor(e),i=e-n,o=r*(1-t),s=r*(1-i*t),a=r*(1-(1-i)*t),h=n%6,d=[r,s,o,o,a,r][h],m=[a,r,r,s,o,o][h],v=[o,o,a,r,r,s][h];return{r:d*255,g:m*255,b:v*255}}function jS(e,t,r,n){var i=[ch(Math.round(e).toString(16)),ch(Math.round(t).toString(16)),ch(Math.round(r).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function See(e,t,r,n,i){var o=[ch(Math.round(e).toString(16)),ch(Math.round(t).toString(16)),ch(Math.round(r).toString(16)),ch(Tee(n))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Tee(e){return Math.round(parseFloat(e)*255).toString(16)}function s5(e){return qo(e)/255}function qo(e){return parseInt(e,16)}function Cee(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var GS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $f(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=Pee(e)),typeof e=="object"&&(al(e.r)&&al(e.g)&&al(e.b)?(t=bee(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):al(e.h)&&al(e.s)&&al(e.v)?(n=Xy(e.s),i=Xy(e.v),t=wee(e.h,n,i),s=!0,a="hsv"):al(e.h)&&al(e.s)&&al(e.l)&&(n=Xy(e.s),o=Xy(e.l),t=xee(e.h,n,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=n$(r),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var Eee="[-\\+]?\\d+%?",Aee="[-\\+]?\\d*\\.\\d+%?",Iu="(?:".concat(Aee,")|(?:").concat(Eee,")"),Aw="[\\s|\\(]+(".concat(Iu,")[,|\\s]+(").concat(Iu,")[,|\\s]+(").concat(Iu,")\\s*\\)?"),Pw="[\\s|\\(]+(".concat(Iu,")[,|\\s]+(").concat(Iu,")[,|\\s]+(").concat(Iu,")[,|\\s]+(").concat(Iu,")\\s*\\)?"),Ua={CSS_UNIT:new RegExp(Iu),rgb:new RegExp("rgb"+Aw),rgba:new RegExp("rgba"+Pw),hsl:new RegExp("hsl"+Aw),hsla:new RegExp("hsla"+Pw),hsv:new RegExp("hsv"+Aw),hsva:new RegExp("hsva"+Pw),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Pee(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(GS[e])e=GS[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Ua.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=Ua.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ua.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=Ua.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ua.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=Ua.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ua.hex8.exec(e),r?{r:qo(r[1]),g:qo(r[2]),b:qo(r[3]),a:s5(r[4]),format:t?"name":"hex8"}:(r=Ua.hex6.exec(e),r?{r:qo(r[1]),g:qo(r[2]),b:qo(r[3]),format:t?"name":"hex"}:(r=Ua.hex4.exec(e),r?{r:qo(r[1]+r[1]),g:qo(r[2]+r[2]),b:qo(r[3]+r[3]),a:s5(r[4]+r[4]),format:t?"name":"hex8"}:(r=Ua.hex3.exec(e),r?{r:qo(r[1]+r[1]),g:qo(r[2]+r[2]),b:qo(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function al(e){return!!Ua.CSS_UNIT.exec(String(e))}var yi=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=Cee(t)),this.originalInput=t;var i=$f(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:i.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,i,o=t.r/255,s=t.g/255,a=t.b/255;return o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?n=s/12.92:n=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=n$(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=HS(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=HS(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=a5(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=a5(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),jS(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),See(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(Bi(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(Bi(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+jS(this.r,this.g,this.b,!1),r=0,n=Object.entries(GS);r<n.length;r++){var i=n[r],o=i[0],s=i[1];if(t===s)return o}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,i=this.a<1&&this.a>=0,o=!r&&i&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=qy(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=qy(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=qy(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=qy(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),i=new e(t).toRgb(),o=r/100,s={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return new e(s)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),i=360/r,o=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(new e(n));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,i=r.s,o=r.v,s=[],a=1/t;t--;)s.push(new e({h:n,s:i,v:o})),o=(o+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),i=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/i,g:(r.g*r.a+n.g*n.a*(1-r.a))/i,b:(r.b*r.a+n.b*n.a*(1-r.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,i=[this],o=360/t,s=1;s<t;s++)i.push(new e({h:(n+s*o)%360,s:r.s,l:r.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}(),Zy=2,l5=.16,Iee=.05,Mee=.05,Dee=.15,i$=5,o$=4,Lee=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function u5(e){var t=e.r,r=e.g,n=e.b,i=HS(t,r,n);return{h:i.h*360,s:i.s,v:i.v}}function Ky(e){var t=e.r,r=e.g,n=e.b;return"#".concat(jS(t,r,n,!1))}function Oee(e,t,r){var n=r/100,i={r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b};return i}function c5(e,t,r){var n;return Math.round(e.h)>=60&&Math.round(e.h)<=240?n=r?Math.round(e.h)-Zy*t:Math.round(e.h)+Zy*t:n=r?Math.round(e.h)+Zy*t:Math.round(e.h)-Zy*t,n<0?n+=360:n>=360&&(n-=360),n}function h5(e,t,r){if(e.h===0&&e.s===0)return e.s;var n;return r?n=e.s-l5*t:t===o$?n=e.s+l5:n=e.s+Iee*t,n>1&&(n=1),r&&t===i$&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function f5(e,t,r){var n;return r?n=e.v+Mee*t:n=e.v-Dee*t,n>1&&(n=1),Number(n.toFixed(2))}function Sh(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],n=$f(e),i=i$;i>0;i-=1){var o=u5(n),s=Ky($f({h:c5(o,i,!0),s:h5(o,i,!0),v:f5(o,i,!0)}));r.push(s)}r.push(Ky(n));for(var a=1;a<=o$;a+=1){var h=u5(n),d=Ky($f({h:c5(h,a),s:h5(h,a),v:f5(h,a)}));r.push(d)}return t.theme==="dark"?Lee.map(function(m){var v=m.index,g=m.opacity,_=Ky(Oee($f(t.backgroundColor||"#141414"),$f(r[v]),g*100));return _}):r}var Iw={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Mw={},Dw={};Object.keys(Iw).forEach(function(e){Mw[e]=Sh(Iw[e]),Mw[e].primary=Mw[e][5],Dw[e]=Sh(Iw[e],{theme:"dark",backgroundColor:"#141414"}),Dw[e].primary=Dw[e][5]});const kee=e=>{const{controlHeight:t}=e;return{controlHeightSM:t*.75,controlHeightXS:t*.5,controlHeightLG:t*1.25}},Ree=kee;function zee(e){const{sizeUnit:t,sizeStep:r}=e;return{sizeXXL:t*(r+8),sizeXL:t*(r+4),sizeLG:t*(r+2),sizeMD:t*(r+1),sizeMS:t*r,size:t*r,sizeSM:t*(r-1),sizeXS:t*(r-2),sizeXXS:t*(r-3)}}const a$={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},$ee=me(me({},a$),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),ib=$ee;function Bee(e,t){let{generateColorPalettes:r,generateNeutralColorPalettes:n}=t;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:h,colorBgBase:d,colorTextBase:m}=e,v=r(h),g=r(i),_=r(o),T=r(s),P=r(a),M=n(d,m);return me(me({},M),{colorPrimaryBg:v[1],colorPrimaryBgHover:v[2],colorPrimaryBorder:v[3],colorPrimaryBorderHover:v[4],colorPrimaryHover:v[5],colorPrimary:v[6],colorPrimaryActive:v[7],colorPrimaryTextHover:v[8],colorPrimaryText:v[9],colorPrimaryTextActive:v[10],colorSuccessBg:g[1],colorSuccessBgHover:g[2],colorSuccessBorder:g[3],colorSuccessBorderHover:g[4],colorSuccessHover:g[4],colorSuccess:g[6],colorSuccessActive:g[7],colorSuccessTextHover:g[8],colorSuccessText:g[9],colorSuccessTextActive:g[10],colorErrorBg:T[1],colorErrorBgHover:T[2],colorErrorBorder:T[3],colorErrorBorderHover:T[4],colorErrorHover:T[5],colorError:T[6],colorErrorActive:T[7],colorErrorTextHover:T[8],colorErrorText:T[9],colorErrorTextActive:T[10],colorWarningBg:_[1],colorWarningBgHover:_[2],colorWarningBorder:_[3],colorWarningBorderHover:_[4],colorWarningHover:_[4],colorWarning:_[6],colorWarningActive:_[7],colorWarningTextHover:_[8],colorWarningText:_[9],colorWarningTextActive:_[10],colorInfoBg:P[1],colorInfoBgHover:P[2],colorInfoBorder:P[3],colorInfoBorderHover:P[4],colorInfoHover:P[4],colorInfo:P[6],colorInfoActive:P[7],colorInfoTextHover:P[8],colorInfoText:P[9],colorInfoTextActive:P[10],colorBgMask:new yi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Fee=e=>{let t=e,r=e,n=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?r=4:e<8&&e>=7?r=5:e<14&&e>=8?r=6:e<16&&e>=14?r=7:e>=16&&(r=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:n,borderRadiusSM:r,borderRadiusLG:t,borderRadiusOuter:i}},Nee=Fee;function Vee(e){const{motionUnit:t,motionBase:r,borderRadius:n,lineWidth:i}=e;return me({motionDurationFast:`${(r+t).toFixed(1)}s`,motionDurationMid:`${(r+t*2).toFixed(1)}s`,motionDurationSlow:`${(r+t*3).toFixed(1)}s`,lineWidthBold:i+1},Nee(n))}const sl=(e,t)=>new yi(e).setAlpha(t).toRgbString(),tm=(e,t)=>new yi(e).darken(t).toHexString(),Uee=e=>{const t=Sh(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Hee=(e,t)=>{const r=e||"#fff",n=t||"#000";return{colorBgBase:r,colorTextBase:n,colorText:sl(n,.88),colorTextSecondary:sl(n,.65),colorTextTertiary:sl(n,.45),colorTextQuaternary:sl(n,.25),colorFill:sl(n,.15),colorFillSecondary:sl(n,.06),colorFillTertiary:sl(n,.04),colorFillQuaternary:sl(n,.02),colorBgLayout:tm(r,4),colorBgContainer:tm(r,0),colorBgElevated:tm(r,0),colorBgSpotlight:sl(n,.85),colorBorder:tm(r,15),colorBorderSecondary:tm(r,6)}};function jee(e){const t=new Array(10).fill(null).map((r,n)=>{const i=n-1,o=e*Math.pow(2.71828,i/5),s=n>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return t[1]=e,t.map(r=>{const n=r+8;return{size:r,lineHeight:n/r}})}const Gee=e=>{const t=jee(e),r=t.map(i=>i.size),n=t.map(i=>i.lineHeight);return{fontSizeSM:r[0],fontSize:r[1],fontSizeLG:r[2],fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:n[1],lineHeightLG:n[2],lineHeightSM:n[0],lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}},Wee=Gee;function qee(e){const t=Object.keys(a$).map(r=>{const n=Sh(e[r]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${r}-${s+1}`]=n[s],i),{})}).reduce((r,n)=>(r=me(me({},r),n),r),{});return me(me(me(me(me(me(me({},e),t),Bee(e,{generateColorPalettes:Uee,generateNeutralColorPalettes:Hee})),Wee(e.fontSize)),zee(e)),Ree(e)),Vee(e))}function Lw(e){return e>=0&&e<=255}function Yy(e,t){const{r,g:n,b:i,a:o}=new yi(e).toRgb();if(o<1)return e;const{r:s,g:a,b:h}=new yi(t).toRgb();for(let d=.01;d<=1;d+=.01){const m=Math.round((r-s*(1-d))/d),v=Math.round((n-a*(1-d))/d),g=Math.round((i-h*(1-d))/d);if(Lw(m)&&Lw(v)&&Lw(g))return new yi({r:m,g:v,b:g,a:Math.round(d*100)/100}).toRgbString()}return new yi({r,g:n,b:i,a:1}).toRgbString()}var Xee=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Zee(e){const{override:t}=e,r=Xee(e,["override"]),n=me({},t);Object.keys(ib).forEach(_=>{delete n[_]});const i=me(me({},r),n),o=480,s=576,a=768,h=992,d=1200,m=1600,v=2e3;return me(me(me({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Yy(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Yy(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Yy(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Yy(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:h-1,screenLG:h,screenLGMin:h,screenLGMax:d-1,screenXL:d,screenXLMin:d,screenXLMax:m-1,screenXXL:m,screenXXLMin:m,screenXXLMax:v-1,screenXXXL:v,screenXXXLMin:v,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new yi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new yi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new yi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}const Kee=(e,t,r,n,i)=>{const o=e/2,s=0,a=o,h=r*1/Math.sqrt(2),d=o-r*(1-1/Math.sqrt(2)),m=o-t*(1/Math.sqrt(2)),v=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),g=2*o-m,_=v,T=2*o-h,P=d,M=2*o-s,I=a,D=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),O=r*(Math.sqrt(2)-1);return{pointerEvents:"none",width:e,height:e,overflow:"hidden","&::after":{content:'""',position:"absolute",width:D,height:D,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${t}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:e,height:e/2,background:n,clipPath:{_multi_value_:!0,value:[`polygon(${O}px 100%, 50% ${O}px, ${2*o-O}px 100%, ${O}px 100%)`,`path('M ${s} ${a} A ${r} ${r} 0 0 0 ${h} ${d} L ${m} ${v} A ${t} ${t} 0 0 1 ${g} ${_} L ${T} ${P} A ${r} ${r} 0 0 0 ${M} ${I} Z')`]},content:'""'}}};function Yee(e,t){return G0.reduce((r,n)=>{const i=e[`${n}-1`],o=e[`${n}-3`],s=e[`${n}-6`],a=e[`${n}-7`];return me(me({},r),t(n,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const s$={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Vd=e=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}),l$=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),d5=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Jee=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},[`&:active,
  &:hover`]:{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),Qee=(e,t)=>{const{fontFamily:r,fontSize:n}=e,i=`[class^="${t}"], [class*=" ${t}"]`;return{[i]:{fontFamily:r,fontSize:n,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},u$=e=>({outline:`${e.lineWidthBold}px solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),bE=e=>({"&:focus-visible":me({},u$(e))});function Rl(e,t,r){return n=>{const i=_e(()=>n==null?void 0:n.value),[o,s,a]=pg(),{getPrefixCls:h,iconPrefixCls:d}=$z(),m=_e(()=>h()),v=_e(()=>({theme:o.value,token:s.value,hashId:a.value,path:["Shared",m.value]}));US(v,()=>[{"&":Jee(s.value)}]);const g=_e(()=>({theme:o.value,token:s.value,hashId:a.value,path:[e,i.value,d.value]}));return[US(g,()=>{const{token:_,flush:T}=tte(s.value),P=typeof r=="function"?r(_):r,M=me(me({},P),s.value[e]),I=`.${i.value}`,D=Aa(_,{componentCls:I,prefixCls:i.value,iconCls:`.${d.value}`,antCls:`.${m.value}`},M),O=t(D,{hashId:a.value,prefixCls:i.value,rootPrefixCls:m.value,iconPrefixCls:d.value,overrideComponentToken:s.value[e]});return T(e,M),[Qee(s.value,i.value),O]}),a]}}const c$=typeof CSSINJS_STATISTIC<"u";let WS=!0;function Aa(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!c$)return me({},...t);WS=!1;const n={};return t.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),WS=!0,n}function ete(){}function tte(e){let t,r=e,n=ete;return c$&&(t=new Set,r=new Proxy(e,{get(i,o){return WS&&t.add(o),i[o]}}),n=(i,o)=>{Array.from(t)}),{token:r,keys:t,flush:n}}function rte(e){if(!fi(e))return eo(e);const t=new Proxy({},{get(r,n,i){return Reflect.get(e.value,n,i)},set(r,n,i){return e.value[n]=i,!0},deleteProperty(r,n){return Reflect.deleteProperty(e.value,n)},has(r,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return eo(t)}const nte=r$(qee),h$={token:ib,hashed:!0},f$=Symbol("DesignTokenContext"),d$=Ft(),ite=e=>{Mn(f$,e),di(()=>{d$.value=e})},ote=bt({props:{value:On()},setup(e,t){let{slots:r}=t;return ite(rte(_e(()=>e.value))),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}});function pg(){const e=Er(f$,d$.value||h$),t=_e(()=>`${gee}-${e.hashed||""}`),r=_e(()=>e.theme||nte),n=NQ(r,_e(()=>[ib,e.token]),_e(()=>({salt:t.value,override:me({override:e.token},e.components),formatToken:Zee})));return[r,_e(()=>n.value[0]),_e(()=>e.hashed?n.value[1]:"")]}const p$=bt({compatConfig:{MODE:3},setup(){const[,e]=pg(),t=_e(()=>new yi(e.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>fe("svg",{style:t.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[fe("g",{fill:"none","fill-rule":"evenodd"},[fe("g",{transform:"translate(24 31.67)"},[fe("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),fe("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),fe("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),fe("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),fe("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),fe("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),fe("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[fe("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),fe("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});p$.PRESENTED_IMAGE_DEFAULT=!0;const ate=p$,m$=bt({compatConfig:{MODE:3},setup(){const[,e]=pg(),t=_e(()=>{const{colorFill:r,colorFillTertiary:n,colorFillQuaternary:i,colorBgContainer:o}=e.value;return{borderColor:new yi(r).onBackground(o).toHexString(),shadowColor:new yi(n).onBackground(o).toHexString(),contentColor:new yi(i).onBackground(o).toHexString()}});return()=>fe("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[fe("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[fe("ellipse",{fill:t.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),fe("g",{"fill-rule":"nonzero",stroke:t.value.borderColor},[fe("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),fe("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:t.value.contentColor},null)])])])}});m$.PRESENTED_IMAGE_SIMPLE=!0;const ste=m$,lte=e=>{const{componentCls:t,margin:r,marginXS:n,marginXL:i,fontSize:o,lineHeight:s}=e;return{[t]:{marginInline:n,fontSize:o,lineHeight:s,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:n,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${t}-footer`]:{marginTop:r},"&-normal":{marginBlock:i,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:n,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}},ute=Rl("Empty",e=>{const{componentCls:t,controlHeightLG:r}=e,n=Aa(e,{emptyImgCls:`${t}-img`,emptyImgHeight:r*2.5,emptyImgHeightMD:r,emptyImgHeightSM:r*.875});return[lte(n)]});var cte=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const v$=fe(ate,null,null),g$=fe(ste,null,null),hte=()=>({prefixCls:String,imageStyle:On(),image:RS(),description:RS()}),xE=bt({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:hte(),setup(e,t){let{slots:r={},attrs:n}=t;const{direction:i,prefixCls:o}=os("empty",e),[s,a]=ute(o);return()=>{var h,d;const m=o.value,v=me(me({},e),n),{image:g=((h=r.image)===null||h===void 0?void 0:h.call(r))||v$,description:_=((d=r.description)===null||d===void 0?void 0:d.call(r))||void 0,imageStyle:T,class:P=""}=v,M=cte(v,["image","description","imageStyle","class"]);return s(fe(Nz,{componentName:"Empty",children:I=>{const D=typeof _<"u"?_:I.description,O=typeof D=="string"?D:"empty";let z=null;return typeof g=="string"?z=fe("img",{alt:O,src:g},null):z=g,fe("div",zt({class:$r(m,P,a.value,{[`${m}-normal`]:g===g$,[`${m}-rtl`]:i.value==="rtl"})},M),[fe("div",{class:`${m}-image`,style:T},[z]),D&&fe("p",{class:`${m}-description`},[D]),r.default&&fe("div",{class:`${m}-footer`},[dg(r.default())])])}},null))}}});xE.PRESENTED_IMAGE_DEFAULT=v$;xE.PRESENTED_IMAGE_SIMPLE=g$;const rm=Q1(xE),y$=e=>{const{prefixCls:t}=os("empty",e);return(n=>{switch(n){case"Table":case"List":return fe(rm,{image:rm.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return fe(rm,{image:rm.PRESENTED_IMAGE_SIMPLE,class:`${t.value}-small`},null);default:return fe(rm,null,null)}})(e.componentName)};function fte(e){return fe(y$,{componentName:e},null)}const _$=Symbol("SizeContextKey"),b$=()=>Er(_$,Ft(void 0)),dte=e=>{const t=b$();return Mn(_$,_e(()=>e.value||t.value)),e},os=(e,t)=>{const r=b$(),n=pE(),i=Er(dE,me(me({},zz),{renderEmpty:N=>Dr(y$,{componentName:N})})),o=_e(()=>i.getPrefixCls(e,t.prefixCls)),s=_e(()=>{var N,H;return(N=t.direction)!==null&&N!==void 0?N:(H=i.direction)===null||H===void 0?void 0:H.value}),a=_e(()=>{var N;return(N=t.iconPrefixCls)!==null&&N!==void 0?N:i.iconPrefixCls.value}),h=_e(()=>i.getPrefixCls()),d=_e(()=>{var N;return(N=i.autoInsertSpaceInButton)===null||N===void 0?void 0:N.value}),m=i.renderEmpty,v=i.space,g=i.pageHeader,_=i.form,T=_e(()=>{var N,H;return(N=t.getTargetContainer)!==null&&N!==void 0?N:(H=i.getTargetContainer)===null||H===void 0?void 0:H.value}),P=_e(()=>{var N,H;return(N=t.getPopupContainer)!==null&&N!==void 0?N:(H=i.getPopupContainer)===null||H===void 0?void 0:H.value}),M=_e(()=>{var N,H;return(N=t.dropdownMatchSelectWidth)!==null&&N!==void 0?N:(H=i.dropdownMatchSelectWidth)===null||H===void 0?void 0:H.value}),I=_e(()=>{var N;return(t.virtual===void 0?((N=i.virtual)===null||N===void 0?void 0:N.value)!==!1:t.virtual!==!1)&&M.value!==!1}),D=_e(()=>t.size||r.value),O=_e(()=>{var N,H,U;return(N=t.autocomplete)!==null&&N!==void 0?N:(U=(H=i.input)===null||H===void 0?void 0:H.value)===null||U===void 0?void 0:U.autocomplete}),z=_e(()=>{var N;return(N=t.disabled)!==null&&N!==void 0?N:n.value}),F=_e(()=>{var N;return(N=t.csp)!==null&&N!==void 0?N:i.csp});return{configProvider:i,prefixCls:o,direction:s,size:D,getTargetContainer:T,getPopupContainer:P,space:v,pageHeader:g,form:_,autoInsertSpaceInButton:d,renderEmpty:m,virtual:I,dropdownMatchSelectWidth:M,rootPrefixCls:h,getPrefixCls:i.getPrefixCls,autocomplete:O,csp:F,iconPrefixCls:a,disabled:z,select:i.select}};function pte(e,t){const r=me({},e);for(let n=0;n<t.length;n+=1){const i=t[n];delete r[i]}return r}function p5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x$(e,t,r){return t&&p5(e.prototype,t),r&&p5(e,r),e}function r0(){return(r0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function S$(e,t){if(e==null)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(i[r]=e[r]);return i}function m5(e){return((t=e)!=null&&typeof t=="object"&&Array.isArray(t)===!1)==1&&Object.prototype.toString.call(e)==="[object Object]";var t}var T$=Object.prototype,C$=T$.toString,mte=T$.hasOwnProperty,E$=/^\s*function (\w+)/;function v5(e){var t,r=(t=e==null?void 0:e.type)!==null&&t!==void 0?t:e;if(r){var n=r.toString().match(E$);return n?n[1]:""}return""}var Th=function(e){var t,r;return m5(e)!==!1&&typeof(t=e.constructor)=="function"&&m5(r=t.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1},vte=function(e){return e},mo=vte,Pv=function(e,t){return mte.call(e,t)},gte=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},Sd=Array.isArray||function(e){return C$.call(e)==="[object Array]"},Td=function(e){return C$.call(e)==="[object Function]"},W0=function(e){return Th(e)&&Pv(e,"_vueTypes_name")},A$=function(e){return Th(e)&&(Pv(e,"type")||["_vueTypes_name","validator","default","required"].some(function(t){return Pv(e,t)}))};function wE(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function Oh(e,t,r){var n;r===void 0&&(r=!1);var i=!0,o="";n=Th(e)?e:{type:e};var s=W0(n)?n._vueTypes_name+" - ":"";if(A$(n)&&n.type!==null){if(n.type===void 0||n.type===!0||!n.required&&t===void 0)return i;Sd(n.type)?(i=n.type.some(function(v){return Oh(v,t,!0)===!0}),o=n.type.map(function(v){return v5(v)}).join(" or ")):i=(o=v5(n))==="Array"?Sd(t):o==="Object"?Th(t):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(v){if(v==null)return"";var g=v.constructor.toString().match(E$);return g?g[1]:""}(t)===o:t instanceof n.type}if(!i){var a=s+'value "'+t+'" should be of type "'+o+'"';return r===!1?(mo(a),!1):a}if(Pv(n,"validator")&&Td(n.validator)){var h=mo,d=[];if(mo=function(v){d.push(v)},i=n.validator(t),mo=h,!i){var m=(d.length>1?"* ":"")+d.join(`
* `);return d.length=0,r===!1?(mo(m),i):m}}return i}function Qo(e,t){var r=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(i){return i!==void 0||this.default?Td(i)||Oh(this,i,!0)===!0?(this.default=Sd(i)?function(){return[].concat(i)}:Th(i)?function(){return Object.assign({},i)}:i,this):(mo(this._vueTypes_name+' - invalid default value: "'+i+'"'),this):this}}}),n=r.validator;return Td(n)&&(r.validator=wE(n,r)),r}function $s(e,t){var r=Qo(e,t);return Object.defineProperty(r,"validate",{value:function(n){return Td(this.validator)&&mo(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=wE(n,this),this}})}function g5(e,t,r){var n,i,o=(n=t,i={},Object.getOwnPropertyNames(n).forEach(function(v){i[v]=Object.getOwnPropertyDescriptor(n,v)}),Object.defineProperties({},i));if(o._vueTypes_name=e,!Th(r))return o;var s,a,h=r.validator,d=S$(r,["validator"]);if(Td(h)){var m=o.validator;m&&(m=(a=(s=m).__original)!==null&&a!==void 0?a:s),o.validator=wE(m?function(v){return m.call(this,v)&&h.call(this,v)}:h,o)}return Object.assign(o,d)}function ob(e){return e.replace(/^(?!\s*$)/gm,"  ")}var yte=function(){return $s("any",{})},_te=function(){return $s("function",{type:Function})},bte=function(){return $s("boolean",{type:Boolean})},xte=function(){return $s("string",{type:String})},wte=function(){return $s("number",{type:Number})},Ste=function(){return $s("array",{type:Array})},Tte=function(){return $s("object",{type:Object})},Cte=function(){return Qo("integer",{type:Number,validator:function(e){return gte(e)}})},Ete=function(){return Qo("symbol",{validator:function(e){return typeof e=="symbol"}})};function Ate(e,t){if(t===void 0&&(t="custom validation failed"),typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Qo(e.name||"<<anonymous function>>",{validator:function(r){var n=e(r);return n||mo(this._vueTypes_name+" - "+t),n}})}function Pte(e){if(!Sd(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var t='oneOf - value should be one of "'+e.join('", "')+'".',r=e.reduce(function(n,i){if(i!=null){var o=i.constructor;n.indexOf(o)===-1&&n.push(o)}return n},[]);return Qo("oneOf",{type:r.length>0?r:void 0,validator:function(n){var i=e.indexOf(n)!==-1;return i||mo(t),i}})}function Ite(e){if(!Sd(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var t=!1,r=[],n=0;n<e.length;n+=1){var i=e[n];if(A$(i)){if(W0(i)&&i._vueTypes_name==="oneOf"){r=r.concat(i.type);continue}if(Td(i.validator)&&(t=!0),i.type!==!0&&i.type){r=r.concat(i.type);continue}}r.push(i)}return r=r.filter(function(o,s){return r.indexOf(o)===s}),Qo("oneOfType",t?{type:r,validator:function(o){var s=[],a=e.some(function(h){var d=Oh(W0(h)&&h._vueTypes_name==="oneOf"?h.type||null:h,o,!0);return typeof d=="string"&&s.push(d),d===!0});return a||mo("oneOfType - provided value does not match any of the "+s.length+` passed-in validators:
`+ob(s.join(`
`))),a}}:{type:r})}function Mte(e){return Qo("arrayOf",{type:Array,validator:function(t){var r,n=t.every(function(i){return(r=Oh(e,i,!0))===!0});return n||mo(`arrayOf - value validation error:
`+ob(r)),n}})}function Dte(e){return Qo("instanceOf",{type:e})}function Lte(e){return Qo("objectOf",{type:Object,validator:function(t){var r,n=Object.keys(t).every(function(i){return(r=Oh(e,t[i],!0))===!0});return n||mo(`objectOf - value validation error:
`+ob(r)),n}})}function Ote(e){var t=Object.keys(e),r=t.filter(function(i){var o;return!!(!((o=e[i])===null||o===void 0)&&o.required)}),n=Qo("shape",{type:Object,validator:function(i){var o=this;if(!Th(i))return!1;var s=Object.keys(i);if(r.length>0&&r.some(function(h){return s.indexOf(h)===-1})){var a=r.filter(function(h){return s.indexOf(h)===-1});return mo(a.length===1?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return s.every(function(h){if(t.indexOf(h)===-1)return o._vueTypes_isLoose===!0||(mo('shape - shape definition does not include a "'+h+'" property. Allowed keys: "'+t.join('", "')+'".'),!1);var d=Oh(e[h],i[h],!0);return typeof d=="string"&&mo('shape - "'+h+`" property validation error:
 `+ob(d)),d===!0})}});return Object.defineProperty(n,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(n,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),n}var Ss=function(){function e(){}return e.extend=function(t){var r=this;if(Sd(t))return t.forEach(function(v){return r.extend(v)}),this;var n=t.name,i=t.validate,o=i!==void 0&&i,s=t.getter,a=s!==void 0&&s,h=S$(t,["name","validate","getter"]);if(Pv(this,n))throw new TypeError('[VueTypes error]: Type "'+n+'" already defined');var d,m=h.type;return W0(m)?(delete h.type,Object.defineProperty(this,n,a?{get:function(){return g5(n,m,h)}}:{value:function(){var v,g=g5(n,m,h);return g.validator&&(g.validator=(v=g.validator).bind.apply(v,[g].concat([].slice.call(arguments)))),g}})):(d=a?{get:function(){var v=Object.assign({},h);return o?$s(n,v):Qo(n,v)},enumerable:!0}:{value:function(){var v,g,_=Object.assign({},h);return v=o?$s(n,_):Qo(n,_),_.validator&&(v.validator=(g=_.validator).bind.apply(g,[v].concat([].slice.call(arguments)))),v},enumerable:!0},Object.defineProperty(this,n,d))},x$(e,null,[{key:"any",get:function(){return yte()}},{key:"func",get:function(){return _te().def(this.defaults.func)}},{key:"bool",get:function(){return bte().def(this.defaults.bool)}},{key:"string",get:function(){return xte().def(this.defaults.string)}},{key:"number",get:function(){return wte().def(this.defaults.number)}},{key:"array",get:function(){return Ste().def(this.defaults.array)}},{key:"object",get:function(){return Tte().def(this.defaults.object)}},{key:"integer",get:function(){return Cte().def(this.defaults.integer)}},{key:"symbol",get:function(){return Ete()}}]),e}();function P$(e){var t;return e===void 0&&(e={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(t=function(r){function n(){return r.apply(this,arguments)||this}return w$(n,r),x$(n,null,[{key:"sensibleDefaults",get:function(){return r0({},this.defaults)},set:function(i){this.defaults=i!==!1?r0({},i!==!0?i:e):{}}}]),n}(Ss)).defaults=r0({},e),t}Ss.defaults={},Ss.custom=Ate,Ss.oneOf=Pte,Ss.instanceOf=Dte,Ss.oneOfType=Ite,Ss.arrayOf=Mte,Ss.objectOf=Lte,Ss.shape=Ote,Ss.utils={validate:function(e,t){return Oh(t,e,!0)===!0},toType:function(e,t,r){return r===void 0&&(r=!1),r?$s(e,t):Qo(e,t)}};(function(e){function t(){return e.apply(this,arguments)||this}return w$(t,e),t})(P$());const I$=P$({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});I$.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const Xt=I$,Sl=(e,t,r)=>{see(e,`[ant-design-vue: ${t}] ${r}`)};function kte(){return""}function Rte(e){return e?e.ownerDocument:window.document}function M$(){}const zte=()=>({action:Xt.oneOfType([Xt.string,Xt.arrayOf(Xt.string)]).def([]),showAction:Xt.any.def([]),hideAction:Xt.any.def([]),getPopupClassNameFromAlign:Xt.any.def(kte),onPopupVisibleChange:Function,afterPopupVisibleChange:Xt.func.def(M$),popup:Xt.any,popupStyle:{type:Object,default:void 0},prefixCls:Xt.string.def("rc-trigger-popup"),popupClassName:Xt.string.def(""),popupPlacement:String,builtinPlacements:Xt.object,popupTransitionName:String,popupAnimation:Xt.any,mouseEnterDelay:Xt.number.def(0),mouseLeaveDelay:Xt.number.def(.1),zIndex:Number,focusDelay:Xt.number.def(0),blurDelay:Xt.number.def(.15),getPopupContainer:Function,getDocument:Xt.func.def(Rte),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:Xt.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),SE={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},$te=me(me({},SE),{mobile:{type:Object}}),Bte=me(me({},SE),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function TE(e){let{prefixCls:t,animation:r,transitionName:n}=e;return r?{name:`${t}-${r}`}:n?{name:n}:{}}function D$(e){const{prefixCls:t,visible:r,zIndex:n,mask:i,maskAnimation:o,maskTransitionName:s}=e;if(!i)return null;let a={};return(s||o)&&(a=TE({prefixCls:t,transitionName:s,animation:o})),fe(ns,zt({appear:!0},a),{default:()=>[wh(fe("div",{style:{zIndex:n},class:`${t}-mask`},null),[[gj("if"),r]])]})}D$.displayName="Mask";const Fte=bt({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:$te,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:r,slots:n}=t;const i=Ft();return r({forceAlign:()=>{},getElement:()=>i.value}),()=>{var o;const{zIndex:s,visible:a,prefixCls:h,mobile:{popupClassName:d,popupStyle:m,popupMotion:v={},popupRender:g}={}}=e,_=me({zIndex:s},m);let T=Do((o=n.default)===null||o===void 0?void 0:o.call(n));T.length>1&&(T=fe("div",{class:`${h}-content`},[T])),g&&(T=g(T));const P=$r(h,d);return fe(ns,zt({ref:i},v),{default:()=>[a?fe("div",{class:P,style:_},[T]):null]})}}});var Nte=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(m){try{d(n.next(m))}catch(v){s(v)}}function h(m){try{d(n.throw(m))}catch(v){s(v)}}function d(m){m.done?o(m.value):i(m.value).then(a,h)}d((n=n.apply(e,t||[])).next())})};const y5=["measure","align",null,"motion"],Vte=(e,t)=>{const r=Rt(null),n=Rt(),i=Rt(!1);function o(h){i.value||(r.value=h)}function s(){ri.cancel(n.value)}function a(h){s(),n.value=ri(()=>{let d=r.value;switch(r.value){case"align":d="motion";break;case"motion":d="stable";break}o(d),h==null||h()})}return rr(e,()=>{o("measure")},{immediate:!0,flush:"post"}),cn(()=>{rr(r,()=>{switch(r.value){case"measure":t();break}r.value&&(n.value=ri(()=>Nte(void 0,void 0,void 0,function*(){const h=y5.indexOf(r.value),d=y5[h+1];d&&h!==-1&&o(d)})))},{immediate:!0,flush:"post"})}),Pi(()=>{i.value=!0,s()}),[r,a]},Ute=e=>{const t=Rt({width:0,height:0});function r(i){t.value={width:i.offsetWidth,height:i.offsetHeight}}return[_e(()=>{const i={};if(e.value){const{width:o,height:s}=t.value;e.value.indexOf("height")!==-1&&s?i.height=`${s}px`:e.value.indexOf("minHeight")!==-1&&s&&(i.minHeight=`${s}px`),e.value.indexOf("width")!==-1&&o?i.width=`${o}px`:e.value.indexOf("minWidth")!==-1&&o&&(i.minWidth=`${o}px`)}return i}),r]};function _5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(r),!0).forEach(function(n){Hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qS(e){"@babel/helpers - typeof";return qS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qS(e)}function Hte(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nm,jte={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function q0(){if(nm!==void 0)return nm;nm="";var e=document.createElement("p").style,t="Transform";for(var r in jte)r+t in e&&(nm=r);return nm}function L$(){return q0()?"".concat(q0(),"TransitionProperty"):"transitionProperty"}function ab(){return q0()?"".concat(q0(),"Transform"):"transform"}function x5(e,t){var r=L$();r&&(e.style[r]=t,r!=="transitionProperty"&&(e.style.transitionProperty=t))}function Ow(e,t){var r=ab();r&&(e.style[r]=t,r!=="transform"&&(e.style.transform=t))}function Gte(e){return e.style.transitionProperty||e.style[L$()]}function Wte(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(ab());if(r&&r!=="none"){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}var qte=/matrix\((.*)\)/,Xte=/matrix3d\((.*)\)/;function Zte(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(ab());if(n&&n!=="none"){var i,o=n.match(qte);if(o)o=o[1],i=o.split(",").map(function(a){return parseFloat(a,10)}),i[4]=t.x,i[5]=t.y,Ow(e,"matrix(".concat(i.join(","),")"));else{var s=n.match(Xte)[1];i=s.split(",").map(function(a){return parseFloat(a,10)}),i[12]=t.x,i[13]=t.y,Ow(e,"matrix3d(".concat(i.join(","),")"))}}else Ow(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var Kte=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,mg;function w5(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function td(e,t,r){var n=r;if(qS(t)==="object"){for(var i in t)t.hasOwnProperty(i)&&td(e,i,t[i]);return}if(typeof n<"u"){typeof n=="number"&&(n="".concat(n,"px")),e.style[t]=n;return}return mg(e,t)}function Yte(e){var t,r,n,i=e.ownerDocument,o=i.body,s=i&&i.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),r-=s.clientLeft||o.clientLeft||0,n-=s.clientTop||o.clientTop||0,{left:r,top:n}}function O$(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof r!="number"){var i=e.document;r=i.documentElement[n],typeof r!="number"&&(r=i.body[n])}return r}function k$(e){return O$(e)}function R$(e){return O$(e,!0)}function Iv(e){var t=Yte(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=k$(n),t.top+=R$(n),t}function CE(e){return e!=null&&e==e.window}function z$(e){return CE(e)?e.document:e.nodeType===9?e:e.ownerDocument}function Jte(e,t,r){var n=r,i="",o=z$(e);return n=n||o.defaultView.getComputedStyle(e,null),n&&(i=n.getPropertyValue(t)||n[t]),i}var Qte=new RegExp("^(".concat(Kte,")(?!px)[a-z%]+$"),"i"),ere=/^(top|right|bottom|left)$/,kw="currentStyle",Rw="runtimeStyle",Cc="left",tre="px";function rre(e,t){var r=e[kw]&&e[kw][t];if(Qte.test(r)&&!ere.test(t)){var n=e.style,i=n[Cc],o=e[Rw][Cc];e[Rw][Cc]=e[kw][Cc],n[Cc]=t==="fontSize"?"1em":r||0,r=n.pixelLeft+tre,n[Cc]=i,e[Rw][Cc]=o}return r===""?"auto":r}typeof window<"u"&&(mg=window.getComputedStyle?Jte:rre);function Jy(e,t){return e==="left"?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function S5(e){if(e==="left")return"right";if(e==="right")return"left";if(e==="top")return"bottom";if(e==="bottom")return"top"}function T5(e,t,r){td(e,"position")==="static"&&(e.style.position="relative");var n=-999,i=-999,o=Jy("left",r),s=Jy("top",r),a=S5(o),h=S5(s);o!=="left"&&(n=999),s!=="top"&&(i=999);var d="",m=Iv(e);("left"in t||"top"in t)&&(d=Gte(e)||"",x5(e,"none")),"left"in t&&(e.style[a]="",e.style[o]="".concat(n,"px")),"top"in t&&(e.style[h]="",e.style[s]="".concat(i,"px")),w5(e);var v=Iv(e),g={};for(var _ in t)if(t.hasOwnProperty(_)){var T=Jy(_,r),P=_==="left"?n:i,M=m[_]-v[_];T===_?g[T]=P+M:g[T]=P-M}td(e,g),w5(e),("left"in t||"top"in t)&&x5(e,d);var I={};for(var D in t)if(t.hasOwnProperty(D)){var O=Jy(D,r),z=t[D]-m[D];D===O?I[O]=g[O]+z:I[O]=g[O]-z}td(e,I)}function nre(e,t){var r=Iv(e),n=Wte(e),i={x:n.x,y:n.y};"left"in t&&(i.x=n.x+t.left-r.left),"top"in t&&(i.y=n.y+t.top-r.top),Zte(e,i)}function ire(e,t,r){if(r.ignoreShake){var n=Iv(e),i=n.left.toFixed(0),o=n.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(i===s&&o===a)return}r.useCssRight||r.useCssBottom?T5(e,t,r):r.useCssTransform&&ab()in document.body.style?nre(e,t):T5(e,t,r)}function EE(e,t){for(var r=0;r<e.length;r++)t(e[r])}function $$(e){return mg(e,"boxSizing")==="border-box"}var ore=["margin","border","padding"],XS=-1,are=2,ZS=1,sre=0;function lre(e,t,r){var n={},i=e.style,o;for(o in t)t.hasOwnProperty(o)&&(n[o]=i[o],i[o]=t[o]);r.call(e);for(o in t)t.hasOwnProperty(o)&&(i[o]=n[o])}function Im(e,t,r){var n=0,i,o,s;for(o=0;o<t.length;o++)if(i=t[o],i)for(s=0;s<r.length;s++){var a=void 0;i==="border"?a="".concat(i).concat(r[s],"Width"):a=i+r[s],n+=parseFloat(mg(e,a))||0}return n}var Is={getParent:function(t){var r=t;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};EE(["Width","Height"],function(e){Is["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],Is["viewport".concat(e)](r))},Is["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,i=n.body,o=n.documentElement,s=o[r];return n.compatMode==="CSS1Compat"&&s||i&&i[r]||s}});function C5(e,t,r){var n=r;if(CE(e))return t==="width"?Is.viewportWidth(e):Is.viewportHeight(e);if(e.nodeType===9)return t==="width"?Is.docWidth(e):Is.docHeight(e);var i=t==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(t==="width"?e.getBoundingClientRect().width:e.getBoundingClientRect().height),s=$$(e),a=0;(o==null||o<=0)&&(o=void 0,a=mg(e,t),(a==null||Number(a)<0)&&(a=e.style[t]||0),a=Math.floor(parseFloat(a))||0),n===void 0&&(n=s?ZS:XS);var h=o!==void 0||s,d=o||a;return n===XS?h?d-Im(e,["border","padding"],i):a:h?n===ZS?d:d+(n===are?-Im(e,["border"],i):Im(e,["margin"],i)):a+Im(e,ore.slice(n),i)}var ure={position:"absolute",visibility:"hidden",display:"block"};function E5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t[0];return i.offsetWidth!==0?n=C5.apply(void 0,t):lre(i,ure,function(){n=C5.apply(void 0,t)}),n}EE(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Is["outer".concat(t)]=function(n,i){return n&&E5(n,e,i?sre:ZS)};var r=e==="width"?["Left","Right"]:["Top","Bottom"];Is[e]=function(n,i){var o=i;if(o!==void 0){if(n){var s=$$(n);return s&&(o+=Im(n,["padding","border"],r)),td(n,e,o)}return}return n&&E5(n,e,XS)}});function B$(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Sr={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var r=t.ownerDocument||t;return r.defaultView||r.parentWindow},getDocument:z$,offset:function(t,r,n){if(typeof r<"u")ire(t,r,n||{});else return Iv(t)},isWindow:CE,each:EE,css:td,clone:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var i=t.overflow;if(i)for(r in t)t.hasOwnProperty(r)&&(n.overflow[r]=t.overflow[r]);return n},mix:B$,getWindowScrollLeft:function(t){return k$(t)},getWindowScrollTop:function(t){return R$(t)},merge:function(){for(var t={},r=0;r<arguments.length;r++)Sr.mix(t,r<0||arguments.length<=r?void 0:arguments[r]);return t},viewportWidth:0,viewportHeight:0};B$(Sr,Is);var zw=Sr.getParent;function KS(e){if(Sr.isWindow(e)||e.nodeType===9)return null;var t=Sr.getDocument(e),r=t.body,n,i=Sr.css(e,"position"),o=i==="fixed"||i==="absolute";if(!o)return e.nodeName.toLowerCase()==="html"?null:zw(e);for(n=zw(e);n&&n!==r&&n.nodeType!==9;n=zw(n))if(i=Sr.css(n,"position"),i!=="static")return n;return null}var A5=Sr.getParent;function cre(e){if(Sr.isWindow(e)||e.nodeType===9)return!1;var t=Sr.getDocument(e),r=t.body,n=null;for(n=A5(e);n&&n!==r&&n!==t;n=A5(n)){var i=Sr.css(n,"position");if(i==="fixed")return!0}return!1}function AE(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=KS(e),i=Sr.getDocument(e),o=i.defaultView||i.parentWindow,s=i.body,a=i.documentElement;n;){if((navigator.userAgent.indexOf("MSIE")===-1||n.clientWidth!==0)&&n!==s&&n!==a&&Sr.css(n,"overflow")!=="visible"){var h=Sr.offset(n);h.left+=n.clientLeft,h.top+=n.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+n.clientWidth),r.bottom=Math.min(r.bottom,h.top+n.clientHeight),r.left=Math.max(r.left,h.left)}else if(n===s||n===a)break;n=KS(n)}var d=null;if(!Sr.isWindow(e)&&e.nodeType!==9){d=e.style.position;var m=Sr.css(e,"position");m==="absolute"&&(e.style.position="fixed")}var v=Sr.getWindowScrollLeft(o),g=Sr.getWindowScrollTop(o),_=Sr.viewportWidth(o),T=Sr.viewportHeight(o),P=a.scrollWidth,M=a.scrollHeight,I=window.getComputedStyle(s);if(I.overflowX==="hidden"&&(P=o.innerWidth),I.overflowY==="hidden"&&(M=o.innerHeight),e.style&&(e.style.position=d),t||cre(e))r.left=Math.max(r.left,v),r.top=Math.max(r.top,g),r.right=Math.min(r.right,v+_),r.bottom=Math.min(r.bottom,g+T);else{var D=Math.max(P,v+_);r.right=Math.min(r.right,D);var O=Math.max(M,g+T);r.bottom=Math.min(r.bottom,O)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function hre(e,t,r,n){var i=Sr.clone(e),o={width:t.width,height:t.height};return n.adjustX&&i.left<r.left&&(i.left=r.left),n.resizeWidth&&i.left>=r.left&&i.left+o.width>r.right&&(o.width-=i.left+o.width-r.right),n.adjustX&&i.left+o.width>r.right&&(i.left=Math.max(r.right-o.width,r.left)),n.adjustY&&i.top<r.top&&(i.top=r.top),n.resizeHeight&&i.top>=r.top&&i.top+o.height>r.bottom&&(o.height-=i.top+o.height-r.bottom),n.adjustY&&i.top+o.height>r.bottom&&(i.top=Math.max(r.bottom-o.height,r.top)),Sr.mix(i,o)}function PE(e){var t,r,n;if(!Sr.isWindow(e)&&e.nodeType!==9)t=Sr.offset(e),r=Sr.outerWidth(e),n=Sr.outerHeight(e);else{var i=Sr.getWindow(e);t={left:Sr.getWindowScrollLeft(i),top:Sr.getWindowScrollTop(i)},r=Sr.viewportWidth(i),n=Sr.viewportHeight(i)}return t.width=r,t.height=n,t}function P5(e,t){var r=t.charAt(0),n=t.charAt(1),i=e.width,o=e.height,s=e.left,a=e.top;return r==="c"?a+=o/2:r==="b"&&(a+=o),n==="c"?s+=i/2:n==="r"&&(s+=i),{left:s,top:a}}function Qy(e,t,r,n,i){var o=P5(t,r[1]),s=P5(e,r[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(e.left-a[0]+n[0]-i[0]),top:Math.round(e.top-a[1]+n[1]-i[1])}}function I5(e,t,r){return e.left<r.left||e.left+t.width>r.right}function M5(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function fre(e,t,r){return e.left>r.right||e.left+t.width<r.left}function dre(e,t,r){return e.top>r.bottom||e.top+t.height<r.top}function e_(e,t,r){var n=[];return Sr.each(e,function(i){n.push(i.replace(t,function(o){return r[o]}))}),n}function t_(e,t){return e[t]=-e[t],e}function D5(e,t){var r;return/%$/.test(e)?r=parseInt(e.substring(0,e.length-1),10)/100*t:r=parseInt(e,10),r||0}function L5(e,t){e[0]=D5(e[0],t.width),e[1]=D5(e[1],t.height)}function F$(e,t,r,n){var i=r.points,o=r.offset||[0,0],s=r.targetOffset||[0,0],a=r.overflow,h=r.source||e;o=[].concat(o),s=[].concat(s),a=a||{};var d={},m=0,v=!!(a&&a.alwaysByViewport),g=AE(h,v),_=PE(h);L5(o,_),L5(s,t);var T=Qy(_,t,i,o,s),P=Sr.merge(_,T);if(g&&(a.adjustX||a.adjustY)&&n){if(a.adjustX&&I5(T,_,g)){var M=e_(i,/[lr]/gi,{l:"r",r:"l"}),I=t_(o,0),D=t_(s,0),O=Qy(_,t,M,I,D);fre(O,_,g)||(m=1,i=M,o=I,s=D)}if(a.adjustY&&M5(T,_,g)){var z=e_(i,/[tb]/gi,{t:"b",b:"t"}),F=t_(o,1),N=t_(s,1),H=Qy(_,t,z,F,N);dre(H,_,g)||(m=1,i=z,o=F,s=N)}m&&(T=Qy(_,t,i,o,s),Sr.mix(P,T));var U=I5(T,_,g),J=M5(T,_,g);if(U||J){var K=i;U&&(K=e_(i,/[lr]/gi,{l:"r",r:"l"})),J&&(K=e_(i,/[tb]/gi,{t:"b",b:"t"})),i=K,o=r.offset||[0,0],s=r.targetOffset||[0,0]}d.adjustX=a.adjustX&&U,d.adjustY=a.adjustY&&J,(d.adjustX||d.adjustY)&&(P=hre(T,_,g,d))}return P.width!==_.width&&Sr.css(h,"width",Sr.width(h)+P.width-_.width),P.height!==_.height&&Sr.css(h,"height",Sr.height(h)+P.height-_.height),Sr.offset(h,{left:P.left,top:P.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:i,offset:o,targetOffset:s,overflow:d}}function pre(e,t){var r=AE(e,t),n=PE(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}function IE(e,t,r){var n=r.target||t,i=PE(n),o=!pre(n,r.overflow&&r.overflow.alwaysByViewport);return F$(e,i,r,o)}IE.__getOffsetParent=KS;IE.__getVisibleRectForElement=AE;function mre(e,t,r){var n,i,o=Sr.getDocument(e),s=o.defaultView||o.parentWindow,a=Sr.getWindowScrollLeft(s),h=Sr.getWindowScrollTop(s),d=Sr.viewportWidth(s),m=Sr.viewportHeight(s);"pageX"in t?n=t.pageX:n=a+t.clientX,"pageY"in t?i=t.pageY:i=h+t.clientY;var v={left:n,top:i,width:0,height:0},g=n>=0&&n<=a+d&&i>=0&&i<=h+m,_=[r.points[0],"cc"];return F$(e,v,b5(b5({},r),{},{points:_}),g)}function Bs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e;if(Array.isArray(e)&&(i=dg(e)[0]),!i)return null;const o=Al(i,t,n);return o.props=r?me(me({},o.props),t):o.props,nb(typeof o.props.class!="object"),o}const N$=e=>{if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){const t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){const t=e.getBoundingClientRect();if(t.width||t.height)return!0}return!1};function vre(e,t){return e===t?!0:!e||!t?!1:"pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t?e.clientX===t.clientX&&e.clientY===t.clientY:!1}function gre(e,t){e!==document.activeElement&&nh(t,e)&&typeof e.focus=="function"&&e.focus()}function O5(e,t){let r=null,n=null;function i(s){let[{target:a}]=s;if(!document.documentElement.contains(a))return;const{width:h,height:d}=a.getBoundingClientRect(),m=Math.floor(h),v=Math.floor(d);(r!==m||n!==v)&&Promise.resolve().then(()=>{t({width:m,height:v})}),r=m,n=v}const o=new Ez(i);return e&&o.observe(e),()=>{o.disconnect()}}const yre=(e,t)=>{let r=!1,n=null;function i(){clearTimeout(n)}function o(s){if(!r||s===!0){if(e()===!1)return;r=!0,i(),n=setTimeout(()=>{r=!1},t.value)}else i(),n=setTimeout(()=>{r=!1,o()},t.value)}return[o,()=>{r=!1,i()}]};function _re(){this.__data__=[],this.size=0}function ME(e,t){return e===t||e!==e&&t!==t}function sb(e,t){for(var r=e.length;r--;)if(ME(e[r][0],t))return r;return-1}var bre=Array.prototype,xre=bre.splice;function wre(e){var t=this.__data__,r=sb(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xre.call(t,r,1),--this.size,!0}function Sre(e){var t=this.__data__,r=sb(t,e);return r<0?void 0:t[r][1]}function Tre(e){return sb(this.__data__,e)>-1}function Cre(e,t){var r=this.__data__,n=sb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function zl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zl.prototype.clear=_re;zl.prototype.delete=wre;zl.prototype.get=Sre;zl.prototype.has=Tre;zl.prototype.set=Cre;function Ere(){this.__data__=new zl,this.size=0}function Are(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Pre(e){return this.__data__.get(e)}function Ire(e){return this.__data__.has(e)}function X0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mre="[object AsyncFunction]",Dre="[object Function]",Lre="[object GeneratorFunction]",Ore="[object Proxy]";function V$(e){if(!X0(e))return!1;var t=Fd(e);return t==Dre||t==Lre||t==Mre||t==Ore}var kre=kl["__core-js_shared__"];const $w=kre;var k5=function(){var e=/[^.]+$/.exec($w&&$w.keys&&$w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rre(e){return!!k5&&k5 in e}var zre=Function.prototype,$re=zre.toString;function kh(e){if(e!=null){try{return $re.call(e)}catch{}try{return e+""}catch{}}return""}var Bre=/[\\^$.*+?()[\]{}|]/g,Fre=/^\[object .+?Constructor\]$/,Nre=Function.prototype,Vre=Object.prototype,Ure=Nre.toString,Hre=Vre.hasOwnProperty,jre=RegExp("^"+Ure.call(Hre).replace(Bre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gre(e){if(!X0(e)||Rre(e))return!1;var t=V$(e)?jre:Fre;return t.test(kh(e))}function Wre(e,t){return e==null?void 0:e[t]}function Rh(e,t){var r=Wre(e,t);return Gre(r)?r:void 0}var qre=Rh(kl,"Map");const Mv=qre;var Xre=Rh(Object,"create");const Dv=Xre;function Zre(){this.__data__=Dv?Dv(null):{},this.size=0}function Kre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yre="__lodash_hash_undefined__",Jre=Object.prototype,Qre=Jre.hasOwnProperty;function ene(e){var t=this.__data__;if(Dv){var r=t[e];return r===Yre?void 0:r}return Qre.call(t,e)?t[e]:void 0}var tne=Object.prototype,rne=tne.hasOwnProperty;function nne(e){var t=this.__data__;return Dv?t[e]!==void 0:rne.call(t,e)}var ine="__lodash_hash_undefined__";function one(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Dv&&t===void 0?ine:t,this}function Ch(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ch.prototype.clear=Zre;Ch.prototype.delete=Kre;Ch.prototype.get=ene;Ch.prototype.has=nne;Ch.prototype.set=one;function ane(){this.size=0,this.__data__={hash:new Ch,map:new(Mv||zl),string:new Ch}}function sne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lb(e,t){var r=e.__data__;return sne(t)?r[typeof t=="string"?"string":"hash"]:r.map}function lne(e){var t=lb(this,e).delete(e);return this.size-=t?1:0,t}function une(e){return lb(this,e).get(e)}function cne(e){return lb(this,e).has(e)}function hne(e,t){var r=lb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function $l(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$l.prototype.clear=ane;$l.prototype.delete=lne;$l.prototype.get=une;$l.prototype.has=cne;$l.prototype.set=hne;var fne=200;function dne(e,t){var r=this.__data__;if(r instanceof zl){var n=r.__data__;if(!Mv||n.length<fne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $l(n)}return r.set(e,t),this.size=r.size,this}function $u(e){var t=this.__data__=new zl(e);this.size=t.size}$u.prototype.clear=Ere;$u.prototype.delete=Are;$u.prototype.get=Pre;$u.prototype.has=Ire;$u.prototype.set=dne;var pne="__lodash_hash_undefined__";function mne(e){return this.__data__.set(e,pne),this}function vne(e){return this.__data__.has(e)}function Lv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $l;++t<r;)this.add(e[t])}Lv.prototype.add=Lv.prototype.push=mne;Lv.prototype.has=vne;function gne(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function U$(e,t){return e.has(t)}var yne=1,_ne=2;function H$(e,t,r,n,i,o){var s=r&yne,a=e.length,h=t.length;if(a!=h&&!(s&&h>a))return!1;var d=o.get(e),m=o.get(t);if(d&&m)return d==t&&m==e;var v=-1,g=!0,_=r&_ne?new Lv:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var T=e[v],P=t[v];if(n)var M=s?n(P,T,v,t,e,o):n(T,P,v,e,t,o);if(M!==void 0){if(M)continue;g=!1;break}if(_){if(!gne(t,function(I,D){if(!U$(_,D)&&(T===I||i(T,I,r,n,o)))return _.push(D)})){g=!1;break}}else if(!(T===P||i(T,P,r,n,o))){g=!1;break}}return o.delete(e),o.delete(t),g}var bne=kl.Uint8Array;const R5=bne;function xne(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function DE(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wne=1,Sne=2,Tne="[object Boolean]",Cne="[object Date]",Ene="[object Error]",Ane="[object Map]",Pne="[object Number]",Ine="[object RegExp]",Mne="[object Set]",Dne="[object String]",Lne="[object Symbol]",One="[object ArrayBuffer]",kne="[object DataView]",z5=zs?zs.prototype:void 0,Bw=z5?z5.valueOf:void 0;function Rne(e,t,r,n,i,o,s){switch(r){case kne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case One:return!(e.byteLength!=t.byteLength||!o(new R5(e),new R5(t)));case Tne:case Cne:case Pne:return ME(+e,+t);case Ene:return e.name==t.name&&e.message==t.message;case Ine:case Dne:return e==t+"";case Ane:var a=xne;case Mne:var h=n&wne;if(a||(a=DE),e.size!=t.size&&!h)return!1;var d=s.get(e);if(d)return d==t;n|=Sne,s.set(e,t);var m=H$(a(e),a(t),n,i,o,s);return s.delete(e),m;case Lne:if(Bw)return Bw.call(e)==Bw.call(t)}return!1}function j$(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var zne=Array.isArray;const Fs=zne;function $ne(e,t,r){var n=t(e);return Fs(e)?n:j$(n,r(e))}function Bne(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Fne(){return[]}var Nne=Object.prototype,Vne=Nne.propertyIsEnumerable,$5=Object.getOwnPropertySymbols,Une=$5?function(e){return e==null?[]:(e=Object(e),Bne($5(e),function(t){return Vne.call(e,t)}))}:Fne;const Hne=Une;function jne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Gne="[object Arguments]";function B5(e){return bd(e)&&Fd(e)==Gne}var G$=Object.prototype,Wne=G$.hasOwnProperty,qne=G$.propertyIsEnumerable,Xne=B5(function(){return arguments}())?B5:function(e){return bd(e)&&Wne.call(e,"callee")&&!qne.call(e,"callee")};const ub=Xne;function Zne(){return!1}var W$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,F5=W$&&typeof module=="object"&&module&&!module.nodeType&&module,Kne=F5&&F5.exports===W$,N5=Kne?kl.Buffer:void 0,Yne=N5?N5.isBuffer:void 0,Jne=Yne||Zne;const Z0=Jne;var Qne=9007199254740991,eie=/^(?:0|[1-9]\d*)$/;function LE(e,t){var r=typeof e;return t=t??Qne,!!t&&(r=="number"||r!="symbol"&&eie.test(e))&&e>-1&&e%1==0&&e<t}var tie=9007199254740991;function OE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tie}var rie="[object Arguments]",nie="[object Array]",iie="[object Boolean]",oie="[object Date]",aie="[object Error]",sie="[object Function]",lie="[object Map]",uie="[object Number]",cie="[object Object]",hie="[object RegExp]",fie="[object Set]",die="[object String]",pie="[object WeakMap]",mie="[object ArrayBuffer]",vie="[object DataView]",gie="[object Float32Array]",yie="[object Float64Array]",_ie="[object Int8Array]",bie="[object Int16Array]",xie="[object Int32Array]",wie="[object Uint8Array]",Sie="[object Uint8ClampedArray]",Tie="[object Uint16Array]",Cie="[object Uint32Array]",Ln={};Ln[gie]=Ln[yie]=Ln[_ie]=Ln[bie]=Ln[xie]=Ln[wie]=Ln[Sie]=Ln[Tie]=Ln[Cie]=!0;Ln[rie]=Ln[nie]=Ln[mie]=Ln[iie]=Ln[vie]=Ln[oie]=Ln[aie]=Ln[sie]=Ln[lie]=Ln[uie]=Ln[cie]=Ln[hie]=Ln[fie]=Ln[die]=Ln[pie]=!1;function Eie(e){return bd(e)&&OE(e.length)&&!!Ln[Fd(e)]}function Aie(e){return function(t){return e(t)}}var q$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xm=q$&&typeof module=="object"&&module&&!module.nodeType&&module,Pie=Xm&&Xm.exports===q$,Fw=Pie&&Az.process,Iie=function(){try{var e=Xm&&Xm.require&&Xm.require("util").types;return e||Fw&&Fw.binding&&Fw.binding("util")}catch{}}();const V5=Iie;var U5=V5&&V5.isTypedArray,Mie=U5?Aie(U5):Eie;const kE=Mie;var Die=Object.prototype,Lie=Die.hasOwnProperty;function Oie(e,t){var r=Fs(e),n=!r&&ub(e),i=!r&&!n&&Z0(e),o=!r&&!n&&!i&&kE(e),s=r||n||i||o,a=s?jne(e.length,String):[],h=a.length;for(var d in e)(t||Lie.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||LE(d,h)))&&a.push(d);return a}var kie=Object.prototype;function X$(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kie;return e===r}var Rie=iQ(Object.keys,Object);const zie=Rie;var $ie=Object.prototype,Bie=$ie.hasOwnProperty;function Z$(e){if(!X$(e))return zie(e);var t=[];for(var r in Object(e))Bie.call(e,r)&&r!="constructor"&&t.push(r);return t}function K$(e){return e!=null&&OE(e.length)&&!V$(e)}function Fie(e){return K$(e)?Oie(e):Z$(e)}function H5(e){return $ne(e,Fie,Hne)}var Nie=1,Vie=Object.prototype,Uie=Vie.hasOwnProperty;function Hie(e,t,r,n,i,o){var s=r&Nie,a=H5(e),h=a.length,d=H5(t),m=d.length;if(h!=m&&!s)return!1;for(var v=h;v--;){var g=a[v];if(!(s?g in t:Uie.call(t,g)))return!1}var _=o.get(e),T=o.get(t);if(_&&T)return _==t&&T==e;var P=!0;o.set(e,t),o.set(t,e);for(var M=s;++v<h;){g=a[v];var I=e[g],D=t[g];if(n)var O=s?n(D,I,g,t,e,o):n(I,D,g,e,t,o);if(!(O===void 0?I===D||i(I,D,r,n,o):O)){P=!1;break}M||(M=g=="constructor")}if(P&&!M){var z=e.constructor,F=t.constructor;z!=F&&"constructor"in e&&"constructor"in t&&!(typeof z=="function"&&z instanceof z&&typeof F=="function"&&F instanceof F)&&(P=!1)}return o.delete(e),o.delete(t),P}var jie=Rh(kl,"DataView");const YS=jie;var Gie=Rh(kl,"Promise");const JS=Gie;var Wie=Rh(kl,"Set");const rd=Wie;var qie=Rh(kl,"WeakMap");const QS=qie;var j5="[object Map]",Xie="[object Object]",G5="[object Promise]",W5="[object Set]",q5="[object WeakMap]",X5="[object DataView]",Zie=kh(YS),Kie=kh(Mv),Yie=kh(JS),Jie=kh(rd),Qie=kh(QS),Yc=Fd;(YS&&Yc(new YS(new ArrayBuffer(1)))!=X5||Mv&&Yc(new Mv)!=j5||JS&&Yc(JS.resolve())!=G5||rd&&Yc(new rd)!=W5||QS&&Yc(new QS)!=q5)&&(Yc=function(e){var t=Fd(e),r=t==Xie?e.constructor:void 0,n=r?kh(r):"";if(n)switch(n){case Zie:return X5;case Kie:return j5;case Yie:return G5;case Jie:return W5;case Qie:return q5}return t});const eT=Yc;var eoe=1,Z5="[object Arguments]",K5="[object Array]",r_="[object Object]",toe=Object.prototype,Y5=toe.hasOwnProperty;function roe(e,t,r,n,i,o){var s=Fs(e),a=Fs(t),h=s?K5:eT(e),d=a?K5:eT(t);h=h==Z5?r_:h,d=d==Z5?r_:d;var m=h==r_,v=d==r_,g=h==d;if(g&&Z0(e)){if(!Z0(t))return!1;s=!0,m=!1}if(g&&!m)return o||(o=new $u),s||kE(e)?H$(e,t,r,n,i,o):Rne(e,t,h,r,n,i,o);if(!(r&eoe)){var _=m&&Y5.call(e,"__wrapped__"),T=v&&Y5.call(t,"__wrapped__");if(_||T){var P=_?e.value():e,M=T?t.value():t;return o||(o=new $u),i(P,M,r,n,o)}}return g?(o||(o=new $u),Hie(e,t,r,n,i,o)):!1}function Y$(e,t,r,n,i){return e===t?!0:e==null||t==null||!bd(e)&&!bd(t)?e!==e&&t!==t:roe(e,t,r,n,Y$,i)}function noe(e,t){return Y$(e,t)}const ioe={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function J5(e){return typeof e!="function"?null:e()}function Q5(e){return typeof e!="object"||!e?null:e}const ooe=bt({compatConfig:{MODE:3},name:"Align",props:ioe,emits:["align"],setup(e,t){let{expose:r,slots:n}=t;const i=Ft({}),o=Ft(),[s,a]=yre(()=>{const{disabled:g,target:_,align:T,onAlign:P}=e;if(!g&&_&&o.value){const M=o.value;let I;const D=J5(_),O=Q5(_);i.value.element=D,i.value.point=O,i.value.align=T;const{activeElement:z}=document;return D&&N$(D)?I=IE(M,D,T):O&&(I=mre(M,O,T)),gre(z,M),P&&I&&P(M,I),!0}return!1},_e(()=>e.monitorBufferTime)),h=Ft({cancel:()=>{}}),d=Ft({cancel:()=>{}}),m=()=>{const g=e.target,_=J5(g),T=Q5(g);o.value!==d.value.element&&(d.value.cancel(),d.value.element=o.value,d.value.cancel=O5(o.value,s)),(i.value.element!==_||!vre(i.value.point,T)||!noe(i.value.align,e.align))&&(s(),h.value.element!==_&&(h.value.cancel(),h.value.element=_,h.value.cancel=O5(_,s)))};cn(()=>{ko(()=>{m()})}),Mh(()=>{ko(()=>{m()})}),rr(()=>e.disabled,g=>{g?a():s()},{immediate:!0,flush:"post"});const v=Ft(null);return rr(()=>e.monitorWindowResize,g=>{g?v.value||(v.value=Pm(window,"resize",s)):v.value&&(v.value.remove(),v.value=null)},{flush:"post"}),Ll(()=>{h.value.cancel(),d.value.cancel(),v.value&&v.value.remove(),a()}),r({forceAlign:()=>s(!0)}),()=>{const g=n==null?void 0:n.default();return g?Bs(g[0],{ref:o},!0,!0):null}}});V0("bottomLeft","bottomRight","topLeft","topRight");const J$=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return me(e?{name:e,appear:!0,enterFromClass:`${e}-enter ${e}-enter-prepare ${e}-enter-start`,enterActiveClass:`${e}-enter ${e}-enter-prepare`,enterToClass:`${e}-enter ${e}-enter-active`,leaveFromClass:` ${e}-leave`,leaveActiveClass:`${e}-leave ${e}-leave-active`,leaveToClass:`${e}-leave ${e}-leave-active`}:{css:!1},t)},Q$=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return me(e?{name:e,appear:!0,appearActiveClass:`${e}`,appearToClass:`${e}-appear ${e}-appear-active`,enterFromClass:`${e}-appear ${e}-enter ${e}-appear-prepare ${e}-enter-prepare`,enterActiveClass:`${e}`,enterToClass:`${e}-enter ${e}-appear ${e}-appear-active ${e}-enter-active`,leaveActiveClass:`${e} ${e}-leave`,leaveToClass:`${e}-leave-active`}:{css:!1},t)},aoe=(e,t,r)=>r!==void 0?r:`${e}-${t}`,soe=bt({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:SE,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(e,t){let{expose:r,attrs:n,slots:i}=t;const o=Rt(),s=Rt(),a=Rt(),[h,d]=Ute(E0(e,"stretch")),m=()=>{e.stretch&&d(e.getRootDomNode())},v=Rt(!1);let g;rr(()=>e.visible,N=>{clearTimeout(g),N?g=setTimeout(()=>{v.value=e.visible}):v.value=!1},{immediate:!0});const[_,T]=Vte(v,m),P=Rt(),M=()=>e.point?e.point:e.getRootDomNode,I=()=>{var N;(N=o.value)===null||N===void 0||N.forceAlign()},D=(N,H)=>{var U;const J=e.getClassNameFromAlign(H),K=a.value;a.value!==J&&(a.value=J),_.value==="align"&&(K!==J?Promise.resolve().then(()=>{I()}):T(()=>{var ne;(ne=P.value)===null||ne===void 0||ne.call(P)}),(U=e.onAlign)===null||U===void 0||U.call(e,N,H))},O=_e(()=>{const N=typeof e.animation=="object"?e.animation:TE(e);return["onAfterEnter","onAfterLeave"].forEach(H=>{const U=N[H];N[H]=J=>{T(),_.value="stable",U==null||U(J)}}),N}),z=()=>new Promise(N=>{P.value=N});rr([O,_],()=>{!O.value&&_.value==="motion"&&T()},{immediate:!0}),r({forceAlign:I,getElement:()=>s.value.$el||s.value});const F=_e(()=>{var N;return!(!((N=e.align)===null||N===void 0)&&N.points&&(_.value==="align"||_.value==="stable"))});return()=>{var N;const{zIndex:H,align:U,prefixCls:J,destroyPopupOnHide:K,onMouseenter:ne,onMouseleave:ae,onTouchstart:he=()=>{},onMousedown:ie}=e,de=_.value,ce=[me(me({},h.value),{zIndex:H,opacity:de==="motion"||de==="stable"||!v.value?null:0,pointerEvents:!v.value&&de!=="stable"?"none":null}),n.style];let Be=Do((N=i.default)===null||N===void 0?void 0:N.call(i,{visible:e.visible}));Be.length>1&&(Be=fe("div",{class:`${J}-content`},[Be]));const Ve=$r(J,n.class,a.value),mt=v.value||!e.visible?J$(O.value.name,O.value):{};return fe(ns,zt(zt({ref:s},mt),{},{onBeforeEnter:z}),{default:()=>!K||e.visible?wh(fe(ooe,{target:M(),key:"popup",ref:o,monitorWindowResize:!0,disabled:F.value,align:U,onAlign:D},{default:()=>fe("div",{class:Ve,onMouseenter:ne,onMouseleave:ae,onMousedown:FM(ie,["capture"]),[jf?"onTouchstartPassive":"onTouchstart"]:FM(he,["capture"]),style:ce},[Be])}),[[pd,v.value]]):null})}}}),loe=bt({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:Bte,setup(e,t){let{attrs:r,slots:n,expose:i}=t;const o=Rt(!1),s=Rt(!1),a=Rt(),h=Rt();return rr([()=>e.visible,()=>e.mobile],()=>{o.value=e.visible,e.visible&&e.mobile&&(s.value=!0)},{immediate:!0,flush:"post"}),i({forceAlign:()=>{var d;(d=a.value)===null||d===void 0||d.forceAlign()},getElement:()=>{var d;return(d=a.value)===null||d===void 0?void 0:d.getElement()}}),()=>{const d=me(me(me({},e),r),{visible:o.value}),m=s.value?fe(Fte,zt(zt({},d),{},{mobile:e.mobile,ref:a}),{default:n.default}):fe(soe,zt(zt({},d),{},{ref:a}),{default:n.default});return fe("div",{ref:h},[fe(D$,d,null),m])}}});function uoe(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function eL(e,t,r){const n=e[t]||{};return me(me({},n),r)}function coe(e,t,r,n){const{points:i}=r,o=Object.keys(e);for(let s=0;s<o.length;s+=1){const a=o[s];if(uoe(e[a].points,i,n))return`${t}-placement-${a}`}return""}const hoe={methods:{setState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=typeof e=="function"?e(this.$data,this.$props):e;if(this.getDerivedStateFromProps){const n=this.getDerivedStateFromProps(hQ(this),me(me({},this.$data),r));if(n===null)return;r=me(me({},r),n||{})}me(this.$data,r),this._.isMounted&&this.$forceUpdate(),ko(()=>{t&&t()})},__emit(){const e=[].slice.call(arguments,0);let t=e[0];t=`on${t[0].toUpperCase()}${t.substring(1)}`;const r=this.$props[t]||this.$attrs[t];if(e.length&&r)if(Array.isArray(r))for(let n=0,i=r.length;n<i;n++)r[n](...e.slice(1));else r(...e.slice(1))}}},eB=Symbol("PortalContextKey"),tB=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};Mn(eB,{inTriggerContext:t.inTriggerContext,shouldRender:_e(()=>{const{sPopupVisible:r,popupRef:n,forceRender:i,autoDestroy:o}=e||{};let s=!1;return(r||n||i)&&(s=!0),!r&&o&&(s=!1),s})})},foe=()=>{tB({},{inTriggerContext:!1});const e=Er(eB,{shouldRender:_e(()=>!1),inTriggerContext:!1});return{shouldRender:_e(()=>e.shouldRender.value||e.inTriggerContext===!1)}},rB=bt({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:Xt.func.isRequired,didUpdate:Function},setup(e,t){let{slots:r}=t,n=!0,i;const{shouldRender:o}=foe();F4(()=>{n=!1,o.value&&(i=e.getContainer())});const s=rr(o,()=>{o.value&&!i&&(i=e.getContainer()),i&&s()});return Mh(()=>{ko(()=>{var a;o.value&&((a=e.didUpdate)===null||a===void 0||a.call(e,e))})}),Pi(()=>{i&&i.parentNode&&i.parentNode.removeChild(i)}),()=>{var a;return o.value?n?(a=r.default)===null||a===void 0?void 0:a.call(r):i?fe(BC,{to:i},r):null:null}}});let Nw;function doe(e){if(typeof document>"u")return 0;if(e||Nw===void 0){const t=document.createElement("div");t.style.width="100%",t.style.height="200px";const r=document.createElement("div"),n=r.style;n.position="absolute",n.top="0",n.left="0",n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",r.appendChild(t),document.body.appendChild(r);const i=t.offsetWidth;r.style.overflow="scroll";let o=t.offsetWidth;i===o&&(o=r.clientWidth),document.body.removeChild(r),Nw=i-o}return Nw}const poe=`vc-util-locker-${Date.now()}`;let tL=0;function moe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function voe(e){const t=_e(()=>!!e&&!!e.value);tL+=1;const r=`${poe}_${tL}`;di(n=>{if(Hu()){if(t.value){const i=doe(),o=moe();Cv(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${i}px);`:""}
}`,r)}else H0(r);n(()=>{H0(r)})}},{flush:"post"})}let Ec=0;const n0=Hu(),rL=e=>{if(!n0)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(typeof e=="object"&&e instanceof window.HTMLElement)return e}return document.body},goe=bt({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:Xt.any,visible:{type:Boolean,default:void 0},autoLock:mh(),didUpdate:Function},setup(e,t){let{slots:r}=t;const n=Rt(),i=Rt(),o=Rt(),s=()=>{var _,T;(T=(_=n.value)===null||_===void 0?void 0:_.parentNode)===null||T===void 0||T.removeChild(n.value),n.value=null};let a=null;const h=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||n.value&&!n.value.parentNode?(a=rL(e.getContainer),a?(a.appendChild(n.value),!0):!1):!0},d=Hu()&&document.createElement("div"),m=()=>n0?(n.value||(n.value=d,h(!0)),v(),n.value):null,v=()=>{const{wrapperClassName:_}=e;n.value&&_&&_!==n.value.className&&(n.value.className=_)};Mh(()=>{v(),h()});const g=Ol();return voe(_e(()=>e.autoLock&&e.visible&&Hu()&&(n.value===document.body||n.value===d))),cn(()=>{let _=!1;rr([()=>e.visible,()=>e.getContainer],(T,P)=>{let[M,I]=T,[D,O]=P;n0&&(a=rL(e.getContainer),a===document.body&&(M&&!D?Ec+=1:_&&(Ec-=1))),_&&(typeof I=="function"&&typeof O=="function"?I.toString()!==O.toString():I!==O)&&s(),_=!0},{immediate:!0,flush:"post"}),ko(()=>{h()||(o.value=ri(()=>{g.update()}))})}),Pi(()=>{const{visible:_}=e;n0&&a===document.body&&(Ec=_&&Ec?Ec-1:Ec),s(),ri.cancel(o.value)}),()=>{const{forceRender:_,visible:T}=e;let P=null;const M={getOpenCount:()=>Ec,getContainer:m};return(_||T||i.value)&&(P=fe(rB,{getContainer:m,ref:i,didUpdate:e.didUpdate},{default:()=>{var I;return(I=r.default)===null||I===void 0?void 0:I.call(r,M)}})),P}}}),yoe=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],RE=bt({compatConfig:{MODE:3},name:"Trigger",mixins:[hoe],inheritAttrs:!1,props:zte(),setup(e){const t=_e(()=>{const{popupPlacement:i,popupAlign:o,builtinPlacements:s}=e;return i&&s?eL(s,i,o):o}),r=Rt(null),n=i=>{r.value=i};return{vcTriggerContext:Er("vcTriggerContext",{}),popupRef:r,setPopupRef:n,triggerRef:Rt(null),align:t,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const e=this.$props;let t;return this.popupVisible!==void 0?t=!!e.popupVisible:t=!!e.defaultPopupVisible,yoe.forEach(r=>{this[`fire${r}`]=n=>{this.fireEvents(r,n)}}),{prevPopupVisible:t,sPopupVisible:t,point:null}},watch:{popupVisible(e){e!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},created(){Mn("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),tB(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ri.cancel(this.attachId)},methods:{updatedCal(){const e=this.$props;if(this.$data.sPopupVisible){let r;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(r=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Pm(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Pm(r,"touchstart",this.onDocumentClick,jf?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(r=r||e.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=Pm(r,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=Pm(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(e){const{mouseEnterDelay:t}=this.$props;this.fireEvents("onMouseenter",e),this.delaySetPopupVisible(!0,t,t?null:e)},onMouseMove(e){this.fireEvents("onMousemove",e),this.setPoint(e)},onMouseleave(e){this.fireEvents("onMouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:e={}}=this;e.onPopupMouseenter&&e.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(e){var t;if(e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&nh((t=this.popupRef)===null||t===void 0?void 0:t.getElement(),e.relatedTarget))return;this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:r={}}=this;r.onPopupMouseleave&&r.onPopupMouseleave(e)},onFocus(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(e){this.fireEvents("onMousedown",e),this.preClickTime=Date.now()},onTouchstart(e){this.fireEvents("onTouchstart",e),this.preTouchTime=Date.now()},onBlur(e){nh(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(e){e.preventDefault(),this.fireEvents("onContextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(e){if(this.fireEvents("onClick",e),this.focusTime){let r;if(this.preClickTime&&this.preTouchTime?r=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?r=this.preClickTime:this.preTouchTime&&(r=this.preTouchTime),Math.abs(r-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();const t=!this.$data.sPopupVisible;(this.isClickToHide()&&!t||t&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown(){const{vcTriggerContext:e={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),e.onPopupMouseDown&&e.onPopupMouseDown(...arguments)},onDocumentClick(e){if(this.$props.mask&&!this.$props.maskClosable)return;const t=e.target,r=this.getRootDomNode(),n=this.getPopupDomNode();(!nh(r,t)||this.isContextMenuOnly())&&!nh(n,t)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var e;return((e=this.popupRef)===null||e===void 0?void 0:e.getElement())||null},getRootDomNode(){var e,t,r,n;const{getTriggerDOMNode:i}=this.$props;if(i){const o=((t=(e=this.triggerRef)===null||e===void 0?void 0:e.$el)===null||t===void 0?void 0:t.nodeName)==="#comment"?null:Pu(this.triggerRef);return Pu(i(o))}try{const o=((n=(r=this.triggerRef)===null||r===void 0?void 0:r.$el)===null||n===void 0?void 0:n.nodeName)==="#comment"?null:Pu(this.triggerRef);if(o)return o}catch{}return Pu(this)},handleGetPopupClassFromAlign(e){const t=[],r=this.$props,{popupPlacement:n,builtinPlacements:i,prefixCls:o,alignPoint:s,getPopupClassNameFromAlign:a}=r;return n&&i&&t.push(coe(i,o,e,s)),a&&t.push(a(e)),t.join(" ")},getPopupAlign(){const e=this.$props,{popupPlacement:t,popupAlign:r,builtinPlacements:n}=e;return t&&n?eL(n,t,r):r},getComponent(){const e={};this.isMouseEnterToShow()&&(e.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(e.onMouseleave=this.onPopupMouseleave),e.onMousedown=this.onPopupMouseDown,e[jf?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:t,getRootDomNode:r,$attrs:n}=this,{prefixCls:i,destroyPopupOnHide:o,popupClassName:s,popupAnimation:a,popupTransitionName:h,popupStyle:d,mask:m,maskAnimation:v,maskTransitionName:g,zIndex:_,stretch:T,alignPoint:P,mobile:M,forceRender:I}=this.$props,{sPopupVisible:D,point:O}=this.$data,z=me(me({prefixCls:i,destroyPopupOnHide:o,visible:D,point:P?O:null,align:this.align,animation:a,getClassNameFromAlign:t,stretch:T,getRootDomNode:r,mask:m,zIndex:_,transitionName:h,maskAnimation:v,maskTransitionName:g,class:s,style:d,onAlign:n.onPopupAlign||M$},e),{ref:this.setPopupRef,mobile:M,forceRender:I});return fe(loe,z,{default:this.$slots.popup||(()=>fQ(this,"popup"))})},attachParent(e){ri.cancel(this.attachId);const{getPopupContainer:t,getDocument:r}=this.$props,n=this.getRootDomNode();let i;t?(n||t.length===0)&&(i=t(n)):i=r(this.getRootDomNode()).body,i?i.appendChild(e):this.attachId=ri(()=>{this.attachParent(e)})},getContainer(){const{$props:e}=this,{getDocument:t}=e,r=t(this.getRootDomNode()).createElement("div");return r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",this.attachParent(r),r},setPopupVisible(e,t){const{alignPoint:r,sPopupVisible:n,onPopupVisibleChange:i}=this;this.clearDelayTimer(),n!==e&&(uQ(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:n}),i&&i(e)),r&&t&&e&&this.setPoint(t)},setPoint(e){const{alignPoint:t}=this.$props;!t||!e||this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(e,t,r){const n=t*1e3;if(this.clearDelayTimer(),n){const i=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(e,i),this.clearDelayTimer()},n)}else this.setPopupVisible(e,r)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(e){let t=()=>{};const r=qD(this);return this.childOriginEvents[e]&&r[e]?this[`fire${e}`]:(t=this.childOriginEvents[e]||r[e]||t,t)},isClickToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isContextMenuOnly(){const{action:e}=this.$props;return e==="contextmenu"||e.length===1&&e[0]==="contextmenu"},isContextmenuToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("contextmenu")!==-1||t.indexOf("contextmenu")!==-1},isClickToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("click")!==-1||t.indexOf("click")!==-1},isMouseEnterToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("hover")!==-1||t.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:e,showAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("focus")!==-1},isBlurToHide(){const{action:e,hideAction:t}=this.$props;return e.indexOf("focus")!==-1||t.indexOf("blur")!==-1},forcePopupAlign(){var e;this.$data.sPopupVisible&&((e=this.popupRef)===null||e===void 0||e.forceAlign())},fireEvents(e,t){this.childOriginEvents[e]&&this.childOriginEvents[e](t);const r=this.$props[e]||this.$attrs[e];r&&r(t)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:e}=this,t=dg(cQ(this)),{alignPoint:r,getPopupContainer:n}=this.$props,i=t[0];this.childOriginEvents=qD(i);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[jf?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[jf?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,r&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=d=>{d&&(!d.relatedTarget||!nh(d.target,d.relatedTarget))&&this.createTwoChains("onBlur")(d)});const s=$r(i&&i.props&&i.props.class,e.class);s&&(o.class=s);const a=Bs(i,me(me({},o),{ref:"triggerRef"}),!0,!0),h=fe(goe,{key:"portal",getContainer:n&&(()=>n(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return fe(Tr,null,[a,h])}}),vr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){const{keyCode:r}=t;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=vr.F1&&r<=vr.F12)return!1;switch(r){case vr.ALT:case vr.CAPS_LOCK:case vr.CONTEXT_MENU:case vr.CTRL:case vr.DOWN:case vr.END:case vr.ESC:case vr.HOME:case vr.INSERT:case vr.LEFT:case vr.MAC_FF_META:case vr.META:case vr.NUMLOCK:case vr.NUM_CENTER:case vr.PAGE_DOWN:case vr.PAGE_UP:case vr.PAUSE:case vr.PRINT_SCREEN:case vr.RIGHT:case vr.SHIFT:case vr.UP:case vr.WIN_KEY:case vr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=vr.ZERO&&t<=vr.NINE||t>=vr.NUM_ZERO&&t<=vr.NUM_MULTIPLY||t>=vr.A&&t<=vr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case vr.SPACE:case vr.QUESTION_MARK:case vr.NUM_PLUS:case vr.NUM_MINUS:case vr.NUM_PERIOD:case vr.NUM_DIVISION:case vr.SEMICOLON:case vr.DASH:case vr.EQUALS:case vr.COMMA:case vr.PERIOD:case vr.SLASH:case vr.APOSTROPHE:case vr.SINGLE_QUOTE:case vr.OPEN_SQUARE_BRACKET:case vr.BACKSLASH:case vr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},qa=vr,nB=Symbol("OverflowContextProviderKey"),tT=bt({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(e,t){let{slots:r}=t;return Mn(nB,_e(()=>e.value)),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}),_oe=()=>Er(nB,_e(()=>null));var boe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const bf=void 0,i0=bt({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:Xt.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:Xt.any,invalidate:Boolean},setup(e,t){let{slots:r,expose:n}=t;const i=_e(()=>e.responsive&&!e.display),o=Ft();n({itemNodeRef:o});function s(a){e.registerSize(e.itemKey,a)}return Ll(()=>{s(null)}),()=>{var a;const{prefixCls:h,invalidate:d,item:m,renderItem:v,responsive:g,registerSize:_,itemKey:T,display:P,order:M,component:I="div"}=e,D=boe(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),O=(a=r.default)===null||a===void 0?void 0:a.call(r),z=v&&m!==bf?v(m):O;let F;d||(F={opacity:i.value?0:1,height:i.value?0:bf,overflowY:i.value?"hidden":bf,order:g?M:bf,pointerEvents:i.value?"none":bf,position:i.value?"absolute":bf});const N={};return i.value&&(N["aria-hidden"]=!0),fe(N0,{disabled:!g,onResize:H=>{let{offsetWidth:U}=H;s(U)}},{default:()=>fe(I,zt(zt(zt({class:$r(!d&&h),style:F},N),D),{},{ref:o}),{default:()=>[z]})})}}});var Vw=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const xoe=bt({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:Xt.any,title:Xt.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(e,t){let{slots:r,attrs:n}=t;const i=_oe();return()=>{var o;if(!i.value){const{component:v="div"}=e,g=Vw(e,["component"]);return fe(v,zt(zt({},g),n),{default:()=>[(o=r.default)===null||o===void 0?void 0:o.call(r)]})}const s=i.value,{className:a}=s,h=Vw(s,["className"]),{class:d}=n,m=Vw(n,["class"]);return fe(tT,{value:null},{default:()=>[fe(i0,zt(zt(zt({class:$r(a,d)},h),m),e),r)]})}}});var woe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const iB="responsive",oB="invalidate";function Soe(e){return`+ ${e.length} ...`}const Toe=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:Xt.any,component:String,itemComponent:Xt.any,onVisibleChange:Function,ssr:String,onMousedown:Function}),cb=bt({name:"Overflow",inheritAttrs:!1,props:Toe(),emits:["visibleChange"],setup(e,t){let{attrs:r,emit:n,slots:i}=t;const o=_e(()=>e.ssr==="full"),s=Rt(null),a=_e(()=>s.value||0),h=Rt(new Map),d=Rt(0),m=Rt(0),v=Rt(0),g=Rt(null),_=Rt(null),T=_e(()=>_.value===null&&o.value?Number.MAX_SAFE_INTEGER:_.value||0),P=Rt(!1),M=_e(()=>`${e.prefixCls}-item`),I=_e(()=>Math.max(d.value,m.value)),D=_e(()=>!!(e.data.length&&e.maxCount===iB)),O=_e(()=>e.maxCount===oB),z=_e(()=>D.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount),F=_e(()=>{let de=e.data;return D.value?s.value===null&&o.value?de=e.data:de=e.data.slice(0,Math.min(e.data.length,a.value/e.itemWidth)):typeof e.maxCount=="number"&&(de=e.data.slice(0,e.maxCount)),de}),N=_e(()=>D.value?e.data.slice(T.value+1):e.data.slice(F.value.length)),H=(de,ce)=>{var Be;return typeof e.itemKey=="function"?e.itemKey(de):(Be=e.itemKey&&(de==null?void 0:de[e.itemKey]))!==null&&Be!==void 0?Be:ce},U=_e(()=>e.renderItem||(de=>de)),J=(de,ce)=>{_.value=de,ce||(P.value=de<e.data.length-1,n("visibleChange",de))},K=(de,ce)=>{s.value=ce.clientWidth},ne=(de,ce)=>{const Be=new Map(h.value);ce===null?Be.delete(de):Be.set(de,ce),h.value=Be},ae=(de,ce)=>{d.value=m.value,m.value=ce},he=(de,ce)=>{v.value=ce},ie=de=>h.value.get(H(F.value[de],de));return rr([a,h,m,v,()=>e.itemKey,F],()=>{if(a.value&&I.value&&F.value){let de=v.value;const ce=F.value.length,Be=ce-1;if(!ce){J(0),g.value=null;return}for(let Ve=0;Ve<ce;Ve+=1){const ht=ie(Ve);if(ht===void 0){J(Ve-1,!0);break}if(de+=ht,Be===0&&de<=a.value||Ve===Be-1&&de+ie(Be)<=a.value){J(Be),g.value=null;break}else if(de+I.value>a.value){J(Ve-1),g.value=de-ht-v.value+m.value;break}}e.suffix&&ie(0)+v.value>a.value&&(g.value=null)}}),()=>{const de=P.value&&!!N.value.length,{itemComponent:ce,renderRawItem:Be,renderRawRest:Ve,renderRest:ht,prefixCls:mt="rc-overflow",suffix:dt,component:vt="div",id:Jt,onMousedown:ar}=e,{class:nr,style:st}=r,ze=woe(r,["class","style"]);let et={};g.value!==null&&D.value&&(et={position:"absolute",left:`${g.value}px`,top:0});const We={prefixCls:M.value,responsive:D.value,component:ce,invalidate:O.value},ut=Be?(Ee,je)=>{const Ye=H(Ee,je);return fe(tT,{key:Ye,value:me(me({},We),{order:je,item:Ee,itemKey:Ye,registerSize:ne,display:je<=T.value})},{default:()=>[Be(Ee,je)]})}:(Ee,je)=>{const Ye=H(Ee,je);return fe(i0,zt(zt({},We),{},{order:je,key:Ye,item:Ee,renderItem:U.value,itemKey:Ye,registerSize:ne,display:je<=T.value}),null)};let ct=()=>null;const le={order:de?T.value:Number.MAX_SAFE_INTEGER,className:`${M.value} ${M.value}-rest`,registerSize:ae,display:de};if(Ve)Ve&&(ct=()=>fe(tT,{value:me(me({},We),le)},{default:()=>[Ve(N.value)]}));else{const Ee=ht||Soe;ct=()=>fe(i0,zt(zt({},We),le),{default:()=>typeof Ee=="function"?Ee(N.value):Ee})}const ye=()=>{var Ee;return fe(vt,zt({id:Jt,class:$r(!O.value&&mt,nr),style:st,onMousedown:ar},ze),{default:()=>[F.value.map(ut),z.value?ct():null,dt&&fe(i0,zt(zt({},We),{},{order:T.value,class:`${M.value}-suffix`,registerSize:he,display:!0,style:et}),{default:()=>dt}),(Ee=i.default)===null||Ee===void 0?void 0:Ee.call(i)]})};return fe(N0,{disabled:!D.value,onResize:K},{default:ye})}}});cb.Item=xoe;cb.RESPONSIVE=iB;cb.INVALIDATE=oB;const Zm=cb,Coe=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function nL(e,t){const{defaultValue:r,value:n=Ft()}=t||{};let i=typeof e=="function"?e():e;n.value!==void 0&&(i=Qt(n)),r!==void 0&&(i=typeof r=="function"?r():r);const o=Ft(i),s=Ft(i);di(()=>{let h=n.value!==void 0?n.value:o.value;t.postState&&(h=t.postState(h)),s.value=h});function a(h){const d=s.value;o.value=h,Fr(s.value)!==h&&t.onChange&&t.onChange(h,d)}return rr(n,()=>{o.value=n.value}),[s,a]}function Un(e){const t=typeof e=="function"?e():e,r=Ft(t);function n(i){r.value=i}return[r,n]}var iL=[],im=[],Eoe="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function Aoe(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}function Poe(e,t){if(t=t||{},e===void 0)throw new Error(Eoe);var r=t.prepend===!0?"prepend":"append",n=t.container!==void 0?t.container:document.querySelector("head"),i=iL.indexOf(n);i===-1&&(i=iL.push(n)-1,im[i]={});var o;return im[i]!==void 0&&im[i][r]!==void 0?o=im[i][r]:(o=im[i][r]=Aoe(),r==="prepend"?n.insertBefore(o,n.childNodes[0]):n.appendChild(o)),e.charCodeAt(0)===65279&&(e=e.substr(1,e.length)),o.styleSheet?o.styleSheet.cssText+=e:o.textContent+=e,o}function oL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Ioe(e,i,r[i])})}return e}function Ioe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){return typeof e=="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(typeof e.icon=="object"||typeof e.icon=="function")}function rT(e,t,r){return r?Dr(e.tag,oL({key:t},r,e.attrs),(e.children||[]).map(function(n,i){return rT(n,"".concat(t,"-").concat(e.tag,"-").concat(i))})):Dr(e.tag,oL({key:t},e.attrs),(e.children||[]).map(function(n,i){return rT(n,"".concat(t,"-").concat(e.tag,"-").concat(i))}))}function aB(e){return Sh(e)[0]}function sB(e){return e?Array.isArray(e)?e:[e]:[]}var Moe={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Doe=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,sL=!1,lB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Doe;ko(function(){sL||(typeof window<"u"&&window.document&&window.document.documentElement&&Poe(t,{prepend:!0}),sL=!0)})},Loe=["icon","primaryColor","secondaryColor"];function Ooe(e,t){if(e==null)return{};var r=koe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function koe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Roe(e,i,r[i])})}return e}function Roe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Km={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function zoe(e){var t=e.primaryColor,r=e.secondaryColor;Km.primaryColor=t,Km.secondaryColor=r||aB(t),Km.calculated=!!r}function $oe(){return o0({},Km)}var Ud=function(t,r){var n=o0({},t,r.attrs),i=n.icon,o=n.primaryColor,s=n.secondaryColor,a=Ooe(n,Loe),h=Km;if(o&&(h={primaryColor:o,secondaryColor:s||aB(o)}),lB(),aL(i),!aL(i))return null;var d=i;return d&&typeof d.icon=="function"&&(d=o0({},d,{icon:d.icon(h.primaryColor,h.secondaryColor)})),rT(d.icon,"svg-".concat(d.name),o0({},a,{"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Ud.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Ud.inheritAttrs=!1;Ud.displayName="IconBase";Ud.getTwoToneColors=$oe;Ud.setTwoToneColors=zoe;const zE=Ud;function Boe(e,t){return Uoe(e)||Voe(e,t)||Noe(e,t)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(e,t){if(e){if(typeof e=="string")return lL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lL(e,t)}}function lL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Voe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(h){o=!0,a=h}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Uoe(e){if(Array.isArray(e))return e}function uB(e){var t=sB(e),r=Boe(t,2),n=r[0],i=r[1];return zE.setTwoToneColors({primaryColor:n,secondaryColor:i})}function Hoe(){var e=zE.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var joe=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Goe(e,t){return Zoe(e)||Xoe(e,t)||qoe(e,t)||Woe()}function Woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(e,t){if(e){if(typeof e=="string")return uL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(e,t)}}function uL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(h){o=!0,a=h}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Zoe(e){if(Array.isArray(e))return e}function cL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){nT(e,i,r[i])})}return e}function nT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e,t){if(e==null)return{};var r=Yoe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yoe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}uB("#1890ff");var Hd=function(t,r){var n,i=cL({},t,r.attrs),o=i.class,s=i.icon,a=i.spin,h=i.rotate,d=i.tabindex,m=i.twoToneColor,v=i.onClick,g=Koe(i,joe),_=(n={anticon:!0},nT(n,"anticon-".concat(s.name),!!s.name),nT(n,o,o),n),T=a===""||a||s.name==="loading"?"anticon-spin":"",P=d;P===void 0&&v&&(P=-1,g.tabindex=P);var M=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,I=sB(m),D=Goe(I,2),O=D[0],z=D[1];return fe("span",cL({role:"img","aria-label":s.name},g,{onClick:v,class:_}),[fe(zE,{class:T,icon:s,primaryColor:O,secondaryColor:z,style:M},null)])};Hd.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};Hd.displayName="AntdIcon";Hd.inheritAttrs=!1;Hd.getTwoToneColor=Hoe;Hd.setTwoToneColor=uB;const Ia=Hd;var Joe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const Qoe=Joe;function hL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){eae(e,i,r[i])})}return e}function eae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $E=function(t,r){var n=hL({},t,r.attrs);return fe(Ia,hL({},n,{icon:Qoe}),null)};$E.displayName="LoadingOutlined";$E.inheritAttrs=!1;const Ov=$E;var tae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const rae=tae;function fL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){nae(e,i,r[i])})}return e}function nae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BE=function(t,r){var n=fL({},t,r.attrs);return fe(Ia,fL({},n,{icon:rae}),null)};BE.displayName="CloseOutlined";BE.inheritAttrs=!1;const FE=BE;var iae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const oae=iae;function dL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){aae(e,i,r[i])})}return e}function aae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NE=function(t,r){var n=dL({},t,r.attrs);return fe(Ia,dL({},n,{icon:oae}),null)};NE.displayName="CloseCircleFilled";NE.inheritAttrs=!1;const hb=NE;function cB(e){const t=Symbol("contextKey");return{useProvide:(i,o)=>{const s=eo({});return Mn(t,s),di(()=>{me(s,i,o||{})}),s},useInject:()=>Er(t,e)||{}}}const sae=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},lae=sae,uae=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-space-item`]:{"&:empty":{display:"none"}}}}},cae=Rl("Space",e=>[uae(e),lae(e)]);var hae="[object Symbol]";function VE(e){return typeof e=="symbol"||bd(e)&&Fd(e)==hae}function fae(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var dae=1/0,pL=zs?zs.prototype:void 0,mL=pL?pL.toString:void 0;function hB(e){if(typeof e=="string")return e;if(Fs(e))return fae(e,hB)+"";if(VE(e))return mL?mL.call(e):"";var t=e+"";return t=="0"&&1/e==-dae?"-0":t}function pae(e){return e}function mae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function vae(){}var gae=800,yae=16,_ae=Date.now;function bae(e){var t=0,r=0;return function(){var n=_ae(),i=yae-(n-r);if(r=n,i>0){if(++t>=gae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xae(e){return function(){return e}}var wae=function(){try{var e=Rh(Object,"defineProperty");return e({},"",{}),e}catch{}}();const K0=wae;var Sae=K0?function(e,t){return K0(e,"toString",{configurable:!0,enumerable:!1,value:xae(t),writable:!0})}:pae;const Tae=Sae;var Cae=bae(Tae);const Eae=Cae;function Aae(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Pae(e){return e!==e}function Iae(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function Mae(e,t,r){return t===t?Iae(e,t,r):Aae(e,Pae,r)}function Dae(e,t){var r=e==null?0:e.length;return!!r&&Mae(e,t,0)>-1}function Lae(e,t,r){t=="__proto__"&&K0?K0(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Oae=Object.prototype,kae=Oae.hasOwnProperty;function Rae(e,t,r){var n=e[t];(!(kae.call(e,t)&&ME(n,r))||r===void 0&&!(t in e))&&Lae(e,t,r)}var vL=Math.max;function zae(e,t,r){return t=vL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=vL(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),mae(e,this,a)}}var $ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bae=/^\w*$/;function Fae(e,t){if(Fs(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||VE(e)?!0:Bae.test(e)||!$ae.test(e)||t!=null&&e in Object(t)}var Nae="Expected a function";function UE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nae);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(UE.Cache||$l),r}UE.Cache=$l;var Vae=500;function Uae(e){var t=UE(e,function(n){return r.size===Vae&&r.clear(),n}),r=t.cache;return t}var Hae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jae=/\\(\\)?/g,Gae=Uae(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hae,function(r,n,i,o){t.push(i?o.replace(jae,"$1"):n||r)}),t});const Wae=Gae;function qae(e){return e==null?"":hB(e)}function fb(e,t){return Fs(e)?e:Fae(e,t)?[e]:Wae(qae(e))}var Xae=1/0;function HE(e){if(typeof e=="string"||VE(e))return e;var t=e+"";return t=="0"&&1/e==-Xae?"-0":t}function Zae(e,t){t=fb(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[HE(t[r++])];return r&&r==n?e:void 0}var gL=zs?zs.isConcatSpreadable:void 0;function Kae(e){return Fs(e)||ub(e)||!!(gL&&e&&e[gL])}function fB(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=Kae),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?fB(a,t-1,r,n,i):j$(i,a):n||(i[i.length]=a)}return i}function Yae(e){var t=e==null?0:e.length;return t?fB(e,1):[]}function Jae(e){return Eae(zae(e,void 0,Yae),e+"")}function Qae(e,t){return e!=null&&t in Object(e)}function ese(e,t,r){t=fb(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=HE(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&OE(i)&&LE(s,i)&&(Fs(e)||ub(e)))}function tse(e,t){return e!=null&&ese(e,t,Qae)}function rse(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var nse="[object Map]",ise="[object Set]",ose=Object.prototype,ase=ose.hasOwnProperty;function dB(e){if(e==null)return!0;if(K$(e)&&(Fs(e)||typeof e=="string"||typeof e.splice=="function"||Z0(e)||kE(e)||ub(e)))return!e.length;var t=eT(e);if(t==nse||t==ise)return!e.size;if(X$(e))return!Z$(e).length;for(var r in e)if(ase.call(e,r))return!1;return!0}function sse(e,t,r,n){if(!X0(e))return e;t=fb(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var h=HE(t[i]),d=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(i!=s){var m=a[h];d=n?n(m,h,a):void 0,d===void 0&&(d=X0(m)?m:LE(t[i+1])?[]:{})}Rae(a,h,d),a=a[h]}return e}function lse(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Zae(e,s);r(a,s)&&sse(o,fb(s,e),a)}return o}function use(e,t){return lse(e,t,function(r,n){return tse(e,n)})}var cse=Jae(function(e,t){return e==null?{}:use(e,t)});const pB=cse;var hse=1/0,fse=rd&&1/DE(new rd([,-0]))[1]==hse?function(e){return new rd(e)}:vae;const dse=fse;var pse=200;function mse(e,t,r){var n=-1,i=Dae,o=e.length,s=!0,a=[],h=a;if(r)s=!1,i=rse;else if(o>=pse){var d=t?null:dse(e);if(d)return DE(d);s=!1,i=U$,h=new Lv}else h=t?[]:a;e:for(;++n<o;){var m=e[n],v=t?t(m):m;if(m=r||m!==0?m:0,s&&v===v){for(var g=h.length;g--;)if(h[g]===v)continue e;t&&h.push(v),a.push(m)}else i(h,v,r)||(h!==a&&h.push(v),a.push(m))}return a}function Uw(e){return e&&e.length?mse(e):[]}const vse=()=>({compactSize:String,compactDirection:Xt.oneOf(V0("horizontal","vertical")).def("horizontal"),isFirstItem:mh(),isLastItem:mh()}),jE=cB(null),gse=(e,t)=>{const r=jE.useInject(),n=_e(()=>{if(!r||dB(r))return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=r,a=i==="vertical"?"-vertical-":"-";return $r({[`${e.value}-compact${a}item`]:!0,[`${e.value}-compact${a}first-item`]:o,[`${e.value}-compact${a}last-item`]:s,[`${e.value}-compact${a}item-rtl`]:t.value==="rtl"})});return{compactSize:_e(()=>r==null?void 0:r.compactSize),compactDirection:_e(()=>r==null?void 0:r.compactDirection),compactItemClassnames:n}},yse=()=>({prefixCls:String,size:{type:String},direction:Xt.oneOf(V0("horizontal","vertical")).def("horizontal"),align:Xt.oneOf(V0("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),_se=bt({name:"CompactItem",props:vse(),setup(e,t){let{slots:r}=t;return jE.useProvide(e),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}});bt({name:"ASpaceCompact",inheritAttrs:!1,props:yse(),setup(e,t){let{attrs:r,slots:n}=t;const{prefixCls:i,direction:o}=os("space-compact",e),s=jE.useInject(),[a,h]=cae(i),d=_e(()=>$r(i.value,h.value,{[`${i.value}-rtl`]:o.value==="rtl",[`${i.value}-block`]:e.block,[`${i.value}-vertical`]:e.direction==="vertical"}));return()=>{var m;const v=Do(((m=n.default)===null||m===void 0?void 0:m.call(n))||[]);return v.length===0?null:a(fe("div",zt(zt({},r),{},{class:[d.value,r.class]}),[v.map((g,_)=>{var T;const P=g&&g.key||`${i.value}-item-${_}`,M=!s||dB(s);return fe(_se,{key:P,compactSize:(T=e.size)!==null&&T!==void 0?T:"middle",compactDirection:e.direction,isFirstItem:_===0&&(M||(s==null?void 0:s.isFirstItem)),isLastItem:_===v.length-1&&(M||(s==null?void 0:s.isLastItem))},{default:()=>[g]})})]))}}});const bse=e=>({animationDuration:e,animationFillMode:"both"}),xse=e=>({animationDuration:e,animationFillMode:"both"}),mB=function(e,t,r,n){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${e}-enter,
      ${o}${e}-appear
    `]:me(me({},bse(n)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:me(me({},xse(n)),{animationPlayState:"paused"}),[`
      ${o}${e}-enter${e}-enter-active,
      ${o}${e}-appear${e}-appear-active
    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},wse=new En("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),Sse=new En("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Tse=new En("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Cse=new En("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Ese=new En("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Ase=new En("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Pse=new En("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Ise=new En("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Mse={"slide-up":{inKeyframes:wse,outKeyframes:Sse},"slide-down":{inKeyframes:Tse,outKeyframes:Cse},"slide-left":{inKeyframes:Ese,outKeyframes:Ase},"slide-right":{inKeyframes:Pse,outKeyframes:Ise}},Y0=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:o}=Mse[t];return[mB(n,i,o,e.motionDurationMid),{[`
      ${n}-enter,
      ${n}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},Dse=new En("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Lse=new En("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),yL=new En("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),_L=new En("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Ose=new En("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),kse=new En("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Rse=new En("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),zse=new En("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),$se=new En("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Bse=new En("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Fse=new En("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Nse=new En("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Vse={zoom:{inKeyframes:Dse,outKeyframes:Lse},"zoom-big":{inKeyframes:yL,outKeyframes:_L},"zoom-big-fast":{inKeyframes:yL,outKeyframes:_L},"zoom-left":{inKeyframes:Rse,outKeyframes:zse},"zoom-right":{inKeyframes:$se,outKeyframes:Bse},"zoom-up":{inKeyframes:Ose,outKeyframes:kse},"zoom-down":{inKeyframes:Fse,outKeyframes:Nse}},vB=(e,t)=>{const{antCls:r}=e,n=`${r}-${t}`,{inKeyframes:i,outKeyframes:o}=Vse[t];return[mB(n,i,o,t==="zoom-big-fast"?e.motionDurationFast:e.motionDurationMid),{[`
        ${n}-enter,
        ${n}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Use=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},
        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),Hse=Use;function jse(e,t,r){const{focusElCls:n,focus:i,borderElCls:o}=r,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(h=>`&:${h} ${s}`).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:-e.lineWidth},"&-item":me(me({[a]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function Gse(e,t,r){const{borderElCls:n}=r,i=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Wse(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:r}=e,n=`${r}-compact`;return{[n]:me(me({},jse(e,n,t)),Gse(r,n,t))}}var qse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const Xse=qse;function bL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Zse(e,i,r[i])})}return e}function Zse(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GE=function(t,r){var n=bL({},t,r.attrs);return fe(Ia,bL({},n,{icon:Xse}),null)};GE.displayName="CheckCircleOutlined";GE.inheritAttrs=!1;const Kse=GE;var Yse={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const Jse=Yse;function xL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Qse(e,i,r[i])})}return e}function Qse(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WE=function(t,r){var n=xL({},t,r.attrs);return fe(Ia,xL({},n,{icon:Jse}),null)};WE.displayName="ExclamationCircleOutlined";WE.inheritAttrs=!1;const ele=WE;var tle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const rle=tle;function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){nle(e,i,r[i])})}return e}function nle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qE=function(t,r){var n=wL({},t,r.attrs);return fe(Ia,wL({},n,{icon:rle}),null)};qE.displayName="InfoCircleOutlined";qE.inheritAttrs=!1;const ile=qE;var ole={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const ale=ole;function SL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){sle(e,i,r[i])})}return e}function sle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XE=function(t,r){var n=SL({},t,r.attrs);return fe(Ia,SL({},n,{icon:ale}),null)};XE.displayName="CloseCircleOutlined";XE.inheritAttrs=!1;const lle=XE;var ule={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const cle=ule;function TL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){hle(e,i,r[i])})}return e}function hle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZE=function(t,r){var n=TL({},t,r.attrs);return fe(Ia,TL({},n,{icon:cle}),null)};ZE.displayName="CheckCircleFilled";ZE.inheritAttrs=!1;const db=ZE;var fle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const dle=fle;function CL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ple(e,i,r[i])})}return e}function ple(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KE=function(t,r){var n=CL({},t,r.attrs);return fe(Ia,CL({},n,{icon:dle}),null)};KE.displayName="ExclamationCircleFilled";KE.inheritAttrs=!1;const pb=KE;var mle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const vle=mle;function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){gle(e,i,r[i])})}return e}function gle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YE=function(t,r){var n=EL({},t,r.attrs);return fe(Ia,EL({},n,{icon:vle}),null)};YE.displayName="InfoCircleFilled";YE.inheritAttrs=!1;const mb=YE,ua={adjustX:1,adjustY:1},ca=[0,0],gB={left:{points:["cr","cl"],overflow:ua,offset:[-4,0],targetOffset:ca},right:{points:["cl","cr"],overflow:ua,offset:[4,0],targetOffset:ca},top:{points:["bc","tc"],overflow:ua,offset:[0,-4],targetOffset:ca},bottom:{points:["tc","bc"],overflow:ua,offset:[0,4],targetOffset:ca},topLeft:{points:["bl","tl"],overflow:ua,offset:[0,-4],targetOffset:ca},leftTop:{points:["tr","tl"],overflow:ua,offset:[-4,0],targetOffset:ca},topRight:{points:["br","tr"],overflow:ua,offset:[0,-4],targetOffset:ca},rightTop:{points:["tl","tr"],overflow:ua,offset:[4,0],targetOffset:ca},bottomRight:{points:["tr","br"],overflow:ua,offset:[0,4],targetOffset:ca},rightBottom:{points:["bl","br"],overflow:ua,offset:[4,0],targetOffset:ca},bottomLeft:{points:["tl","bl"],overflow:ua,offset:[0,4],targetOffset:ca},leftBottom:{points:["br","bl"],overflow:ua,offset:[-4,0],targetOffset:ca}},yle={prefixCls:String,id:String,overlayInnerStyle:Xt.any},_le=bt({compatConfig:{MODE:3},name:"Content",props:yle,setup(e,t){let{slots:r}=t;return()=>{var n;return fe("div",{class:`${e.prefixCls}-inner`,id:e.id,role:"tooltip",style:e.overlayInnerStyle},[(n=r.overlay)===null||n===void 0?void 0:n.call(r)])}}});var ble=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function AL(){}const xle=bt({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:Xt.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:Xt.string.def("right"),transitionName:String,animation:Xt.any,afterVisibleChange:Xt.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:Xt.string.def("rc-tooltip"),mouseEnterDelay:Xt.number.def(.1),mouseLeaveDelay:Xt.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:Xt.object.def(()=>({})),arrowContent:Xt.any.def(null),tipId:String,builtinPlacements:Xt.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},setup(e,t){let{slots:r,attrs:n,expose:i}=t;const o=Rt(),s=()=>{const{prefixCls:m,tipId:v,overlayInnerStyle:g}=e;return[fe("div",{class:`${m}-arrow`,key:"arrow"},[cE(r,e,"arrowContent")]),fe(_le,{key:"content",prefixCls:m,id:v,overlayInnerStyle:g},{overlay:r.overlay})]};i({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var m;return(m=o.value)===null||m===void 0?void 0:m.forcePopupAlign()}});const h=Rt(!1),d=Rt(!1);return di(()=>{const{destroyTooltipOnHide:m}=e;if(typeof m=="boolean")h.value=m;else if(m&&typeof m=="object"){const{keepParent:v}=m;h.value=v===!0,d.value=v===!1}}),()=>{const{overlayClassName:m,trigger:v,mouseEnterDelay:g,mouseLeaveDelay:_,overlayStyle:T,prefixCls:P,afterVisibleChange:M,transitionName:I,animation:D,placement:O,align:z,destroyTooltipOnHide:F,defaultVisible:N}=e,H=ble(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),U=me({},H);e.visible!==void 0&&(U.popupVisible=e.visible);const J=me(me(me({popupClassName:m,prefixCls:P,action:v,builtinPlacements:gB,popupPlacement:O,popupAlign:z,afterPopupVisibleChange:M,popupTransitionName:I,popupAnimation:D,defaultPopupVisible:N,destroyPopupOnHide:h.value,autoDestroy:d.value,mouseLeaveDelay:_,popupStyle:T,mouseEnterDelay:g},U),n),{onPopupVisibleChange:e.onVisibleChange||AL,onPopupAlign:e.onPopupAlign||AL,ref:o,popup:s()});return fe(RE,J,{default:r.default})}}}),wle=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:On(),overlayInnerStyle:On(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:On(),builtinPlacements:On(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),Sle={adjustX:1,adjustY:1},PL={adjustX:0,adjustY:0},Tle=[0,0];function IL(e){return typeof e=="boolean"?e?Sle:PL:me(me({},PL),e)}function Cle(e){const{arrowWidth:t=4,horizontalArrowShift:r=16,verticalArrowShift:n=8,autoAdjustOverflow:i,arrowPointAtCenter:o}=e,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(r+t),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(n+t)]},topRight:{points:["br","tc"],offset:[r+t,-4]},rightTop:{points:["tl","cr"],offset:[4,-(n+t)]},bottomRight:{points:["tr","bc"],offset:[r+t,4]},rightBottom:{points:["bl","cr"],offset:[4,n+t]},bottomLeft:{points:["tl","bc"],offset:[-(r+t),4]},leftBottom:{points:["br","cl"],offset:[-4,n+t]}};return Object.keys(s).forEach(a=>{s[a]=o?me(me({},s[a]),{overflow:IL(i),targetOffset:Tle}):me(me({},gB[a]),{overflow:IL(i)}),s[a].ignoreShake=!0}),s}function Ele(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let t=0,r=e.length;t<r;t++)if(e[t]!==void 0)return e[t]}const Ale=G0.map(e=>`${e}-inverse`);function Ple(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...Ale,...G0].includes(e):G0.includes(e)}function Ile(e,t){const r=Ple(t),n=$r({[`${e}-${t}`]:t&&r}),i={},o={};return t&&!r&&(i.background=t,o["--antd-arrow-background-color"]=t),{className:n,overlayStyle:i,arrowStyle:o}}function n_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.map(r=>`${t}${r}`).join(",")}const yB=8;function Mle(e){const t=yB,{sizePopupArrow:r,contentRadius:n,borderRadiusOuter:i,limitVerticalRadius:o}=e,s=r/2-Math.ceil(i*(Math.sqrt(2)-1)),a=(n>12?n+2:12)-s,h=o?t-s:a;return{dropdownArrowOffset:a,dropdownArrowOffsetVertical:h}}function Dle(e,t){const{componentCls:r,sizePopupArrow:n,marginXXS:i,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:a}=e,{colorBg:h,showArrowCls:d,contentRadius:m=e.borderRadiusLG,limitVerticalRadius:v}=t,{dropdownArrowOffsetVertical:g,dropdownArrowOffset:_}=Mle({sizePopupArrow:n,contentRadius:m,borderRadiusOuter:s,limitVerticalRadius:v}),T=n/2+i;return{[r]:{[`${r}-arrow`]:[me(me({position:"absolute",zIndex:1,display:"block"},Kee(n,o,s,h,a)),{"&:before":{background:h}})],[[`&-placement-top ${r}-arrow`,`&-placement-topLeft ${r}-arrow`,`&-placement-topRight ${r}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:_}},[`&-placement-topRight ${r}-arrow`]:{right:{_skip_check_:!0,value:_}},[[`&-placement-bottom ${r}-arrow`,`&-placement-bottomLeft ${r}-arrow`,`&-placement-bottomRight ${r}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:_}},[`&-placement-bottomRight ${r}-arrow`]:{right:{_skip_check_:!0,value:_}},[[`&-placement-left ${r}-arrow`,`&-placement-leftTop ${r}-arrow`,`&-placement-leftBottom ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${r}-arrow`]:{top:g},[`&-placement-leftBottom ${r}-arrow`]:{bottom:g},[[`&-placement-right ${r}-arrow`,`&-placement-rightTop ${r}-arrow`,`&-placement-rightBottom ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${r}-arrow`]:{top:g},[`&-placement-rightBottom ${r}-arrow`]:{bottom:g},[n_(["&-placement-topLeft","&-placement-top","&-placement-topRight"],d)]:{paddingBottom:T},[n_(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"],d)]:{paddingTop:T},[n_(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"],d)]:{paddingRight:{_skip_check_:!0,value:T}},[n_(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"],d)]:{paddingLeft:{_skip_check_:!0,value:T}}}}}const Lle=e=>{const{componentCls:t,tooltipMaxWidth:r,tooltipColor:n,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:h,paddingSM:d,paddingXS:m,tooltipRadiusOuter:v}=e;return[{[t]:me(me(me(me({},Vd(e)),{position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:r,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:a,minHeight:a,padding:`${d/2}px ${m}px`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:h},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:Math.min(o,yB)}},[`${t}-content`]:{position:"relative"}}),Yee(e,(g,_)=>{let{darkColor:T}=_;return{[`&${t}-${g}`]:{[`${t}-inner`]:{backgroundColor:T},[`${t}-arrow`]:{"--antd-arrow-background-color":T}}}})),{"&-rtl":{direction:"rtl"}})},Dle(Aa(e,{borderRadiusOuter:v}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),{[`${t}-pure`]:{position:"relative",maxWidth:"none"}}]},Ole=(e,t)=>Rl("Tooltip",n=>{if((t==null?void 0:t.value)===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=n,h=Aa(n,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[Lle(h),vB(n,"zoom-big-fast")]},n=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=n;return{zIndexPopup:i+70,colorBgDefault:o}})(e),kle=(e,t)=>{const r={},n=me({},e);return t.forEach(i=>{e&&i in e&&(r[i]=e[i],delete n[i])}),{picked:r,omitted:n}},Rle=()=>me(me({},wle()),{title:Xt.any}),zle=bt({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:fg(Rle(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i,expose:o}=t;const{prefixCls:s,getPopupContainer:a,direction:h,rootPrefixCls:d}=os("tooltip",e),m=_e(()=>{var K;return(K=e.open)!==null&&K!==void 0?K:e.visible}),v=Ft(Ele([e.open,e.visible])),g=Ft();let _;rr(m,K=>{ri.cancel(_),_=ri(()=>{v.value=!!K})});const T=()=>{var K;const ne=(K=e.title)!==null&&K!==void 0?K:r.title;return!ne&&ne!==0},P=K=>{const ne=T();m.value===void 0&&(v.value=ne?!1:K),ne||(n("update:visible",K),n("visibleChange",K),n("update:open",K),n("openChange",K))};o({getPopupDomNode:()=>g.value.getPopupDomNode(),open:v,forcePopupAlign:()=>{var K;return(K=g.value)===null||K===void 0?void 0:K.forcePopupAlign()}});const I=_e(()=>{const{builtinPlacements:K,arrowPointAtCenter:ne,autoAdjustOverflow:ae}=e;return K||Cle({arrowPointAtCenter:ne,autoAdjustOverflow:ae})}),D=K=>K||K==="",O=K=>{const ne=K.type;if(typeof ne=="object"&&K.props&&((ne.__ANT_BUTTON===!0||ne==="button")&&D(K.props.disabled)||ne.__ANT_SWITCH===!0&&(D(K.props.disabled)||D(K.props.loading))||ne.__ANT_RADIO===!0&&D(K.props.disabled))){const{picked:ae,omitted:he}=kle(dQ(K),["position","left","right","top","bottom","float","display","zIndex"]),ie=me(me({display:"inline-block"},ae),{cursor:"not-allowed",lineHeight:1,width:K.props&&K.props.block?"100%":void 0}),de=me(me({},he),{pointerEvents:"none"}),ce=Bs(K,{style:de},!0);return fe("span",{style:ie,class:`${s.value}-disabled-compatible-wrapper`},[ce])}return K},z=()=>{var K,ne;return(K=e.title)!==null&&K!==void 0?K:(ne=r.title)===null||ne===void 0?void 0:ne.call(r)},F=(K,ne)=>{const ae=I.value,he=Object.keys(ae).find(ie=>{var de,ce;return ae[ie].points[0]===((de=ne.points)===null||de===void 0?void 0:de[0])&&ae[ie].points[1]===((ce=ne.points)===null||ce===void 0?void 0:ce[1])});if(he){const ie=K.getBoundingClientRect(),de={top:"50%",left:"50%"};he.indexOf("top")>=0||he.indexOf("Bottom")>=0?de.top=`${ie.height-ne.offset[1]}px`:(he.indexOf("Top")>=0||he.indexOf("bottom")>=0)&&(de.top=`${-ne.offset[1]}px`),he.indexOf("left")>=0||he.indexOf("Right")>=0?de.left=`${ie.width-ne.offset[0]}px`:(he.indexOf("right")>=0||he.indexOf("Left")>=0)&&(de.left=`${-ne.offset[0]}px`),K.style.transformOrigin=`${de.left} ${de.top}`}},N=_e(()=>Ile(s.value,e.color)),H=_e(()=>i["data-popover-inject"]),[U,J]=Ole(s,_e(()=>!H.value));return()=>{var K,ne;const{openClassName:ae,overlayClassName:he,overlayStyle:ie,overlayInnerStyle:de}=e;let ce=(ne=dg((K=r.default)===null||K===void 0?void 0:K.call(r)))!==null&&ne!==void 0?ne:null;ce=ce.length===1?ce[0]:ce;let Be=v.value;if(m.value===void 0&&T()&&(Be=!1),!ce)return null;const Ve=O(J1(ce)&&!pQ(ce)?ce:fe("span",null,[ce])),ht=$r({[ae||`${s.value}-open`]:!0,[Ve.props&&Ve.props.class]:Ve.props&&Ve.props.class}),mt=$r(he,{[`${s.value}-rtl`]:h.value==="rtl"},N.value.className,J.value),dt=me(me({},N.value.overlayStyle),de),vt=N.value.arrowStyle,Jt=me(me(me({},i),e),{prefixCls:s.value,getPopupContainer:a==null?void 0:a.value,builtinPlacements:I.value,visible:Be,ref:g,overlayClassName:mt,overlayStyle:me(me({},vt),ie),overlayInnerStyle:dt,onVisibleChange:P,onPopupAlign:F,transitionName:aoe(d.value,"zoom-big-fast",e.transitionName)});return U(fe(xle,Jt,{default:()=>[v.value?Bs(Ve,{class:ht}):Ve],arrowContent:()=>fe("span",{class:`${s.value}-arrow-content`},null),overlay:z}))}}}),$le=Q1(zle),xf={adjustX:1,adjustY:1},wf=[0,0],Ble={topLeft:{points:["bl","tl"],overflow:xf,offset:[0,-4],targetOffset:wf},topCenter:{points:["bc","tc"],overflow:xf,offset:[0,-4],targetOffset:wf},topRight:{points:["br","tr"],overflow:xf,offset:[0,-4],targetOffset:wf},bottomLeft:{points:["tl","bl"],overflow:xf,offset:[0,4],targetOffset:wf},bottomCenter:{points:["tc","bc"],overflow:xf,offset:[0,4],targetOffset:wf},bottomRight:{points:["tr","br"],overflow:xf,offset:[0,4],targetOffset:wf}},Fle=Ble;var Nle=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Vle=bt({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:Xt.string.def("rc-dropdown"),transitionName:String,overlayClassName:Xt.string.def(""),openClassName:String,animation:Xt.any,align:Xt.object,overlayStyle:{type:Object,default:void 0},placement:Xt.string.def("bottomLeft"),overlay:Xt.any,trigger:Xt.oneOfType([Xt.string,Xt.arrayOf(Xt.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:Xt.array,hideAction:Xt.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:Xt.number.def(.15),mouseLeaveDelay:Xt.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,t){let{slots:r,emit:n,expose:i}=t;const o=Ft(!!e.visible);rr(()=>e.visible,_=>{_!==void 0&&(o.value=_)});const s=Ft();i({triggerRef:s});const a=_=>{e.visible===void 0&&(o.value=!1),n("overlayClick",_)},h=_=>{e.visible===void 0&&(o.value=_),n("visibleChange",_)},d=()=>{var _;const T=(_=r.overlay)===null||_===void 0?void 0:_.call(r),P={prefixCls:`${e.prefixCls}-menu`,onClick:a};return fe(Tr,{key:Iz},[e.arrow&&fe("div",{class:`${e.prefixCls}-arrow`},null),Bs(T,P,!1)])},m=_e(()=>{const{minOverlayWidthMatchTrigger:_=!e.alignPoint}=e;return _}),v=()=>{var _;const T=(_=r.default)===null||_===void 0?void 0:_.call(r);return o.value&&T?Bs(T[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):T},g=_e(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:_,arrow:T,showAction:P,overlayStyle:M,trigger:I,placement:D,align:O,getPopupContainer:z,transitionName:F,animation:N,overlayClassName:H}=e,U=Nle(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return fe(RE,zt(zt({},U),{},{prefixCls:_,ref:s,popupClassName:$r(H,{[`${_}-show-arrow`]:T}),popupStyle:M,builtinPlacements:Fle,action:I,showAction:P,hideAction:g.value||[],popupPlacement:D,popupAlign:O,popupTransitionName:F,popupAnimation:N,popupVisible:o.value,stretch:m.value?"minWidth":"",onPopupVisibleChange:h,getPopupContainer:z}),{popup:d,default:v})}}}),Ule=e=>{const{componentCls:t,colorPrimary:r}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${r})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},Hle=Rl("Wave",e=>[Ule(e)]);function jle(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}function Hw(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&jle(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function Gle(e){const{borderTopColor:t,borderColor:r,backgroundColor:n}=getComputedStyle(e);return Hw(t)?t:Hw(r)?r:Hw(n)?n:null}function jw(e){return Number.isNaN(e)?0:e}const Wle=bt({props:{target:On(),className:String},setup(e){const t=Rt(null),[r,n]=Un(null),[i,o]=Un([]),[s,a]=Un(0),[h,d]=Un(0),[m,v]=Un(0),[g,_]=Un(0),[T,P]=Un(!1);function M(){const{target:H}=e,U=getComputedStyle(H);n(Gle(H));const J=U.position==="static",{borderLeftWidth:K,borderTopWidth:ne}=U;a(J?H.offsetLeft:jw(-parseFloat(K))),d(J?H.offsetTop:jw(-parseFloat(ne))),v(H.offsetWidth),_(H.offsetHeight);const{borderTopLeftRadius:ae,borderTopRightRadius:he,borderBottomLeftRadius:ie,borderBottomRightRadius:de}=U;o([ae,he,de,ie].map(ce=>jw(parseFloat(ce))))}let I,D,O;const z=()=>{clearTimeout(O),ri.cancel(D),I==null||I.disconnect()},F=()=>{var H;const U=(H=t.value)===null||H===void 0?void 0:H.parentElement;U&&(O0(null,U),U.parentElement&&U.parentElement.removeChild(U))};cn(()=>{z(),O=setTimeout(()=>{F()},5e3);const{target:H}=e;H&&(D=ri(()=>{M(),P(!0)}),typeof ResizeObserver<"u"&&(I=new ResizeObserver(M),I.observe(H)))}),Pi(()=>{z()});const N=H=>{H.propertyName==="opacity"&&F()};return()=>{if(!T.value)return null;const H={left:`${s.value}px`,top:`${h.value}px`,width:`${m.value}px`,height:`${g.value}px`,borderRadius:i.value.map(U=>`${U}px`).join(" ")};return r&&(H["--wave-color"]=r.value),fe(ns,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[fe("div",{ref:t,class:e.className,style:H,onTransitionend:N},null)]})}}});function qle(e,t){const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",e==null||e.insertBefore(r,e==null?void 0:e.firstChild),O0(fe(Wle,{target:e,className:t},null),r)}function Xle(e,t){function r(){const n=Pu(e);qle(n,t.value)}return r}const Zle=bt({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(e,t){let{slots:r}=t;const n=Ol(),{prefixCls:i}=os("wave",e),[,o]=Hle(i),s=Xle(n,_e(()=>$r(i.value,o.value)));let a;const h=()=>{Pu(n).removeEventListener("click",a,!0)};return cn(()=>{rr(()=>e.disabled,()=>{h(),ko(()=>{const d=Pu(n);if(!d||d.nodeType!==1||e.disabled)return;const m=v=>{v.target.tagName==="INPUT"||!N$(v.target)||!d.getAttribute||d.getAttribute("disabled")||d.disabled||d.className.includes("disabled")||d.className.includes("-leave")||s()};d.addEventListener("click",m,!0)})},{immediate:!0,flush:"post"})}),Pi(()=>{h()}),()=>{var d;return(d=r.default)===null||d===void 0?void 0:d.call(r)[0]}}}),Kle=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:Xt.any,href:String,target:String,title:String,onClick:ZD(),onMousedown:ZD()}),Yle=Kle,ML=e=>{e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},DL=e=>{ko(()=>{e&&(e.style.width=`${e.scrollWidth}px`,e.style.opacity="1",e.style.transform="scale(1)")})},LL=e=>{e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)},Jle=bt({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(e){return()=>{const{existIcon:t,prefixCls:r,loading:n}=e;if(t)return fe("span",{class:`${r}-loading-icon`},[fe(Ov,null,null)]);const i=!!n;return fe(ns,{name:`${r}-loading-icon-motion`,onBeforeEnter:ML,onEnter:DL,onAfterEnter:LL,onBeforeLeave:DL,onLeave:o=>{setTimeout(()=>{ML(o)})},onAfterLeave:LL},{default:()=>[i?fe("span",{class:`${r}-loading-icon`},[fe(Ov,null,null)]):null]})}}}),OL=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Qle=e=>{const{componentCls:t,fontSize:r,lineWidth:n,colorPrimaryHover:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-n,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,[`&:hover,
          &:focus,
          &:active`]:{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:r}},OL(`${t}-primary`,i),OL(`${t}-danger`,o)]}},eue=Qle;function tue(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function rue(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function nue(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:me(me({},tue(e,t)),rue(e.componentCls,t))}}const iue=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${r} + span, > span + ${r}`]:{marginInlineStart:e.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":me({},bE(e)),[`&-icon-only${t}-compact-item`]:{flex:"none"},[`&-compact-item${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${e.lineWidth*2}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{[`&:not([disabled]) + ${t}-compact-vertical-item${t}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${e.lineWidth*2}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},Pl=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),oue=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),aue=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2}),iT=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),J0=(e,t,r,n,i,o,s)=>({[`&${e}-background-ghost`]:me(me({color:t||void 0,backgroundColor:"transparent",borderColor:r||void 0,boxShadow:"none"},Pl(me({backgroundColor:"transparent"},o),me({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:n||void 0,borderColor:i||void 0}})}),JE=e=>({"&:disabled":me({},iT(e))}),_B=e=>me({},JE(e)),Q0=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),bB=e=>me(me(me(me(me({},_B(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),Pl({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),J0(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:me(me(me({color:e.colorError,borderColor:e.colorError},Pl({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),J0(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),JE(e))}),sue=e=>me(me(me(me(me({},_B(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),Pl({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),J0(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:me(me(me({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},Pl({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),J0(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),JE(e))}),lue=e=>me(me({},bB(e)),{borderStyle:"dashed"}),uue=e=>me(me(me({color:e.colorLink},Pl({color:e.colorLinkHover},{color:e.colorLinkActive})),Q0(e)),{[`&${e.componentCls}-dangerous`]:me(me({color:e.colorError},Pl({color:e.colorErrorHover},{color:e.colorErrorActive})),Q0(e))}),cue=e=>me(me(me({},Pl({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),Q0(e)),{[`&${e.componentCls}-dangerous`]:me(me({color:e.colorError},Q0(e)),Pl({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),hue=e=>me(me({},iT(e)),{[`&${e.componentCls}:hover`]:me({},iT(e))}),fue=e=>{const{componentCls:t}=e;return{[`${t}-default`]:bB(e),[`${t}-primary`]:sue(e),[`${t}-dashed`]:lue(e),[`${t}-link`]:uue(e),[`${t}-text`]:cue(e),[`${t}-disabled`]:hue(e)}},QE=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:r,iconCls:n,controlHeight:i,fontSize:o,lineHeight:s,lineWidth:a,borderRadius:h,buttonPaddingHorizontal:d}=e,m=Math.max(0,(i-o*s)/2-a),v=d-a,g=`${r}-icon-only`;return[{[`${r}${t}`]:{fontSize:o,height:i,padding:`${m}px ${v}px`,borderRadius:h,[`&${g}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${r}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${r}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${r}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${g}) ${r}-loading-icon > ${n}`]:{marginInlineEnd:e.marginXS}}},{[`${r}${r}-circle${t}`]:oue(e)},{[`${r}${r}-round${t}`]:aue(e)}]},due=e=>QE(e),pue=e=>{const t=Aa(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return QE(t,`${e.componentCls}-sm`)},mue=e=>{const t=Aa(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return QE(t,`${e.componentCls}-lg`)},vue=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},gue=Rl("Button",e=>{const{controlTmpOutline:t,paddingContentHorizontal:r}=e,n=Aa(e,{colorOutlineDefault:t,buttonPaddingHorizontal:r});return[iue(n),pue(n),due(n),mue(n),vue(n),fue(n),eue(n),Wse(e,{focus:!1}),nue(e)]}),yue=()=>({prefixCls:String,size:{type:String}}),xB=cB(),oT=bt({compatConfig:{MODE:3},name:"AButtonGroup",props:yue(),setup(e,t){let{slots:r}=t;const{prefixCls:n,direction:i}=os("btn-group",e),[,,o]=pg();xB.useProvide(eo({size:_e(()=>e.size)}));const s=_e(()=>{const{size:a}=e;let h="";switch(a){case"large":h="lg";break;case"small":h="sm";break;case"middle":case void 0:break;default:Sl(!a,"Button.Group","Invalid prop `size`.")}return{[`${n.value}`]:!0,[`${n.value}-${h}`]:h,[`${n.value}-rtl`]:i.value==="rtl",[o.value]:!0}});return()=>{var a;return fe("div",{class:s.value},[Do((a=r.default)===null||a===void 0?void 0:a.call(r))])}}}),kL=/^[\u4e00-\u9fa5]{2}$/,RL=kL.test.bind(kL);function i_(e){return e==="text"||e==="link"}const Ym=bt({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:fg(Yle(),{type:"default"}),slots:Object,setup(e,t){let{slots:r,attrs:n,emit:i,expose:o}=t;const{prefixCls:s,autoInsertSpaceInButton:a,direction:h,size:d}=os("btn",e),[m,v]=gue(s),g=xB.useInject(),_=pE(),T=_e(()=>{var de;return(de=e.disabled)!==null&&de!==void 0?de:_.value}),P=Rt(null),M=Rt(void 0);let I=!1;const D=Rt(!1),O=Rt(!1),z=_e(()=>a.value!==!1),{compactSize:F,compactItemClassnames:N}=gse(s,h),H=_e(()=>typeof e.loading=="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading);rr(H,de=>{clearTimeout(M.value),typeof H.value=="number"?M.value=setTimeout(()=>{D.value=de},H.value):D.value=de},{immediate:!0});const U=_e(()=>{const{type:de,shape:ce="default",ghost:Be,block:Ve,danger:ht}=e,mt=s.value,dt={large:"lg",small:"sm",middle:void 0},vt=F.value||(g==null?void 0:g.size)||d.value,Jt=vt&&dt[vt]||"";return[N.value,{[v.value]:!0,[`${mt}`]:!0,[`${mt}-${ce}`]:ce!=="default"&&ce,[`${mt}-${de}`]:de,[`${mt}-${Jt}`]:Jt,[`${mt}-loading`]:D.value,[`${mt}-background-ghost`]:Be&&!i_(de),[`${mt}-two-chinese-chars`]:O.value&&z.value,[`${mt}-block`]:Ve,[`${mt}-dangerous`]:!!ht,[`${mt}-rtl`]:h.value==="rtl"}]}),J=()=>{const de=P.value;if(!de||a.value===!1)return;const ce=de.textContent;I&&RL(ce)?O.value||(O.value=!0):O.value&&(O.value=!1)},K=de=>{if(D.value||T.value){de.preventDefault();return}i("click",de)},ne=de=>{i("mousedown",de)},ae=(de,ce)=>{const Be=ce?" ":"";if(de.type===Uu){let Ve=de.children.trim();return RL(Ve)&&(Ve=Ve.split("").join(Be)),fe("span",null,[Ve])}return de};return di(()=>{Sl(!(e.ghost&&i_(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),cn(J),Mh(J),Pi(()=>{M.value&&clearTimeout(M.value)}),o({focus:()=>{var de;(de=P.value)===null||de===void 0||de.focus()},blur:()=>{var de;(de=P.value)===null||de===void 0||de.blur()}}),()=>{var de,ce;const{icon:Be=(de=r.icon)===null||de===void 0?void 0:de.call(r)}=e,Ve=Do((ce=r.default)===null||ce===void 0?void 0:ce.call(r));I=Ve.length===1&&!Be&&!i_(e.type);const{type:ht,htmlType:mt,href:dt,title:vt,target:Jt}=e,ar=D.value?"loading":Be,nr=me(me({},n),{title:vt,disabled:T.value,class:[U.value,n.class,{[`${s.value}-icon-only`]:Ve.length===0&&!!ar}],onClick:K,onMousedown:ne});T.value||delete nr.disabled;const st=Be&&!D.value?Be:fe(Jle,{existIcon:!!Be,prefixCls:s.value,loading:!!D.value},null),ze=Ve.map(We=>ae(We,I&&z.value));if(dt!==void 0)return m(fe("a",zt(zt({},nr),{},{href:dt,target:Jt,ref:P}),[st,ze]));let et=fe("button",zt(zt({},nr),{},{ref:P,type:mt}),[st,ze]);if(!i_(ht)){const We=function(){return et}();et=fe(Zle,{ref:"wave",disabled:!!D.value},{default:()=>[We]})}return m(et)}}});Ym.Group=oT;Ym.install=function(e){return e.component(Ym.name,Ym),e.component(oT.name,oT),e};var _ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const bue=_ue;function zL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){xue(e,i,r[i])})}return e}function xue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eA=function(t,r){var n=zL({},t,r.attrs);return fe(Ia,zL({},n,{icon:bue}),null)};eA.displayName="EllipsisOutlined";eA.inheritAttrs=!1;const wB=eA,SB=Symbol("OverrideContextKey"),TB=()=>Er(SB,void 0),wue=e=>{var t,r,n;const{prefixCls:i,mode:o,selectable:s,validator:a,onClick:h,expandIcon:d}=TB()||{};Mn(SB,{prefixCls:_e(()=>{var m,v;return(v=(m=e.prefixCls)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:i==null?void 0:i.value}),mode:_e(()=>{var m,v;return(v=(m=e.mode)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:o==null?void 0:o.value}),selectable:_e(()=>{var m,v;return(v=(m=e.selectable)===null||m===void 0?void 0:m.value)!==null&&v!==void 0?v:s==null?void 0:s.value}),validator:(t=e.validator)!==null&&t!==void 0?t:a,onClick:(r=e.onClick)!==null&&r!==void 0?r:h,expandIcon:(n=e.expandIcon)!==null&&n!==void 0?n:d==null?void 0:d.value})};function Sue(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let h=0;h<o.length;h++){const d=o[h];if(!a(d))return!1;const m=e[d],v=t[d];if(i=r?r.call(n,m,v,d):void 0,i===!1||i===void 0&&m!==v)return!1}return!0}function om(e,t){return Sue(Fr(e),Fr(t))}const CB=Symbol("menuContextKey"),EB=e=>{Mn(CB,e)},Bl=()=>Er(CB),AB=Symbol("ForceRenderKey"),Tue=e=>{Mn(AB,e)},PB=()=>Er(AB,!1),IB=Symbol("menuFirstLevelContextKey"),MB=e=>{Mn(IB,e)},Cue=()=>Er(IB,!0),e1=bt({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(e,t){let{slots:r}=t;const n=Bl(),i=me({},n);return e.mode!==void 0&&(i.mode=E0(e,"mode")),e.overflowDisabled!==void 0&&(i.overflowDisabled=E0(e,"overflowDisabled")),EB(i),()=>{var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}}),Eue=EB,Aue=Symbol("siderCollapsed"),o_="$$__vc-menu-more__key",DB=Symbol("KeyPathContext"),tA=()=>Er(DB,{parentEventKeys:_e(()=>[]),parentKeys:_e(()=>[]),parentInfo:{}}),Pue=(e,t,r)=>{const{parentEventKeys:n,parentKeys:i}=tA(),o=_e(()=>[...n.value,e]),s=_e(()=>[...i.value,t]);return Mn(DB,{parentEventKeys:o,parentKeys:s,parentInfo:r}),s},LB=Symbol("measure"),$L=bt({compatConfig:{MODE:3},setup(e,t){let{slots:r}=t;return Mn(LB,!0),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}}),rA=()=>Er(LB,!1),Iue=Pue;function OB(e){const{mode:t,rtl:r,inlineIndent:n}=Bl();return _e(()=>t.value!=="inline"?null:r.value?{paddingRight:`${e.value*n.value}px`}:{paddingLeft:`${e.value*n.value}px`})}let Mue=0;const Due=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:Xt.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:On()}),Cd=bt({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:Due(),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;const o=Ol(),s=rA(),a=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;Sl(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(a)}"\` not support Symbol type`);const h=`menu_item_${++Mue}_$$_${a}`,{parentEventKeys:d,parentKeys:m}=tA(),{prefixCls:v,activeKeys:g,disabled:_,changeActiveKeys:T,rtl:P,inlineCollapsed:M,siderCollapsed:I,onItemClick:D,selectedKeys:O,registerMenuInfo:z,unRegisterMenuInfo:F}=Bl(),N=Cue(),H=Rt(!1),U=_e(()=>[...m.value,a]);z(h,{eventKey:h,key:a,parentEventKeys:d,parentKeys:m,isLeaf:!0}),Pi(()=>{F(h)}),rr(g,()=>{H.value=!!g.value.find(dt=>dt===a)},{immediate:!0});const K=_e(()=>_.value||e.disabled),ne=_e(()=>O.value.includes(a)),ae=_e(()=>{const dt=`${v.value}-item`;return{[`${dt}`]:!0,[`${dt}-danger`]:e.danger,[`${dt}-active`]:H.value,[`${dt}-selected`]:ne.value,[`${dt}-disabled`]:K.value}}),he=dt=>({key:a,eventKey:h,keyPath:U.value,eventKeyPath:[...d.value,h],domEvent:dt,item:me(me({},e),i)}),ie=dt=>{if(K.value)return;const vt=he(dt);n("click",dt),D(vt)},de=dt=>{K.value||(T(U.value),n("mouseenter",dt))},ce=dt=>{K.value||(T([]),n("mouseleave",dt))},Be=dt=>{if(n("keydown",dt),dt.which===qa.ENTER){const vt=he(dt);n("click",dt),D(vt)}},Ve=dt=>{T(U.value),n("focus",dt)},ht=(dt,vt)=>{const Jt=fe("span",{class:`${v.value}-title-content`},[vt]);return(!dt||J1(vt)&&vt.type==="span")&&vt&&M.value&&N&&typeof vt=="string"?fe("div",{class:`${v.value}-inline-collapsed-noicon`},[vt.charAt(0)]):Jt},mt=OB(_e(()=>U.value.length));return()=>{var dt,vt,Jt,ar,nr;if(s)return null;const st=(dt=e.title)!==null&&dt!==void 0?dt:(vt=r.title)===null||vt===void 0?void 0:vt.call(r),ze=Do((Jt=r.default)===null||Jt===void 0?void 0:Jt.call(r)),et=ze.length;let We=st;typeof st>"u"?We=N&&et?ze:"":st===!1&&(We="");const ut={title:We};!I.value&&!M.value&&(ut.title=null,ut.open=!1);const ct={};e.role==="option"&&(ct["aria-selected"]=ne.value);const le=(ar=e.icon)!==null&&ar!==void 0?ar:(nr=r.icon)===null||nr===void 0?void 0:nr.call(r,e);return fe($le,zt(zt({},ut),{},{placement:P.value?"left":"right",overlayClassName:`${v.value}-inline-collapsed-tooltip`}),{default:()=>[fe(Zm.Item,zt(zt(zt({component:"li"},i),{},{id:e.id,style:me(me({},i.style||{}),mt.value),class:[ae.value,{[`${i.class}`]:!!i.class,[`${v.value}-item-only-child`]:(le?et+1:et)===1}],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":a,"aria-disabled":e.disabled},ct),{},{onMouseenter:de,onMouseleave:ce,onClick:ie,onKeydown:Be,onFocus:Ve,title:typeof st=="string"?st:void 0}),{default:()=>[Bs(typeof le=="function"?le(e.originItemValue):le,{class:`${v.value}-item-icon`},!1),ht(le,ze)]})]})}}}),Mu={adjustX:1,adjustY:1},Lue={topLeft:{points:["bl","tl"],overflow:Mu,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Mu,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Mu,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Mu,offset:[4,0]}},Oue={topLeft:{points:["bl","tl"],overflow:Mu,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Mu,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Mu,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Mu,offset:[4,0]}},kue={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},BL=bt({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(e,t){let{slots:r,emit:n}=t;const i=Rt(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:a,subMenuCloseDelay:h,builtinPlacements:d,triggerSubMenuAction:m,forceSubMenuRender:v,motion:g,defaultMotions:_,rootClassName:T}=Bl(),P=PB(),M=_e(()=>s.value?me(me({},Oue),d.value):me(me({},Lue),d.value)),I=_e(()=>kue[e.mode]),D=Rt();rr(()=>e.visible,F=>{ri.cancel(D.value),D.value=ri(()=>{i.value=F})},{immediate:!0}),Pi(()=>{ri.cancel(D.value)});const O=F=>{n("visibleChange",F)},z=_e(()=>{var F,N;const H=g.value||((F=_.value)===null||F===void 0?void 0:F[e.mode])||((N=_.value)===null||N===void 0?void 0:N.other),U=typeof H=="function"?H():H;return U?J$(U.name,{css:!0}):void 0});return()=>{const{prefixCls:F,popupClassName:N,mode:H,popupOffset:U,disabled:J}=e;return fe(RE,{prefixCls:F,popupClassName:$r(`${F}-popup`,{[`${F}-rtl`]:s.value},N,T.value),stretch:H==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:M.value,popupPlacement:I.value,popupVisible:i.value,popupAlign:U&&{offset:U},action:J?[]:[m.value],mouseEnterDelay:a.value,mouseLeaveDelay:h.value,onPopupVisibleChange:O,forceRender:P||v.value,popupAnimation:z.value},{popup:r.popup,default:r.default})}}}),kB=(e,t)=>{let{slots:r,attrs:n}=t;var i;const{prefixCls:o,mode:s}=Bl();return fe("ul",zt(zt({},n),{},{class:$r(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(i=r.default)===null||i===void 0?void 0:i.call(r)])};kB.displayName="SubMenuList";const RB=kB,Rue=bt({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(e,t){let{slots:r}=t;const n=_e(()=>"inline"),{motion:i,mode:o,defaultMotions:s}=Bl(),a=_e(()=>o.value===n.value),h=Ft(!a.value),d=_e(()=>a.value?e.open:!1);rr(o,()=>{a.value&&(h.value=!1)},{flush:"post"});const m=_e(()=>{var v,g;const _=i.value||((v=s.value)===null||v===void 0?void 0:v[n.value])||((g=s.value)===null||g===void 0?void 0:g.other),T=typeof _=="function"?_():_;return me(me({},T),{appear:e.keyPath.length<=1})});return()=>{var v;return h.value?null:fe(e1,{mode:n.value},{default:()=>[fe(ns,m.value,{default:()=>[wh(fe(RB,{id:e.id},{default:()=>[(v=r.default)===null||v===void 0?void 0:v.call(r)]}),[[pd,d.value]])]})]})}}});let FL=0;const zue=()=>({icon:Xt.any,title:Xt.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:On()}),Ed=bt({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:zue(),slots:Object,setup(e,t){let{slots:r,attrs:n,emit:i}=t;var o,s;MB(!1);const a=rA(),h=Ol(),d=typeof h.vnode.key=="symbol"?String(h.vnode.key):h.vnode.key;Sl(typeof h.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(d)}"\` not support Symbol type`);const m=kS(d)?d:`sub_menu_${++FL}_$$_not_set_key`,v=(o=e.eventKey)!==null&&o!==void 0?o:kS(d)?`sub_menu_${++FL}_$$_${d}`:m,{parentEventKeys:g,parentInfo:_,parentKeys:T}=tA(),P=_e(()=>[...T.value,m]),M=Rt([]),I={eventKey:v,key:m,parentEventKeys:g,childrenEventKeys:M,parentKeys:T};(s=_.childrenEventKeys)===null||s===void 0||s.value.push(v),Pi(()=>{var Oe;_.childrenEventKeys&&(_.childrenEventKeys.value=(Oe=_.childrenEventKeys)===null||Oe===void 0?void 0:Oe.value.filter(tt=>tt!=v))}),Iue(v,m,I);const{prefixCls:D,activeKeys:O,disabled:z,changeActiveKeys:F,mode:N,inlineCollapsed:H,openKeys:U,overflowDisabled:J,onOpenChange:K,registerMenuInfo:ne,unRegisterMenuInfo:ae,selectedSubMenuKeys:he,expandIcon:ie,theme:de}=Bl(),ce=d!=null,Be=!a&&(PB()||!ce);Tue(Be),(a&&ce||!a&&!ce||Be)&&(ne(v,I),Pi(()=>{ae(v)}));const Ve=_e(()=>`${D.value}-submenu`),ht=_e(()=>z.value||e.disabled),mt=Rt(),dt=Rt(),vt=_e(()=>U.value.includes(m)),Jt=_e(()=>!J.value&&vt.value),ar=_e(()=>he.value.includes(m)),nr=Rt(!1);rr(O,()=>{nr.value=!!O.value.find(Oe=>Oe===m)},{immediate:!0});const st=Oe=>{ht.value||(i("titleClick",Oe,m),N.value==="inline"&&K(m,!vt.value))},ze=Oe=>{ht.value||(F(P.value),i("mouseenter",Oe))},et=Oe=>{ht.value||(F([]),i("mouseleave",Oe))},We=OB(_e(()=>P.value.length)),ut=Oe=>{N.value!=="inline"&&K(m,Oe)},ct=()=>{F(P.value)},le=v&&`${v}-popup`,ye=_e(()=>$r(D.value,`${D.value}-${e.theme||de.value}`,e.popupClassName)),Ee=(Oe,tt)=>{if(!tt)return H.value&&!T.value.length&&Oe&&typeof Oe=="string"?fe("div",{class:`${D.value}-inline-collapsed-noicon`},[Oe.charAt(0)]):fe("span",{class:`${D.value}-title-content`},[Oe]);const rt=J1(Oe)&&Oe.type==="span";return fe(Tr,null,[Bs(typeof tt=="function"?tt(e.originItemValue):tt,{class:`${D.value}-item-icon`},!1),rt?Oe:fe("span",{class:`${D.value}-title-content`},[Oe])])},je=_e(()=>N.value!=="inline"&&P.value.length>1?"vertical":N.value),Ye=_e(()=>N.value==="horizontal"?"vertical":N.value),qe=_e(()=>je.value==="horizontal"?"vertical":je.value),nt=()=>{var Oe,tt;const rt=Ve.value,Tt=(Oe=e.icon)!==null&&Oe!==void 0?Oe:(tt=r.icon)===null||tt===void 0?void 0:tt.call(r,e),Lt=e.expandIcon||r.expandIcon||ie.value,Pt=Ee(cE(r,e,"title"),Tt);return fe("div",{style:We.value,class:`${rt}-title`,tabindex:ht.value?null:-1,ref:mt,title:typeof Pt=="string"?Pt:null,"data-menu-id":m,"aria-expanded":Jt.value,"aria-haspopup":!0,"aria-controls":le,"aria-disabled":ht.value,onClick:st,onFocus:ct},[Pt,N.value!=="horizontal"&&Lt?Lt(me(me({},e),{isOpen:Jt.value})):fe("i",{class:`${rt}-arrow`},null)])};return()=>{var Oe;if(a)return ce?(Oe=r.default)===null||Oe===void 0?void 0:Oe.call(r):null;const tt=Ve.value;let rt=()=>null;if(!J.value&&N.value!=="inline"){const Tt=N.value==="horizontal"?[0,8]:[10,0];rt=()=>fe(BL,{mode:je.value,prefixCls:tt,visible:!e.internalPopupClose&&Jt.value,popupClassName:ye.value,popupOffset:e.popupOffset||Tt,disabled:ht.value,onVisibleChange:ut},{default:()=>[nt()],popup:()=>fe(e1,{mode:qe.value},{default:()=>[fe(RB,{id:le,ref:dt},{default:r.default})]})})}else rt=()=>fe(BL,null,{default:nt});return fe(e1,{mode:Ye.value},{default:()=>[fe(Zm.Item,zt(zt({component:"li"},n),{},{role:"none",class:$r(tt,`${tt}-${N.value}`,n.class,{[`${tt}-open`]:Jt.value,[`${tt}-active`]:nr.value,[`${tt}-selected`]:ar.value,[`${tt}-disabled`]:ht.value}),onMouseenter:ze,onMouseleave:et,"data-submenu-id":m}),{default:()=>fe(Tr,null,[rt(),!J.value&&fe(Rue,{id:le,open:Jt.value,keyPath:P.value},{default:r.default})])})]})}}});function zB(e,t){return e.classList?e.classList.contains(t):` ${e.className} `.indexOf(` ${t} `)>-1}function NL(e,t){e.classList?e.classList.add(t):zB(e,t)||(e.className=`${e.className} ${t}`)}function VL(e,t){if(e.classList)e.classList.remove(t);else if(zB(e,t)){const r=e.className;e.className=` ${r} `.replace(` ${t} `," ")}}const $ue=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:e,appear:t,css:!0,onBeforeEnter:r=>{r.style.height="0px",r.style.opacity="0",NL(r,e)},onEnter:r=>{ko(()=>{r.style.height=`${r.scrollHeight}px`,r.style.opacity="1"})},onAfterEnter:r=>{r&&(VL(r,e),r.style.height=null,r.style.opacity=null)},onBeforeLeave:r=>{NL(r,e),r.style.height=`${r.offsetHeight}px`,r.style.opacity=null},onLeave:r=>{setTimeout(()=>{r.style.height="0px",r.style.opacity="0"})},onAfterLeave:r=>{r&&(VL(r,e),r.style&&(r.style.height=null,r.style.opacity=null))}}},Bue=$ue,Fue=()=>({title:Xt.any,originItemValue:On()}),t1=bt({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Fue(),slots:Object,setup(e,t){let{slots:r,attrs:n}=t;const{prefixCls:i}=Bl(),o=_e(()=>`${i.value}-item-group`),s=rA();return()=>{var a,h;return s?(a=r.default)===null||a===void 0?void 0:a.call(r):fe("li",zt(zt({},n),{},{onClick:d=>d.stopPropagation(),class:o.value}),[fe("div",{title:typeof e.title=="string"?e.title:void 0,class:`${o.value}-title`},[cE(r,e,"title")]),fe("ul",{class:`${o.value}-list`},[(h=r.default)===null||h===void 0?void 0:h.call(r)])])}}}),Nue=()=>({prefixCls:String,dashed:Boolean}),r1=bt({compatConfig:{MODE:3},name:"AMenuDivider",props:Nue(),setup(e){const{prefixCls:t}=Bl(),r=_e(()=>({[`${t.value}-item-divider`]:!0,[`${t.value}-item-divider-dashed`]:!!e.dashed}));return()=>fe("li",{class:r.value},null)}});var Vue=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function aT(e,t,r){return(e||[]).map((n,i)=>{if(n&&typeof n=="object"){const o=n,{label:s,children:a,key:h,type:d}=o,m=Vue(o,["label","children","key","type"]),v=h??`tmp-${i}`,g=r?r.parentKeys.slice():[],_=[],T={eventKey:v,key:v,parentEventKeys:Ft(g),parentKeys:Ft(g),childrenEventKeys:Ft(_),isLeaf:!1};if(a||d==="group"){if(d==="group"){const M=aT(a,t,r);return fe(t1,zt(zt({key:v},m),{},{title:s,originItemValue:n}),{default:()=>[M]})}t.set(v,T),r&&r.childrenEventKeys.push(v);const P=aT(a,t,{childrenEventKeys:_,parentKeys:[].concat(g,v)});return fe(Ed,zt(zt({key:v},m),{},{title:s,originItemValue:n}),{default:()=>[P]})}return d==="divider"?fe(r1,zt({key:v},m),null):(T.isLeaf=!0,t.set(v,T),fe(Cd,zt(zt({key:v},m),{},{originItemValue:n}),{default:()=>[s]}))}return null}).filter(n=>n)}function Uue(e){const t=Rt([]),r=Rt(!1),n=Rt(new Map);return rr(()=>e.items,()=>{const i=new Map;r.value=!1,e.items?(r.value=!0,t.value=aT(e.items,i)):t.value=void 0,n.value=i},{immediate:!0,deep:!0}),{itemsNodes:t,store:n,hasItmes:r}}const Hue=e=>{const{componentCls:t,motionDurationSlow:r,menuHorizontalHeight:n,colorSplit:i,lineWidth:o,lineType:s,menuItemPaddingInline:a}=e;return{[`${t}-horizontal`]:{lineHeight:`${n}px`,border:0,borderBottom:`${o}px ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${r}`,`background ${r}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},jue=Hue,Gue=e=>{let{componentCls:t,menuArrowOffset:r}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${r})`},"&::after":{transform:`rotate(45deg) translateY(${r})`}}}}},Wue=Gue,UL=e=>me({},u$(e)),que=(e,t)=>{const{componentCls:r,colorItemText:n,colorItemTextSelected:i,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:a,colorItemBgSelected:h,colorActiveBarHeight:d,colorActiveBarWidth:m,colorActiveBarBorderSize:v,motionDurationSlow:g,motionEaseInOut:_,motionEaseOut:T,menuItemPaddingInline:P,motionDurationMid:M,colorItemTextHover:I,lineType:D,colorSplit:O,colorItemTextDisabled:z,colorDangerItemText:F,colorDangerItemTextHover:N,colorDangerItemTextSelected:H,colorDangerItemBgActive:U,colorDangerItemBgSelected:J,colorItemBgHover:K,menuSubMenuBg:ne,colorItemTextSelectedHorizontal:ae,colorItemBgSelectedHorizontal:he}=e;return{[`${r}-${t}`]:{color:n,background:s,[`&${r}-root:focus-visible`]:me({},UL(e)),[`${r}-item-group-title`]:{color:o},[`${r}-submenu-selected`]:{[`> ${r}-submenu-title`]:{color:i}},[`${r}-item-disabled, ${r}-submenu-disabled`]:{color:`${z} !important`},[`${r}-item:hover, ${r}-submenu-title:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:I}},[`&:not(${r}-horizontal)`]:{[`${r}-item:not(${r}-item-selected)`]:{"&:hover":{backgroundColor:K},"&:active":{backgroundColor:h}},[`${r}-submenu-title`]:{"&:hover":{backgroundColor:K},"&:active":{backgroundColor:h}}},[`${r}-item-danger`]:{color:F,[`&${r}-item:hover`]:{[`&:not(${r}-item-selected):not(${r}-submenu-selected)`]:{color:N}},[`&${r}-item:active`]:{background:U}},[`${r}-item a`]:{"&, &:hover":{color:"inherit"}},[`${r}-item-selected`]:{color:i,[`&${r}-item-danger`]:{color:H},["a, a:hover"]:{color:"inherit"}},[`& ${r}-item-selected`]:{backgroundColor:h,[`&${r}-item-danger`]:{backgroundColor:J}},[`${r}-item, ${r}-submenu-title`]:{[`&:not(${r}-item-disabled):focus-visible`]:me({},UL(e))},[`&${r}-submenu > ${r}`]:{backgroundColor:ne},[`&${r}-popup > ${r}`]:{backgroundColor:s},[`&${r}-horizontal`]:me(me({},t==="dark"?{borderBottom:0}:{}),{[`> ${r}-item, > ${r}-submenu`]:{top:v,marginTop:-v,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:P,bottom:0,borderBottom:`${d}px solid transparent`,transition:`border-color ${g} ${_}`,content:'""'},["&:hover, &-active, &-open"]:{"&::after":{borderBottomWidth:d,borderBottomColor:ae}},["&-selected"]:{color:ae,backgroundColor:he,"&::after":{borderBottomWidth:d,borderBottomColor:ae}}}}),[`&${r}-root`]:{[`&${r}-inline, &${r}-vertical`]:{borderInlineEnd:`${v}px ${D} ${O}`}},[`&${r}-inline`]:{[`${r}-sub${r}-inline`]:{background:a},[`${r}-item, ${r}-submenu-title`]:v&&m?{width:`calc(100% + ${v}px)`}:{},[`${r}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${m}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${M} ${T}`,`opacity ${M} ${T}`].join(","),content:'""'},[`&${r}-item-danger`]:{"&::after":{borderInlineEndColor:H}}},[`${r}-selected, ${r}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${M} ${_}`,`opacity ${M} ${_}`].join(",")}}}}}},HL=que,jL=e=>{const{componentCls:t,menuItemHeight:r,itemMarginInline:n,padding:i,menuArrowSize:o,marginXS:s,marginXXS:a}=e,h=i+o+s;return{[`${t}-item`]:{position:"relative"},[`${t}-item, ${t}-submenu-title`]:{height:r,lineHeight:`${r}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:n,marginBlock:a,width:`calc(100% - ${n*2}px)`},[`${t}-submenu`]:{paddingBottom:.02},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:r,lineHeight:`${r}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:h}}},Xue=e=>{const{componentCls:t,iconCls:r,menuItemHeight:n,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionDurationMid:a,motionEaseOut:h,paddingXL:d,fontSizeSM:m,fontSizeLG:v,motionDurationSlow:g,paddingXS:_,boxShadowSecondary:T}=e,P={height:n,lineHeight:`${n}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{["&-inline, &-vertical"]:me({[`&${t}-root`]:{boxShadow:"none"}},jL(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:me(me({},jL(e)),{boxShadow:T})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${g}`,`background ${g}`,`padding ${a} ${h}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:P,[`& ${t}-item-group-title`]:{paddingInlineStart:d}},[`${t}-item`]:P}},{[`${t}-inline-collapsed`]:{width:n*2,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:v,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${m}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${r}`]:{margin:0,fontSize:v,lineHeight:`${n}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${r}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${r}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:me(me({},s$),{paddingInline:_})}}]},Zue=Xue,GL=e=>{const{componentCls:t,fontSize:r,motionDurationSlow:n,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:a,controlHeightSM:h}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding ${n} ${o}`].join(","),[`${t}-item-icon, ${a}`]:{minWidth:r,fontSize:r,transition:[`font-size ${i} ${s}`,`margin ${n} ${o}`,`color ${n}`].join(","),"+ span":{marginInlineStart:h-r,opacity:1,transition:[`opacity ${n} ${o}`,`margin ${n}`,`color ${n}`].join(",")}},[`${t}-item-icon`]:me({},l$()),[`&${t}-item-only-child`]:{[`> ${a}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},WL=e=>{const{componentCls:t,motionDurationSlow:r,motionEaseInOut:n,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{["&-expand-icon, &-arrow"]:{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${r} ${n}, opacity ${r}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${r} ${n}`,`transform ${r} ${n}`,`top ${r} ${n}`,`color ${r} ${n}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},Kue=e=>{const{antCls:t,componentCls:r,fontSize:n,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,lineHeight:a,paddingXS:h,padding:d,colorSplit:m,lineWidth:v,zIndexPopup:g,borderRadiusLG:_,radiusSubMenuItem:T,menuArrowSize:P,menuArrowOffset:M,lineType:I,menuPanelMaskInset:D}=e;return[{"":{[`${r}`]:me(me({},d5()),{["&-hidden"]:{display:"none"}})},[`${r}-submenu-hidden`]:{display:"none"}},{[r]:me(me(me(me(me(me(me({},Vd(e)),d5()),{marginBottom:0,paddingInlineStart:0,fontSize:n,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,["ul, ol"]:{margin:0,padding:0,listStyle:"none"},["&-overflow"]:{display:"flex",[`${r}-item`]:{flex:"none"}},[`${r}-item, ${r}-submenu, ${r}-submenu-title`]:{borderRadius:e.radiusItem},[`${r}-item-group-title`]:{padding:`${h}px ${d}px`,fontSize:n,lineHeight:a,transition:`all ${i}`},[`&-horizontal ${r}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${r}-submenu, ${r}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${r}-submenu ${r}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${r}-title-content`]:{transition:`color ${i}`},[`${r}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${r}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:m,borderStyle:I,borderWidth:0,borderTopWidth:v,marginBlock:v,padding:0,"&-dashed":{borderStyle:"dashed"}}}),GL(e)),{[`${r}-item-group`]:{[`${r}-item-group-list`]:{margin:0,padding:0,[`${r}-item, ${r}-submenu-title`]:{paddingInline:`${n*2}px ${d}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:g,background:"transparent",borderRadius:_,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${D}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:D},[`> ${r}`]:me(me(me({borderRadius:_},GL(e)),WL(e)),{[`${r}-item, ${r}-submenu > ${r}-submenu-title`]:{borderRadius:T},[`${r}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})}}),WL(e)),{[`&-inline-collapsed ${r}-submenu-arrow,
        &-inline ${r}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${M})`},"&::after":{transform:`rotate(45deg) translateX(-${M})`}},[`${r}-submenu-open${r}-submenu-inline > ${r}-submenu-title > ${r}-submenu-arrow`]:{transform:`translateY(-${P*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${M})`},"&::before":{transform:`rotate(45deg) translateX(${M})`}}})},{[`${t}-layout-header`]:{[r]:{lineHeight:"inherit"}}}]},Yue=(e,t)=>Rl("Menu",(n,i)=>{let{overrideComponentToken:o}=i;if((t==null?void 0:t.value)===!1)return[];const{colorBgElevated:s,colorPrimary:a,colorError:h,colorErrorHover:d,colorTextLightSolid:m}=n,{controlHeightLG:v,fontSize:g}=n,_=g/7*5,T=Aa(n,{menuItemHeight:v,menuItemPaddingInline:n.margin,menuArrowSize:_,menuHorizontalHeight:v*1.15,menuArrowOffset:`${_*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),P=new yi(m).setAlpha(.65).toRgbString(),M=Aa(T,{colorItemText:P,colorItemTextHover:m,colorGroupTitle:P,colorItemTextSelected:m,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:a,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new yi(m).setAlpha(.25).toRgbString(),colorDangerItemText:h,colorDangerItemTextHover:d,colorDangerItemTextSelected:m,colorDangerItemBgActive:h,colorDangerItemBgSelected:h,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:m,colorItemBgSelectedHorizontal:a},me({},o));return[Kue(T),jue(T),Zue(T),HL(T,"light"),HL(M,"dark"),Wue(T),Hse(T),Y0(T,"slide-up"),Y0(T,"slide-down"),vB(T,"zoom-big")]},n=>{const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:h,colorTextDescription:d,colorBgContainer:m,colorFillAlter:v,colorFillContent:g,lineWidth:_,lineWidthBold:T,controlItemBgActive:P,colorBgTextHover:M}=n;return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,colorItemText:h,colorItemTextHover:h,colorItemTextHoverHorizontal:i,colorGroupTitle:d,colorItemTextSelected:i,colorItemTextSelectedHorizontal:i,colorItemBg:m,colorItemBgHover:M,colorItemBgActive:g,colorSubItemBg:v,colorItemBgSelected:P,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:T,colorActiveBarBorderSize:_,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:a,colorDangerItemBgSelected:a,itemMarginInline:n.marginXXS}})(e),Jue=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),qL=[],Bu=bt({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:Jue(),slots:Object,setup(e,t){let{slots:r,emit:n,attrs:i}=t;const{direction:o,getPrefixCls:s}=os("menu",e),a=TB(),h=_e(()=>{var st;return s("menu",e.prefixCls||((st=a==null?void 0:a.prefixCls)===null||st===void 0?void 0:st.value))}),[d,m]=Yue(h,_e(()=>!a)),v=Rt(new Map),g=Er(Aue,Ft(void 0)),_=_e(()=>g.value!==void 0?g.value:e.inlineCollapsed),{itemsNodes:T}=Uue(e),P=Rt(!1);cn(()=>{P.value=!0}),di(()=>{Sl(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Sl(!(g.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const M=Ft([]),I=Ft([]),D=Ft({});rr(v,()=>{const st={};for(const ze of v.value.values())st[ze.key]=ze;D.value=st},{flush:"post"}),di(()=>{if(e.activeKey!==void 0){let st=[];const ze=e.activeKey?D.value[e.activeKey]:void 0;ze&&e.activeKey!==void 0?st=Uw([].concat(Qt(ze.parentKeys),e.activeKey)):st=[],om(M.value,st)||(M.value=st)}}),rr(()=>e.selectedKeys,st=>{st&&(I.value=st.slice())},{immediate:!0,deep:!0});const O=Ft([]);rr([D,I],()=>{let st=[];I.value.forEach(ze=>{const et=D.value[ze];et&&(st=st.concat(Qt(et.parentKeys)))}),st=Uw(st),om(O.value,st)||(O.value=st)},{immediate:!0});const z=st=>{if(e.selectable){const{key:ze}=st,et=I.value.includes(ze);let We;e.multiple?et?We=I.value.filter(ct=>ct!==ze):We=[...I.value,ze]:We=[ze];const ut=me(me({},st),{selectedKeys:We});om(We,I.value)||(e.selectedKeys===void 0&&(I.value=We),n("update:selectedKeys",We),et&&e.multiple?n("deselect",ut):n("select",ut))}K.value!=="inline"&&!e.multiple&&F.value.length&&he(qL)},F=Ft([]);rr(()=>e.openKeys,function(){let st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.value;om(F.value,st)||(F.value=st.slice())},{immediate:!0,deep:!0});let N;const H=st=>{clearTimeout(N),N=setTimeout(()=>{e.activeKey===void 0&&(M.value=st),n("update:activeKey",st[st.length-1])})},U=_e(()=>!!e.disabled),J=_e(()=>o.value==="rtl"),K=Ft("vertical"),ne=Rt(!1);di(()=>{var st;(e.mode==="inline"||e.mode==="vertical")&&_.value?(K.value="vertical",ne.value=_.value):(K.value=e.mode,ne.value=!1),!((st=a==null?void 0:a.mode)===null||st===void 0)&&st.value&&(K.value=a.mode.value)});const ae=_e(()=>K.value==="inline"),he=st=>{F.value=st,n("update:openKeys",st),n("openChange",st)},ie=Ft(F.value),de=Rt(!1);rr(F,()=>{ae.value&&(ie.value=F.value)},{immediate:!0}),rr(ae,()=>{if(!de.value){de.value=!0;return}ae.value?F.value=ie.value:he(qL)},{immediate:!0});const ce=_e(()=>({[`${h.value}`]:!0,[`${h.value}-root`]:!0,[`${h.value}-${K.value}`]:!0,[`${h.value}-inline-collapsed`]:ne.value,[`${h.value}-rtl`]:J.value,[`${h.value}-${e.theme}`]:!0})),Be=_e(()=>s()),Ve=_e(()=>({horizontal:{name:`${Be.value}-slide-up`},inline:Bue,other:{name:`${Be.value}-zoom-big`}}));MB(!0);const ht=function(){let st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ze=[],et=v.value;return st.forEach(We=>{const{key:ut,childrenEventKeys:ct}=et.get(We);ze.push(ut,...ht(Qt(ct)))}),ze},mt=st=>{var ze;n("click",st),z(st),(ze=a==null?void 0:a.onClick)===null||ze===void 0||ze.call(a)},dt=(st,ze)=>{var et;const We=((et=D.value[st])===null||et===void 0?void 0:et.childrenEventKeys)||[];let ut=F.value.filter(ct=>ct!==st);if(ze)ut.push(st);else if(K.value!=="inline"){const ct=ht(Qt(We));ut=Uw(ut.filter(le=>!ct.includes(le)))}om(F,ut)||he(ut)},vt=(st,ze)=>{v.value.set(st,ze),v.value=new Map(v.value)},Jt=st=>{v.value.delete(st),v.value=new Map(v.value)},ar=Ft(0),nr=_e(()=>{var st;return e.expandIcon||r.expandIcon||!((st=a==null?void 0:a.expandIcon)===null||st===void 0)&&st.value?ze=>{let et=e.expandIcon||r.expandIcon;return et=typeof et=="function"?et(ze):et,Bs(et,{class:`${h.value}-submenu-expand-icon`},!1)}:null});return Eue({prefixCls:h,activeKeys:M,openKeys:F,selectedKeys:I,changeActiveKeys:H,disabled:U,rtl:J,mode:K,inlineIndent:_e(()=>e.inlineIndent),subMenuCloseDelay:_e(()=>e.subMenuCloseDelay),subMenuOpenDelay:_e(()=>e.subMenuOpenDelay),builtinPlacements:_e(()=>e.builtinPlacements),triggerSubMenuAction:_e(()=>e.triggerSubMenuAction),getPopupContainer:_e(()=>e.getPopupContainer),inlineCollapsed:ne,theme:_e(()=>e.theme),siderCollapsed:g,defaultMotions:_e(()=>P.value?Ve.value:null),motion:_e(()=>P.value?e.motion:null),overflowDisabled:Rt(void 0),onOpenChange:dt,onItemClick:mt,registerMenuInfo:vt,unRegisterMenuInfo:Jt,selectedSubMenuKeys:O,expandIcon:nr,forceSubMenuRender:_e(()=>e.forceSubMenuRender),rootClassName:m}),()=>{var st,ze;const et=T.value||Do((st=r.default)===null||st===void 0?void 0:st.call(r)),We=ar.value>=et.length-1||K.value!=="horizontal"||e.disabledOverflow,ut=K.value!=="horizontal"||e.disabledOverflow?et:et.map((le,ye)=>fe(e1,{key:le.key,overflowDisabled:ye>ar.value},{default:()=>le})),ct=((ze=r.overflowedIndicator)===null||ze===void 0?void 0:ze.call(r))||fe(wB,null,null);return d(fe(Zm,zt(zt({},i),{},{onMousedown:e.onMousedown,prefixCls:`${h.value}-overflow`,component:"ul",itemComponent:Cd,class:[ce.value,i.class,m.value],role:"menu",id:e.id,data:ut,renderRawItem:le=>le,renderRawRest:le=>{const ye=le.length,Ee=ye?et.slice(-ye):null;return fe(Tr,null,[fe(Ed,{eventKey:o_,key:o_,title:ct,disabled:We,internalPopupClose:ye===0},{default:()=>Ee}),fe($L,null,{default:()=>[fe(Ed,{eventKey:o_,key:o_,title:ct,disabled:We,internalPopupClose:ye===0},{default:()=>Ee})]})])},maxCount:K.value!=="horizontal"||e.disabledOverflow?Zm.INVALIDATE:Zm.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:le=>{ar.value=le}}),{default:()=>[fe(BC,{to:"body"},{default:()=>[fe("div",{style:{display:"none"},"aria-hidden":!0},[fe($L,null,{default:()=>[ut]})])]})]}))}}});Bu.install=function(e){return e.component(Bu.name,Bu),e.component(Cd.name,Cd),e.component(Ed.name,Ed),e.component(r1.name,r1),e.component(t1.name,t1),e};Bu.Item=Cd;Bu.Divider=r1;Bu.SubMenu=Ed;Bu.ItemGroup=t1;function Que(e){const t=Rt(),r=Rt(!1);function n(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];r.value||(ri.cancel(t.value),t.value=ri(()=>{e(...o)}))}return Pi(()=>{r.value=!0,ri.cancel(t.value)}),n}function ece(e){const t=Rt([]),r=Rt(typeof e=="function"?e():e),n=Que(()=>{let o=r.value;t.value.forEach(s=>{o=s(o)}),t.value=[],r.value=o});function i(o){t.value.push(o),n()}return[r,i]}const tce=bt({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(e,t){let{expose:r,attrs:n}=t;const i=Ft();function o(h){var d;!((d=e.tab)===null||d===void 0)&&d.disabled||e.onClick(h)}r({domRef:i});function s(h){var d;h.preventDefault(),h.stopPropagation(),e.editable.onEdit("remove",{key:(d=e.tab)===null||d===void 0?void 0:d.key,event:h})}const a=_e(()=>{var h;return e.editable&&e.closable!==!1&&!(!((h=e.tab)===null||h===void 0)&&h.disabled)});return()=>{var h;const{prefixCls:d,id:m,active:v,tab:{key:g,tab:_,disabled:T,closeIcon:P},renderWrapper:M,removeAriaLabel:I,editable:D,onFocus:O}=e,z=`${d}-tab`,F=fe("div",{key:g,ref:i,class:$r(z,{[`${z}-with-remove`]:a.value,[`${z}-active`]:v,[`${z}-disabled`]:T}),style:n.style,onClick:o},[fe("div",{role:"tab","aria-selected":v,id:m&&`${m}-tab-${g}`,class:`${z}-btn`,"aria-controls":m&&`${m}-panel-${g}`,"aria-disabled":T,tabindex:T?null:0,onClick:N=>{N.stopPropagation(),o(N)},onKeydown:N=>{[qa.SPACE,qa.ENTER].includes(N.which)&&(N.preventDefault(),o(N))},onFocus:O},[typeof _=="function"?_():_]),a.value&&fe("button",{type:"button","aria-label":I||"remove",tabindex:0,class:`${z}-remove`,onClick:N=>{N.stopPropagation(),s(N)}},[(P==null?void 0:P())||((h=D.removeIcon)===null||h===void 0?void 0:h.call(D))||""])]);return M?M(F):F}}}),XL={width:0,height:0,left:0,top:0};function rce(e,t){const r=Ft(new Map);return di(()=>{var n,i;const o=new Map,s=e.value,a=t.value.get((n=s[0])===null||n===void 0?void 0:n.key)||XL,h=a.left+a.width;for(let d=0;d<s.length;d+=1){const{key:m}=s[d];let v=t.value.get(m);v||(v=t.value.get((i=s[d-1])===null||i===void 0?void 0:i.key)||XL);const g=o.get(m)||me({},v);g.right=h-g.left-g.width,o.set(m,g)}r.value=new Map(o)}),r}const $B=bt({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(e,t){let{expose:r,attrs:n}=t;const i=Ft();return r({domRef:i}),()=>{const{prefixCls:o,editable:s,locale:a}=e;return!s||s.showAdd===!1?null:fe("button",{ref:i,type:"button",class:`${o}-nav-add`,style:n.style,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:h=>{s.onEdit("add",{event:h})}},[s.addIcon?s.addIcon():"+"])}}}),nce={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:Xt.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:ja()},ice=bt({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:nce,emits:["tabClick"],slots:Object,setup(e,t){let{attrs:r,slots:n}=t;const[i,o]=Un(!1),[s,a]=Un(null),h=_=>{const T=e.tabs.filter(I=>!I.disabled);let P=T.findIndex(I=>I.key===s.value)||0;const M=T.length;for(let I=0;I<M;I+=1){P=(P+_+M)%M;const D=T[P];if(!D.disabled){a(D.key);return}}},d=_=>{const{which:T}=_;if(!i.value){[qa.DOWN,qa.SPACE,qa.ENTER].includes(T)&&(o(!0),_.preventDefault());return}switch(T){case qa.UP:h(-1),_.preventDefault();break;case qa.DOWN:h(1),_.preventDefault();break;case qa.ESC:o(!1);break;case qa.SPACE:case qa.ENTER:s.value!==null&&e.onTabClick(s.value,_);break}},m=_e(()=>`${e.id}-more-popup`),v=_e(()=>s.value!==null?`${m.value}-${s.value}`:null),g=(_,T)=>{_.preventDefault(),_.stopPropagation(),e.editable.onEdit("remove",{key:T,event:_})};return cn(()=>{rr(s,()=>{const _=document.getElementById(v.value);_&&_.scrollIntoView&&_.scrollIntoView(!1)},{flush:"post",immediate:!0})}),rr(i,()=>{i.value||a(null)}),wue({}),()=>{var _;const{prefixCls:T,id:P,tabs:M,locale:I,mobile:D,moreIcon:O=((_=n.moreIcon)===null||_===void 0?void 0:_.call(n))||fe(wB,null,null),moreTransitionName:z,editable:F,tabBarGutter:N,rtl:H,onTabClick:U,popupClassName:J}=e;if(!M.length)return null;const K=`${T}-dropdown`,ne=I==null?void 0:I.dropdownAriaLabel,ae={[H?"marginRight":"marginLeft"]:N};M.length||(ae.visibility="hidden",ae.order=1);const he=$r({[`${K}-rtl`]:H,[`${J}`]:!0}),ie=D?null:fe(Vle,{prefixCls:K,trigger:["hover"],visible:i.value,transitionName:z,onVisibleChange:o,overlayClassName:he,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:e.getPopupContainer},{overlay:()=>fe(Bu,{onClick:de=>{let{key:ce,domEvent:Be}=de;U(ce,Be),o(!1)},id:m.value,tabindex:-1,role:"listbox","aria-activedescendant":v.value,selectedKeys:[s.value],"aria-label":ne!==void 0?ne:"expanded dropdown"},{default:()=>[M.map(de=>{var ce,Be;const Ve=F&&de.closable!==!1&&!de.disabled;return fe(Cd,{key:de.key,id:`${m.value}-${de.key}`,role:"option","aria-controls":P&&`${P}-panel-${de.key}`,disabled:de.disabled},{default:()=>[fe("span",null,[typeof de.tab=="function"?de.tab():de.tab]),Ve&&fe("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:`${K}-menu-item-remove`,onClick:ht=>{ht.stopPropagation(),g(ht,de.key)}},[((ce=de.closeIcon)===null||ce===void 0?void 0:ce.call(de))||((Be=F.removeIcon)===null||Be===void 0?void 0:Be.call(F))||""])]})})]}),default:()=>fe("button",{type:"button",class:`${T}-nav-more`,style:ae,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":m.value,id:`${P}-more`,"aria-expanded":i.value,onKeydown:d},[O])});return fe("div",{class:$r(`${T}-nav-operations`,r.class),style:r.style},[ie,fe($B,{prefixCls:T,locale:I,editable:F},null)])}}}),BB=Symbol("tabsContextKey"),oce=e=>{Mn(BB,e)},FB=()=>Er(BB,{tabs:Ft([]),prefixCls:Ft()}),ace=.1,ZL=.01,a0=20,KL=Math.pow(.995,a0);function sce(e,t){const[r,n]=Un(),[i,o]=Un(0),[s,a]=Un(0),[h,d]=Un(),m=Ft();function v(F){const{screenX:N,screenY:H}=F.touches[0];n({x:N,y:H}),clearInterval(m.value)}function g(F){if(!r.value)return;F.preventDefault();const{screenX:N,screenY:H}=F.touches[0],U=N-r.value.x,J=H-r.value.y;t(U,J),n({x:N,y:H});const K=Date.now();a(K-i.value),o(K),d({x:U,y:J})}function _(){if(!r.value)return;const F=h.value;if(n(null),d(null),F){const N=F.x/s.value,H=F.y/s.value,U=Math.abs(N),J=Math.abs(H);if(Math.max(U,J)<ace)return;let K=N,ne=H;m.value=setInterval(()=>{if(Math.abs(K)<ZL&&Math.abs(ne)<ZL){clearInterval(m.value);return}K*=KL,ne*=KL,t(K*a0,ne*a0)},a0)}}const T=Ft();function P(F){const{deltaX:N,deltaY:H}=F;let U=0;const J=Math.abs(N),K=Math.abs(H);J===K?U=T.value==="x"?N:H:J>K?(U=N,T.value="x"):(U=H,T.value="y"),t(-U,-U)&&F.preventDefault()}const M=Ft({onTouchStart:v,onTouchMove:g,onTouchEnd:_,onWheel:P});function I(F){M.value.onTouchStart(F)}function D(F){M.value.onTouchMove(F)}function O(F){M.value.onTouchEnd(F)}function z(F){M.value.onWheel(F)}cn(()=>{var F,N;document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",O,{passive:!1}),(F=e.value)===null||F===void 0||F.addEventListener("touchstart",I,{passive:!1}),(N=e.value)===null||N===void 0||N.addEventListener("wheel",z,{passive:!1})}),Pi(()=>{document.removeEventListener("touchmove",D),document.removeEventListener("touchend",O)})}function YL(e,t){const r=Ft(e);function n(i){const o=typeof i=="function"?i(r.value):i;o!==r.value&&t(o,r.value),r.value=o}return[r,n]}const lce=()=>{const e=Ft(new Map),t=r=>n=>{e.value.set(r,n)};return N4(()=>{e.value=new Map}),[t,e]},uce=lce,JL={width:0,height:0,left:0,top:0,right:0},cce=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:On(),editable:On(),moreIcon:Xt.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:On(),popupClassName:String,getPopupContainer:ja(),onTabClick:{type:Function},onTabScroll:{type:Function}}),QL=bt({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:cce(),slots:Object,emits:["tabClick","tabScroll"],setup(e,t){let{attrs:r,slots:n}=t;const{tabs:i,prefixCls:o}=FB(),s=Rt(),a=Rt(),h=Rt(),d=Rt(),[m,v]=uce(),g=_e(()=>e.tabPosition==="top"||e.tabPosition==="bottom"),[_,T]=YL(0,(qe,nt)=>{g.value&&e.onTabScroll&&e.onTabScroll({direction:qe>nt?"left":"right"})}),[P,M]=YL(0,(qe,nt)=>{!g.value&&e.onTabScroll&&e.onTabScroll({direction:qe>nt?"top":"bottom"})}),[I,D]=Un(0),[O,z]=Un(0),[F,N]=Un(null),[H,U]=Un(null),[J,K]=Un(0),[ne,ae]=Un(0),[he,ie]=ece(new Map),de=rce(i,he),ce=_e(()=>`${o.value}-nav-operations-hidden`),Be=Rt(0),Ve=Rt(0);di(()=>{g.value?e.rtl?(Be.value=0,Ve.value=Math.max(0,I.value-F.value)):(Be.value=Math.min(0,F.value-I.value),Ve.value=0):(Be.value=Math.min(0,H.value-O.value),Ve.value=0)});const ht=qe=>qe<Be.value?Be.value:qe>Ve.value?Ve.value:qe,mt=Rt(),[dt,vt]=Un(),Jt=()=>{vt(Date.now())},ar=()=>{clearTimeout(mt.value)},nr=(qe,nt)=>{qe(Oe=>ht(Oe+nt))};sce(s,(qe,nt)=>{if(g.value){if(F.value>=I.value)return!1;nr(T,qe)}else{if(H.value>=O.value)return!1;nr(M,nt)}return ar(),Jt(),!0}),rr(dt,()=>{ar(),dt.value&&(mt.value=setTimeout(()=>{vt(0)},100))});const st=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey;const nt=de.value.get(qe)||{width:0,height:0,left:0,right:0,top:0};if(g.value){let Oe=_.value;e.rtl?nt.right<_.value?Oe=nt.right:nt.right+nt.width>_.value+F.value&&(Oe=nt.right+nt.width-F.value):nt.left<-_.value?Oe=-nt.left:nt.left+nt.width>-_.value+F.value&&(Oe=-(nt.left+nt.width-F.value)),M(0),T(ht(Oe))}else{let Oe=P.value;nt.top<-P.value?Oe=-nt.top:nt.top+nt.height>-P.value+H.value&&(Oe=-(nt.top+nt.height-H.value)),T(0),M(ht(Oe))}},ze=Rt(0),et=Rt(0);di(()=>{let qe,nt,Oe,tt,rt,Tt;const Lt=de.value;["top","bottom"].includes(e.tabPosition)?(qe="width",tt=F.value,rt=I.value,Tt=J.value,nt=e.rtl?"right":"left",Oe=Math.abs(_.value)):(qe="height",tt=H.value,rt=I.value,Tt=ne.value,nt="top",Oe=-P.value);let Pt=tt;rt+Tt>tt&&rt<tt&&(Pt=tt-Tt);const qt=i.value;if(!qt.length)return[ze.value,et.value]=[0,0];const sr=qt.length;let yr=sr;for(let at=0;at<sr;at+=1){const Wr=Lt.get(qt[at].key)||JL;if(Wr[nt]+Wr[qe]>Oe+Pt){yr=at-1;break}}let Re=0;for(let at=sr-1;at>=0;at-=1)if((Lt.get(qt[at].key)||JL)[nt]<Oe){Re=at+1;break}return[ze.value,et.value]=[Re,yr]});const We=()=>{var qe,nt,Oe,tt,rt;const Tt=((qe=s.value)===null||qe===void 0?void 0:qe.offsetWidth)||0,Lt=((nt=s.value)===null||nt===void 0?void 0:nt.offsetHeight)||0,Pt=((Oe=d.value)===null||Oe===void 0?void 0:Oe.$el)||{},qt=Pt.offsetWidth||0,sr=Pt.offsetHeight||0;N(Tt),U(Lt),K(qt),ae(sr);const yr=(((tt=a.value)===null||tt===void 0?void 0:tt.offsetWidth)||0)-qt,Re=(((rt=a.value)===null||rt===void 0?void 0:rt.offsetHeight)||0)-sr;D(yr),z(Re),ie(()=>{const at=new Map;return i.value.forEach(Wr=>{let{key:yn}=Wr;const dr=v.value.get(yn),an=(dr==null?void 0:dr.$el)||dr;an&&at.set(yn,{width:an.offsetWidth,height:an.offsetHeight,left:an.offsetLeft,top:an.offsetTop})}),at})},ut=_e(()=>[...i.value.slice(0,ze.value),...i.value.slice(et.value+1)]),[ct,le]=Un(),ye=_e(()=>de.value.get(e.activeKey)),Ee=Rt(),je=()=>{ri.cancel(Ee.value)};rr([ye,g,()=>e.rtl],()=>{const qe={};ye.value&&(g.value?(e.rtl?qe.right=Qp(ye.value.right):qe.left=Qp(ye.value.left),qe.width=Qp(ye.value.width)):(qe.top=Qp(ye.value.top),qe.height=Qp(ye.value.height))),je(),Ee.value=ri(()=>{le(qe)})}),rr([()=>e.activeKey,ye,de,g],()=>{st()},{flush:"post"}),rr([()=>e.rtl,()=>e.tabBarGutter,()=>e.activeKey,()=>i.value],()=>{We()},{flush:"post"});const Ye=qe=>{let{position:nt,prefixCls:Oe,extra:tt}=qe;if(!tt)return null;const rt=tt==null?void 0:tt({position:nt});return rt?fe("div",{class:`${Oe}-extra-content`},[rt]):null};return Pi(()=>{ar(),je()}),()=>{const{id:qe,animated:nt,activeKey:Oe,rtl:tt,editable:rt,locale:Tt,tabPosition:Lt,tabBarGutter:Pt,onTabClick:qt}=e,{class:sr,style:yr}=r,Re=o.value,at=!!ut.value.length,Wr=`${Re}-nav-wrap`;let yn,dr,an,Kn;g.value?tt?(dr=_.value>0,yn=_.value+F.value<I.value):(yn=_.value<0,dr=-_.value+F.value<I.value):(an=P.value<0,Kn=-P.value+H.value<O.value);const Hr={};Lt==="top"||Lt==="bottom"?Hr[tt?"marginRight":"marginLeft"]=typeof Pt=="number"?`${Pt}px`:Pt:Hr.marginTop=typeof Pt=="number"?`${Pt}px`:Pt;const Rn=i.value.map((gt,gr)=>{const{key:ir}=gt;return fe(tce,{id:qe,prefixCls:Re,key:ir,tab:gt,style:gr===0?void 0:Hr,closable:gt.closable,editable:rt,active:ir===Oe,removeAriaLabel:Tt==null?void 0:Tt.removeAriaLabel,ref:m(ir),onClick:Yn=>{qt(ir,Yn)},onFocus:()=>{st(ir),Jt(),s.value&&(tt||(s.value.scrollLeft=0),s.value.scrollTop=0)}},n)});return fe("div",{role:"tablist",class:$r(`${Re}-nav`,sr),style:yr,onKeydown:()=>{Jt()}},[fe(Ye,{position:"left",prefixCls:Re,extra:n.leftExtra},null),fe(N0,{onResize:We},{default:()=>[fe("div",{class:$r(Wr,{[`${Wr}-ping-left`]:yn,[`${Wr}-ping-right`]:dr,[`${Wr}-ping-top`]:an,[`${Wr}-ping-bottom`]:Kn}),ref:s},[fe(N0,{onResize:We},{default:()=>[fe("div",{ref:a,class:`${Re}-nav-list`,style:{transform:`translate(${_.value}px, ${P.value}px)`,transition:dt.value?"none":void 0}},[Rn,fe($B,{ref:d,prefixCls:Re,locale:Tt,editable:rt,style:me(me({},Rn.length===0?void 0:Hr),{visibility:at?"hidden":null})},null),fe("div",{class:$r(`${Re}-ink-bar`,{[`${Re}-ink-bar-animated`]:nt.inkBar}),style:ct.value},null)])]})])]}),fe(ice,zt(zt({},e),{},{removeAriaLabel:Tt==null?void 0:Tt.removeAriaLabel,ref:h,prefixCls:Re,tabs:ut.value,class:!at&&ce.value}),pB(n,["moreIcon"])),fe(Ye,{position:"right",prefixCls:Re,extra:n.rightExtra},null),fe(Ye,{position:"right",prefixCls:Re,extra:n.tabBarExtraContent},null)])}}}),hce=bt({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(e){const{tabs:t,prefixCls:r}=FB();return()=>{const{id:n,activeKey:i,animated:o,tabPosition:s,rtl:a,destroyInactiveTabPane:h}=e,d=o.tabPane,m=r.value,v=t.value.findIndex(g=>g.key===i);return fe("div",{class:`${m}-content-holder`},[fe("div",{class:[`${m}-content`,`${m}-content-${s}`,{[`${m}-content-animated`]:d}],style:v&&d?{[a?"marginRight":"marginLeft"]:`-${v}00%`}:null},[t.value.map(g=>Bs(g.node,{key:g.key,prefixCls:m,tabKey:g.key,id:n,animated:d,active:g.key===i,destroyInactiveTabPane:h}))])])}}});var fce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const dce=fce;function eO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){pce(e,i,r[i])})}return e}function pce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nA=function(t,r){var n=eO({},t,r.attrs);return fe(Ia,eO({},n,{icon:dce}),null)};nA.displayName="PlusOutlined";nA.inheritAttrs=!1;const mce=nA,vce=e=>{const{componentCls:t,motionDurationSlow:r}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${r}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${r}`}}}}},[Y0(e,"slide-up"),Y0(e,"slide-down")]]},gce=vce,yce=e=>{const{componentCls:t,tabsCardHorizontalPadding:r,tabsCardHeadBackground:n,tabsCardGutter:i,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:r,background:n,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${i}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},_ce=e=>{const{componentCls:t,tabsHoverColor:r,dropdownEdgeChildVerticalPadding:n}=e;return{[`${t}-dropdown`]:me(me({},Vd(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${n}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":me(me({},s$),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:r}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},bce=e=>{const{componentCls:t,margin:r,colorSplit:n}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${r}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${n}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${r}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},xce=e=>{const{componentCls:t,padding:r}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${r}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXXS*1.5}px ${r}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${r}px ${e.paddingXXS*1.5}px`}}}}}},wce=e=>{const{componentCls:t,tabsActiveColor:r,tabsHoverColor:n,iconCls:i,tabsHorizontalGutter:o}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":me({"&:focus:not(:focus-visible), &:active":{color:r}},bE(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:n},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},Sce=e=>{const{componentCls:t,tabsHorizontalGutter:r,iconCls:n,tabsCardGutter:i}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${r}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[n]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[n]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${i}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Tce=e=>{const{componentCls:t,tabsCardHorizontalPadding:r,tabsCardHeight:n,tabsCardGutter:i,tabsHoverColor:o,tabsActiveColor:s,colorSplit:a}=e;return{[t]:me(me(me(me({},Vd(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:r,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:me({minWidth:`${n}px`,marginLeft:{_skip_check_:!0,value:`${i}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${a}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},bE(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),wce(e)),{[`${t}-content`]:{position:"relative",display:"flex",width:"100%",["&-animated"]:{transition:"margin 0.3s"}},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},Cce=Rl("Tabs",e=>{const t=e.controlHeightLG,r=Aa(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[xce(r),Sce(r),bce(r),_ce(r),yce(r),Tce(r),gce(r)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));let tO=0;const NB=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:ja(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:Hf(),animated:kz([Boolean,Object]),renderTabBar:ja(),tabBarGutter:{type:Number},tabBarStyle:On(),tabPosition:Hf(),destroyInactiveTabPane:mh(),hideAdd:Boolean,type:Hf(),size:Hf(),centered:Boolean,onEdit:ja(),onChange:ja(),onTabClick:ja(),onTabScroll:ja(),"onUpdate:activeKey":ja(),locale:On(),onPrevClick:ja(),onNextClick:ja(),tabBarExtraContent:Xt.any});function Ece(e){return e.map(t=>{if(J1(t)){const r=me({},t.props||{});for(const[g,_]of Object.entries(r))delete r[g],r[K1(g)]=_;const n=t.children||{},i=t.key!==void 0?t.key:void 0,{tab:o=n.tab,disabled:s,forceRender:a,closable:h,animated:d,active:m,destroyInactiveTabPane:v}=r;return me(me({key:i},r),{node:t,closeIcon:n.closeIcon,tab:o,disabled:s===""||s,forceRender:a===""||a,closable:h===""||h,animated:d===""||d,active:m===""||m,destroyInactiveTabPane:v===""||v})}return null}).filter(t=>t)}const Ace=bt({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:me(me({},fg(NB(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:zS()}),slots:Object,setup(e,t){let{attrs:r,slots:n}=t;Sl(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),Sl(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),Sl(n.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:i,direction:o,size:s,rootPrefixCls:a,getPopupContainer:h}=os("tabs",e),[d,m]=Cce(i),v=_e(()=>o.value==="rtl"),g=_e(()=>{const{animated:H,tabPosition:U}=e;return H===!1||["left","right"].includes(U)?{inkBar:!1,tabPane:!1}:H===!0?{inkBar:!0,tabPane:!0}:me({inkBar:!0,tabPane:!1},typeof H=="object"?H:{})}),[_,T]=Un(!1);cn(()=>{T(Coe())});const[P,M]=nL(()=>{var H;return(H=e.tabs[0])===null||H===void 0?void 0:H.key},{value:_e(()=>e.activeKey),defaultValue:e.defaultActiveKey}),[I,D]=Un(()=>e.tabs.findIndex(H=>H.key===P.value));di(()=>{var H;let U=e.tabs.findIndex(J=>J.key===P.value);U===-1&&(U=Math.max(0,Math.min(I.value,e.tabs.length-1)),M((H=e.tabs[U])===null||H===void 0?void 0:H.key)),D(U)});const[O,z]=nL(null,{value:_e(()=>e.id)}),F=_e(()=>_.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition);cn(()=>{e.id||(z(`rc-tabs-${tO}`),tO+=1)});const N=(H,U)=>{var J,K;(J=e.onTabClick)===null||J===void 0||J.call(e,H,U);const ne=H!==P.value;M(H),ne&&((K=e.onChange)===null||K===void 0||K.call(e,H))};return oce({tabs:_e(()=>e.tabs),prefixCls:i}),()=>{const{id:H,type:U,tabBarGutter:J,tabBarStyle:K,locale:ne,destroyInactiveTabPane:ae,renderTabBar:he=n.renderTabBar,onTabScroll:ie,hideAdd:de,centered:ce}=e,Be={id:O.value,activeKey:P.value,animated:g.value,tabPosition:F.value,rtl:v.value,mobile:_.value};let Ve;U==="editable-card"&&(Ve={onEdit:(vt,Jt)=>{let{key:ar,event:nr}=Jt;var st;(st=e.onEdit)===null||st===void 0||st.call(e,vt==="add"?nr:ar,vt)},removeIcon:()=>fe(FE,null,null),addIcon:n.addIcon?n.addIcon:()=>fe(mce,null,null),showAdd:de!==!0});let ht;const mt=me(me({},Be),{moreTransitionName:`${a.value}-slide-up`,editable:Ve,locale:ne,tabBarGutter:J,onTabClick:N,onTabScroll:ie,style:K,getPopupContainer:h.value,popupClassName:$r(e.popupClassName,m.value)});he?ht=he(me(me({},mt),{DefaultTabBar:QL})):ht=fe(QL,mt,pB(n,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const dt=i.value;return d(fe("div",zt(zt({},r),{},{id:H,class:$r(dt,`${dt}-${F.value}`,{[m.value]:!0,[`${dt}-${s.value}`]:s.value,[`${dt}-card`]:["card","editable-card"].includes(U),[`${dt}-editable-card`]:U==="editable-card",[`${dt}-centered`]:ce,[`${dt}-mobile`]:_.value,[`${dt}-editable`]:U==="editable-card",[`${dt}-rtl`]:v.value},r.class)}),[ht,fe(hce,zt(zt({destroyInactiveTabPane:ae},Be),{},{animated:g.value}),null)]))}}}),nd=bt({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:fg(NB(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(e,t){let{attrs:r,slots:n,emit:i}=t;const o=s=>{i("update:activeKey",s),i("change",s)};return()=>{var s;const a=Ece(Do((s=n.default)===null||s===void 0?void 0:s.call(n)));return fe(Ace,zt(zt(zt({},pte(e,["onUpdate:activeKey"])),r),{},{onChange:o,tabs:a}),n)}}}),Pce=()=>({tab:Xt.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),sT=bt({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:Pce(),slots:Object,setup(e,t){let{attrs:r,slots:n}=t;const i=Ft(e.forceRender);rr([()=>e.active,()=>e.destroyInactiveTabPane],()=>{e.active?i.value=!0:e.destroyInactiveTabPane&&(i.value=!1)},{immediate:!0});const o=_e(()=>e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:a,forceRender:h,id:d,active:m,tabKey:v}=e;return fe("div",{id:d&&`${d}-panel-${v}`,role:"tabpanel",tabindex:m?0:-1,"aria-labelledby":d&&`${d}-tab-${v}`,"aria-hidden":!m,style:[o.value,r.style],class:[`${a}-tabpane`,m&&`${a}-tabpane-active`,r.class]},[(m||i.value||h)&&((s=n.default)===null||s===void 0?void 0:s.call(n))])}}});nd.TabPane=sT;nd.install=function(e){return e.component(nd.name,nd),e.component(sT.name,sT),e};let Gw=me({},Tv.Modal);function Ice(e){e?Gw=me(me({},Gw),e):Gw=me({},Tv.Modal)}const lT="internalMark",s0=bt({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(e,t){let{slots:r}=t;nb(e.ANT_MARK__===lT);const n=eo({antLocale:me(me({},e.locale),{exist:!0}),ANT_MARK__:lT});return Mn("localeData",n),rr(()=>e.locale,i=>{Ice(i&&i.Modal),n.antLocale=me(me({},i),{exist:!0})},{immediate:!0}),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});s0.install=function(e){return e.component(s0.name,s0),e};const Mce=Q1(s0),VB=bt({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(e,t){let{attrs:r,slots:n}=t,i,o=!1;const s=_e(()=>e.duration===void 0?4.5:e.duration),a=()=>{s.value&&!o&&(i=setTimeout(()=>{d()},s.value*1e3))},h=()=>{i&&(clearTimeout(i),i=null)},d=v=>{v&&v.stopPropagation(),h();const{onClose:g,noticeKey:_}=e;g&&g(_)},m=()=>{h(),a()};return cn(()=>{a()}),Ll(()=>{o=!0,h()}),rr([s,()=>e.updateMark,()=>e.visible],(v,g)=>{let[_,T,P]=v,[M,I,D]=g;(_!==M||T!==I||P!==D&&D)&&m()},{flush:"post"}),()=>{var v,g;const{prefixCls:_,closable:T,closeIcon:P=(v=n.closeIcon)===null||v===void 0?void 0:v.call(n),onClick:M,holder:I}=e,{class:D,style:O}=r,z=`${_}-notice`,F=Object.keys(r).reduce((H,U)=>((U.startsWith("data-")||U.startsWith("aria-")||U==="role")&&(H[U]=r[U]),H),{}),N=fe("div",zt({class:$r(z,D,{[`${z}-closable`]:T}),style:O,onMouseenter:h,onMouseleave:a,onClick:M},F),[fe("div",{class:`${z}-content`},[(g=n.default)===null||g===void 0?void 0:g.call(n)]),T?fe("a",{tabindex:0,onClick:d,class:`${z}-close`},[P||fe("span",{class:`${z}-close-x`},null)]):null]);return I?fe(BC,{to:I},{default:()=>N}):N}}});var Dce=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let rO=0;const Lce=Date.now();function nO(){const e=rO;return rO+=1,`rcNotification_${Lce}_${e}`}const uT=bt({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(e,t){let{attrs:r,expose:n,slots:i}=t;const o=new Map,s=Ft([]),a=_e(()=>{const{prefixCls:m,animation:v="fade"}=e;let g=e.transitionName;return!g&&v&&(g=`${m}-${v}`),Q$(g)}),h=(m,v)=>{const g=m.key||nO(),_=me(me({},m),{key:g}),{maxCount:T}=e,P=s.value.map(I=>I.notice.key).indexOf(g),M=s.value.concat();P!==-1?M.splice(P,1,{notice:_,holderCallback:v}):(T&&s.value.length>=T&&(_.key=M[0].notice.key,_.updateMark=nO(),_.userPassKey=g,M.shift()),M.push({notice:_,holderCallback:v})),s.value=M},d=m=>{s.value=s.value.filter(v=>{let{notice:{key:g,userPassKey:_}}=v;return(_||g)!==m})};return n({add:h,remove:d,notices:s}),()=>{var m;const{prefixCls:v,closeIcon:g=(m=i.closeIcon)===null||m===void 0?void 0:m.call(i,{prefixCls:v})}=e,_=s.value.map((P,M)=>{let{notice:I,holderCallback:D}=P;const O=M===s.value.length-1?I.updateMark:void 0,{key:z,userPassKey:F}=I,{content:N}=I,H=me(me(me({prefixCls:v,closeIcon:typeof g=="function"?g({prefixCls:v}):g},I),I.props),{key:z,noticeKey:F||z,updateMark:O,onClose:U=>{var J;d(U),(J=I.onClose)===null||J===void 0||J.call(I)},onClick:I.onClick});return D?fe("div",{key:z,class:`${v}-hook-holder`,ref:U=>{typeof z>"u"||(U?(o.set(z,U),D(U,H)):o.delete(z))}},null):fe(VB,zt(zt({},H),{},{class:$r(H.class,e.hashId)}),{default:()=>[typeof N=="function"?N({prefixCls:v}):N]})}),T={[v]:1,[r.class]:!!r.class,[e.hashId]:!0};return fe("div",{class:T,style:r.style||{top:"65px",left:"50%"}},[fe(f6,zt({tag:"div"},a.value),{default:()=>[_]})])}}});uT.newInstance=function(t,r){const n=t||{},{name:i="notification",getContainer:o,appContext:s,prefixCls:a,rootPrefixCls:h,transitionName:d,hasTransitionName:m,useStyle:v}=n,g=Dce(n,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),_=document.createElement("div");o?o().appendChild(_):document.body.appendChild(_);const T=bt({compatConfig:{MODE:3},name:"NotificationWrapper",setup(M,I){let{attrs:D}=I;const O=Rt(),z=_e(()=>Zi.getPrefixCls(i,a)),[,F]=v(z);return cn(()=>{r({notice(N){var H;(H=O.value)===null||H===void 0||H.add(N)},removeNotice(N){var H;(H=O.value)===null||H===void 0||H.remove(N)},destroy(){O0(null,_),_.parentNode&&_.parentNode.removeChild(_)},component:O})}),()=>{const N=Zi,H=N.getRootPrefixCls(h,z.value),U=m?d:`${z.value}-${d}`;return fe(oA,zt(zt({},N),{},{prefixCls:H}),{default:()=>[fe(uT,zt(zt({ref:O},D),{},{prefixCls:z.value,transitionName:U,hashId:F.value}),null)]})}}}),P=fe(T,g);P.appContext=s||P.appContext,O0(P,_)};const UB=uT;let iO=0;const Oce=Date.now();function oO(){const e=iO;return iO+=1,`rcNotification_${Oce}_${e}`}const kce=bt({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(e,t){let{attrs:r,slots:n}=t;const i=new Map,o=_e(()=>e.notices),s=_e(()=>{let m=e.transitionName;if(!m&&e.animation)switch(typeof e.animation){case"string":m=e.animation;break;case"function":m=e.animation().name;break;case"object":m=e.animation.name;break;default:m=`${e.prefixCls}-fade`;break}return Q$(m)}),a=m=>e.remove(m),h=Ft({});rr(o,()=>{const m={};Object.keys(h.value).forEach(v=>{m[v]=[]}),e.notices.forEach(v=>{const{placement:g="topRight"}=v.notice;g&&(m[g]=m[g]||[],m[g].push(v))}),h.value=m});const d=_e(()=>Object.keys(h.value));return()=>{var m;const{prefixCls:v,closeIcon:g=(m=n.closeIcon)===null||m===void 0?void 0:m.call(n,{prefixCls:v})}=e,_=d.value.map(T=>{var P,M;const I=h.value[T],D=(P=e.getClassName)===null||P===void 0?void 0:P.call(e,T),O=(M=e.getStyles)===null||M===void 0?void 0:M.call(e,T),z=I.map((H,U)=>{let{notice:J,holderCallback:K}=H;const ne=U===o.value.length-1?J.updateMark:void 0,{key:ae,userPassKey:he}=J,{content:ie}=J,de=me(me(me({prefixCls:v,closeIcon:typeof g=="function"?g({prefixCls:v}):g},J),J.props),{key:ae,noticeKey:he||ae,updateMark:ne,onClose:ce=>{var Be;a(ce),(Be=J.onClose)===null||Be===void 0||Be.call(J)},onClick:J.onClick});return K?fe("div",{key:ae,class:`${v}-hook-holder`,ref:ce=>{typeof ae>"u"||(ce?(i.set(ae,ce),K(ce,de)):i.delete(ae))}},null):fe(VB,zt(zt({},de),{},{class:$r(de.class,e.hashId)}),{default:()=>[typeof ie=="function"?ie({prefixCls:v}):ie]})}),F={[v]:1,[`${v}-${T}`]:1,[r.class]:!!r.class,[e.hashId]:!0,[D]:!!D};function N(){var H;I.length>0||(Reflect.deleteProperty(h.value,T),(H=e.onAllRemoved)===null||H===void 0||H.call(e))}return fe("div",{key:T,class:F,style:r.style||O||{top:"65px",left:"50%"}},[fe(f6,zt(zt({tag:"div"},s.value),{},{onAfterLeave:N}),{default:()=>[z]})])});return fe(rB,{getContainer:e.getContainer},{default:()=>[_]})}}}),Rce=kce;var zce=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const $ce=()=>document.body;let aO=0;function Bce(){const e={};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(i=>{i&&Object.keys(i).forEach(o=>{const s=i[o];s!==void 0&&(e[o]=s)})}),e}function HB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:t=$ce,motion:r,prefixCls:n,maxCount:i,getClassName:o,getStyles:s,onAllRemoved:a}=e,h=zce(e,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),d=Rt([]),m=Rt(),v=(I,D)=>{const O=I.key||oO(),z=me(me({},I),{key:O}),F=d.value.map(H=>H.notice.key).indexOf(O),N=d.value.concat();F!==-1?N.splice(F,1,{notice:z,holderCallback:D}):(i&&d.value.length>=i&&(z.key=N[0].notice.key,z.updateMark=oO(),z.userPassKey=O,N.shift()),N.push({notice:z,holderCallback:D})),d.value=N},g=I=>{d.value=d.value.filter(D=>{let{notice:{key:O,userPassKey:z}}=D;return(z||O)!==I})},_=()=>{d.value=[]},T=_e(()=>fe(Rce,{ref:m,prefixCls:n,maxCount:i,notices:d.value,remove:g,getClassName:o,getStyles:s,animation:r,hashId:e.hashId,onAllRemoved:a,getContainer:t},null)),P=Rt([]),M={open:I=>{const D=Bce(h,I);(D.key===null||D.key===void 0)&&(D.key=`vc-notification-${aO}`,aO+=1),P.value=[...P.value,{type:"open",config:D}]},close:I=>{P.value=[...P.value,{type:"close",key:I}]},destroy:()=>{P.value=[...P.value,{type:"destroy"}]}};return rr(P,()=>{P.value.length&&(P.value.forEach(I=>{switch(I.type){case"open":v(I.config);break;case"close":g(I.key);break;case"destroy":_();break}}),P.value=[])}),[M,()=>T.value]}const Fce=e=>{const{componentCls:t,iconCls:r,boxShadowSecondary:n,colorBgElevated:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:h,fontSizeLG:d,motionEaseInOutCirc:m,motionDurationSlow:v,marginXS:g,paddingXS:_,borderRadiusLG:T,zIndexPopup:P,messageNoticeContentPadding:M}=e,I=new En("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:_,transform:"translateY(0)",opacity:1}}),D=new En("MessageMoveOut",{"0%":{maxHeight:e.height,padding:_,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[t]:me(me({},Vd(e)),{position:"fixed",top:g,width:"100%",pointerEvents:"none",zIndex:P,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:I,animationDuration:v,animationPlayState:"paused",animationTimingFunction:m},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:D,animationDuration:v,animationPlayState:"paused",animationTimingFunction:m},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${t}-notice`]:{padding:_,textAlign:"center",[r]:{verticalAlign:"text-bottom",marginInlineEnd:g,fontSize:d},[`${t}-notice-content`]:{display:"inline-block",padding:M,background:i,borderRadius:T,boxShadow:n,pointerEvents:"all"},[`${t}-success ${r}`]:{color:o},[`${t}-error ${r}`]:{color:s},[`${t}-warning ${r}`]:{color:a},[`
        ${t}-info ${r},
        ${t}-loading ${r}`]:{color:h}}},{[`${t}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},jB=Rl("Message",e=>{const t=Aa(e,{messageNoticeContentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});return[Fce(t)]},e=>({height:150,zIndexPopup:e.zIndexPopupBase+10}));var Nce=["class","component","viewBox","spin","rotate","tabindex","onClick"];function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){GB(e,i,r[i])})}return e}function GB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vce(e,t){if(e==null)return{};var r=Uce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var vb=function(t,r){var n=r.attrs,i=r.slots,o=a_({},t,n),s=o.class,a=o.component,h=o.viewBox,d=o.spin,m=o.rotate,v=o.tabindex,g=o.onClick,_=Vce(o,Nce),T=i.default&&i.default(),P=T&&T.length,M=i.component;lB();var I=GB({anticon:!0},s,s),D={"anticon-spin":d===""||!!d},O=m?{msTransform:"rotate(".concat(m,"deg)"),transform:"rotate(".concat(m,"deg)")}:void 0,z=a_({},Moe,{viewBox:h,class:D,style:O});h||delete z.viewBox;var F=function(){return a?fe(a,z,{default:function(){return[T]}}):M?M(z):P?(h||T.length===1&&T[0]&&T[0].type,fe("svg",a_({},z,{viewBox:h}),[T])):null},N=v;return N===void 0&&g&&(N=-1,_.tabindex=N),fe("span",a_({role:"img"},_,{onClick:g,class:I}),[F()])};vb.props={spin:Boolean,rotate:Number,viewBox:String,ariaLabel:String};vb.inheritAttrs=!1;vb.displayName="Icon";const Hce=vb,jce={info:fe(mb,null,null),success:fe(db,null,null),error:fe(hb,null,null),warning:fe(pb,null,null),loading:fe(Ov,null,null)},Gce=bt({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(e,t){let{slots:r}=t;return()=>{var n;return fe("div",{class:$r(`${e.prefixCls}-custom-content`,`${e.prefixCls}-${e.type}`)},[e.icon||jce[e.type],fe("span",null,[(n=r.default)===null||n===void 0?void 0:n.call(r)])])}}});var Wce=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const qce=8,Xce=3,Zce=bt({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved"],setup(e,t){let{expose:r}=t;var n;const{getPrefixCls:i,getPopupContainer:o}=os("message",e),s=_e(()=>i("message",e.prefixCls)),[,a]=jB(s),h=()=>{var T;const P=(T=e.top)!==null&&T!==void 0?T:qce;return{left:"50%",transform:"translateX(-50%)",top:typeof P=="number"?`${P}px`:P}},d=()=>$r(a.value,e.rtl?`${s.value}-rtl`:""),m=()=>{var T;return TE({prefixCls:s.value,animation:(T=e.animation)!==null&&T!==void 0?T:"move-up",transitionName:e.transitionName})},v=fe("span",{class:`${s.value}-close-x`},[fe(Hce,{class:`${s.value}-close-icon`},null)]),[g,_]=HB({getStyles:h,prefixCls:s.value,getClassName:d,motion:m,closable:!1,closeIcon:v,duration:(n=e.duration)!==null&&n!==void 0?n:Xce,getContainer:()=>{var T,P;return((T=e.staticGetContainer)===null||T===void 0?void 0:T.call(e))||((P=o.value)===null||P===void 0?void 0:P.call(o))||document.body},maxCount:e.maxCount,onAllRemoved:e.onAllRemoved});return r(me(me({},g),{prefixCls:s,hashId:a})),_}});let sO=0;function Kce(e){const t=Rt(null),r=Symbol("messageHolderKey"),n=h=>{var d;(d=t.value)===null||d===void 0||d.close(h)},i=h=>{if(!t.value){const F=()=>{};return F.then=()=>{},F}const{open:d,prefixCls:m,hashId:v}=t.value,g=`${m}-notice`,{content:_,icon:T,type:P,key:M,class:I,onClose:D}=h,O=Wce(h,["content","icon","type","key","class","onClose"]);let z=M;return z==null&&(sO+=1,z=`antd-message-${sO}`),PJ(F=>(d(me(me({},O),{key:z,content:()=>fe(Gce,{prefixCls:m,type:P,icon:typeof T=="function"?T():T},{default:()=>[typeof _=="function"?_():_]}),placement:"top",class:$r(P&&`${g}-${P}`,v,I),onClose:()=>{D==null||D(),F()}})),()=>{n(z)}))},s={open:i,destroy:h=>{var d;h!==void 0?n(h):(d=t.value)===null||d===void 0||d.destroy()}};return["info","success","warning","error","loading"].forEach(h=>{const d=(m,v,g)=>{let _;m&&typeof m=="object"&&"content"in m?_=m:_={content:m};let T,P;typeof v=="function"?P=v:(T=v,P=g);const M=me(me({onClose:P,duration:T},_),{type:h});return i(M)};s[h]=d}),[s,()=>fe(Zce,zt(zt({key:r},e),{},{ref:t}),null)]}function Yce(e){return Kce(e)}let WB=3,qB,vo,Jce=1,XB="",ZB="move-up",KB=!1,YB=()=>document.body,JB,QB=!1;function Qce(){return Jce++}function ehe(e){e.top!==void 0&&(qB=e.top,vo=null),e.duration!==void 0&&(WB=e.duration),e.prefixCls!==void 0&&(XB=e.prefixCls),e.getContainer!==void 0&&(YB=e.getContainer,vo=null),e.transitionName!==void 0&&(ZB=e.transitionName,vo=null,KB=!0),e.maxCount!==void 0&&(JB=e.maxCount,vo=null),e.rtl!==void 0&&(QB=e.rtl)}function the(e,t){if(vo){t(vo);return}UB.newInstance({appContext:e.appContext,prefixCls:e.prefixCls||XB,rootPrefixCls:e.rootPrefixCls,transitionName:ZB,hasTransitionName:KB,style:{top:qB},getContainer:YB||e.getPopupContainer,maxCount:JB,name:"message",useStyle:jB},r=>{if(vo){t(vo);return}vo=r,t(r)})}const e9={info:mb,success:db,error:hb,warning:pb,loading:Ov},rhe=Object.keys(e9);function nhe(e){const t=e.duration!==void 0?e.duration:WB,r=e.key||Qce(),n=new Promise(o=>{const s=()=>(typeof e.onClose=="function"&&e.onClose(),o(!0));the(e,a=>{a.notice({key:r,duration:t,style:e.style||{},class:e.class,content:h=>{let{prefixCls:d}=h;const m=e9[e.type],v=m?fe(m,null,null):"",g=$r(`${d}-custom-content`,{[`${d}-${e.type}`]:e.type,[`${d}-rtl`]:QB===!0});return fe("div",{class:g},[typeof e.icon=="function"?e.icon():e.icon||v,fe("span",null,[typeof e.content=="function"?e.content():e.content])])},onClose:s,onClick:e.onClick})})}),i=()=>{vo&&vo.removeNotice(r)};return i.then=(o,s)=>n.then(o,s),i.promise=n,i}function ihe(e){return Object.prototype.toString.call(e)==="[object Object]"&&!!e.content}const kv={open:nhe,config:ehe,destroy(e){if(vo)if(e){const{removeNotice:t}=vo;t(e)}else{const{destroy:t}=vo;t(),vo=null}}};function ohe(e,t){e[t]=(r,n,i)=>ihe(r)?e.open(me(me({},r),{type:t})):(typeof n=="function"&&(i=n,n=void 0),e.open({content:r,duration:n,type:t,onClose:i}))}rhe.forEach(e=>ohe(kv,e));kv.warn=kv.warning;kv.useMessage=Yce;const ahe=kv,she=e=>{const{componentCls:t,width:r,notificationMarginEdge:n}=e,i=new En("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),o=new En("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),s=new En("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:r},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${t}-top, &${t}-bottom`]:{marginInline:0},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:i}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:o}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:n,[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}}}},lhe=she,uhe=e=>{const{iconCls:t,componentCls:r,boxShadowSecondary:n,fontSizeLG:i,notificationMarginBottom:o,borderRadiusLG:s,colorSuccess:a,colorInfo:h,colorWarning:d,colorError:m,colorTextHeading:v,notificationBg:g,notificationPadding:_,notificationMarginEdge:T,motionDurationMid:P,motionEaseInOut:M,fontSize:I,lineHeight:D,width:O,notificationIconSize:z}=e,F=`${r}-notice`,N=new En("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:O},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),H=new En("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:o,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[r]:me(me(me(me({},Vd(e)),{position:"fixed",zIndex:e.zIndexPopup,marginInlineEnd:T,[`${r}-hook-holder`]:{position:"relative"},[`&${r}-top, &${r}-bottom`]:{[`${r}-notice`]:{marginInline:"auto auto"}},[`&${r}-topLeft, &${r}-bottomLeft`]:{[`${r}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${r}-fade-enter, ${r}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:M,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${r}-fade-leave`]:{animationTimingFunction:M,animationFillMode:"both",animationDuration:P,animationPlayState:"paused"},[`${r}-fade-enter${r}-fade-enter-active, ${r}-fade-appear${r}-fade-appear-active`]:{animationName:N,animationPlayState:"running"},[`${r}-fade-leave${r}-fade-leave-active`]:{animationName:H,animationPlayState:"running"}}),lhe(e)),{"&-rtl":{direction:"rtl",[`${r}-notice-btn`]:{float:"left"}}})},{[F]:{position:"relative",width:O,maxWidth:`calc(100vw - ${T*2}px)`,marginBottom:o,marginInlineStart:"auto",padding:_,overflow:"hidden",lineHeight:D,wordWrap:"break-word",background:g,borderRadius:s,boxShadow:n,[`${r}-close-icon`]:{fontSize:I,cursor:"pointer"},[`${F}-message`]:{marginBottom:e.marginXS,color:v,fontSize:i,lineHeight:e.lineHeightLG},[`${F}-description`]:{fontSize:I},[`&${F}-closable ${F}-message`]:{paddingInlineEnd:e.paddingLG},[`${F}-with-icon ${F}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.marginSM+z,fontSize:i},[`${F}-with-icon ${F}-description`]:{marginInlineStart:e.marginSM+z,fontSize:I},[`${F}-icon`]:{position:"absolute",fontSize:z,lineHeight:0,[`&-success${t}`]:{color:a},[`&-info${t}`]:{color:h},[`&-warning${t}`]:{color:d},[`&-error${t}`]:{color:m}},[`${F}-close`]:{position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.wireframe?"transparent":e.colorFillContent}},[`${F}-btn`]:{float:"right",marginTop:e.marginSM}}},{[`${F}-pure-panel`]:{margin:0}}]},t9=Rl("Notification",e=>{const t=e.paddingMD,r=e.paddingLG,n=Aa(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:r,notificationPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`,notificationMarginBottom:e.margin,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationIconSize:e.fontSizeLG*e.lineHeightLG,notificationCloseButtonSize:e.controlHeightLG*.55});return[uhe(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50,width:384}));function che(e,t){return t||fe("span",{class:`${e}-close-x`},[fe(FE,{class:`${e}-close-icon`},null)])}fe(mb,null,null),fe(db,null,null),fe(hb,null,null),fe(pb,null,null),fe(Ov,null,null);const hhe={success:db,info:mb,error:hb,warning:pb};function fhe(e){let{prefixCls:t,icon:r,type:n,message:i,description:o,btn:s}=e,a=null;if(r)a=fe("span",{class:`${t}-icon`},[Uf(r)]);else if(n){const h=hhe[n];a=fe(h,{class:`${t}-icon ${t}-icon-${n}`},null)}return fe("div",{class:$r({[`${t}-with-icon`]:a}),role:"alert"},[a,fe("div",{class:`${t}-message`},[i]),fe("div",{class:`${t}-description`},[o]),s&&fe("div",{class:`${t}-btn`},[s])])}function r9(e,t,r){let n;switch(t=typeof t=="number"?`${t}px`:t,r=typeof r=="number"?`${r}px`:r,e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":n={left:0,top:"auto",bottom:r};break;default:n={right:0,top:"auto",bottom:r};break}return n}function dhe(e){return{name:`${e}-fade`}}var phe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const lO=24,mhe=4.5,vhe=bt({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(e,t){let{expose:r}=t;const{getPrefixCls:n,getPopupContainer:i}=os("notification",e),o=_e(()=>e.prefixCls||n("notification")),s=g=>{var _,T;return r9(g,(_=e.top)!==null&&_!==void 0?_:lO,(T=e.bottom)!==null&&T!==void 0?T:lO)},[,a]=t9(o),h=()=>$r(a.value,{[`${o.value}-rtl`]:e.rtl}),d=()=>dhe(o.value),[m,v]=HB({prefixCls:o.value,getStyles:s,getClassName:h,motion:d,closable:!0,closeIcon:che(o.value),duration:mhe,getContainer:()=>{var g,_;return((g=e.getPopupContainer)===null||g===void 0?void 0:g.call(e))||((_=i.value)===null||_===void 0?void 0:_.call(i))||document.body},maxCount:e.maxCount,hashId:a.value,onAllRemoved:e.onAllRemoved});return r(me(me({},m),{prefixCls:o.value,hashId:a})),v}});function ghe(e){const t=Rt(null),r=Symbol("notificationHolderKey"),n=a=>{if(!t.value)return;const{open:h,prefixCls:d,hashId:m}=t.value,v=`${d}-notice`,{message:g,description:_,icon:T,type:P,btn:M,class:I}=a,D=phe(a,["message","description","icon","type","btn","class"]);return h(me(me({placement:"topRight"},D),{content:()=>fe(fhe,{prefixCls:v,icon:typeof T=="function"?T():T,type:P,message:typeof g=="function"?g():g,description:typeof _=="function"?_():_,btn:typeof M=="function"?M():M},null),class:$r(P&&`${v}-${P}`,m,I)}))},o={open:n,destroy:a=>{var h,d;a!==void 0?(h=t.value)===null||h===void 0||h.close(a):(d=t.value)===null||d===void 0||d.destroy()}};return["success","info","warning","error"].forEach(a=>{o[a]=h=>n(me(me({},h),{type:a}))}),[o,()=>fe(vhe,zt(zt({key:r},e),{},{ref:t}),null)]}function yhe(e){return ghe(e)}globalThis&&globalThis.__awaiter;const oh={};let n9=4.5,i9="24px",o9="24px",cT="",a9="topRight",s9=()=>document.body,l9=null,hT=!1,u9;function _he(e){const{duration:t,placement:r,bottom:n,top:i,getContainer:o,closeIcon:s,prefixCls:a}=e;a!==void 0&&(cT=a),t!==void 0&&(n9=t),r!==void 0&&(a9=r),n!==void 0&&(o9=typeof n=="number"?`${n}px`:n),i!==void 0&&(i9=typeof i=="number"?`${i}px`:i),o!==void 0&&(s9=o),s!==void 0&&(l9=s),e.rtl!==void 0&&(hT=e.rtl),e.maxCount!==void 0&&(u9=e.maxCount)}function bhe(e,t){let{prefixCls:r,placement:n=a9,getContainer:i=s9,top:o,bottom:s,closeIcon:a=l9,appContext:h}=e;const{getPrefixCls:d}=khe(),m=d("notification",r||cT),v=`${m}-${n}-${hT}`,g=oh[v];if(g){Promise.resolve(g).then(T=>{t(T)});return}const _=$r(`${m}-${n}`,{[`${m}-rtl`]:hT===!0});UB.newInstance({name:"notification",prefixCls:r||cT,useStyle:t9,class:_,style:r9(n,o??i9,s??o9),appContext:h,getContainer:i,closeIcon:T=>{let{prefixCls:P}=T;return fe("span",{class:`${P}-close-x`},[Uf(a,{},fe(FE,{class:`${P}-close-icon`},null))])},maxCount:u9,hasTransitionName:!0},T=>{oh[v]=T,t(T)})}const xhe={success:Kse,info:ile,error:lle,warning:ele};function whe(e){const{icon:t,type:r,description:n,message:i,btn:o}=e,s=e.duration===void 0?n9:e.duration;bhe(e,a=>{a.notice({content:h=>{let{prefixCls:d}=h;const m=`${d}-notice`;let v=null;if(t)v=()=>fe("span",{class:`${m}-icon`},[Uf(t)]);else if(r){const g=xhe[r];v=()=>fe(g,{class:`${m}-icon ${m}-icon-${r}`},null)}return fe("div",{class:v?`${m}-with-icon`:""},[v&&v(),fe("div",{class:`${m}-message`},[!n&&v?fe("span",{class:`${m}-message-single-line-auto-margin`},null):null,Uf(i)]),fe("div",{class:`${m}-description`},[Uf(n)]),o?fe("span",{class:`${m}-btn`},[Uf(o)]):null])},duration:s,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e.class})})}const Ad={open:whe,close(e){Object.keys(oh).forEach(t=>Promise.resolve(oh[t]).then(r=>{r.removeNotice(e)}))},config:_he,destroy(){Object.keys(oh).forEach(e=>{Promise.resolve(oh[e]).then(t=>{t.destroy()}),delete oh[e]})}},She=["success","info","warning","error"];She.forEach(e=>{Ad[e]=t=>Ad.open(me(me({},t),{type:e}))});Ad.warn=Ad.warning;Ad.useNotification=yhe;const The=Ad,Che=`-ant-${Date.now()}-${Math.random()}`;function Ehe(e,t){const r={},n=(s,a)=>{let h=s.clone();return h=(a==null?void 0:a(h))||h,h.toRgbString()},i=(s,a)=>{const h=new yi(s),d=Sh(h.toRgbString());r[`${a}-color`]=n(h),r[`${a}-color-disabled`]=d[1],r[`${a}-color-hover`]=d[4],r[`${a}-color-active`]=d[6],r[`${a}-color-outline`]=h.clone().setAlpha(.2).toRgbString(),r[`${a}-color-deprecated-bg`]=d[0],r[`${a}-color-deprecated-border`]=d[2]};if(t.primaryColor){i(t.primaryColor,"primary");const s=new yi(t.primaryColor),a=Sh(s.toRgbString());a.forEach((d,m)=>{r[`primary-${m+1}`]=d}),r["primary-color-deprecated-l-35"]=n(s,d=>d.lighten(35)),r["primary-color-deprecated-l-20"]=n(s,d=>d.lighten(20)),r["primary-color-deprecated-t-20"]=n(s,d=>d.tint(20)),r["primary-color-deprecated-t-50"]=n(s,d=>d.tint(50)),r["primary-color-deprecated-f-12"]=n(s,d=>d.setAlpha(d.getAlpha()*.12));const h=new yi(a[0]);r["primary-color-active-deprecated-f-30"]=n(h,d=>d.setAlpha(d.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=n(h,d=>d.darken(2))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(s=>`--${e}-${s}: ${r[s]};`).join(`
`)}
  }
  `.trim()}function Ahe(e,t){const r=Ehe(e,t);Hu()?Cv(r,`${Che}-dynamic-theme`):nb()}const Phe=e=>{const[t,r]=pg();return US(_e(()=>({theme:t.value,token:r.value,hashId:"",path:["ant-design-icons",e.value]})),()=>[{[`.${e.value}`]:me(me({},l$()),{[`.${e.value} .${e.value}-icon`]:{display:"block"}})}])},Ihe=Phe;function Mhe(e,t){const r=_e(()=>(e==null?void 0:e.value)||{}),n=_e(()=>r.value.inherit===!1||!(t!=null&&t.value)?h$:t.value);return _e(()=>{if(!(e!=null&&e.value))return t==null?void 0:t.value;const o=me({},n.value.components);return Object.keys(e.value.components||{}).forEach(s=>{o[s]=me(me({},o[s]),e.value.components[s])}),me(me(me({},n.value),r.value),{token:me(me({},n.value.token),r.value.token),components:o})})}var Dhe=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Lhe="ant";function id(){return Zi.prefixCls||Lhe}function c9(){return Zi.iconPrefixCls||fE}const iA=eo({}),Zi=eo({});di(()=>{me(Zi,iA),Zi.prefixCls=id(),Zi.iconPrefixCls=c9(),Zi.getPrefixCls=(e,t)=>t||(e?`${Zi.prefixCls}-${e}`:Zi.prefixCls),Zi.getRootPrefixCls=()=>Zi.prefixCls?Zi.prefixCls:id()});let Ww;const Ohe=e=>{Ww&&Ww(),Ww=di(()=>{me(iA,eo(e)),me(Zi,eo(e))}),e.theme&&Ahe(id(),e.theme)},khe=()=>({getPrefixCls:(e,t)=>t||(e?`${id()}-${e}`:id()),getIconPrefixCls:c9,getRootPrefixCls:()=>Zi.prefixCls?Zi.prefixCls:id()}),Jm=bt({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:gQ(),setup(e,t){let{slots:r}=t;const n=$z(),i=(ie,de)=>{const{prefixCls:ce="ant"}=e;if(de)return de;const Be=ce||n.getPrefixCls("");return ie?`${Be}-${ie}`:Be},o=_e(()=>e.iconPrefixCls||n.iconPrefixCls.value||fE),s=_e(()=>o.value!==n.iconPrefixCls.value),a=_e(()=>{var ie;return e.csp||((ie=n.csp)===null||ie===void 0?void 0:ie.value)}),h=Ihe(o),d=Mhe(_e(()=>e.theme),_e(()=>{var ie;return(ie=n.theme)===null||ie===void 0?void 0:ie.value})),m=ie=>(e.renderEmpty||r.renderEmpty||n.renderEmpty||fte)(ie),v=_e(()=>{var ie,de;return(ie=e.autoInsertSpaceInButton)!==null&&ie!==void 0?ie:(de=n.autoInsertSpaceInButton)===null||de===void 0?void 0:de.value}),g=_e(()=>{var ie;return e.locale||((ie=n.locale)===null||ie===void 0?void 0:ie.value)});rr(g,()=>{iA.locale=g.value},{immediate:!0});const _=_e(()=>{var ie;return e.direction||((ie=n.direction)===null||ie===void 0?void 0:ie.value)}),T=_e(()=>{var ie,de;return(ie=e.space)!==null&&ie!==void 0?ie:(de=n.space)===null||de===void 0?void 0:de.value}),P=_e(()=>{var ie,de;return(ie=e.virtual)!==null&&ie!==void 0?ie:(de=n.virtual)===null||de===void 0?void 0:de.value}),M=_e(()=>{var ie,de;return(ie=e.dropdownMatchSelectWidth)!==null&&ie!==void 0?ie:(de=n.dropdownMatchSelectWidth)===null||de===void 0?void 0:de.value}),I=_e(()=>{var ie;return e.getTargetContainer!==void 0?e.getTargetContainer:(ie=n.getTargetContainer)===null||ie===void 0?void 0:ie.value}),D=_e(()=>{var ie;return e.getPopupContainer!==void 0?e.getPopupContainer:(ie=n.getPopupContainer)===null||ie===void 0?void 0:ie.value}),O=_e(()=>{var ie;return e.pageHeader!==void 0?e.pageHeader:(ie=n.pageHeader)===null||ie===void 0?void 0:ie.value}),z=_e(()=>{var ie;return e.input!==void 0?e.input:(ie=n.input)===null||ie===void 0?void 0:ie.value}),F=_e(()=>{var ie;return e.pagination!==void 0?e.pagination:(ie=n.pagination)===null||ie===void 0?void 0:ie.value}),N=_e(()=>{var ie;return e.form!==void 0?e.form:(ie=n.form)===null||ie===void 0?void 0:ie.value}),H=_e(()=>{var ie;return e.select!==void 0?e.select:(ie=n.select)===null||ie===void 0?void 0:ie.value}),U=_e(()=>e.componentSize),J=_e(()=>e.componentDisabled),K={csp:a,autoInsertSpaceInButton:v,locale:g,direction:_,space:T,virtual:P,dropdownMatchSelectWidth:M,getPrefixCls:i,iconPrefixCls:o,theme:_e(()=>{var ie,de;return(ie=d.value)!==null&&ie!==void 0?ie:(de=n.theme)===null||de===void 0?void 0:de.value}),renderEmpty:m,getTargetContainer:I,getPopupContainer:D,pageHeader:O,input:z,pagination:F,form:N,select:H,componentSize:U,componentDisabled:J,transformCellText:_e(()=>e.transformCellText)},ne=_e(()=>{const ie=d.value||{},{algorithm:de,token:ce}=ie,Be=Dhe(ie,["algorithm","token"]),Ve=de&&(!Array.isArray(de)||de.length>0)?r$(de):void 0;return me(me({},Be),{theme:Ve,token:me(me({},ib),ce)})}),ae=_e(()=>{var ie,de;let ce={};return g.value&&(ce=((ie=g.value.Form)===null||ie===void 0?void 0:ie.defaultValidateMessages)||((de=Tv.Form)===null||de===void 0?void 0:de.defaultValidateMessages)||{}),e.form&&e.form.validateMessages&&(ce=me(me({},ce),e.form.validateMessages)),ce});yQ(K),vQ({validateMessages:ae}),dte(U),_Q(J);const he=ie=>{var de,ce;let Be=s.value?h((de=r.default)===null||de===void 0?void 0:de.call(r)):(ce=r.default)===null||ce===void 0?void 0:ce.call(r);if(e.theme){const Ve=function(){return Be}();Be=fe(ote,{value:ne.value},{default:()=>[Ve]})}return fe(Mce,{locale:g.value||ie,ANT_MARK__:lT},{default:()=>[Be]})};return di(()=>{_.value&&(ahe.config({rtl:_.value==="rtl"}),The.config({rtl:_.value==="rtl"}))}),()=>fe(Nz,{children:(ie,de,ce)=>he(ce)},null)}});Jm.config=Ohe;Jm.install=function(e){e.component(Jm.name,Jm)};const oA=Jm;const Rhe={components:{AButton:Ym,AConfigProvider:oA},data(){return{keySelected:null}},props:{objs:{},initPos:{type:Number,default:0}},mounted(){this.select(Object.keys(this.objs)[this.initPos])},watch:{objs(e){for(let t in this.objs){this.keySelected=t;break}}},computed:{},methods:{select:function(e){this.keySelected=e}}};function zhe(e,t,r,n,i,o){const s=Hn("a-button"),a=Hn("a-config-provider");return _t(),Wt(Tr,null,[fe(a,{theme:{token:{colorPrimary:"#49BF7C"}}},{default:mn(()=>[(_t(!0),Wt(Tr,null,Qa(r.objs,(h,d,m)=>(_t(),Fn(s,{key:m,onClick:v=>o.select(d),class:$i(d==i.keySelected?"selected":"unselected"),type:d==i.keySelected?"primary":"default",size:"large"},{default:mn(()=>[Ro(Qr(d),1)]),_:2},1032,["onClick","class","type"]))),128))]),_:1}),pn(e.$slots,"default",{selected:r.objs[i.keySelected]})],64)}const $he=Kr(Rhe,[["render",zhe],["__file","ObjectSelector.vue"]]),Bhe={data(){return{data:null}},props:{path:{type:String}},watch:{path(e){if(e)return Ko.get(e).then(t=>{this.data=t.data})}}};function Fhe(e,t,r,n,i,o){return pn(e.$slots,"default",{data:i.data})}const Nhe=Kr(Bhe,[["render",Fhe],["__file","DataRequest.vue"]]);const Vhe={props:["data"]},Uhe={class:"cards"};function Hhe(e,t,r,n,i,o){return _t(),Wt("div",Uhe,[(_t(!0),Wt(Tr,null,Qa(r.data,(s,a)=>(_t(),Wt("div",{key:a,class:"card"},Qr(s),1))),128))])}const jhe=Kr(Vhe,[["render",Hhe],["__scopeId","data-v-00202de1"],["__file","GridList.vue"]]),Ghe={name:"BusTable",components:{BusTimer:dJ,ObjectSelector:$he,DataRequest:Nhe,GridList:jhe},mounted(){function e(t){var r={};for(let v=0;v<t.days.length;v++)r[t.days[v].date]=t.days[v].isOffDay;var n=new Date,i=new Intl.DateTimeFormat("en",{year:"numeric"}).format(n),o=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(n),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(n),a=`${i}-${o}-${s}`,h;if(r[a]==null){console.log("Not in GOV declaration");var d=n.getDay(),m=d==6||d==0;h=m}else console.log("In GOV declaration"),h=r[a];h?(console.log(""),document.getElementById("bustable").getElementsByTagName("button")[1].click()):(console.log(""),document.getElementById("bustable").getElementsByTagName("button")[0].click())}Ko.get("/2023.json").then(t=>{e(t.data)})}},Whe={id:"bustable"},qhe=fr("br",null,null,-1);function Xhe(e,t,r,n,i,o){const s=Hn("bus-timer"),a=Hn("grid-list"),h=Hn("data-request"),d=Hn("object-selector");return _t(),Wt("div",Whe,[fe(d,{objs:{" Workday":!0," Holiday":!1}},{default:mn(m=>[qhe,fe(d,{objs:m.selected?{"Line 1    To COE":"/bus_times/one_down.json","Line 1    To Joy Highland":"/bus_times/one_up.json","Line 2    To Research Bldg.":"/bus_times/two_down.json","Line 2    To Joy Highland":"/bus_times/two_up.json"}:{"Line 1     To COE":"/bus_times/one_down_holiday.json","Line 1    To Joy Highland":"/bus_times/one_up_holiday.json"}},{default:mn(v=>[fe(h,{path:v.selected},{default:mn(({data:g})=>[g?(_t(),Fn(s,qH(L0({key:0},g)),null,16)):In("",!0),g?(_t(),Fn(a,{key:1,data:g.times},null,8,["data"])):In("",!0)]),_:2},1032,["path"])]),_:2},1032,["objs"])]),_:1})])}const Zhe=Kr(Ghe,[["render",Xhe],["__file","BusTable.vue"]]);const Khe={name:"TabView",components:{ATabs:nd,ATabPane:nd.TabPane,AConfigProvider:oA}},Yhe=fr("div",{class:"tab-text"},[Ro(""),fr("br"),Ro("Bus Realtime Location")],-1),Jhe=fr("div",{class:"tab-text"},[Ro(""),fr("br"),Ro("Timetable")],-1);function Qhe(e,t,r,n,i,o){const s=Hn("RealtimeMap"),a=Hn("BusChartVue"),h=Hn("a-tab-pane"),d=Hn("BusTable"),m=Hn("a-tabs"),v=Hn("a-config-provider");return _t(),Wt("div",null,[fe(v,{theme:{token:{colorPrimary:"#49BF7C"}}},{default:mn(()=>[fe(m,{type:"card",size:"large"},{default:mn(()=>[fe(h,{key:"tab1"},{tab:mn(()=>[Yhe]),default:mn(()=>[Ro(" 5Location refreshes automatically every 5 seconds "),fe(s),fe(a)]),_:1}),fe(h,{key:"tab2"},{tab:mn(()=>[Jhe]),default:mn(()=>[fe(d)]),_:1})]),_:1})]),_:1})])}const efe=Kr(Khe,[["render",Qhe],["__file","TabView.vue"]]);var h9={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rz,function(){var r,n,i;function o(a,h){if(!r)r=h;else if(!n)n=h;else{var d="var sharedChunk = {}; ("+r+")(sharedChunk); ("+n+")(sharedChunk);",m={};r(m),i=h(m),typeof window<"u"&&(i.workerUrl=window.URL.createObjectURL(new Blob([d],{type:"text/javascript"})))}}o(["exports"],function(a){var h=d;function d(c,l,f,y){this.cx=3*c,this.bx=3*(f-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*l,this.by=3*(y-l)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=l,this.p2x=f,this.p2y=y}function m(c,l,f,y){const w=new h(c,l,f,y);return function(C){return w.solve(C)}}d.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,l){if(l===void 0&&(l=1e-6),c<0)return 0;if(c>1)return 1;for(var f=c,y=0;y<8;y++){var w=this.sampleCurveX(f)-c;if(Math.abs(w)<l)return f;var C=this.sampleCurveDerivativeX(f);if(Math.abs(C)<1e-6)break;f-=w/C}var A=0,k=1;for(f=c,y=0;y<20&&(w=this.sampleCurveX(f),!(Math.abs(w-c)<l));y++)c>w?A=f:k=f,f=.5*(k-A)+A;return f},solve:function(c,l){return this.sampleCurveY(this.solveCurveX(c,l))}};const v=m(.25,.1,.25,1);function g(c,l,f){return Math.min(f,Math.max(l,c))}function _(c,l,f){const y=f-l,w=((c-l)%y+y)%y+l;return w===l?f:w}function T(c,...l){for(const f of l)for(const y in f)c[y]=f[y];return c}let P=1;function M(c,l){c.forEach(f=>{l[f]&&(l[f]=l[f].bind(l))})}function I(c,l,f){const y={};for(const w in c)y[w]=l.call(f||this,c[w],w,c);return y}function D(c,l,f){const y={};for(const w in c)l.call(f||this,c[w],w,c)&&(y[w]=c[w]);return y}function O(c){return Array.isArray(c)?c.map(O):typeof c=="object"&&c?I(c,O):c}const z={};function F(c){z[c]||(typeof console<"u"&&console.warn(c),z[c]=!0)}function N(c,l,f){return(f.y-c.y)*(l.x-c.x)>(l.y-c.y)*(f.x-c.x)}function H(c){let l=0;for(let f,y,w=0,C=c.length,A=C-1;w<C;A=w++)f=c[w],y=c[A],l+=(y.x-f.x)*(f.y+y.y);return l}function U(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function J(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,y,w,C)=>{const A=w||C;return l[y]=!A||A.toLowerCase(),""}),l["max-age"]){const f=parseInt(l["max-age"],10);isNaN(f)?delete l["max-age"]:l["max-age"]=f}return l}let K,ne,ae=null;function he(c){if(ae==null){const l=c.navigator?c.navigator.userAgent:null;ae=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return ae}function ie(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const de={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(c){const l=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(l)}},getImageData(c,l=0){const f=window.document.createElement("canvas"),y=f.getContext("2d");if(!y)throw new Error("failed to create canvas 2d context");return f.width=c.width,f.height=c.height,y.drawImage(c,0,0,c.width,c.height),y.getImageData(-l,-l,c.width+2*l,c.height+2*l)},resolveURL:c=>(K||(K=document.createElement("a")),K.href=c,K.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(ne==null&&(ne=matchMedia("(prefers-reduced-motion: reduce)")),ne.matches)}};var ce=Be;function Be(c,l){this.x=c,this.y=l}Be.prototype={clone:function(){return new Be(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,l){return this.clone()._rotateAround(c,l)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var l=c.x-this.x,f=c.y-this.y;return l*l+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult:function(c){var l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var l=Math.cos(c),f=Math.sin(c),y=f*this.x+l*this.y;return this.x=l*this.x-f*this.y,this.y=y,this},_rotateAround:function(c,l){var f=Math.cos(c),y=Math.sin(c),w=l.y+y*(this.x-l.x)+f*(this.y-l.y);return this.x=l.x+f*(this.x-l.x)-y*(this.y-l.y),this.y=w,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Be.convert=function(c){return c instanceof Be?c:Array.isArray(c)?new Be(c[0],c[1]):c};const Ve={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},ht="mapbox-tiles";let mt,dt,vt=500,Jt=50;function ar(){typeof caches>"u"||mt||(mt=caches.open(ht))}let nr=1/0;const st={supported:!1,testSupport:function(c){!We&&et&&(ut?ct(c):ze=c)}};let ze,et,We=!1,ut=!1;function ct(c){const l=c.createTexture();c.bindTexture(c.TEXTURE_2D,l);try{if(c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,et),c.isContextLost())return;st.supported=!0}catch{}c.deleteTexture(l),We=!0}typeof document<"u"&&(et=document.createElement("img"),et.onload=function(){ze&&ct(ze),ze=null,ut=!0},et.onerror=function(){We=!0,ze=null},et.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const le={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(le);class ye extends Error{constructor(l,f,y,w){super(`AJAXError: ${f} (${l}): ${y}`),this.status=l,this.statusText=f,this.url=y,this.body=w}}const Ee=U()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href;function je(c,l){const f=new AbortController,y=new Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,referrer:Ee(),signal:f.signal});let w=!1,C=!1;return c.type==="json"&&y.headers.set("Accept","application/json"),((A,k,R)=>{if(C)return;const V=Date.now();fetch(y).then(W=>W.ok?((X,Q,te)=>{(c.type==="arrayBuffer"?X.arrayBuffer():c.type==="json"?X.json():X.text()).then(re=>{C||(Q&&te&&function(we,xe,ke){if(ar(),!mt)return;const He={status:xe.status,statusText:xe.statusText,headers:new Headers};xe.headers.forEach((Ne,ot)=>He.headers.set(ot,Ne));const Le=J(xe.headers.get("Cache-Control")||"");Le["no-store"]||(Le["max-age"]&&He.headers.set("Expires",new Date(ke+1e3*Le["max-age"]).toUTCString()),new Date(He.headers.get("Expires")).getTime()-ke<42e4||function(Ne,ot){if(dt===void 0)try{new Response(new ReadableStream),dt=!0}catch{dt=!1}dt?ot(Ne.body):Ne.blob().then(ot)}(xe,Ne=>{const ot=new Response(Ne,He);ar(),mt&&mt.then(it=>it.put(function(kt){const Vt=kt.indexOf("?");return Vt<0?kt:kt.slice(0,Vt)}(we.url),ot)).catch(it=>F(it.message))}))}(y,Q,te),w=!0,l(null,re,X.headers.get("Cache-Control"),X.headers.get("Expires")))}).catch(re=>{C||l(new Error(re.message))})})(W,null,V):W.blob().then(X=>l(new ye(W.status,W.statusText,c.url,X)))).catch(W=>{W.code!==20&&l(new Error(W.message))})})(),{cancel:()=>{C=!0,w||f.abort()}}}const Ye=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){if(U()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,l);if(!U()){const y=c.url.substring(0,c.url.indexOf("://"));return(Ve.REGISTERED_PROTOCOLS[y]||je)(c,l)}}if(!(/^file:/.test(f=c.url)||/^file:/.test(Ee())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return je(c,l);if(U()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,l,void 0,!0)}var f;return function(y,w){const C=new XMLHttpRequest;C.open(y.method||"GET",y.url,!0),y.type==="arrayBuffer"&&(C.responseType="arraybuffer");for(const A in y.headers)C.setRequestHeader(A,y.headers[A]);return y.type==="json"&&(C.responseType="text",C.setRequestHeader("Accept","application/json")),C.withCredentials=y.credentials==="include",C.onerror=()=>{w(new Error(C.statusText))},C.onload=()=>{if((C.status>=200&&C.status<300||C.status===0)&&C.response!==null){let A=C.response;if(y.type==="json")try{A=JSON.parse(C.response)}catch(k){return w(k)}w(null,A,C.getResponseHeader("Cache-Control"),C.getResponseHeader("Expires"))}else{const A=new Blob([C.response],{type:C.getResponseHeader("Content-Type")});w(new ye(C.status,C.statusText,y.url,A))}},C.send(y.body),{cancel:()=>C.abort()}}(c,l)},qe=function(c,l){return Ye(T(c,{type:"arrayBuffer"}),l)};function nt(c){const l=window.document.createElement("a");return l.href=c,l.protocol===window.document.location.protocol&&l.host===window.document.location.host}const Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let tt,rt;tt=[],rt=0;const Tt=function(c,l){if(st.supported&&(c.headers||(c.headers={}),c.headers.accept="image/webp,*/*"),rt>=Ve.MAX_PARALLEL_IMAGE_REQUESTS){const C={requestParameters:c,callback:l,cancelled:!1,cancel(){this.cancelled=!0}};return tt.push(C),C}rt++;let f=!1;const y=()=>{if(!f)for(f=!0,rt--;tt.length&&rt<Ve.MAX_PARALLEL_IMAGE_REQUESTS;){const C=tt.shift(),{requestParameters:A,callback:k,cancelled:R}=C;R||(C.cancel=Tt(A,k).cancel)}},w=qe(c,(C,A,k,R)=>{y(),C?l(C):A&&function(V,W){typeof createImageBitmap=="function"?function(X,Q){const te=new Blob([new Uint8Array(X)],{type:"image/png"});createImageBitmap(te).then(re=>{Q(null,re)}).catch(re=>{Q(new Error(`Could not load image because of ${re.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(V,W):function(X,Q){const te=new Image;te.onload=()=>{Q(null,te),URL.revokeObjectURL(te.src),te.onload=null,window.requestAnimationFrame(()=>{te.src=Oe})},te.onerror=()=>Q(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const re=new Blob([new Uint8Array(X)],{type:"image/png"});te.src=X.byteLength?URL.createObjectURL(re):Oe}(V,W)}(A,(V,W)=>{V!=null?l(V):W!=null&&l(null,W,{cacheControl:k,expires:R})})});return{cancel:()=>{w.cancel(),y()}}};function Lt(c,l,f){f[c]&&f[c].indexOf(l)!==-1||(f[c]=f[c]||[],f[c].push(l))}function Pt(c,l,f){if(f&&f[c]){const y=f[c].indexOf(l);y!==-1&&f[c].splice(y,1)}}class qt{constructor(l,f={}){T(this,f),this.type=l}}class sr extends qt{constructor(l,f={}){super("error",T({error:l},f))}}class yr{on(l,f){return this._listeners=this._listeners||{},Lt(l,f,this._listeners),this}off(l,f){return Pt(l,f,this._listeners),Pt(l,f,this._oneTimeListeners),this}once(l,f){return this._oneTimeListeners=this._oneTimeListeners||{},Lt(l,f,this._oneTimeListeners),this}fire(l,f){typeof l=="string"&&(l=new qt(l,f||{}));const y=l.type;if(this.listens(y)){l.target=this;const w=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const k of w)k.call(this,l);const C=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const k of C)Pt(y,k,this._oneTimeListeners),k.call(this,l);const A=this._eventedParent;A&&(T(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),A.fire(l))}else l instanceof sr&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,f){return this._eventedParent=l,this._eventedParentData=f,this}}var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class at{constructor(l,f,y,w){this.message=(l?`${l}: `:"")+y,w&&(this.identifier=w),f!=null&&f.__line__&&(this.line=f.__line__)}}function Wr(c){const l=c.value;return l?[new at(c.key,l,"constants have been deprecated as of v8")]:[]}function yn(c,...l){for(const f of l)for(const y in f)c[y]=f[y];return c}function dr(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function an(c){if(Array.isArray(c))return c.map(an);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const f in c)l[f]=an(c[f]);return l}return dr(c)}class Kn extends Error{constructor(l,f){super(f),this.message=f,this.key=l}}class Hr{constructor(l,f=[]){this.parent=l,this.bindings={};for(const[y,w]of f)this.bindings[y]=w}concat(l){return new Hr(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Rn={kind:"null"},gt={kind:"number"},gr={kind:"string"},ir={kind:"boolean"},Yn={kind:"color"},ls={kind:"object"},hr={kind:"value"},Da={kind:"collator"},ii={kind:"formatted"},jl={kind:"padding"},jn={kind:"resolvedImage"};function Ii(c,l){return{kind:"array",itemType:c,N:l}}function Yr(c){if(c.kind==="array"){const l=Yr(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const Gl=[Rn,gt,gr,ir,Yn,ii,ls,Ii(hr),jl,jn];function ta(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!ta(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const f of Gl)if(!ta(f,l))return null}}return`Expected ${Yr(c)} but found ${Yr(l)} instead.`}function Us(c,l){return l.some(f=>f.kind===c.kind)}function Hs(c,l){return l.some(f=>f==="null"?c===null:f==="array"?Array.isArray(c):f==="object"?c&&!Array.isArray(c)&&typeof c=="object":f===typeof c)}var Wl,js={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ue(c){return(c=Math.round(c))<0?0:c>255?255:c}function G(c){return ue(c[c.length-1]==="%"?parseFloat(c)/100*255:parseInt(c))}function Z(c){return(l=c[c.length-1]==="%"?parseFloat(c)/100:parseFloat(c))<0?0:l>1?1:l;var l}function oe(c,l,f){return f<0?f+=1:f>1&&(f-=1),6*f<1?c+(l-c)*f*6:2*f<1?l:3*f<2?c+(l-c)*(2/3-f)*6:c}try{Wl={}.parseCSSColor=function(c){var l,f=c.replace(/ /g,"").toLowerCase();if(f in js)return js[f].slice();if(f[0]==="#")return f.length===4?(l=parseInt(f.substr(1),16))>=0&&l<=4095?[(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1]:null:f.length===7&&(l=parseInt(f.substr(1),16))>=0&&l<=16777215?[(16711680&l)>>16,(65280&l)>>8,255&l,1]:null;var y=f.indexOf("("),w=f.indexOf(")");if(y!==-1&&w+1===f.length){var C=f.substr(0,y),A=f.substr(y+1,w-(y+1)).split(","),k=1;switch(C){case"rgba":if(A.length!==4)return null;k=Z(A.pop());case"rgb":return A.length!==3?null:[G(A[0]),G(A[1]),G(A[2]),k];case"hsla":if(A.length!==4)return null;k=Z(A.pop());case"hsl":if(A.length!==3)return null;var R=(parseFloat(A[0])%360+360)%360/360,V=Z(A[1]),W=Z(A[2]),X=W<=.5?W*(V+1):W+V-W*V,Q=2*W-X;return[ue(255*oe(Q,X,R+1/3)),ue(255*oe(Q,X,R)),ue(255*oe(Q,X,R-1/3)),k];default:return null}}return null}}catch{}class se{constructor(l,f,y,w=1){this.r=l,this.g=f,this.b=y,this.a=w}static parse(l){if(!l)return;if(l instanceof se)return l;if(typeof l!="string")return;const f=Wl(l);return f?new se(f[0]/255*f[3],f[1]/255*f[3],f[2]/255*f[3],f[3]):void 0}toString(){const[l,f,y,w]=this.toArray();return`rgba(${Math.round(l)},${Math.round(f)},${Math.round(y)},${w})`}toArray(){const{r:l,g:f,b:y,a:w}=this;return w===0?[0,0,0,0]:[255*l/w,255*f/w,255*y/w,w]}}se.black=new se(0,0,0,1),se.white=new se(1,1,1,1),se.transparent=new se(0,0,0,0),se.red=new se(1,0,0,1);class Se{constructor(l,f,y){this.sensitivity=l?f?"variant":"case":f?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,f){return this.collator.compare(l,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Pe{constructor(l,f,y,w,C){this.text=l,this.image=f,this.scale=y,this.fontStack=w,this.textColor=C}}class Ce{constructor(l){this.sections=l}static fromString(l){return new Ce([new Pe(l,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(l=>l.text.length!==0||l.image&&l.image.name.length!==0)}static factory(l){return l instanceof Ce?l:Ce.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map(l=>l.text).join("")}}class Te{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Te)return l;if(typeof l=="number")return new Te([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const f of l)if(typeof f!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Te(l)}}toString(){return JSON.stringify(this.values)}}class Ie{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Ie({name:l,available:!1}):null}}function Ze(c,l,f,y){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof f=="number"&&f>=0&&f<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[c,l,f,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[c,l,f,y]:[c,l,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function lt(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof se||c instanceof Se||c instanceof Ce||c instanceof Te||c instanceof Ie)return!0;if(Array.isArray(c)){for(const l of c)if(!lt(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!lt(c[l]))return!1;return!0}return!1}function Xe(c){if(c===null)return Rn;if(typeof c=="string")return gr;if(typeof c=="boolean")return ir;if(typeof c=="number")return gt;if(c instanceof se)return Yn;if(c instanceof Se)return Da;if(c instanceof Ce)return ii;if(c instanceof Te)return jl;if(c instanceof Ie)return jn;if(Array.isArray(c)){const l=c.length;let f;for(const y of c){const w=Xe(y);if(f){if(f===w)continue;f=hr;break}f=w}return Ii(f||hr,l)}return ls}function Nt(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof se||c instanceof Ce||c instanceof Te||c instanceof Ie?c.toString():JSON.stringify(c)}class Ht{constructor(l,f){this.type=l,this.value=f}static parse(l,f){if(l.length!==2)return f.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!lt(l[1]))return f.error("invalid value");const y=l[1];let w=Xe(y);const C=f.expectedType;return w.kind!=="array"||w.N!==0||!C||C.kind!=="array"||typeof C.N=="number"&&C.N!==0||(w=C),new Ht(w,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class It{constructor(l){this.name="ExpressionEvaluationError",this.message=l}toJSON(){return this.message}}const er={string:gr,number:gt,boolean:ir,object:ls};class or{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");let y,w=1;const C=l[0];if(C==="array"){let k,R;if(l.length>2){const V=l[1];if(typeof V!="string"||!(V in er)||V==="object")return f.error('The item type argument of "array" must be one of string, number, boolean',1);k=er[V],w++}else k=hr;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return f.error('The length argument to "array" must be a positive integer literal',2);R=l[2],w++}y=Ii(k,R)}else{if(!er[C])throw new Error(`Types doesn't contain name = ${C}`);y=er[C]}const A=[];for(;w<l.length;w++){const k=f.parse(l[w],w,hr);if(!k)return null;A.push(k)}return new or(y,A)}evaluate(l){for(let f=0;f<this.args.length;f++){const y=this.args[f].evaluate(l);if(!ta(this.type,Xe(y)))return y;if(f===this.args.length-1)throw new It(`Expected value to be of type ${Yr(this.type)}, but found ${Yr(Xe(y))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const Lr={"to-boolean":ir,"to-color":Yn,"to-number":gt,"to-string":gr};class cr{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const y=l[0];if(!Lr[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&l.length!==2)return f.error("Expected one argument.");const w=Lr[y],C=[];for(let A=1;A<l.length;A++){const k=f.parse(l[A],A,hr);if(!k)return null;C.push(k)}return new cr(w,C)}evaluate(l){if(this.type.kind==="boolean")return!!this.args[0].evaluate(l);if(this.type.kind==="color"){let f,y;for(const w of this.args){if(f=w.evaluate(l),y=null,f instanceof se)return f;if(typeof f=="string"){const C=l.parseColor(f);if(C)return C}else if(Array.isArray(f)&&(y=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:Ze(f[0],f[1],f[2],f[3]),!y))return new se(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new It(y||`Could not parse color from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}if(this.type.kind==="padding"){let f;for(const y of this.args){f=y.evaluate(l);const w=Te.parse(f);if(w)return w}throw new It(`Could not parse padding from value '${typeof f=="string"?f:JSON.stringify(f)}'`)}if(this.type.kind==="number"){let f=null;for(const y of this.args){if(f=y.evaluate(l),f===null)return 0;const w=Number(f);if(!isNaN(w))return w}throw new It(`Could not convert ${JSON.stringify(f)} to number.`)}return this.type.kind==="formatted"?Ce.fromString(Nt(this.args[0].evaluate(l))):this.type.kind==="resolvedImage"?Ie.fromString(Nt(this.args[0].evaluate(l))):Nt(this.args[0].evaluate(l))}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}const _r=["Unknown","Point","LineString","Polygon"];class Or{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?_r[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let f=this._parseColorCache[l];return f||(f=this._parseColorCache[l]=se.parse(l)),f}}class tn{constructor(l,f,y,w){this.name=l,this.type=f,this._evaluate=y,this.args=w}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,f){const y=l[0],w=tn.definitions[y];if(!w)return f.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const C=Array.isArray(w)?w[0]:w.type,A=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,k=A.filter(([V])=>!Array.isArray(V)||V.length===l.length-1);let R=null;for(const[V,W]of k){R=new Zl(f.registry,f.path,null,f.scope);const X=[];let Q=!1;for(let te=1;te<l.length;te++){const re=l[te],we=Array.isArray(V)?V[te-1]:V.type,xe=R.parse(re,1+X.length,we);if(!xe){Q=!0;break}X.push(xe)}if(!Q)if(Array.isArray(V)&&V.length!==X.length)R.error(`Expected ${V.length} arguments, but found ${X.length} instead.`);else{for(let te=0;te<X.length;te++){const re=Array.isArray(V)?V[te]:V.type,we=X[te];R.concat(te+1).checkSubtype(re,we.type)}if(R.errors.length===0)return new tn(y,C,W,X)}}if(k.length===1)f.errors.push(...R.errors);else{const V=(k.length?k:A).map(([X])=>{return Q=X,Array.isArray(Q)?`(${Q.map(Yr).join(", ")})`:`(${Yr(Q.type)}...)`;var Q}).join(" | "),W=[];for(let X=1;X<l.length;X++){const Q=f.parse(l[X],1+W.length);if(!Q)return null;W.push(Yr(Q.type))}f.error(`Expected arguments of type ${V}, but found (${W.join(", ")}) instead.`)}return null}static register(l,f){tn.definitions=f;for(const y in f)l[y]=tn}}class oi{constructor(l,f,y){this.type=Da,this.locale=y,this.caseSensitive=l,this.diacriticSensitive=f}static parse(l,f){if(l.length!==2)return f.error("Expected one argument.");const y=l[1];if(typeof y!="object"||Array.isArray(y))return f.error("Collator options argument must be an object.");const w=f.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,ir);if(!w)return null;const C=f.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,ir);if(!C)return null;let A=null;return y.locale&&(A=f.parse(y.locale,1,gr),!A)?null:new oi(w,C,A)}evaluate(l){return new Se(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}const _n=8192;function xi(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function ql(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function Xu(c,l){const f=(180+c[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,w=Math.pow(2,l.z);return[Math.round(f*w*_n),Math.round(y*w*_n)]}function rn(c,l,f){const y=c[0]-l[0],w=c[1]-l[1],C=c[0]-f[0],A=c[1]-f[1];return y*A-C*w==0&&y*C<=0&&w*A<=0}function Jd(c,l){let f=!1;for(let A=0,k=l.length;A<k;A++){const R=l[A];for(let V=0,W=R.length;V<W-1;V++){if(rn(c,R[V],R[V+1]))return!1;(w=R[V])[1]>(y=c)[1]!=(C=R[V+1])[1]>y[1]&&y[0]<(C[0]-w[0])*(y[1]-w[1])/(C[1]-w[1])+w[0]&&(f=!f)}}var y,w,C;return f}function Qd(c,l){for(let f=0;f<l.length;f++)if(Jd(c,l[f]))return!0;return!1}function Eg(c,l,f,y){const w=y[0]-f[0],C=y[1]-f[1],A=(c[0]-f[0])*C-w*(c[1]-f[1]),k=(l[0]-f[0])*C-w*(l[1]-f[1]);return A>0&&k<0||A<0&&k>0}function Ag(c,l,f){for(const V of f)for(let W=0;W<V.length-1;++W)if((k=[(A=V[W+1])[0]-(C=V[W])[0],A[1]-C[1]])[0]*(R=[(w=l)[0]-(y=c)[0],w[1]-y[1]])[1]-k[1]*R[0]!=0&&Eg(y,w,C,A)&&Eg(C,A,y,w))return!0;var y,w,C,A,k,R;return!1}function ep(c,l){for(let f=0;f<c.length;++f)if(!Jd(c[f],l))return!1;for(let f=0;f<c.length-1;++f)if(Ag(c[f],c[f+1],l))return!1;return!0}function Hb(c,l){for(let f=0;f<l.length;f++)if(ep(c,l[f]))return!0;return!1}function Fh(c,l,f){const y=[];for(let w=0;w<c.length;w++){const C=[];for(let A=0;A<c[w].length;A++){const k=Xu(c[w][A],f);xi(l,k),C.push(k)}y.push(C)}return y}function tp(c,l,f){const y=[];for(let w=0;w<c.length;w++){const C=Fh(c[w],l,f);y.push(C)}return y}function Pg(c,l,f,y){if(c[0]<f[0]||c[0]>f[2]){const w=.5*y;let C=c[0]-f[0]>w?-y:f[0]-c[0]>w?y:0;C===0&&(C=c[0]-f[2]>w?-y:f[2]-c[0]>w?y:0),c[0]+=C}xi(l,c)}function Ig(c,l,f,y){const w=Math.pow(2,y.z)*_n,C=[y.x*_n,y.y*_n],A=[];for(const k of c)for(const R of k){const V=[R.x+C[0],R.y+C[1]];Pg(V,l,f,w),A.push(V)}return A}function Mg(c,l,f,y){const w=Math.pow(2,y.z)*_n,C=[y.x*_n,y.y*_n],A=[];for(const R of c){const V=[];for(const W of R){const X=[W.x+C[0],W.y+C[1]];xi(l,X),V.push(X)}A.push(V)}if(l[2]-l[0]<=w/2){(k=l)[0]=k[1]=1/0,k[2]=k[3]=-1/0;for(const R of A)for(const V of R)Pg(V,l,f,w)}var k;return A}class Gs{constructor(l,f){this.type=ir,this.geojson=l,this.geometries=f}static parse(l,f){if(l.length!==2)return f.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(lt(l[1])){const y=l[1];if(y.type==="FeatureCollection")for(let w=0;w<y.features.length;++w){const C=y.features[w].geometry.type;if(C==="Polygon"||C==="MultiPolygon")return new Gs(y,y.features[w].geometry)}else if(y.type==="Feature"){const w=y.geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new Gs(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new Gs(y,y)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return function(f,y){const w=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],A=f.canonicalID();if(y.type==="Polygon"){const k=Fh(y.coordinates,C,A),R=Ig(f.geometry(),w,C,A);if(!ql(w,C))return!1;for(const V of R)if(!Jd(V,k))return!1}if(y.type==="MultiPolygon"){const k=tp(y.coordinates,C,A),R=Ig(f.geometry(),w,C,A);if(!ql(w,C))return!1;for(const V of R)if(!Qd(V,k))return!1}return!0}(l,this.geometries);if(l.geometryType()==="LineString")return function(f,y){const w=[1/0,1/0,-1/0,-1/0],C=[1/0,1/0,-1/0,-1/0],A=f.canonicalID();if(y.type==="Polygon"){const k=Fh(y.coordinates,C,A),R=Mg(f.geometry(),w,C,A);if(!ql(w,C))return!1;for(const V of R)if(!ep(V,k))return!1}if(y.type==="MultiPolygon"){const k=tp(y.coordinates,C,A),R=Mg(f.geometry(),w,C,A);if(!ql(w,C))return!1;for(const V of R)if(!Hb(V,k))return!1}return!0}(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function Zu(c){if(c instanceof tn&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Gs)return!1;let l=!0;return c.eachChild(f=>{l&&!Zu(f)&&(l=!1)}),l}function Xl(c){if(c instanceof tn&&c.name==="feature-state")return!1;let l=!0;return c.eachChild(f=>{l&&!Xl(f)&&(l=!1)}),l}function Nh(c,l){if(c instanceof tn&&l.indexOf(c.name)>=0)return!1;let f=!0;return c.eachChild(y=>{f&&!Nh(y,l)&&(f=!1)}),f}class Vh{constructor(l,f){this.type=f.type,this.name=l,this.boundExpression=f}static parse(l,f){if(l.length!==2||typeof l[1]!="string")return f.error("'var' expression requires exactly one string literal argument.");const y=l[1];return f.scope.has(y)?new Vh(y,f.scope.get(y)):f.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Zl{constructor(l,f=[],y,w=new Hr,C=[]){this.registry=l,this.path=f,this.key=f.map(A=>`[${A}]`).join(""),this.scope=w,this.errors=C,this.expectedType=y}parse(l,f,y,w,C={}){return f?this.concat(f,y,w)._parse(l,C):this._parse(l,C)}_parse(l,f){function y(w,C,A){return A==="assert"?new or(C,[w]):A==="coerce"?new cr(C,[w]):w}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=l[0];if(typeof w!="string")return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const C=this.registry[w];if(C){let A=C.parse(l,this);if(!A)return null;if(this.expectedType){const k=this.expectedType,R=A.type;if(k.kind!=="string"&&k.kind!=="number"&&k.kind!=="boolean"&&k.kind!=="object"&&k.kind!=="array"||R.kind!=="value")if(k.kind!=="color"&&k.kind!=="formatted"&&k.kind!=="resolvedImage"||R.kind!=="value"&&R.kind!=="string")if(k.kind!=="padding"||R.kind!=="value"&&R.kind!=="number"&&R.kind!=="array"){if(this.checkSubtype(k,R))return null}else A=y(A,k,f.typeAnnotation||"coerce");else A=y(A,k,f.typeAnnotation||"coerce");else A=y(A,k,f.typeAnnotation||"assert")}if(!(A instanceof Ht)&&A.type.kind!=="resolvedImage"&&rp(A)){const k=new Or;try{A=new Ht(A.type,A.evaluate(k))}catch(R){return this.error(R.message),null}}return A}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,f,y){const w=typeof l=="number"?this.path.concat(l):this.path,C=y?this.scope.concat(y):this.scope;return new Zl(this.registry,w,f||null,C,this.errors)}error(l,...f){const y=`${this.key}${f.map(w=>`[${w}]`).join("")}`;this.errors.push(new Kn(y,l))}checkSubtype(l,f){const y=ta(l,f);return y&&this.error(y),y}}function rp(c){if(c instanceof Vh)return rp(c.boundExpression);if(c instanceof tn&&c.name==="error"||c instanceof oi||c instanceof Gs)return!1;const l=c instanceof cr||c instanceof or;let f=!0;return c.eachChild(y=>{f=l?f&&rp(y):f&&y instanceof Ht}),!!f&&Zu(c)&&Nh(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Uh(c,l){const f=c.length-1;let y,w,C=0,A=f,k=0;for(;C<=A;)if(k=Math.floor((C+A)/2),y=c[k],w=c[k+1],y<=l){if(k===f||l<w)return k;C=k+1}else{if(!(y>l))throw new It("Input is not a number.");A=k-1}return 0}class Ku{constructor(l,f,y){this.type=l,this.input=f,this.labels=[],this.outputs=[];for(const[w,C]of y)this.labels.push(w),this.outputs.push(C)}static parse(l,f){if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");const y=f.parse(l[1],1,gt);if(!y)return null;const w=[];let C=null;f.expectedType&&f.expectedType.kind!=="value"&&(C=f.expectedType);for(let A=1;A<l.length;A+=2){const k=A===1?-1/0:l[A],R=l[A+1],V=A,W=A+1;if(typeof k!="number")return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(w.length&&w[w.length-1][0]>=k)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',V);const X=f.parse(R,W,C);if(!X)return null;C=C||X.type,w.push([k,X])}return new Ku(C,y,w)}evaluate(l){const f=this.labels,y=this.outputs;if(f.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=f[0])return y[0].evaluate(l);const C=f.length;return w>=f[C-1]?y[C-1].evaluate(l):y[Uh(f,w)].evaluate(l)}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function bn(c,l,f){return c*(1-f)+l*f}var Yu=Object.freeze({__proto__:null,number:bn,color:function(c,l,f){return new se(bn(c.r,l.r,f),bn(c.g,l.g,f),bn(c.b,l.b,f),bn(c.a,l.a,f))},array:function(c,l,f){return c.map((y,w)=>bn(y,l[w],f))},padding:function(c,l,f){const y=c.values,w=l.values;return new Te([bn(y[0],w[0],f),bn(y[1],w[1],f),bn(y[2],w[2],f),bn(y[3],w[3],f)])}});const Dg=.95047,Lg=1.08883,np=4/29,Hh=6/29,Og=3*Hh*Hh,jb=Math.PI/180,Gb=180/Math.PI;function ip(c){return c>.008856451679035631?Math.pow(c,1/3):c/Og+np}function op(c){return c>Hh?c*c*c:Og*(c-np)}function ap(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function sp(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Vr(c){const l=sp(c.r),f=sp(c.g),y=sp(c.b),w=ip((.4124564*l+.3575761*f+.1804375*y)/Dg),C=ip((.2126729*l+.7151522*f+.072175*y)/1);return{l:116*C-16,a:500*(w-C),b:200*(C-ip((.0193339*l+.119192*f+.9503041*y)/Lg)),alpha:c.a}}function kg(c){let l=(c.l+16)/116,f=isNaN(c.a)?l:l+c.a/500,y=isNaN(c.b)?l:l-c.b/200;return l=1*op(l),f=Dg*op(f),y=Lg*op(y),new se(ap(3.2404542*f-1.5371385*l-.4985314*y),ap(-.969266*f+1.8760108*l+.041556*y),ap(.0556434*f-.2040259*l+1.0572252*y),c.alpha)}function Wb(c,l,f){const y=l-c;return c+f*(y>180||y<-180?y-360*Math.round(y/360):y)}const Ju={forward:Vr,reverse:kg,interpolate:function(c,l,f){return{l:bn(c.l,l.l,f),a:bn(c.a,l.a,f),b:bn(c.b,l.b,f),alpha:bn(c.alpha,l.alpha,f)}}},Qu={forward:function(c){const{l,a:f,b:y}=Vr(c),w=Math.atan2(y,f)*Gb;return{h:w<0?w+360:w,c:Math.sqrt(f*f+y*y),l,alpha:c.a}},reverse:function(c){const l=c.h*jb,f=c.c;return kg({l:c.l,a:Math.cos(l)*f,b:Math.sin(l)*f,alpha:c.alpha})},interpolate:function(c,l,f){return{h:Wb(c.h,l.h,f),c:bn(c.c,l.c,f),l:bn(c.l,l.l,f),alpha:bn(c.alpha,l.alpha,f)}}};var Rg=Object.freeze({__proto__:null,lab:Ju,hcl:Qu});class no{constructor(l,f,y,w,C){this.type=l,this.operator=f,this.interpolation=y,this.input=w,this.labels=[],this.outputs=[];for(const[A,k]of C)this.labels.push(A),this.outputs.push(k)}static interpolationFactor(l,f,y,w){let C=0;if(l.name==="exponential")C=lp(f,l.base,y,w);else if(l.name==="linear")C=lp(f,1,y,w);else if(l.name==="cubic-bezier"){const A=l.controlPoints;C=new h(A[0],A[1],A[2],A[3]).solve(lp(f,1,y,w))}return C}static parse(l,f){let[y,w,C,...A]=l;if(!Array.isArray(w)||w.length===0)return f.error("Expected an interpolation type expression.",1);if(w[0]==="linear")w={name:"linear"};else if(w[0]==="exponential"){const V=w[1];if(typeof V!="number")return f.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:V}}else{if(w[0]!=="cubic-bezier")return f.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const V=w.slice(1);if(V.length!==4||V.some(W=>typeof W!="number"||W<0||W>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:V}}}if(l.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(C=f.parse(C,2,gt),!C)return null;const k=[];let R=null;y==="interpolate-hcl"||y==="interpolate-lab"?R=Yn:f.expectedType&&f.expectedType.kind!=="value"&&(R=f.expectedType);for(let V=0;V<A.length;V+=2){const W=A[V],X=A[V+1],Q=V+3,te=V+4;if(typeof W!="number")return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Q);if(k.length&&k[k.length-1][0]>=W)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Q);const re=f.parse(X,te,R);if(!re)return null;R=R||re.type,k.push([W,re])}return R.kind==="number"||R.kind==="color"||R.kind==="padding"||R.kind==="array"&&R.itemType.kind==="number"&&typeof R.N=="number"?new no(R,y,w,C,k):f.error(`Type ${Yr(R)} is not interpolatable.`)}evaluate(l){const f=this.labels,y=this.outputs;if(f.length===1)return y[0].evaluate(l);const w=this.input.evaluate(l);if(w<=f[0])return y[0].evaluate(l);const C=f.length;if(w>=f[C-1])return y[C-1].evaluate(l);const A=Uh(f,w),k=no.interpolationFactor(this.interpolation,w,f[A],f[A+1]),R=y[A].evaluate(l),V=y[A+1].evaluate(l);return this.operator==="interpolate"?Yu[this.type.kind.toLowerCase()](R,V,k):this.operator==="interpolate-hcl"?Qu.reverse(Qu.interpolate(Qu.forward(R),Qu.forward(V),k)):Ju.reverse(Ju.interpolate(Ju.forward(R),Ju.forward(V),k))}eachChild(l){l(this.input);for(const f of this.outputs)l(f)}outputDefined(){return this.outputs.every(l=>l.outputDefined())}}function lp(c,l,f,y){const w=y-f,C=c-f;return w===0?0:l===1?C/w:(Math.pow(l,C)-1)/(Math.pow(l,w)-1)}class jh{constructor(l,f){this.type=l,this.args=f}static parse(l,f){if(l.length<2)return f.error("Expectected at least one argument.");let y=null;const w=f.expectedType;w&&w.kind!=="value"&&(y=w);const C=[];for(const k of l.slice(1)){const R=f.parse(k,1+C.length,y,void 0,{typeAnnotation:"omit"});if(!R)return null;y=y||R.type,C.push(R)}if(!y)throw new Error("No output type");const A=w&&C.some(k=>ta(w,k.type));return new jh(A?hr:y,C)}evaluate(l){let f,y=null,w=0;for(const C of this.args)if(w++,y=C.evaluate(l),y&&y instanceof Ie&&!y.available&&(f||(f=y.name),y=null,w===this.args.length&&(y=f)),y!==null)break;return y}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every(l=>l.outputDefined())}}class Gh{constructor(l,f){this.type=f.type,this.bindings=[].concat(l),this.result=f}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const f of this.bindings)l(f[1]);l(this.result)}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const y=[];for(let C=1;C<l.length-1;C+=2){const A=l[C];if(typeof A!="string")return f.error(`Expected string, but found ${typeof A} instead.`,C);if(/[^a-zA-Z0-9_]/.test(A))return f.error("Variable names must contain only alphanumeric characters or '_'.",C);const k=f.parse(l[C+1],C+1);if(!k)return null;y.push([A,k])}const w=f.parse(l[l.length-1],l.length-1,f.expectedType,y);return w?new Gh(y,w):null}outputDefined(){return this.result.outputDefined()}}class up{constructor(l,f,y){this.type=l,this.index=f,this.input=y}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=f.parse(l[1],1,gt),w=f.parse(l[2],2,Ii(f.expectedType||hr));return y&&w?new up(w.type.itemType,y,w):null}evaluate(l){const f=this.index.evaluate(l),y=this.input.evaluate(l);if(f<0)throw new It(`Array index out of bounds: ${f} < 0.`);if(f>=y.length)throw new It(`Array index out of bounds: ${f} > ${y.length-1}.`);if(f!==Math.floor(f))throw new It(`Array index must be an integer, but found ${f} instead.`);return y[f]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class cp{constructor(l,f){this.type=ir,this.needle=l,this.haystack=f}static parse(l,f){if(l.length!==3)return f.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const y=f.parse(l[1],1,hr),w=f.parse(l[2],2,hr);return y&&w?Us(y.type,[ir,gr,gt,Rn,hr])?new cp(y,w):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yr(y.type)} instead`):null}evaluate(l){const f=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!y)return!1;if(!Hs(f,["boolean","string","number","null"]))throw new It(`Expected first argument to be of type boolean, string, number or null, but found ${Yr(Xe(f))} instead.`);if(!Hs(y,["string","array"]))throw new It(`Expected second argument to be of type array or string, but found ${Yr(Xe(y))} instead.`);return y.indexOf(f)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class Wh{constructor(l,f,y){this.type=gt,this.needle=l,this.haystack=f,this.fromIndex=y}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=f.parse(l[1],1,hr),w=f.parse(l[2],2,hr);if(!y||!w)return null;if(!Us(y.type,[ir,gr,gt,Rn,hr]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${Yr(y.type)} instead`);if(l.length===4){const C=f.parse(l[3],3,gt);return C?new Wh(y,w,C):null}return new Wh(y,w)}evaluate(l){const f=this.needle.evaluate(l),y=this.haystack.evaluate(l);if(!Hs(f,["boolean","string","number","null"]))throw new It(`Expected first argument to be of type boolean, string, number or null, but found ${Yr(Xe(f))} instead.`);if(!Hs(y,["string","array"]))throw new It(`Expected second argument to be of type array or string, but found ${Yr(Xe(y))} instead.`);if(this.fromIndex){const w=this.fromIndex.evaluate(l);return y.indexOf(f,w)}return y.indexOf(f)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class hp{constructor(l,f,y,w,C,A){this.inputType=l,this.type=f,this.input=y,this.cases=w,this.outputs=C,this.otherwise=A}static parse(l,f){if(l.length<5)return f.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return f.error("Expected an even number of arguments.");let y,w;f.expectedType&&f.expectedType.kind!=="value"&&(w=f.expectedType);const C={},A=[];for(let V=2;V<l.length-1;V+=2){let W=l[V];const X=l[V+1];Array.isArray(W)||(W=[W]);const Q=f.concat(V);if(W.length===0)return Q.error("Expected at least one branch label.");for(const re of W){if(typeof re!="number"&&typeof re!="string")return Q.error("Branch labels must be numbers or strings.");if(typeof re=="number"&&Math.abs(re)>Number.MAX_SAFE_INTEGER)return Q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof re=="number"&&Math.floor(re)!==re)return Q.error("Numeric branch labels must be integer values.");if(y){if(Q.checkSubtype(y,Xe(re)))return null}else y=Xe(re);if(C[String(re)]!==void 0)return Q.error("Branch labels must be unique.");C[String(re)]=A.length}const te=f.parse(X,V,w);if(!te)return null;w=w||te.type,A.push(te)}const k=f.parse(l[1],1,hr);if(!k)return null;const R=f.parse(l[l.length-1],l.length-1,w);return R?k.type.kind!=="value"&&f.concat(1).checkSubtype(y,k.type)?null:new hp(y,w,k,C,A,R):null}evaluate(l){const f=this.input.evaluate(l);return(Xe(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every(l=>l.outputDefined())&&this.otherwise.outputDefined()}}class fp{constructor(l,f,y){this.type=l,this.branches=f,this.otherwise=y}static parse(l,f){if(l.length<4)return f.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return f.error("Expected an odd number of arguments.");let y;f.expectedType&&f.expectedType.kind!=="value"&&(y=f.expectedType);const w=[];for(let A=1;A<l.length-1;A+=2){const k=f.parse(l[A],A,ir);if(!k)return null;const R=f.parse(l[A+1],A+1,y);if(!R)return null;w.push([k,R]),y=y||R.type}const C=f.parse(l[l.length-1],l.length-1,y);if(!C)return null;if(!y)throw new Error("Can't infer output type");return new fp(y,w,C)}evaluate(l){for(const[f,y]of this.branches)if(f.evaluate(l))return y.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[f,y]of this.branches)l(f),l(y);l(this.otherwise)}outputDefined(){return this.branches.every(([l,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class qh{constructor(l,f,y,w){this.type=l,this.input=f,this.beginIndex=y,this.endIndex=w}static parse(l,f){if(l.length<=2||l.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${l.length-1} instead.`);const y=f.parse(l[1],1,hr),w=f.parse(l[2],2,gt);if(!y||!w)return null;if(!Us(y.type,[Ii(hr),gr,hr]))return f.error(`Expected first argument to be of type array or string, but found ${Yr(y.type)} instead`);if(l.length===4){const C=f.parse(l[3],3,gt);return C?new qh(y.type,y,w,C):null}return new qh(y.type,y,w)}evaluate(l){const f=this.input.evaluate(l),y=this.beginIndex.evaluate(l);if(!Hs(f,["string","array"]))throw new It(`Expected first argument to be of type array or string, but found ${Yr(Xe(f))} instead.`);if(this.endIndex){const w=this.endIndex.evaluate(l);return f.slice(y,w)}return f.slice(y)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function zg(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function $g(c,l,f,y){return y.compare(l,f)===0}function Kl(c,l,f){const y=c!=="=="&&c!=="!=";return class f9{constructor(C,A,k){this.type=ir,this.lhs=C,this.rhs=A,this.collator=k,this.hasUntypedArgument=C.type.kind==="value"||A.type.kind==="value"}static parse(C,A){if(C.length!==3&&C.length!==4)return A.error("Expected two or three arguments.");const k=C[0];let R=A.parse(C[1],1,hr);if(!R)return null;if(!zg(k,R.type))return A.concat(1).error(`"${k}" comparisons are not supported for type '${Yr(R.type)}'.`);let V=A.parse(C[2],2,hr);if(!V)return null;if(!zg(k,V.type))return A.concat(2).error(`"${k}" comparisons are not supported for type '${Yr(V.type)}'.`);if(R.type.kind!==V.type.kind&&R.type.kind!=="value"&&V.type.kind!=="value")return A.error(`Cannot compare types '${Yr(R.type)}' and '${Yr(V.type)}'.`);y&&(R.type.kind==="value"&&V.type.kind!=="value"?R=new or(V.type,[R]):R.type.kind!=="value"&&V.type.kind==="value"&&(V=new or(R.type,[V])));let W=null;if(C.length===4){if(R.type.kind!=="string"&&V.type.kind!=="string"&&R.type.kind!=="value"&&V.type.kind!=="value")return A.error("Cannot use collator to compare non-string types.");if(W=A.parse(C[3],3,Da),!W)return null}return new f9(R,V,W)}evaluate(C){const A=this.lhs.evaluate(C),k=this.rhs.evaluate(C);if(y&&this.hasUntypedArgument){const R=Xe(A),V=Xe(k);if(R.kind!==V.kind||R.kind!=="string"&&R.kind!=="number")throw new It(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${R.kind}, ${V.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const R=Xe(A),V=Xe(k);if(R.kind!=="string"||V.kind!=="string")return l(C,A,k)}return this.collator?f(C,A,k,this.collator.evaluate(C)):l(C,A,k)}eachChild(C){C(this.lhs),C(this.rhs),this.collator&&C(this.collator)}outputDefined(){return!0}}}const qb=Kl("==",function(c,l,f){return l===f},$g),Xb=Kl("!=",function(c,l,f){return l!==f},function(c,l,f,y){return!$g(0,l,f,y)}),Zb=Kl("<",function(c,l,f){return l<f},function(c,l,f,y){return y.compare(l,f)<0}),Kb=Kl(">",function(c,l,f){return l>f},function(c,l,f,y){return y.compare(l,f)>0}),Yb=Kl("<=",function(c,l,f){return l<=f},function(c,l,f,y){return y.compare(l,f)<=0}),Jb=Kl(">=",function(c,l,f){return l>=f},function(c,l,f,y){return y.compare(l,f)>=0});class dp{constructor(l,f,y,w,C){this.type=gr,this.number=l,this.locale=f,this.currency=y,this.minFractionDigits=w,this.maxFractionDigits=C}static parse(l,f){if(l.length!==3)return f.error("Expected two arguments.");const y=f.parse(l[1],1,gt);if(!y)return null;const w=l[2];if(typeof w!="object"||Array.isArray(w))return f.error("NumberFormat options argument must be an object.");let C=null;if(w.locale&&(C=f.parse(w.locale,1,gr),!C))return null;let A=null;if(w.currency&&(A=f.parse(w.currency,1,gr),!A))return null;let k=null;if(w["min-fraction-digits"]&&(k=f.parse(w["min-fraction-digits"],1,gt),!k))return null;let R=null;return w["max-fraction-digits"]&&(R=f.parse(w["max-fraction-digits"],1,gt),!R)?null:new dp(y,C,A,k,R)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class Xh{constructor(l){this.type=ii,this.sections=l}static parse(l,f){if(l.length<2)return f.error("Expected at least one argument.");const y=l[1];if(!Array.isArray(y)&&typeof y=="object")return f.error("First argument must be an image or text section.");const w=[];let C=!1;for(let A=1;A<=l.length-1;++A){const k=l[A];if(C&&typeof k=="object"&&!Array.isArray(k)){C=!1;let R=null;if(k["font-scale"]&&(R=f.parse(k["font-scale"],1,gt),!R))return null;let V=null;if(k["text-font"]&&(V=f.parse(k["text-font"],1,Ii(gr)),!V))return null;let W=null;if(k["text-color"]&&(W=f.parse(k["text-color"],1,Yn),!W))return null;const X=w[w.length-1];X.scale=R,X.font=V,X.textColor=W}else{const R=f.parse(l[A],1,hr);if(!R)return null;const V=R.type.kind;if(V!=="string"&&V!=="value"&&V!=="null"&&V!=="resolvedImage")return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");C=!0,w.push({content:R,scale:null,font:null,textColor:null})}}return new Xh(w)}evaluate(l){return new Ce(this.sections.map(f=>{const y=f.content.evaluate(l);return Xe(y)===jn?new Pe("",y,null,null,null):new Pe(Nt(y),null,f.scale?f.scale.evaluate(l):null,f.font?f.font.evaluate(l).join(","):null,f.textColor?f.textColor.evaluate(l):null)}))}eachChild(l){for(const f of this.sections)l(f.content),f.scale&&l(f.scale),f.font&&l(f.font),f.textColor&&l(f.textColor)}outputDefined(){return!1}}class pp{constructor(l){this.type=jn,this.input=l}static parse(l,f){if(l.length!==2)return f.error("Expected two arguments.");const y=f.parse(l[1],1,gr);return y?new pp(y):f.error("No image name provided.")}evaluate(l){const f=this.input.evaluate(l),y=Ie.fromString(f);return y&&l.availableImages&&(y.available=l.availableImages.indexOf(f)>-1),y}eachChild(l){l(this.input)}outputDefined(){return!1}}class mp{constructor(l){this.type=gt,this.input=l}static parse(l,f){if(l.length!==2)return f.error(`Expected 1 argument, but found ${l.length-1} instead.`);const y=f.parse(l[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?f.error(`Expected argument of type string or array, but found ${Yr(y.type)} instead.`):new mp(y):null}evaluate(l){const f=this.input.evaluate(l);if(typeof f=="string"||Array.isArray(f))return f.length;throw new It(`Expected value to be of type string or array, but found ${Yr(Xe(f))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Yl={"==":qb,"!=":Xb,">":Kb,"<":Zb,">=":Jb,"<=":Yb,array:or,at:up,boolean:or,case:fp,coalesce:jh,collator:oi,format:Xh,image:pp,in:cp,"index-of":Wh,interpolate:no,"interpolate-hcl":no,"interpolate-lab":no,length:mp,let:Gh,literal:Ht,match:hp,number:or,"number-format":dp,object:or,slice:qh,step:Ku,string:or,"to-boolean":cr,"to-color":cr,"to-number":cr,"to-string":cr,var:Vh,within:Gs};function Bg(c,[l,f,y,w]){l=l.evaluate(c),f=f.evaluate(c),y=y.evaluate(c);const C=w?w.evaluate(c):1,A=Ze(l,f,y,C);if(A)throw new It(A);return new se(l/255*C,f/255*C,y/255*C,C)}function Fg(c,l){return c in l}function Zh(c,l){const f=l[c];return f===void 0?null:f}function Ws(c){return{type:c}}function Ng(c){return{result:"success",value:c}}function Jl(c){return{result:"error",value:c}}function fn(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function Vg(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function Pr(c){return!!c.expression&&c.expression.interpolated}function Ur(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function sn(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function xn(c){return c}function ec(c,l){const f=l.type==="color",y=c.stops&&typeof c.stops[0][0]=="object",w=y||!(y||c.property!==void 0),C=c.type||(Pr(l)?"exponential":"interval");if(f||l.type==="padding"){const V=f?se.parse:Te.parse;(c=yn({},c)).stops&&(c.stops=c.stops.map(W=>[W[0],V(W[1])])),c.default=V(c.default?c.default:l.default)}if(c.colorSpace&&c.colorSpace!=="rgb"&&!Rg[c.colorSpace])throw new Error(`Unknown color space: ${c.colorSpace}`);let A,k,R;if(C==="exponential")A=Ug;else if(C==="interval")A=ex;else if(C==="categorical"){A=Qb,k=Object.create(null);for(const V of c.stops)k[V[0]]=V[1];R=typeof c.stops[0][0]}else{if(C!=="identity")throw new Error(`Unknown function type "${C}"`);A=tx}if(y){const V={},W=[];for(let te=0;te<c.stops.length;te++){const re=c.stops[te],we=re[0].zoom;V[we]===void 0&&(V[we]={zoom:we,type:c.type,property:c.property,default:c.default,stops:[]},W.push(we)),V[we].stops.push([re[0].value,re[1]])}const X=[];for(const te of W)X.push([V[te].zoom,ec(V[te],l)]);const Q={name:"linear"};return{kind:"composite",interpolationType:Q,interpolationFactor:no.interpolationFactor.bind(void 0,Q),zoomStops:X.map(te=>te[0]),evaluate:({zoom:te},re)=>Ug({stops:X,base:c.base},l,te).evaluate(te,re)}}if(w){const V=C==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:no.interpolationFactor.bind(void 0,V),zoomStops:c.stops.map(W=>W[0]),evaluate:({zoom:W})=>A(c,l,W,k,R)}}return{kind:"source",evaluate(V,W){const X=W&&W.properties?W.properties[c.property]:void 0;return X===void 0?Ql(c.default,l.default):A(c,l,X,k,R)}}}function Ql(c,l,f){return c!==void 0?c:l!==void 0?l:f!==void 0?f:void 0}function Qb(c,l,f,y,w){return Ql(typeof f===w?y[f]:void 0,c.default,l.default)}function ex(c,l,f){if(Ur(f)!=="number")return Ql(c.default,l.default);const y=c.stops.length;if(y===1||f<=c.stops[0][0])return c.stops[0][1];if(f>=c.stops[y-1][0])return c.stops[y-1][1];const w=Uh(c.stops.map(C=>C[0]),f);return c.stops[w][1]}function Ug(c,l,f){const y=c.base!==void 0?c.base:1;if(Ur(f)!=="number")return Ql(c.default,l.default);const w=c.stops.length;if(w===1||f<=c.stops[0][0])return c.stops[0][1];if(f>=c.stops[w-1][0])return c.stops[w-1][1];const C=Uh(c.stops.map(W=>W[0]),f),A=function(W,X,Q,te){const re=te-Q,we=W-Q;return re===0?0:X===1?we/re:(Math.pow(X,we)-1)/(Math.pow(X,re)-1)}(f,y,c.stops[C][0],c.stops[C+1][0]),k=c.stops[C][1],R=c.stops[C+1][1];let V=Yu[l.type]||xn;if(c.colorSpace&&c.colorSpace!=="rgb"){const W=Rg[c.colorSpace];V=(X,Q)=>W.reverse(W.interpolate(W.forward(X),W.forward(Q),A))}return typeof k.evaluate=="function"?{evaluate(...W){const X=k.evaluate.apply(void 0,W),Q=R.evaluate.apply(void 0,W);if(X!==void 0&&Q!==void 0)return V(X,Q,A)}}:V(k,R,A)}function tx(c,l,f){switch(l.type){case"color":f=se.parse(f);break;case"formatted":f=Ce.fromString(f.toString());break;case"resolvedImage":f=Ie.fromString(f.toString());break;case"padding":f=Te.parse(f);break;default:Ur(f)===l.type||l.type==="enum"&&l.values[f]||(f=void 0)}return Ql(f,c.default,l.default)}tn.register(Yl,{error:[{kind:"error"},[gr],(c,[l])=>{throw new It(l.evaluate(c))}],typeof:[gr,[hr],(c,[l])=>Yr(Xe(l.evaluate(c)))],"to-rgba":[Ii(gt,4),[Yn],(c,[l])=>l.evaluate(c).toArray()],rgb:[Yn,[gt,gt,gt],Bg],rgba:[Yn,[gt,gt,gt,gt],Bg],has:{type:ir,overloads:[[[gr],(c,[l])=>Fg(l.evaluate(c),c.properties())],[[gr,ls],(c,[l,f])=>Fg(l.evaluate(c),f.evaluate(c))]]},get:{type:hr,overloads:[[[gr],(c,[l])=>Zh(l.evaluate(c),c.properties())],[[gr,ls],(c,[l,f])=>Zh(l.evaluate(c),f.evaluate(c))]]},"feature-state":[hr,[gr],(c,[l])=>Zh(l.evaluate(c),c.featureState||{})],properties:[ls,[],c=>c.properties()],"geometry-type":[gr,[],c=>c.geometryType()],id:[hr,[],c=>c.id()],zoom:[gt,[],c=>c.globals.zoom],"heatmap-density":[gt,[],c=>c.globals.heatmapDensity||0],"line-progress":[gt,[],c=>c.globals.lineProgress||0],accumulated:[hr,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[gt,Ws(gt),(c,l)=>{let f=0;for(const y of l)f+=y.evaluate(c);return f}],"*":[gt,Ws(gt),(c,l)=>{let f=1;for(const y of l)f*=y.evaluate(c);return f}],"-":{type:gt,overloads:[[[gt,gt],(c,[l,f])=>l.evaluate(c)-f.evaluate(c)],[[gt],(c,[l])=>-l.evaluate(c)]]},"/":[gt,[gt,gt],(c,[l,f])=>l.evaluate(c)/f.evaluate(c)],"%":[gt,[gt,gt],(c,[l,f])=>l.evaluate(c)%f.evaluate(c)],ln2:[gt,[],()=>Math.LN2],pi:[gt,[],()=>Math.PI],e:[gt,[],()=>Math.E],"^":[gt,[gt,gt],(c,[l,f])=>Math.pow(l.evaluate(c),f.evaluate(c))],sqrt:[gt,[gt],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[gt,[gt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[gt,[gt],(c,[l])=>Math.log(l.evaluate(c))],log2:[gt,[gt],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[gt,[gt],(c,[l])=>Math.sin(l.evaluate(c))],cos:[gt,[gt],(c,[l])=>Math.cos(l.evaluate(c))],tan:[gt,[gt],(c,[l])=>Math.tan(l.evaluate(c))],asin:[gt,[gt],(c,[l])=>Math.asin(l.evaluate(c))],acos:[gt,[gt],(c,[l])=>Math.acos(l.evaluate(c))],atan:[gt,[gt],(c,[l])=>Math.atan(l.evaluate(c))],min:[gt,Ws(gt),(c,l)=>Math.min(...l.map(f=>f.evaluate(c)))],max:[gt,Ws(gt),(c,l)=>Math.max(...l.map(f=>f.evaluate(c)))],abs:[gt,[gt],(c,[l])=>Math.abs(l.evaluate(c))],round:[gt,[gt],(c,[l])=>{const f=l.evaluate(c);return f<0?-Math.round(-f):Math.round(f)}],floor:[gt,[gt],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[gt,[gt],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[ir,[gr,hr],(c,[l,f])=>c.properties()[l.value]===f.value],"filter-id-==":[ir,[hr],(c,[l])=>c.id()===l.value],"filter-type-==":[ir,[gr],(c,[l])=>c.geometryType()===l.value],"filter-<":[ir,[gr,hr],(c,[l,f])=>{const y=c.properties()[l.value],w=f.value;return typeof y==typeof w&&y<w}],"filter-id-<":[ir,[hr],(c,[l])=>{const f=c.id(),y=l.value;return typeof f==typeof y&&f<y}],"filter->":[ir,[gr,hr],(c,[l,f])=>{const y=c.properties()[l.value],w=f.value;return typeof y==typeof w&&y>w}],"filter-id->":[ir,[hr],(c,[l])=>{const f=c.id(),y=l.value;return typeof f==typeof y&&f>y}],"filter-<=":[ir,[gr,hr],(c,[l,f])=>{const y=c.properties()[l.value],w=f.value;return typeof y==typeof w&&y<=w}],"filter-id-<=":[ir,[hr],(c,[l])=>{const f=c.id(),y=l.value;return typeof f==typeof y&&f<=y}],"filter->=":[ir,[gr,hr],(c,[l,f])=>{const y=c.properties()[l.value],w=f.value;return typeof y==typeof w&&y>=w}],"filter-id->=":[ir,[hr],(c,[l])=>{const f=c.id(),y=l.value;return typeof f==typeof y&&f>=y}],"filter-has":[ir,[hr],(c,[l])=>l.value in c.properties()],"filter-has-id":[ir,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[ir,[Ii(gr)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[ir,[Ii(hr)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[ir,[gr,Ii(hr)],(c,[l,f])=>f.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[ir,[gr,Ii(hr)],(c,[l,f])=>function(y,w,C,A){for(;C<=A;){const k=C+A>>1;if(w[k]===y)return!0;w[k]>y?A=k-1:C=k+1}return!1}(c.properties()[l.value],f.value,0,f.value.length-1)],all:{type:ir,overloads:[[[ir,ir],(c,[l,f])=>l.evaluate(c)&&f.evaluate(c)],[Ws(ir),(c,l)=>{for(const f of l)if(!f.evaluate(c))return!1;return!0}]]},any:{type:ir,overloads:[[[ir,ir],(c,[l,f])=>l.evaluate(c)||f.evaluate(c)],[Ws(ir),(c,l)=>{for(const f of l)if(f.evaluate(c))return!0;return!1}]]},"!":[ir,[ir],(c,[l])=>!l.evaluate(c)],"is-supported-script":[ir,[gr],(c,[l])=>{const f=c.globals&&c.globals.isSupportedScript;return!f||f(l.evaluate(c))}],upcase:[gr,[gr],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[gr,[gr],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[gr,Ws(hr),(c,l)=>l.map(f=>Nt(f.evaluate(c))).join("")],"resolved-locale":[gr,[Da],(c,[l])=>l.evaluate(c).resolvedLocale()]});class Kh{constructor(l,f){this.expression=l,this._warningHistory={},this._evaluator=new Or,this._defaultValue=f?function(y){return y.type==="color"&&sn(y.default)?new se(0,0,0,0):y.type==="color"?se.parse(y.default)||null:y.type==="padding"?Te.parse(y.default)||null:y.default===void 0?null:y.default}(f):null,this._enumValues=f&&f.type==="enum"?f.values:null}evaluateWithoutErrorHandling(l,f,y,w,C,A){return this._evaluator.globals=l,this._evaluator.feature=f,this._evaluator.featureState=y,this._evaluator.canonical=w,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=A,this.expression.evaluate(this._evaluator)}evaluate(l,f,y,w,C,A){this._evaluator.globals=l,this._evaluator.feature=f||null,this._evaluator.featureState=y||null,this._evaluator.canonical=w,this._evaluator.availableImages=C||null,this._evaluator.formattedSection=A||null;try{const k=this.expression.evaluate(this._evaluator);if(k==null||typeof k=="number"&&k!=k)return this._defaultValue;if(this._enumValues&&!(k in this._enumValues))throw new It(`Expected value to be one of ${Object.keys(this._enumValues).map(R=>JSON.stringify(R)).join(", ")}, but found ${JSON.stringify(k)} instead.`);return k}catch(k){return this._warningHistory[k.message]||(this._warningHistory[k.message]=!0,typeof console<"u"&&console.warn(k.message)),this._defaultValue}}}function tc(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in Yl}function rc(c,l){const f=new Zl(Yl,[],l?function(w){const C={color:Yn,string:gr,number:gt,enum:gr,boolean:ir,formatted:ii,padding:jl,resolvedImage:jn};return w.type==="array"?Ii(C[w.value]||hr,w.length):C[w.type]}(l):void 0),y=f.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Ng(new Kh(y,l)):Jl(f.errors)}class nc{constructor(l,f){this.kind=l,this._styleExpression=f,this.isStateDependent=l!=="constant"&&!Xl(f.expression)}evaluateWithoutErrorHandling(l,f,y,w,C,A){return this._styleExpression.evaluateWithoutErrorHandling(l,f,y,w,C,A)}evaluate(l,f,y,w,C,A){return this._styleExpression.evaluate(l,f,y,w,C,A)}}class vp{constructor(l,f,y,w){this.kind=l,this.zoomStops=y,this._styleExpression=f,this.isStateDependent=l!=="camera"&&!Xl(f.expression),this.interpolationType=w}evaluateWithoutErrorHandling(l,f,y,w,C,A){return this._styleExpression.evaluateWithoutErrorHandling(l,f,y,w,C,A)}evaluate(l,f,y,w,C,A){return this._styleExpression.evaluate(l,f,y,w,C,A)}interpolationFactor(l,f,y){return this.interpolationType?no.interpolationFactor(this.interpolationType,l,f,y):0}}function Hg(c,l){const f=rc(c,l);if(f.result==="error")return f;const y=f.value.expression,w=Zu(y);if(!w&&!fn(l))return Jl([new Kn("","data expressions not supported")]);const C=Nh(y,["zoom"]);if(!C&&!Vg(l))return Jl([new Kn("","zoom expressions not supported")]);const A=Jh(y);return A||C?A instanceof Kn?Jl([A]):A instanceof no&&!Pr(l)?Jl([new Kn("",'"interpolate" expressions cannot be used with this property')]):Ng(A?new vp(w?"camera":"composite",f.value,A.labels,A instanceof no?A.interpolation:void 0):new nc(w?"constant":"source",f.value)):Jl([new Kn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Yh{constructor(l,f){this._parameters=l,this._specification=f,yn(this,ec(this._parameters,this._specification))}static deserialize(l){return new Yh(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Jh(c){let l=null;if(c instanceof Gh)l=Jh(c.result);else if(c instanceof jh){for(const f of c.args)if(l=Jh(f),l)break}else(c instanceof Ku||c instanceof no)&&c.input instanceof tn&&c.input.name==="zoom"&&(l=c);return l instanceof Kn||c.eachChild(f=>{const y=Jh(f);y instanceof Kn?l=y:!l&&y?l=new Kn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&y&&l!==y&&(l=new Kn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),l}function Fo(c){const l=c.key,f=c.value,y=c.valueSpec||{},w=c.objectElementValidators||{},C=c.style,A=c.styleSpec;let k=[];const R=Ur(f);if(R!=="object")return[new at(l,f,`object expected, ${R} found`)];for(const V in f){const W=V.split(".")[0],X=y[W]||y["*"];let Q;if(w[W])Q=w[W];else if(y[W])Q=oo;else if(w["*"])Q=w["*"];else{if(!y["*"]){k.push(new at(l,f[V],`unknown property "${V}"`));continue}Q=oo}k=k.concat(Q({key:(l&&`${l}.`)+V,value:f[V],valueSpec:X,style:C,styleSpec:A,object:f,objectKey:V},f))}for(const V in y)w[V]||y[V].required&&y[V].default===void 0&&f[V]===void 0&&k.push(new at(l,f,`missing required property "${V}"`));return k}function jg(c){const l=c.value,f=c.valueSpec,y=c.style,w=c.styleSpec,C=c.key,A=c.arrayElementValidator||oo;if(Ur(l)!=="array")return[new at(C,l,`array expected, ${Ur(l)} found`)];if(f.length&&l.length!==f.length)return[new at(C,l,`array length ${f.length} expected, length ${l.length} found`)];if(f["min-length"]&&l.length<f["min-length"])return[new at(C,l,`array length at least ${f["min-length"]} expected, length ${l.length} found`)];let k={type:f.value,values:f.values};w.$version<7&&(k.function=f.function),Ur(f.value)==="object"&&(k=f.value);let R=[];for(let V=0;V<l.length;V++)R=R.concat(A({array:l,arrayIndex:V,value:l[V],valueSpec:k,style:y,styleSpec:w,key:`${C}[${V}]`}));return R}function gp(c){const l=c.key,f=c.value,y=c.valueSpec;let w=Ur(f);return w==="number"&&f!=f&&(w="NaN"),w!=="number"?[new at(l,f,`number expected, ${w} found`)]:"minimum"in y&&f<y.minimum?[new at(l,f,`${f} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&f>y.maximum?[new at(l,f,`${f} is greater than the maximum value ${y.maximum}`)]:[]}function Gg(c){const l=c.valueSpec,f=dr(c.value.type);let y,w,C,A={};const k=f!=="categorical"&&c.value.property===void 0,R=!k,V=Ur(c.value.stops)==="array"&&Ur(c.value.stops[0])==="array"&&Ur(c.value.stops[0][0])==="object",W=Fo({key:c.key,value:c.value,valueSpec:c.styleSpec.function,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(te){if(f==="identity")return[new at(te.key,te.value,'identity function may not have a "stops" property')];let re=[];const we=te.value;return re=re.concat(jg({key:te.key,value:we,valueSpec:te.valueSpec,style:te.style,styleSpec:te.styleSpec,arrayElementValidator:X})),Ur(we)==="array"&&we.length===0&&re.push(new at(te.key,we,"array must have at least one stop")),re},default:function(te){return oo({key:te.key,value:te.value,valueSpec:l,style:te.style,styleSpec:te.styleSpec})}}});return f==="identity"&&k&&W.push(new at(c.key,c.value,'missing required property "property"')),f==="identity"||c.value.stops||W.push(new at(c.key,c.value,'missing required property "stops"')),f==="exponential"&&c.valueSpec.expression&&!Pr(c.valueSpec)&&W.push(new at(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(R&&!fn(c.valueSpec)?W.push(new at(c.key,c.value,"property functions not supported")):k&&!Vg(c.valueSpec)&&W.push(new at(c.key,c.value,"zoom functions not supported"))),f!=="categorical"&&!V||c.value.property!==void 0||W.push(new at(c.key,c.value,'"property" property is required')),W;function X(te){let re=[];const we=te.value,xe=te.key;if(Ur(we)!=="array")return[new at(xe,we,`array expected, ${Ur(we)} found`)];if(we.length!==2)return[new at(xe,we,`array length 2 expected, length ${we.length} found`)];if(V){if(Ur(we[0])!=="object")return[new at(xe,we,`object expected, ${Ur(we[0])} found`)];if(we[0].zoom===void 0)return[new at(xe,we,"object stop key must have zoom")];if(we[0].value===void 0)return[new at(xe,we,"object stop key must have value")];if(C&&C>dr(we[0].zoom))return[new at(xe,we[0].zoom,"stop zoom values must appear in ascending order")];dr(we[0].zoom)!==C&&(C=dr(we[0].zoom),w=void 0,A={}),re=re.concat(Fo({key:`${xe}[0]`,value:we[0],valueSpec:{zoom:{}},style:te.style,styleSpec:te.styleSpec,objectElementValidators:{zoom:gp,value:Q}}))}else re=re.concat(Q({key:`${xe}[0]`,value:we[0],valueSpec:{},style:te.style,styleSpec:te.styleSpec},we));return tc(an(we[1]))?re.concat([new at(`${xe}[1]`,we[1],"expressions are not allowed in function stops.")]):re.concat(oo({key:`${xe}[1]`,value:we[1],valueSpec:l,style:te.style,styleSpec:te.styleSpec}))}function Q(te,re){const we=Ur(te.value),xe=dr(te.value),ke=te.value!==null?te.value:re;if(y){if(we!==y)return[new at(te.key,ke,`${we} stop domain type must match previous stop domain type ${y}`)]}else y=we;if(we!=="number"&&we!=="string"&&we!=="boolean")return[new at(te.key,ke,"stop domain value must be a number, string, or boolean")];if(we!=="number"&&f!=="categorical"){let He=`number expected, ${we} found`;return fn(l)&&f===void 0&&(He+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new at(te.key,ke,He)]}return f!=="categorical"||we!=="number"||isFinite(xe)&&Math.floor(xe)===xe?f!=="categorical"&&we==="number"&&w!==void 0&&xe<w?[new at(te.key,ke,"stop domain values must appear in ascending order")]:(w=xe,f==="categorical"&&xe in A?[new at(te.key,ke,"stop domain values must be unique")]:(A[xe]=!0,[])):[new at(te.key,ke,`integer expected, found ${xe}`)]}}function qs(c){const l=(c.expressionContext==="property"?Hg:rc)(an(c.value),c.valueSpec);if(l.result==="error")return l.value.map(y=>new at(`${c.key}${y.key}`,c.value,y.message));const f=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!f.outputDefined())return[new at(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Xl(f))return[new at(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Xl(f))return[new at(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!Nh(f,["zoom","feature-state"]))return[new at(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!Zu(f))return[new at(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ic(c){const l=c.key,f=c.value,y=c.valueSpec,w=[];return Array.isArray(y.values)?y.values.indexOf(dr(f))===-1&&w.push(new at(l,f,`expected one of [${y.values.join(", ")}], ${JSON.stringify(f)} found`)):Object.keys(y.values).indexOf(dr(f))===-1&&w.push(new at(l,f,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(f)} found`)),w}function eu(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!eu(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const rx={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Qh(c){if(c==null)return{filter:()=>!0,needGeometry:!1};eu(c)||(c=oc(c));const l=rc(c,rx);if(l.result==="error")throw new Error(l.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,y,w)=>l.value.evaluate(f,y,{},w),needGeometry:qg(c)}}function Wg(c,l){return c<l?-1:c>l?1:0}function qg(c){if(!Array.isArray(c))return!1;if(c[0]==="within")return!0;for(let l=1;l<c.length;l++)if(qg(c[l]))return!0;return!1}function oc(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?yp(c[1],c[2],"=="):l==="!="?tu(yp(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?yp(c[1],c[2],l):l==="any"?(f=c.slice(1),["any"].concat(f.map(oc))):l==="all"?["all"].concat(c.slice(1).map(oc)):l==="none"?["all"].concat(c.slice(1).map(oc).map(tu)):l==="in"?ef(c[1],c.slice(2)):l==="!in"?tu(ef(c[1],c.slice(2))):l==="has"?ac(c[1]):l==="!has"?tu(ac(c[1])):l!=="within"||c;var f}function yp(c,l,f){switch(c){case"$type":return[`filter-type-${f}`,l];case"$id":return[`filter-id-${f}`,l];default:return[`filter-${f}`,c,l]}}function ef(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some(f=>typeof f!=typeof l[0])?["filter-in-large",c,["literal",l.sort(Wg)]]:["filter-in-small",c,["literal",l]]}}function ac(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function tu(c){return["!",c]}function sc(c){return eu(an(c.value))?qs(yn({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xg(c)}function Xg(c){const l=c.value,f=c.key;if(Ur(l)!=="array")return[new at(f,l,`array expected, ${Ur(l)} found`)];const y=c.styleSpec;let w,C=[];if(l.length<1)return[new at(f,l,"filter array must have at least 1 element")];switch(C=C.concat(ic({key:`${f}[0]`,value:l[0],valueSpec:y.filter_operator,style:c.style,styleSpec:c.styleSpec})),dr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&dr(l[1])==="$type"&&C.push(new at(f,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&C.push(new at(f,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(w=Ur(l[1]),w!=="string"&&C.push(new at(`${f}[1]`,l[1],`string expected, ${w} found`)));for(let A=2;A<l.length;A++)w=Ur(l[A]),dr(l[1])==="$type"?C=C.concat(ic({key:`${f}[${A}]`,value:l[A],valueSpec:y.geometry_type,style:c.style,styleSpec:c.styleSpec})):w!=="string"&&w!=="number"&&w!=="boolean"&&C.push(new at(`${f}[${A}]`,l[A],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let A=1;A<l.length;A++)C=C.concat(Xg({key:`${f}[${A}]`,value:l[A],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":w=Ur(l[1]),l.length!==2?C.push(new at(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="string"&&C.push(new at(`${f}[1]`,l[1],`string expected, ${w} found`));break;case"within":w=Ur(l[1]),l.length!==2?C.push(new at(f,l,`filter array for "${l[0]}" operator must have 2 elements`)):w!=="object"&&C.push(new at(`${f}[1]`,l[1],`object expected, ${w} found`))}return C}function lc(c,l){const f=c.key,y=c.style,w=c.styleSpec,C=c.value,A=c.objectKey,k=w[`${l}_${c.layerType}`];if(!k)return[];const R=A.match(/^(.*)-transition$/);if(l==="paint"&&R&&k[R[1]]&&k[R[1]].transition)return oo({key:f,value:C,valueSpec:w.transition,style:y,styleSpec:w});const V=c.valueSpec||k[A];if(!V)return[new at(f,C,`unknown property "${A}"`)];let W;if(Ur(C)==="string"&&fn(V)&&!V.tokens&&(W=/^{([^}]+)}$/.exec(C)))return[new at(f,C,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(W[1])} }\`.`)];const X=[];return c.layerType==="symbol"&&(A==="text-field"&&y&&!y.glyphs&&X.push(new at(f,C,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&sn(an(C))&&dr(C.type)==="identity"&&X.push(new at(f,C,'"text-font" does not support identity functions'))),X.concat(oo({key:c.key,value:C,valueSpec:V,style:y,styleSpec:w,expressionContext:"property",propertyType:l,propertyKey:A}))}function Zg(c){return lc(c,"paint")}function Kg(c){return lc(c,"layout")}function Yg(c){let l=[];const f=c.value,y=c.key,w=c.style,C=c.styleSpec;f.type||f.ref||l.push(new at(y,f,'either "type" or "ref" is required'));let A=dr(f.type);const k=dr(f.ref);if(f.id){const R=dr(f.id);for(let V=0;V<c.arrayIndex;V++){const W=w.layers[V];dr(W.id)===R&&l.push(new at(y,f.id,`duplicate layer id "${f.id}", previously used at line ${W.id.__line__}`))}}if("ref"in f){let R;["type","source","source-layer","filter","layout"].forEach(V=>{V in f&&l.push(new at(y,f[V],`"${V}" is prohibited for ref layers`))}),w.layers.forEach(V=>{dr(V.id)===k&&(R=V)}),R?R.ref?l.push(new at(y,f.ref,"ref cannot reference another ref layer")):A=dr(R.type):l.push(new at(y,f.ref,`ref layer "${k}" not found`))}else if(A!=="background")if(f.source){const R=w.sources&&w.sources[f.source],V=R&&dr(R.type);R?V==="vector"&&A==="raster"?l.push(new at(y,f.source,`layer "${f.id}" requires a raster source`)):V==="raster"&&A!=="raster"?l.push(new at(y,f.source,`layer "${f.id}" requires a vector source`)):V!=="vector"||f["source-layer"]?V==="raster-dem"&&A!=="hillshade"?l.push(new at(y,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):A!=="line"||!f.paint||!f.paint["line-gradient"]||V==="geojson"&&R.lineMetrics||l.push(new at(y,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new at(y,f,`layer "${f.id}" must specify a "source-layer"`)):l.push(new at(y,f.source,`source "${f.source}" not found`))}else l.push(new at(y,f,'missing required property "source"'));return l=l.concat(Fo({key:y,value:f,valueSpec:C.layer,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{"*":()=>[],type:()=>oo({key:`${y}.type`,value:f.type,valueSpec:C.layer.type,style:c.style,styleSpec:c.styleSpec,object:f,objectKey:"type"}),filter:sc,layout:R=>Fo({layer:f,key:R.key,value:R.value,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":V=>Kg(yn({layerType:A},V))}}),paint:R=>Fo({layer:f,key:R.key,value:R.value,style:R.style,styleSpec:R.styleSpec,objectElementValidators:{"*":V=>Zg(yn({layerType:A},V))}})}})),l}function ru(c){const l=c.value,f=c.key,y=Ur(l);return y!=="string"?[new at(f,l,`string expected, ${y} found`)]:[]}const Jg={promoteId:function({key:c,value:l}){if(Ur(l)==="string")return ru({key:c,value:l});{const f=[];for(const y in l)f.push(...ru({key:`${c}.${y}`,value:l[y]}));return f}}};function uc(c){const l=c.value,f=c.key,y=c.styleSpec,w=c.style;if(!l.type)return[new at(f,l,'"type" is required')];const C=dr(l.type);let A;switch(C){case"vector":case"raster":case"raster-dem":return A=Fo({key:f,value:l,valueSpec:y[`source_${C.replace("-","_")}`],style:c.style,styleSpec:y,objectElementValidators:Jg}),A;case"geojson":if(A=Fo({key:f,value:l,valueSpec:y.source_geojson,style:w,styleSpec:y,objectElementValidators:Jg}),l.cluster)for(const k in l.clusterProperties){const[R,V]=l.clusterProperties[k],W=typeof R=="string"?[R,["accumulated"],["get",k]]:R;A.push(...qs({key:`${f}.${k}.map`,value:V,expressionContext:"cluster-map"})),A.push(...qs({key:`${f}.${k}.reduce`,value:W,expressionContext:"cluster-reduce"}))}return A;case"video":return Fo({key:f,value:l,valueSpec:y.source_video,style:w,styleSpec:y});case"image":return Fo({key:f,value:l,valueSpec:y.source_image,style:w,styleSpec:y});case"canvas":return[new at(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ic({key:`${f}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:w,styleSpec:y})}}function cc(c){const l=c.value,f=c.styleSpec,y=f.light,w=c.style;let C=[];const A=Ur(l);if(l===void 0)return C;if(A!=="object")return C=C.concat([new at("light",l,`object expected, ${A} found`)]),C;for(const k in l){const R=k.match(/^(.*)-transition$/);C=C.concat(R&&y[R[1]]&&y[R[1]].transition?oo({key:k,value:l[k],valueSpec:f.transition,style:w,styleSpec:f}):y[k]?oo({key:k,value:l[k],valueSpec:y[k],style:w,styleSpec:f}):[new at(k,l[k],`unknown property "${k}"`)])}return C}function io(c){const l=c.value,f=c.styleSpec,y=f.terrain,w=c.style;let C=[];const A=Ur(l);if(l===void 0)return C;if(A!=="object")return C=C.concat([new at("terrain",l,`object expected, ${A} found`)]),C;for(const k in l)C=C.concat(y[k]?oo({key:k,value:l[k],valueSpec:y[k],style:w,styleSpec:f}):[new at(k,l[k],`unknown property "${k}"`)]);return C}const hc={"*":()=>[],array:jg,boolean:function(c){const l=c.value,f=c.key,y=Ur(l);return y!=="boolean"?[new at(f,l,`boolean expected, ${y} found`)]:[]},number:gp,color:function(c){const l=c.key,f=c.value,y=Ur(f);return y!=="string"?[new at(l,f,`color expected, ${y} found`)]:Wl(f)===null?[new at(l,f,`color expected, "${f}" found`)]:[]},constants:Wr,enum:ic,filter:sc,function:Gg,layer:Yg,object:Fo,source:uc,light:cc,terrain:io,string:ru,formatted:function(c){return ru(c).length===0?[]:qs(c)},resolvedImage:function(c){return ru(c).length===0?[]:qs(c)},padding:function(c){const l=c.key,f=c.value;if(Ur(f)==="array"){if(f.length<1||f.length>4)return[new at(l,f,`padding requires 1 to 4 values; ${f.length} values found`)];const y={type:"number"};let w=[];for(let C=0;C<f.length;C++)w=w.concat(oo({key:`${l}[${C}]`,value:f[C],valueSpec:y}));return w}return gp({key:l,value:f,valueSpec:{}})}};function oo(c){const l=c.value,f=c.valueSpec,y=c.styleSpec;return f.expression&&sn(dr(l))?Gg(c):f.expression&&tc(an(l))?qs(c):f.type&&hc[f.type]?hc[f.type](c):Fo(yn({},c,{valueSpec:f.type?y[f.type]:f}))}function nx(c){const l=c.value,f=c.key,y=ru(c);return y.length||(l.indexOf("{fontstack}")===-1&&y.push(new at(f,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&y.push(new at(f,l,'"glyphs" url must include a "{range}" token'))),y}function us(c,l=Re){let f=[];return f=f.concat(oo({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,objectElementValidators:{glyphs:nx,"*":()=>[]}})),c.constants&&(f=f.concat(Wr({key:"constants",value:c.constants,style:c,styleSpec:l}))),Qg(f)}function Qg(c){return[].concat(c).sort((l,f)=>l.line-f.line)}function La(c){return function(...l){return Qg(c.apply(this,l))}}us.source=La(uc),us.light=La(cc),us.terrain=La(io),us.layer=La(Yg),us.filter=La(sc),us.paintProperty=La(Zg),us.layoutProperty=La(Kg);const fc=us,_p=fc.light,ix=fc.paintProperty,ox=fc.layoutProperty;function tf(c,l){let f=!1;if(l&&l.length)for(const y of l)c.fire(new sr(new Error(y.message))),f=!0;return f}class dc{constructor(l,f,y){const w=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const A=new Int32Array(this.arrayBuffer);l=A[0],this.d=(f=A[1])+2*(y=A[2]);for(let R=0;R<this.d*this.d;R++){const V=A[3+R],W=A[3+R+1];w.push(V===W?null:A.subarray(V,W))}const k=A[3+w.length+1];this.keys=A.subarray(A[3+w.length],k),this.bboxes=A.subarray(k),this.insert=this._insertReadonly}else{this.d=f+2*y;for(let A=0;A<this.d*this.d;A++)w.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=l,this.padding=y,this.scale=f/l,this.uid=0;const C=y/f*l;this.min=-C,this.max=l+C}insert(l,f,y,w,C){this._forEachCell(f,y,w,C,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(C)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,f,y,w,C,A){this.cells[C].push(A)}query(l,f,y,w,C){const A=this.min,k=this.max;if(l<=A&&f<=A&&k<=y&&k<=w&&!C)return Array.prototype.slice.call(this.keys);{const R=[];return this._forEachCell(l,f,y,w,this._queryCell,R,{},C),R}}_queryCell(l,f,y,w,C,A,k,R){const V=this.cells[C];if(V!==null){const W=this.keys,X=this.bboxes;for(let Q=0;Q<V.length;Q++){const te=V[Q];if(k[te]===void 0){const re=4*te;(R?R(X[re+0],X[re+1],X[re+2],X[re+3]):l<=X[re+2]&&f<=X[re+3]&&y>=X[re+0]&&w>=X[re+1])?(k[te]=!0,A.push(W[te])):k[te]=!1}}}}_forEachCell(l,f,y,w,C,A,k,R){const V=this._convertToCellCoord(l),W=this._convertToCellCoord(f),X=this._convertToCellCoord(y),Q=this._convertToCellCoord(w);for(let te=V;te<=X;te++)for(let re=W;re<=Q;re++){const we=this.d*re+te;if((!R||R(this._convertFromCellCoord(te),this._convertFromCellCoord(re),this._convertFromCellCoord(te+1),this._convertFromCellCoord(re+1)))&&C.call(this,l,f,y,w,we,A,k,R))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,f=3+this.cells.length+1+1;let y=0;for(let A=0;A<this.cells.length;A++)y+=this.cells[A].length;const w=new Int32Array(f+y+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let C=f;for(let A=0;A<l.length;A++){const k=l[A];w[3+A]=C,w.set(k,C),C+=k.length}return w[3+l.length]=C,w.set(this.keys,C),C+=this.keys.length,w[3+l.length+1]=C,w.set(this.bboxes,C),C+=this.bboxes.length,w.buffer}static serialize(l,f){const y=l.toArrayBuffer();return f&&f.push(y),{buffer:y}}static deserialize(l){return new dc(l.buffer)}}const Oa={};function $t(c,l,f={}){if(Oa[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),Oa[c]={klass:l,omit:f.omit||[],shallow:f.shallow||[]}}$t("Object",Object),$t("TransferableGridIndex",dc),$t("Color",se),$t("Error",Error),$t("AJAXError",ye),$t("ResolvedImage",Ie),$t("StylePropertyFunction",Yh),$t("StyleExpression",Kh,{omit:["_evaluator"]}),$t("ZoomDependentExpression",vp),$t("ZoomConstantExpression",nc),$t("CompoundExpression",tn,{omit:["_evaluate"]});for(const c in Yl)Yl[c]._classRegistryKey||$t(`Expression_${c}`,Yl[c]);function ey(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Xs(c,l){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob)return c;if(ey(c)||ie(c))return l&&l.push(c),c;if(ArrayBuffer.isView(c)){const f=c;return l&&l.push(f.buffer),f}if(c instanceof ImageData)return l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const f=[];for(const y of c)f.push(Xs(y,l));return f}if(typeof c=="object"){const f=c.constructor,y=f._classRegistryKey;if(!y)throw new Error("can't serialize object of unregistered class");if(!Oa[y])throw new Error(`${y} is not registered.`);const w=f.serialize?f.serialize(c,l):{};if(f.serialize){if(l&&w===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const C in c){if(!c.hasOwnProperty(C)||Oa[y].omit.indexOf(C)>=0)continue;const A=c[C];w[C]=Oa[y].shallow.indexOf(C)>=0?A:Xs(A,l)}c instanceof Error&&(w.message=c.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return y!=="Object"&&(w.$name=y),w}throw new Error("can't serialize object of type "+typeof c)}function cs(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||ey(c)||ie(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(cs);if(typeof c=="object"){const l=c.$name||"Object";if(!Oa[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:f}=Oa[l];if(!f)throw new Error(`can't deserialize unregistered class ${l}`);if(f.deserialize)return f.deserialize(c);const y=Object.create(f.prototype);for(const w of Object.keys(c)){if(w==="$name")continue;const C=c[w];y[w]=Oa[l].shallow.indexOf(w)>=0?C:cs(C)}return y}throw new Error("can't deserialize object of type "+typeof c)}class bp{constructor(){this.first=!0}update(l,f){const y=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=f),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=y,!0))}}const Ct={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function rf(c){for(const l of c)if(wp(l.charCodeAt(0)))return!0;return!1}function ax(c){for(const l of c)if(!xp(l.charCodeAt(0)))return!1;return!0}function xp(c){return!(Ct.Arabic(c)||Ct["Arabic Supplement"](c)||Ct["Arabic Extended-A"](c)||Ct["Arabic Presentation Forms-A"](c)||Ct["Arabic Presentation Forms-B"](c))}function wp(c){return!(c!==746&&c!==747&&(c<4352||!(Ct["Bopomofo Extended"](c)||Ct.Bopomofo(c)||Ct["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Ct["CJK Compatibility Ideographs"](c)||Ct["CJK Compatibility"](c)||Ct["CJK Radicals Supplement"](c)||Ct["CJK Strokes"](c)||!(!Ct["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Ct["CJK Unified Ideographs Extension A"](c)||Ct["CJK Unified Ideographs"](c)||Ct["Enclosed CJK Letters and Months"](c)||Ct["Hangul Compatibility Jamo"](c)||Ct["Hangul Jamo Extended-A"](c)||Ct["Hangul Jamo Extended-B"](c)||Ct["Hangul Jamo"](c)||Ct["Hangul Syllables"](c)||Ct.Hiragana(c)||Ct["Ideographic Description Characters"](c)||Ct.Kanbun(c)||Ct["Kangxi Radicals"](c)||Ct["Katakana Phonetic Extensions"](c)||Ct.Katakana(c)&&c!==12540||!(!Ct["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Ct["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Ct["Unified Canadian Aboriginal Syllabics"](c)||Ct["Unified Canadian Aboriginal Syllabics Extended"](c)||Ct["Vertical Forms"](c)||Ct["Yijing Hexagram Symbols"](c)||Ct["Yi Syllables"](c)||Ct["Yi Radicals"](c))))}function ty(c){return!(wp(c)||function(l){return!!(Ct["Latin-1 Supplement"](l)&&(l===167||l===169||l===174||l===177||l===188||l===189||l===190||l===215||l===247)||Ct["General Punctuation"](l)&&(l===8214||l===8224||l===8225||l===8240||l===8241||l===8251||l===8252||l===8258||l===8263||l===8264||l===8265||l===8273)||Ct["Letterlike Symbols"](l)||Ct["Number Forms"](l)||Ct["Miscellaneous Technical"](l)&&(l>=8960&&l<=8967||l>=8972&&l<=8991||l>=8996&&l<=9e3||l===9003||l>=9085&&l<=9114||l>=9150&&l<=9165||l===9167||l>=9169&&l<=9179||l>=9186&&l<=9215)||Ct["Control Pictures"](l)&&l!==9251||Ct["Optical Character Recognition"](l)||Ct["Enclosed Alphanumerics"](l)||Ct["Geometric Shapes"](l)||Ct["Miscellaneous Symbols"](l)&&!(l>=9754&&l<=9759)||Ct["Miscellaneous Symbols and Arrows"](l)&&(l>=11026&&l<=11055||l>=11088&&l<=11097||l>=11192&&l<=11243)||Ct["CJK Symbols and Punctuation"](l)||Ct.Katakana(l)||Ct["Private Use Area"](l)||Ct["CJK Compatibility Forms"](l)||Ct["Small Form Variants"](l)||Ct["Halfwidth and Fullwidth Forms"](l)||l===8734||l===8756||l===8757||l>=9984&&l<=10087||l>=10102&&l<=10131||l===65532||l===65533)}(c))}function ry(c){return c>=1424&&c<=2303||Ct["Arabic Presentation Forms-A"](c)||Ct["Arabic Presentation Forms-B"](c)}function sx(c,l){return!(!l&&ry(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Ct.Khmer(c))}function ny(c){for(const l of c)if(ry(l.charCodeAt(0)))return!0;return!1}const Sp="deferred",Tp="loading",Cp="loaded";let Ep=null,Vi="unavailable",hs=null;const iy=function(c){c&&typeof c=="string"&&c.indexOf("NetworkError")>-1&&(Vi="error"),Ep&&Ep(c)};function nu(){Ap.fire(new qt("pluginStateChange",{pluginStatus:Vi,pluginURL:hs}))}const Ap=new yr,pc=function(){return Vi},oy=function(){if(Vi!==Sp||!hs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vi=Tp,nu(),hs&&qe({url:hs},c=>{c?iy(c):(Vi=Cp,nu())})},xo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Vi===Cp||xo.applyArabicShaping!=null,isLoading:()=>Vi===Tp,setState(c){if(!U())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Vi=c.pluginStatus,hs=c.pluginURL},isParsed(){if(!U())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return xo.applyArabicShaping!=null&&xo.processBidirectionalText!=null&&xo.processStyledBidirectionalText!=null},getPluginURL(){if(!U())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return hs}};class wn{constructor(l,f){this.zoom=l,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new bp,this.transition={})}isSupportedScript(l){return function(f,y){for(const w of f)if(!sx(w.charCodeAt(0),y))return!1;return!0}(l,xo.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,f=l-Math.floor(l),y=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*f}}}class mc{constructor(l,f){this.property=l,this.value=f,this.expression=function(y,w){if(sn(y))return new Yh(y,w);if(tc(y)){const C=Hg(y,w);if(C.result==="error")throw new Error(C.value.map(A=>`${A.key}: ${A.message}`).join(", "));return C.value}{let C=y;return w.type==="color"&&typeof y=="string"?C=se.parse(y):w.type!=="padding"||typeof y!="number"&&!Array.isArray(y)||(C=Te.parse(y)),{kind:"constant",evaluate:()=>C}}}(f===void 0?l.specification.default:f,l.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(l,f,y){return this.property.possiblyEvaluate(this,l,f,y)}}class nf{constructor(l){this.property=l,this.value=new mc(l,void 0)}transitioned(l,f){return new sy(this.property,this.value,f,T({},l.transition,this.transition),l.now)}untransitioned(){return new sy(this.property,this.value,null,{},0)}}class ay{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues)}getValue(l){return O(this._values[l].value.value)}setValue(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new nf(this._values[l].property)),this._values[l].value=new mc(this._values[l].property,f===null?void 0:O(f))}getTransition(l){return O(this._values[l].transition)}setTransition(l,f){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new nf(this._values[l].property)),this._values[l].transition=O(f)||void 0}serialize(){const l={};for(const f of Object.keys(this._values)){const y=this.getValue(f);y!==void 0&&(l[f]=y);const w=this.getTransition(f);w!==void 0&&(l[`${f}-transition`]=w)}return l}transitioned(l,f){const y=new ly(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].transitioned(l,f._values[w]);return y}untransitioned(){const l=new ly(this._properties);for(const f of Object.keys(this._values))l._values[f]=this._values[f].untransitioned();return l}}class sy{constructor(l,f,y,w,C){this.property=l,this.value=f,this.begin=C+w.delay||0,this.end=this.begin+w.duration||0,l.specification.transition&&(w.delay||w.duration)&&(this.prior=y)}possiblyEvaluate(l,f,y){const w=l.now||0,C=this.value.possiblyEvaluate(l,f,y),A=this.prior;if(A){if(w>this.end)return this.prior=null,C;if(this.value.isDataDriven())return this.prior=null,C;if(w<this.begin)return A.possiblyEvaluate(l,f,y);{const k=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(A.possiblyEvaluate(l,f,y),C,function(R){if(R<=0)return 0;if(R>=1)return 1;const V=R*R,W=V*R;return 4*(R<.5?W:3*(R-V)+W-.75)}(k))}}return C}}class ly{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,f,y){const w=new vc(this._properties);for(const C of Object.keys(this._values))w._values[C]=this._values[C].possiblyEvaluate(l,f,y);return w}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class lx{constructor(l){this._properties=l,this._values=Object.create(l.defaultPropertyValues)}getValue(l){return O(this._values[l].value)}setValue(l,f){this._values[l]=new mc(this._values[l].property,f===null?void 0:O(f))}serialize(){const l={};for(const f of Object.keys(this._values)){const y=this.getValue(f);y!==void 0&&(l[f]=y)}return l}possiblyEvaluate(l,f,y){const w=new vc(this._properties);for(const C of Object.keys(this._values))w._values[C]=this._values[C].possiblyEvaluate(l,f,y);return w}}class ra{constructor(l,f,y){this.property=l,this.value=f,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,f,y,w){return this.property.evaluate(this.value,this.parameters,l,f,y,w)}}class vc{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class jt{constructor(l){this.specification=l}possiblyEvaluate(l,f){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(f)}interpolate(l,f,y){const w=Yu[this.specification.type];return w?w(l,f,y):l}}class tr{constructor(l,f){this.specification=l,this.overrides=f}possiblyEvaluate(l,f,y,w){return new ra(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(f,null,{},y,w)}:l.expression,f)}interpolate(l,f,y){if(l.value.kind!=="constant"||f.value.kind!=="constant")return l;if(l.value.value===void 0||f.value.value===void 0)return new ra(this,{kind:"constant",value:void 0},l.parameters);const w=Yu[this.specification.type];return w?new ra(this,{kind:"constant",value:w(l.value.value,f.value.value,y)},l.parameters):l}evaluate(l,f,y,w,C,A){return l.kind==="constant"?l.value:l.evaluate(f,y,w,C,A)}}class iu extends tr{possiblyEvaluate(l,f,y,w){if(l.value===void 0)return new ra(this,{kind:"constant",value:void 0},f);if(l.expression.kind==="constant"){const C=l.expression.evaluate(f,null,{},y,w),A=l.property.specification.type==="resolvedImage"&&typeof C!="string"?C.name:C,k=this._calculate(A,A,A,f);return new ra(this,{kind:"constant",value:k},f)}if(l.expression.kind==="camera"){const C=this._calculate(l.expression.evaluate({zoom:f.zoom-1}),l.expression.evaluate({zoom:f.zoom}),l.expression.evaluate({zoom:f.zoom+1}),f);return new ra(this,{kind:"constant",value:C},f)}return new ra(this,l.expression,f)}evaluate(l,f,y,w,C,A){if(l.kind==="source"){const k=l.evaluate(f,y,w,C,A);return this._calculate(k,k,k,f)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(f.zoom)-1},y,w),l.evaluate({zoom:Math.floor(f.zoom)},y,w),l.evaluate({zoom:Math.floor(f.zoom)+1},y,w),f):l.value}_calculate(l,f,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:y,to:f}}interpolate(l){return l}}class Pp{constructor(l){this.specification=l}possiblyEvaluate(l,f,y,w){if(l.value!==void 0){if(l.expression.kind==="constant"){const C=l.expression.evaluate(f,null,{},y,w);return this._calculate(C,C,C,f)}return this._calculate(l.expression.evaluate(new wn(Math.floor(f.zoom-1),f)),l.expression.evaluate(new wn(Math.floor(f.zoom),f)),l.expression.evaluate(new wn(Math.floor(f.zoom+1),f)),f)}}_calculate(l,f,y,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:l,to:f}:{from:y,to:f}}interpolate(l){return l}}class fs{constructor(l){this.specification=l}possiblyEvaluate(l,f,y,w){return!!l.expression.evaluate(f,null,{},y,w)}interpolate(){return!1}}class mi{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in l){const y=l[f];y.specification.overridable&&this.overridableProperties.push(f);const w=this.defaultPropertyValues[f]=new mc(y,void 0),C=this.defaultTransitionablePropertyValues[f]=new nf(y);this.defaultTransitioningPropertyValues[f]=C.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=w.possiblyEvaluate({})}}}$t("DataDrivenProperty",tr),$t("DataConstantProperty",jt),$t("CrossFadedDataDrivenProperty",iu),$t("CrossFadedProperty",Pp),$t("ColorRampProperty",fs);const ds="-transition";class na extends yr{constructor(l,f){if(super(),this.id=l.id,this.type=l.type,this._featureFilter={filter:()=>!0,needGeometry:!1},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter),f.layout&&(this._unevaluatedLayout=new lx(f.layout)),f.paint)){this._transitionablePaint=new ay(f.paint);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vc(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}setLayoutProperty(l,f,y={}){f!=null&&this._validate(ox,`layers.${this.id}.layout.${l}`,l,f,y)||(l!=="visibility"?this._unevaluatedLayout.setValue(l,f):this.visibility=f)}getPaintProperty(l){return l.endsWith(ds)?this._transitionablePaint.getTransition(l.slice(0,-ds.length)):this._transitionablePaint.getValue(l)}setPaintProperty(l,f,y={}){if(f!=null&&this._validate(ix,`layers.${this.id}.paint.${l}`,l,f,y))return!1;if(l.endsWith(ds))return this._transitionablePaint.setTransition(l.slice(0,-ds.length),f||void 0),!1;{const w=this._transitionablePaint._values[l],C=w.property.specification["property-type"]==="cross-faded-data-driven",A=w.value.isDataDriven(),k=w.value;this._transitionablePaint.setValue(l,f),this._handleSpecialPaintPropertyUpdate(l);const R=this._transitionablePaint._values[l].value;return R.isDataDriven()||A||C||this._handleOverridablePaintPropertyUpdate(l,k,R)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,f,y){return!1}isHidden(l){return!!(this.minzoom&&l<this.minzoom)||!!(this.maxzoom&&l>=this.maxzoom)||this.visibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(l,f){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,f)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),D(l,(f,y)=>!(f===void 0||y==="layout"&&!Object.keys(f).length||y==="paint"&&!Object.keys(f).length))}_validate(l,f,y,w,C={}){return(!C||C.validate!==!1)&&tf(this,l.call(fc,{key:f,layerType:this.type,objectKey:y,value:w,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const f=this.paint.get(l);if(f instanceof ra&&fn(f.property.specification)&&(f.value.kind==="source"||f.value.kind==="composite")&&f.value.isStateDependent)return!0}return!1}}const uy={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ps{constructor(l,f){this._structArray=l,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,f){return l._trim(),f&&(l.isTransferred=!0,f.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const f=Object.create(this.prototype);return f.arrayBuffer=l.arrayBuffer,f.length=l.length,f.capacity=l.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Gn(c,l=1){let f=0,y=0;return{members:c.map(w=>{const C=uy[w.type].BYTES_PER_ELEMENT,A=f=Ip(f,Math.max(l,C)),k=w.components||1;return y=Math.max(y,C),f+=C*k,{name:w.name,type:w.type,components:k,offset:A}}),size:Ip(f,Math.max(y,l)),alignment:l}}function Ip(c,l){return Math.ceil(c/l)*l}class Zs extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f){const y=this.length;return this.resize(y+1),this.emplace(y,l,f)}emplace(l,f,y){const w=2*l;return this.int16[w+0]=f,this.int16[w+1]=y,l}}Zs.prototype.bytesPerElement=4,$t("StructArrayLayout2i4",Zs);class x extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y,w){const C=this.length;return this.resize(C+1),this.emplace(C,l,f,y,w)}emplace(l,f,y,w,C){const A=4*l;return this.int16[A+0]=f,this.int16[A+1]=y,this.int16[A+2]=w,this.int16[A+3]=C,l}}x.prototype.bytesPerElement=8,$t("StructArrayLayout4i8",x);class u extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A){const k=this.length;return this.resize(k+1),this.emplace(k,l,f,y,w,C,A)}emplace(l,f,y,w,C,A,k){const R=6*l;return this.int16[R+0]=f,this.int16[R+1]=y,this.int16[R+2]=w,this.int16[R+3]=C,this.int16[R+4]=A,this.int16[R+5]=k,l}}u.prototype.bytesPerElement=12,$t("StructArrayLayout2i4i12",u);class p extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A){const k=this.length;return this.resize(k+1),this.emplace(k,l,f,y,w,C,A)}emplace(l,f,y,w,C,A,k){const R=4*l,V=8*l;return this.int16[R+0]=f,this.int16[R+1]=y,this.uint8[V+4]=w,this.uint8[V+5]=C,this.uint8[V+6]=A,this.uint8[V+7]=k,l}}p.prototype.bytesPerElement=8,$t("StructArrayLayout2i4ub8",p);class b extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f){const y=this.length;return this.resize(y+1),this.emplace(y,l,f)}emplace(l,f,y){const w=2*l;return this.float32[w+0]=f,this.float32[w+1]=y,l}}b.prototype.bytesPerElement=8,$t("StructArrayLayout2f8",b);class S extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A,k,R,V,W){const X=this.length;return this.resize(X+1),this.emplace(X,l,f,y,w,C,A,k,R,V,W)}emplace(l,f,y,w,C,A,k,R,V,W,X){const Q=10*l;return this.uint16[Q+0]=f,this.uint16[Q+1]=y,this.uint16[Q+2]=w,this.uint16[Q+3]=C,this.uint16[Q+4]=A,this.uint16[Q+5]=k,this.uint16[Q+6]=R,this.uint16[Q+7]=V,this.uint16[Q+8]=W,this.uint16[Q+9]=X,l}}S.prototype.bytesPerElement=20,$t("StructArrayLayout10ui20",S);class E extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A,k,R,V,W,X,Q){const te=this.length;return this.resize(te+1),this.emplace(te,l,f,y,w,C,A,k,R,V,W,X,Q)}emplace(l,f,y,w,C,A,k,R,V,W,X,Q,te){const re=12*l;return this.int16[re+0]=f,this.int16[re+1]=y,this.int16[re+2]=w,this.int16[re+3]=C,this.uint16[re+4]=A,this.uint16[re+5]=k,this.uint16[re+6]=R,this.uint16[re+7]=V,this.int16[re+8]=W,this.int16[re+9]=X,this.int16[re+10]=Q,this.int16[re+11]=te,l}}E.prototype.bytesPerElement=24,$t("StructArrayLayout4i4ui4i24",E);class L extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,f,y)}emplace(l,f,y,w){const C=3*l;return this.float32[C+0]=f,this.float32[C+1]=y,this.float32[C+2]=w,l}}L.prototype.bytesPerElement=12,$t("StructArrayLayout3f12",L);class $ extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint32[1*l+0]=f,l}}$.prototype.bytesPerElement=4,$t("StructArrayLayout1ul4",$);class B extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A,k,R,V){const W=this.length;return this.resize(W+1),this.emplace(W,l,f,y,w,C,A,k,R,V)}emplace(l,f,y,w,C,A,k,R,V,W){const X=10*l,Q=5*l;return this.int16[X+0]=f,this.int16[X+1]=y,this.int16[X+2]=w,this.int16[X+3]=C,this.int16[X+4]=A,this.int16[X+5]=k,this.uint32[Q+3]=R,this.uint16[X+8]=V,this.uint16[X+9]=W,l}}B.prototype.bytesPerElement=20,$t("StructArrayLayout6i1ul2ui20",B);class j extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A){const k=this.length;return this.resize(k+1),this.emplace(k,l,f,y,w,C,A)}emplace(l,f,y,w,C,A,k){const R=6*l;return this.int16[R+0]=f,this.int16[R+1]=y,this.int16[R+2]=w,this.int16[R+3]=C,this.int16[R+4]=A,this.int16[R+5]=k,l}}j.prototype.bytesPerElement=12,$t("StructArrayLayout2i2i2i12",j);class q extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C){const A=this.length;return this.resize(A+1),this.emplace(A,l,f,y,w,C)}emplace(l,f,y,w,C,A){const k=4*l,R=8*l;return this.float32[k+0]=f,this.float32[k+1]=y,this.float32[k+2]=w,this.int16[R+6]=C,this.int16[R+7]=A,l}}q.prototype.bytesPerElement=16,$t("StructArrayLayout2f1f2i16",q);class Y extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,y,w){const C=this.length;return this.resize(C+1),this.emplace(C,l,f,y,w)}emplace(l,f,y,w,C){const A=12*l,k=3*l;return this.uint8[A+0]=f,this.uint8[A+1]=y,this.float32[k+1]=w,this.float32[k+2]=C,l}}Y.prototype.bytesPerElement=12,$t("StructArrayLayout2ub2f12",Y);class ee extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,f,y)}emplace(l,f,y,w){const C=3*l;return this.uint16[C+0]=f,this.uint16[C+1]=y,this.uint16[C+2]=w,l}}ee.prototype.bytesPerElement=6,$t("StructArrayLayout3ui6",ee);class ge extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke){const He=this.length;return this.resize(He+1),this.emplace(He,l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke)}emplace(l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke,He){const Le=24*l,Ne=12*l,ot=48*l;return this.int16[Le+0]=f,this.int16[Le+1]=y,this.uint16[Le+2]=w,this.uint16[Le+3]=C,this.uint32[Ne+2]=A,this.uint32[Ne+3]=k,this.uint32[Ne+4]=R,this.uint16[Le+10]=V,this.uint16[Le+11]=W,this.uint16[Le+12]=X,this.float32[Ne+7]=Q,this.float32[Ne+8]=te,this.uint8[ot+36]=re,this.uint8[ot+37]=we,this.uint8[ot+38]=xe,this.uint32[Ne+10]=ke,this.int16[Le+22]=He,l}}ge.prototype.bytesPerElement=48,$t("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ge);class pe extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke,He,Le,Ne,ot,it,kt,Vt,Et,wt,yt,At){const St=this.length;return this.resize(St+1),this.emplace(St,l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke,He,Le,Ne,ot,it,kt,Vt,Et,wt,yt,At)}emplace(l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we,xe,ke,He,Le,Ne,ot,it,kt,Vt,Et,wt,yt,At,St){const pt=34*l,Yt=17*l;return this.int16[pt+0]=f,this.int16[pt+1]=y,this.int16[pt+2]=w,this.int16[pt+3]=C,this.int16[pt+4]=A,this.int16[pt+5]=k,this.int16[pt+6]=R,this.int16[pt+7]=V,this.uint16[pt+8]=W,this.uint16[pt+9]=X,this.uint16[pt+10]=Q,this.uint16[pt+11]=te,this.uint16[pt+12]=re,this.uint16[pt+13]=we,this.uint16[pt+14]=xe,this.uint16[pt+15]=ke,this.uint16[pt+16]=He,this.uint16[pt+17]=Le,this.uint16[pt+18]=Ne,this.uint16[pt+19]=ot,this.uint16[pt+20]=it,this.uint16[pt+21]=kt,this.uint16[pt+22]=Vt,this.uint32[Yt+12]=Et,this.float32[Yt+13]=wt,this.float32[Yt+14]=yt,this.float32[Yt+15]=At,this.float32[Yt+16]=St,l}}pe.prototype.bytesPerElement=68,$t("StructArrayLayout8i15ui1ul4f68",pe);class ve extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.float32[1*l+0]=f,l}}ve.prototype.bytesPerElement=4,$t("StructArrayLayout1f4",ve);class Ae extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,f,y)}emplace(l,f,y,w){const C=3*l;return this.int16[C+0]=f,this.int16[C+1]=y,this.int16[C+2]=w,l}}Ae.prototype.bytesPerElement=6,$t("StructArrayLayout3i6",Ae);class De extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f,y){const w=this.length;return this.resize(w+1),this.emplace(w,l,f,y)}emplace(l,f,y,w){const C=4*l;return this.uint32[2*l+0]=f,this.uint16[C+2]=y,this.uint16[C+3]=w,l}}De.prototype.bytesPerElement=8,$t("StructArrayLayout1ul2ui8",De);class $e extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,f){const y=this.length;return this.resize(y+1),this.emplace(y,l,f)}emplace(l,f,y){const w=2*l;return this.uint16[w+0]=f,this.uint16[w+1]=y,l}}$e.prototype.bytesPerElement=4,$t("StructArrayLayout2ui4",$e);class be extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const f=this.length;return this.resize(f+1),this.emplace(f,l)}emplace(l,f){return this.uint16[1*l+0]=f,l}}be.prototype.bytesPerElement=2,$t("StructArrayLayout1ui2",be);class Ue extends zn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,f,y,w){const C=this.length;return this.resize(C+1),this.emplace(C,l,f,y,w)}emplace(l,f,y,w,C){const A=4*l;return this.float32[A+0]=f,this.float32[A+1]=y,this.float32[A+2]=w,this.float32[A+3]=C,l}}Ue.prototype.bytesPerElement=16,$t("StructArrayLayout4f16",Ue);class Fe extends ps{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ce(this.anchorPointX,this.anchorPointY)}}Fe.prototype.size=20;class Je extends B{get(l){return new Fe(this,l)}}$t("CollisionBoxArray",Je);class Qe extends ps{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Qe.prototype.size=48;class ft extends ge{get(l){return new Qe(this,l)}}$t("PlacedSymbolArray",ft);class Ke extends ps{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Ke.prototype.size=68;class Mt extends pe{get(l){return new Ke(this,l)}}$t("SymbolInstanceArray",Mt);class xt extends ve{getoffsetX(l){return this.float32[1*l+0]}}$t("GlyphOffsetArray",xt);class Ot extends Ae{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}$t("SymbolLineVertexArray",Ot);class mr extends ps{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}mr.prototype.size=8;class br extends De{get(l){return new mr(this,l)}}$t("FeatureIndexArray",br);class Kt extends Zs{}class qr extends Zs{}class Xr extends Zs{}class Ir extends u{}class kr extends p{}class Jr extends b{}class ai extends S{}class ia extends E{}class No extends L{}class oa extends ${}class ms extends j{}class wo extends Y{}class Ui extends ee{}class ka extends $e{}const of=Gn([{name:"a_pos",components:2,type:"Int16"}],4),{members:Jn}=of;class Cr{constructor(l=[]){this.segments=l}prepareSegment(l,f,y,w){let C=this.segments[this.segments.length-1];return l>Cr.MAX_VERTEX_ARRAY_LENGTH&&F(`Max vertices per segment is ${Cr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}`),(!C||C.vertexLength+l>Cr.MAX_VERTEX_ARRAY_LENGTH||C.sortKey!==w)&&(C={vertexOffset:f.length,primitiveOffset:y.length,vertexLength:0,primitiveLength:0},w!==void 0&&(C.sortKey=w),this.segments.push(C)),C}get(){return this.segments}destroy(){for(const l of this.segments)for(const f in l.vaos)l.vaos[f].destroy()}static simpleSegment(l,f,y,w){return new Cr([{vertexOffset:l,primitiveOffset:f,vertexLength:y,primitiveLength:w,vaos:{},sortKey:0}])}}function jr(c,l){return 256*(c=g(Math.floor(c),0,255))+g(Math.floor(l),0,255)}Cr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,$t("SegmentVector",Cr);const si=Gn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var li={exports:{}},Sn={exports:{}};Sn.exports=function(c,l){var f,y,w,C,A,k,R,V;for(y=c.length-(f=3&c.length),w=l,A=3432918353,k=461845907,V=0;V<y;)R=255&c.charCodeAt(V)|(255&c.charCodeAt(++V))<<8|(255&c.charCodeAt(++V))<<16|(255&c.charCodeAt(++V))<<24,++V,w=27492+(65535&(C=5*(65535&(w=(w^=R=(65535&(R=(R=(65535&R)*A+(((R>>>16)*A&65535)<<16)&4294967295)<<15|R>>>17))*k+(((R>>>16)*k&65535)<<16)&4294967295)<<13|w>>>19))+((5*(w>>>16)&65535)<<16)&4294967295))+((58964+(C>>>16)&65535)<<16);switch(R=0,f){case 3:R^=(255&c.charCodeAt(V+2))<<16;case 2:R^=(255&c.charCodeAt(V+1))<<8;case 1:w^=R=(65535&(R=(R=(65535&(R^=255&c.charCodeAt(V)))*A+(((R>>>16)*A&65535)<<16)&4294967295)<<15|R>>>17))*k+(((R>>>16)*k&65535)<<16)&4294967295}return w^=c.length,w=2246822507*(65535&(w^=w>>>16))+((2246822507*(w>>>16)&65535)<<16)&4294967295,w=3266489909*(65535&(w^=w>>>13))+((3266489909*(w>>>16)&65535)<<16)&4294967295,(w^=w>>>16)>>>0};var So={exports:{}};So.exports=function(c,l){for(var f,y=c.length,w=l^y,C=0;y>=4;)f=1540483477*(65535&(f=255&c.charCodeAt(C)|(255&c.charCodeAt(++C))<<8|(255&c.charCodeAt(++C))<<16|(255&c.charCodeAt(++C))<<24))+((1540483477*(f>>>16)&65535)<<16),w=1540483477*(65535&w)+((1540483477*(w>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),y-=4,++C;switch(y){case 3:w^=(255&c.charCodeAt(C+2))<<16;case 2:w^=(255&c.charCodeAt(C+1))<<8;case 1:w=1540483477*(65535&(w^=255&c.charCodeAt(C)))+((1540483477*(w>>>16)&65535)<<16)}return w=1540483477*(65535&(w^=w>>>13))+((1540483477*(w>>>16)&65535)<<16),(w^=w>>>15)>>>0};var Ks=Sn.exports,Mp=So.exports;li.exports=Ks,li.exports.murmur3=Ks,li.exports.murmur2=Mp;class ou{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,f,y,w){this.ids.push(cy(l)),this.positions.push(f,y,w)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=cy(l);let y=0,w=this.ids.length-1;for(;y<w;){const A=y+w>>1;this.ids[A]>=f?w=A:y=A+1}const C=[];for(;this.ids[y]===f;)C.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return C}static serialize(l,f){const y=new Float64Array(l.ids),w=new Uint32Array(l.positions);return Dp(y,w,0,y.length-1),f&&f.push(y.buffer,w.buffer),{ids:y,positions:w}}static deserialize(l){const f=new ou;return f.ids=l.ids,f.positions=l.positions,f.indexed=!0,f}}function cy(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:li.exports(String(c))}function Dp(c,l,f,y){for(;f<y;){const w=c[f+y>>1];let C=f-1,A=y+1;for(;;){do C++;while(c[C]<w);do A--;while(c[A]>w);if(C>=A)break;vs(c,C,A),vs(l,3*C,3*A),vs(l,3*C+1,3*A+1),vs(l,3*C+2,3*A+2)}A-f<y-A?(Dp(c,l,f,A),f=A+1):(Dp(c,l,A+1,y),y=A)}}function vs(c,l,f){const y=c[l];c[l]=c[f],c[f]=y}$t("FeaturePositionMap",ou);class Ys{constructor(l,f){this.gl=l.gl,this.location=f}}class Js extends Ys{constructor(l,f){super(l,f),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class af extends Ys{constructor(l,f){super(l,f),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class OP extends Ys{constructor(l,f){super(l,f),this.current=se.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Q7=new Float32Array(16);function ux(c){return[jr(255*c.r,255*c.g),jr(255*c.b,255*c.a)]}class Lp{constructor(l,f,y){this.value=l,this.uniformNames=f.map(w=>`u_${w}`),this.type=y}setUniform(l,f,y){l.set(y.constantOr(this.value))}getBinding(l,f,y){return this.type==="color"?new OP(l,f):new Js(l,f)}}class sf{constructor(l,f){this.uniformNames=f.map(y=>`u_${y}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=l.tlbr}setUniform(l,f,y,w){const C=w==="u_pattern_to"?this.patternTo:w==="u_pattern_from"?this.patternFrom:w==="u_pixel_ratio_to"?this.pixelRatioTo:w==="u_pixel_ratio_from"?this.pixelRatioFrom:null;C&&l.set(C)}getBinding(l,f,y){return y.substr(0,9)==="u_pattern"?new af(l,f):new Js(l,f)}}class Qs{constructor(l,f,y,w){this.expression=l,this.type=y,this.maxValue=0,this.paintVertexAttributes=f.map(C=>({name:`a_${C}`,type:"Float32",components:y==="color"?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(l,f,y,w,C){const A=this.paintVertexArray.length,k=this.expression.evaluate(new wn(0),f,{},w,[],C);this.paintVertexArray.resize(l),this._setPaintValue(A,l,k)}updatePaintArray(l,f,y,w){const C=this.expression.evaluate({zoom:0},y,w);this._setPaintValue(l,f,C)}_setPaintValue(l,f,y){if(this.type==="color"){const w=ux(y);for(let C=l;C<f;C++)this.paintVertexArray.emplace(C,w[0],w[1])}else{for(let w=l;w<f;w++)this.paintVertexArray.emplace(w,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ra{constructor(l,f,y,w,C,A){this.expression=l,this.uniformNames=f.map(k=>`u_${k}_t`),this.type=y,this.useIntegerZoom=w,this.zoom=C,this.maxValue=0,this.paintVertexAttributes=f.map(k=>({name:`a_${k}`,type:"Float32",components:y==="color"?4:2,offset:0})),this.paintVertexArray=new A}populatePaintArray(l,f,y,w,C){const A=this.expression.evaluate(new wn(this.zoom),f,{},w,[],C),k=this.expression.evaluate(new wn(this.zoom+1),f,{},w,[],C),R=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(R,l,A,k)}updatePaintArray(l,f,y,w){const C=this.expression.evaluate({zoom:this.zoom},y,w),A=this.expression.evaluate({zoom:this.zoom+1},y,w);this._setPaintValue(l,f,C,A)}_setPaintValue(l,f,y,w){if(this.type==="color"){const C=ux(y),A=ux(w);for(let k=l;k<f;k++)this.paintVertexArray.emplace(k,C[0],C[1],A[0],A[1])}else{for(let C=l;C<f;C++)this.paintVertexArray.emplace(C,y,w);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(w))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,f){const y=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,w=g(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);l.set(w)}getBinding(l,f,y){return new Js(l,f)}}class au{constructor(l,f,y,w,C,A){this.expression=l,this.type=f,this.useIntegerZoom=y,this.zoom=w,this.layerId=A,this.zoomInPaintVertexArray=new C,this.zoomOutPaintVertexArray=new C}populatePaintArray(l,f,y){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(w,l,f.patterns&&f.patterns[this.layerId],y)}updatePaintArray(l,f,y,w,C){this._setPaintValues(l,f,y.patterns&&y.patterns[this.layerId],C)}_setPaintValues(l,f,y,w){if(!w||!y)return;const{min:C,mid:A,max:k}=y,R=w[C],V=w[A],W=w[k];if(R&&V&&W)for(let X=l;X<f;X++)this.zoomInPaintVertexArray.emplace(X,V.tl[0],V.tl[1],V.br[0],V.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],V.pixelRatio,R.pixelRatio),this.zoomOutPaintVertexArray.emplace(X,V.tl[0],V.tl[1],V.br[0],V.br[1],W.tl[0],W.tl[1],W.br[0],W.br[1],V.pixelRatio,W.pixelRatio)}upload(l){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,si.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,si.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class kP{constructor(l,f,y){this.binders={},this._buffers=[];const w=[];for(const C in l.paint._values){if(!y(C))continue;const A=l.paint.get(C);if(!(A instanceof ra&&fn(A.property.specification)))continue;const k=eV(C,l.type),R=A.value,V=A.property.specification.type,W=A.property.useIntegerZoom,X=A.property.specification["property-type"],Q=X==="cross-faded"||X==="cross-faded-data-driven";if(R.kind==="constant")this.binders[C]=Q?new sf(R.value,k):new Lp(R.value,k,V),w.push(`/u_${C}`);else if(R.kind==="source"||Q){const te=RP(C,V,"source");this.binders[C]=Q?new au(R,V,W,f,te,l.id):new Qs(R,k,V,te),w.push(`/a_${C}`)}else{const te=RP(C,V,"composite");this.binders[C]=new Ra(R,k,V,W,f,te),w.push(`/z_${C}`)}}this.cacheKey=w.sort().join("")}getMaxValue(l){const f=this.binders[l];return f instanceof Qs||f instanceof Ra?f.maxValue:0}populatePaintArrays(l,f,y,w,C){for(const A in this.binders){const k=this.binders[A];(k instanceof Qs||k instanceof Ra||k instanceof au)&&k.populatePaintArray(l,f,y,w,C)}}setConstantPatternPositions(l,f){for(const y in this.binders){const w=this.binders[y];w instanceof sf&&w.setConstantPatternPositions(l,f)}}updatePaintArrays(l,f,y,w,C){let A=!1;for(const k in l){const R=f.getPositions(k);for(const V of R){const W=y.feature(V.index);for(const X in this.binders){const Q=this.binders[X];if((Q instanceof Qs||Q instanceof Ra||Q instanceof au)&&Q.expression.isStateDependent===!0){const te=w.paint.get(X);Q.expression=te.value,Q.updatePaintArray(V.start,V.end,W,l[k],C),A=!0}}}}return A}defines(){const l=[];for(const f in this.binders){const y=this.binders[f];(y instanceof Lp||y instanceof sf)&&l.push(...y.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return l}getBinderAttributes(){const l=[];for(const f in this.binders){const y=this.binders[f];if(y instanceof Qs||y instanceof Ra)for(let w=0;w<y.paintVertexAttributes.length;w++)l.push(y.paintVertexAttributes[w].name);else if(y instanceof au)for(let w=0;w<si.members.length;w++)l.push(si.members[w].name)}return l}getBinderUniforms(){const l=[];for(const f in this.binders){const y=this.binders[f];if(y instanceof Lp||y instanceof sf||y instanceof Ra)for(const w of y.uniformNames)l.push(w)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,f){const y=[];for(const w in this.binders){const C=this.binders[w];if(C instanceof Lp||C instanceof sf||C instanceof Ra){for(const A of C.uniformNames)if(f[A]){const k=C.getBinding(l,f[A],A);y.push({name:A,property:w,binding:k})}}}return y}setUniforms(l,f,y,w){for(const{name:C,property:A,binding:k}of f)this.binders[A].setUniform(k,w,y.get(A),C)}updatePaintBuffers(l){this._buffers=[];for(const f in this.binders){const y=this.binders[f];if(l&&y instanceof au){const w=l.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(y instanceof Qs||y instanceof Ra)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(l){for(const f in this.binders){const y=this.binders[f];(y instanceof Qs||y instanceof Ra||y instanceof au)&&y.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const f=this.binders[l];(f instanceof Qs||f instanceof Ra||f instanceof au)&&f.destroy()}}}class gc{constructor(l,f,y=()=>!0){this.programConfigurations={};for(const w of l)this.programConfigurations[w.id]=new kP(w,f,y);this.needsUpload=!1,this._featureMap=new ou,this._bufferOffset=0}populatePaintArrays(l,f,y,w,C,A){for(const k in this.programConfigurations)this.programConfigurations[k].populatePaintArrays(l,f,w,C,A);f.id!==void 0&&this._featureMap.add(f.id,y,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,f,y,w){for(const C of y)this.needsUpload=this.programConfigurations[C.id].updatePaintArrays(l,this._featureMap,f,C,w)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function eV(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function RP(c,l,f){const y={color:{source:b,composite:Ue},number:{source:ve,composite:b}},w=function(C){return{"line-pattern":{source:ai,composite:ai},"fill-pattern":{source:ai,composite:ai},"fill-extrusion-pattern":{source:ai,composite:ai}}[C]}(c);return w&&w[f]||y[l][f]}$t("ConstantBinder",Lp),$t("CrossFadedConstantBinder",sf),$t("SourceExpressionBinder",Qs),$t("CrossFadedCompositeBinder",au),$t("CompositeExpressionBinder",Ra),$t("ProgramConfiguration",kP,{omit:["_buffers"]}),$t("ProgramConfigurationSet",gc);var Qn=8192;const cx=Math.pow(2,14)-1,zP=-cx-1;function yc(c){const l=Qn/c.extent,f=c.loadGeometry();for(let y=0;y<f.length;y++){const w=f[y];for(let C=0;C<w.length;C++){const A=w[C],k=Math.round(A.x*l),R=Math.round(A.y*l);A.x=g(k,zP,cx),A.y=g(R,zP,cx),(k<A.x||k>A.x+1||R<A.y||R>A.y+1)&&F("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function _c(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?yc(c):[]}}function hy(c,l,f,y,w){c.emplaceBack(2*l+(y+1)/2,2*f+(w+1)/2)}class hx{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new qr,this.indexArray=new Ui,this.segments=new Cr,this.programConfigurations=new gc(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,y){const w=this.layers[0],C=[];let A=null,k=!1;w.type==="circle"&&(A=w.layout.get("circle-sort-key"),k=!A.isConstant());for(const{feature:R,id:V,index:W,sourceLayerIndex:X}of l){const Q=this.layers[0]._featureFilter.needGeometry,te=_c(R,Q);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),te,y))continue;const re=k?A.evaluate(te,{},y):void 0,we={id:V,properties:R.properties,type:R.type,sourceLayerIndex:X,index:W,geometry:Q?te.geometry:yc(R),patterns:{},sortKey:re};C.push(we)}k&&C.sort((R,V)=>R.sortKey-V.sortKey);for(const R of C){const{geometry:V,index:W,sourceLayerIndex:X}=R,Q=l[W].feature;this.addFeature(R,V,W,y),f.featureIndex.insert(Q,V,W,X,this.index)}}update(l,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,Jn),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,f,y,w){for(const C of f)for(const A of C){const k=A.x,R=A.y;if(k<0||k>=Qn||R<0||R>=Qn)continue;const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,l.sortKey),W=V.vertexLength;hy(this.layoutVertexArray,k,R,-1,-1),hy(this.layoutVertexArray,k,R,1,-1),hy(this.layoutVertexArray,k,R,1,1),hy(this.layoutVertexArray,k,R,-1,1),this.indexArray.emplaceBack(W,W+1,W+2),this.indexArray.emplaceBack(W,W+3,W+2),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,{},w)}}function $P(c,l){for(let f=0;f<c.length;f++)if(lf(l,c[f]))return!0;for(let f=0;f<l.length;f++)if(lf(c,l[f]))return!0;return!!fx(c,l)}function tV(c,l,f){return!!lf(c,l)||!!dx(l,c,f)}function BP(c,l){if(c.length===1)return NP(l,c[0]);for(let f=0;f<l.length;f++){const y=l[f];for(let w=0;w<y.length;w++)if(lf(c,y[w]))return!0}for(let f=0;f<c.length;f++)if(NP(l,c[f]))return!0;for(let f=0;f<l.length;f++)if(fx(c,l[f]))return!0;return!1}function rV(c,l,f){if(c.length>1){if(fx(c,l))return!0;for(let y=0;y<l.length;y++)if(dx(l[y],c,f))return!0}for(let y=0;y<c.length;y++)if(dx(c[y],l,f))return!0;return!1}function fx(c,l){if(c.length===0||l.length===0)return!1;for(let f=0;f<c.length-1;f++){const y=c[f],w=c[f+1];for(let C=0;C<l.length-1;C++)if(nV(y,w,l[C],l[C+1]))return!0}return!1}function nV(c,l,f,y){return N(c,f,y)!==N(l,f,y)&&N(c,l,f)!==N(c,l,y)}function dx(c,l,f){const y=f*f;if(l.length===1)return c.distSqr(l[0])<y;for(let w=1;w<l.length;w++)if(FP(c,l[w-1],l[w])<y)return!0;return!1}function FP(c,l,f){const y=l.distSqr(f);if(y===0)return c.distSqr(l);const w=((c.x-l.x)*(f.x-l.x)+(c.y-l.y)*(f.y-l.y))/y;return c.distSqr(w<0?l:w>1?f:f.sub(l)._mult(w)._add(l))}function NP(c,l){let f,y,w,C=!1;for(let A=0;A<c.length;A++){f=c[A];for(let k=0,R=f.length-1;k<f.length;R=k++)y=f[k],w=f[R],y.y>l.y!=w.y>l.y&&l.x<(w.x-y.x)*(l.y-y.y)/(w.y-y.y)+y.x&&(C=!C)}return C}function lf(c,l){let f=!1;for(let y=0,w=c.length-1;y<c.length;w=y++){const C=c[y],A=c[w];C.y>l.y!=A.y>l.y&&l.x<(A.x-C.x)*(l.y-C.y)/(A.y-C.y)+C.x&&(f=!f)}return f}function iV(c,l,f){const y=f[0],w=f[2];if(c.x<y.x&&l.x<y.x||c.x>w.x&&l.x>w.x||c.y<y.y&&l.y<y.y||c.y>w.y&&l.y>w.y)return!1;const C=N(c,l,f[0]);return C!==N(c,l,f[1])||C!==N(c,l,f[2])||C!==N(c,l,f[3])}function Op(c,l,f){const y=l.paint.get(c).value;return y.kind==="constant"?y.value:f.programConfigurations.get(l.id).getMaxValue(c)}function fy(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function dy(c,l,f,y,w){if(!l[0]&&!l[1])return c;const C=ce.convert(l)._mult(w);f==="viewport"&&C._rotate(-y);const A=[];for(let k=0;k<c.length;k++)A.push(c[k].sub(C));return A}$t("CircleBucket",hx,{omit:["layers"]});const oV=new mi({"circle-sort-key":new tr(Re.layout_circle["circle-sort-key"])});var aV={paint:new mi({"circle-radius":new tr(Re.paint_circle["circle-radius"]),"circle-color":new tr(Re.paint_circle["circle-color"]),"circle-blur":new tr(Re.paint_circle["circle-blur"]),"circle-opacity":new tr(Re.paint_circle["circle-opacity"]),"circle-translate":new jt(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new jt(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jt(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jt(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new tr(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new tr(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new tr(Re.paint_circle["circle-stroke-opacity"])}),layout:oV},Hi=1e-6,ji=typeof Float32Array<"u"?Float32Array:Array;function VP(){var c=new ji(9);return ji!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function px(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function UP(c,l,f){var y=l[0],w=l[1],C=l[2],A=l[3],k=l[4],R=l[5],V=l[6],W=l[7],X=l[8],Q=l[9],te=l[10],re=l[11],we=l[12],xe=l[13],ke=l[14],He=l[15],Le=f[0],Ne=f[1],ot=f[2],it=f[3];return c[0]=Le*y+Ne*k+ot*X+it*we,c[1]=Le*w+Ne*R+ot*Q+it*xe,c[2]=Le*C+Ne*V+ot*te+it*ke,c[3]=Le*A+Ne*W+ot*re+it*He,c[4]=(Le=f[4])*y+(Ne=f[5])*k+(ot=f[6])*X+(it=f[7])*we,c[5]=Le*w+Ne*R+ot*Q+it*xe,c[6]=Le*C+Ne*V+ot*te+it*ke,c[7]=Le*A+Ne*W+ot*re+it*He,c[8]=(Le=f[8])*y+(Ne=f[9])*k+(ot=f[10])*X+(it=f[11])*we,c[9]=Le*w+Ne*R+ot*Q+it*xe,c[10]=Le*C+Ne*V+ot*te+it*ke,c[11]=Le*A+Ne*W+ot*re+it*He,c[12]=(Le=f[12])*y+(Ne=f[13])*k+(ot=f[14])*X+(it=f[15])*we,c[13]=Le*w+Ne*R+ot*Q+it*xe,c[14]=Le*C+Ne*V+ot*te+it*ke,c[15]=Le*A+Ne*W+ot*re+it*He,c}Math.hypot||(Math.hypot=function(){for(var c=0,l=arguments.length;l--;)c+=arguments[l]*arguments[l];return Math.sqrt(c)});var kp,sV=UP;function HP(){var c=new ji(3);return ji!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function jP(c,l,f){var y=new ji(3);return y[0]=c,y[1]=l,y[2]=f,y}function py(c,l,f){var y=l[0],w=l[1],C=l[2],A=l[3];return c[0]=f[0]*y+f[4]*w+f[8]*C+f[12]*A,c[1]=f[1]*y+f[5]*w+f[9]*C+f[13]*A,c[2]=f[2]*y+f[6]*w+f[10]*C+f[14]*A,c[3]=f[3]*y+f[7]*w+f[11]*C+f[15]*A,c}function GP(){var c=new ji(4);return ji!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function WP(c,l){const f=py([],[c.x,c.y,0,1],l);return new ce(f[0]/f[3],f[1]/f[3])}HP(),kp=new ji(4),ji!=Float32Array&&(kp[0]=0,kp[1]=0,kp[2]=0,kp[3]=0),HP(),jP(1,0,0),jP(0,1,0),GP(),GP(),VP(),function(){var c;c=new ji(2),ji!=Float32Array&&(c[0]=0,c[1]=0)}();class qP extends hx{}$t("HeatmapBucket",qP,{omit:["layers"]});var lV={paint:new mi({"heatmap-radius":new tr(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new tr(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jt(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new fs(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jt(Re.paint_heatmap["heatmap-opacity"])})};function mx(c,{width:l,height:f},y,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==l*f*y)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${l*f*y}`)}else w=new Uint8Array(l*f*y);return c.width=l,c.height=f,c.data=w,c}function XP(c,{width:l,height:f},y){if(l===c.width&&f===c.height)return;const w=mx({},{width:l,height:f},y);vx(c,w,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,f)},y),c.width=l,c.height=f,c.data=w.data}function vx(c,l,f,y,w,C){if(w.width===0||w.height===0)return l;if(w.width>c.width||w.height>c.height||f.x>c.width-w.width||f.y>c.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>l.width||w.height>l.height||y.x>l.width-w.width||y.y>l.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const A=c.data,k=l.data;if(A===k)throw new Error("srcData equals dstData, so image is already copied");for(let R=0;R<w.height;R++){const V=((f.y+R)*c.width+f.x)*C,W=((y.y+R)*l.width+y.x)*C;for(let X=0;X<w.width*C;X++)k[W+X]=A[V+X]}return l}class Rp{constructor(l,f){mx(this,l,1,f)}resize(l){XP(this,l,1)}clone(){return new Rp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,y,w,C){vx(l,f,y,w,C,1)}}class Vo{constructor(l,f){mx(this,l,4,f)}resize(l){XP(this,l,4)}replace(l,f){f?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new Vo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,f,y,w,C){vx(l,f,y,w,C,4)}}function ZP(c){const l={},f=c.resolution||256,y=c.clips?c.clips.length:1,w=c.image||new Vo({width:f,height:y});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const C=(A,k,R)=>{l[c.evaluationKey]=R;const V=c.expression.evaluate(l);w.data[A+k+0]=Math.floor(255*V.r/V.a),w.data[A+k+1]=Math.floor(255*V.g/V.a),w.data[A+k+2]=Math.floor(255*V.b/V.a),w.data[A+k+3]=Math.floor(255*V.a)};if(c.clips)for(let A=0,k=0;A<y;++A,k+=4*f)for(let R=0,V=0;R<f;R++,V+=4){const W=R/(f-1),{start:X,end:Q}=c.clips[A];C(k,V,X*(1-W)+Q*W)}else for(let A=0,k=0;A<f;A++,k+=4)C(0,k,A/(f-1));return w}$t("AlphaImage",Rp),$t("RGBAImage",Vo);var uV={paint:new mi({"hillshade-illumination-direction":new jt(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jt(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jt(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jt(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jt(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jt(Re.paint_hillshade["hillshade-accent-color"])})};const cV=Gn([{name:"a_pos",components:2,type:"Int16"}],4),{members:hV}=cV;var my={exports:{}};function vy(c,l,f){f=f||2;var y,w,C,A,k,R,V,W=l&&l.length,X=W?l[0]*f:c.length,Q=KP(c,0,X,f,!0),te=[];if(!Q||Q.next===Q.prev)return te;if(W&&(Q=function(we,xe,ke,He){var Le,Ne,ot,it=[];for(Le=0,Ne=xe.length;Le<Ne;Le++)(ot=KP(we,xe[Le]*He,Le<Ne-1?xe[Le+1]*He:we.length,He,!1))===ot.next&&(ot.steiner=!0),it.push(_V(ot));for(it.sort(vV),Le=0;Le<it.length;Le++)ke=gV(it[Le],ke);return ke}(c,l,Q,f)),c.length>80*f){y=C=c[0],w=A=c[1];for(var re=f;re<X;re+=f)(k=c[re])<y&&(y=k),(R=c[re+1])<w&&(w=R),k>C&&(C=k),R>A&&(A=R);V=(V=Math.max(C-y,A-w))!==0?32767/V:0}return zp(Q,te,f,y,w,V,0),te}function KP(c,l,f,y,w){var C,A;if(w===_x(c,l,f,y)>0)for(C=l;C<f;C+=y)A=QP(C,c[C],c[C+1],A);else for(C=f-y;C>=l;C-=y)A=QP(C,c[C],c[C+1],A);return A&&gy(A,A.next)&&(Bp(A),A=A.next),A}function bc(c,l){if(!c)return c;l||(l=c);var f,y=c;do if(f=!1,y.steiner||!gy(y,y.next)&&Vn(y.prev,y,y.next)!==0)y=y.next;else{if(Bp(y),(y=l=y.prev)===y.next)break;f=!0}while(f||y!==l);return l}function zp(c,l,f,y,w,C,A){if(c){!A&&C&&function(W,X,Q,te){var re=W;do re.z===0&&(re.z=gx(re.x,re.y,X,Q,te)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==W);re.prevZ.nextZ=null,re.prevZ=null,function(we){var xe,ke,He,Le,Ne,ot,it,kt,Vt=1;do{for(ke=we,we=null,Ne=null,ot=0;ke;){for(ot++,He=ke,it=0,xe=0;xe<Vt&&(it++,He=He.nextZ);xe++);for(kt=Vt;it>0||kt>0&&He;)it!==0&&(kt===0||!He||ke.z<=He.z)?(Le=ke,ke=ke.nextZ,it--):(Le=He,He=He.nextZ,kt--),Ne?Ne.nextZ=Le:we=Le,Le.prevZ=Ne,Ne=Le;ke=He}Ne.nextZ=null,Vt*=2}while(ot>1)}(re)}(c,y,w,C);for(var k,R,V=c;c.prev!==c.next;)if(k=c.prev,R=c.next,C?dV(c,y,w,C):fV(c))l.push(k.i/f|0),l.push(c.i/f|0),l.push(R.i/f|0),Bp(c),c=R.next,V=R.next;else if((c=R)===V){A?A===1?zp(c=pV(bc(c),l,f),l,f,y,w,C,2):A===2&&mV(c,l,f,y,w,C):zp(bc(c),l,f,y,w,C,1);break}}}function fV(c){var l=c.prev,f=c,y=c.next;if(Vn(l,f,y)>=0)return!1;for(var w=l.x,C=f.x,A=y.x,k=l.y,R=f.y,V=y.y,W=w<C?w<A?w:A:C<A?C:A,X=k<R?k<V?k:V:R<V?R:V,Q=w>C?w>A?w:A:C>A?C:A,te=k>R?k>V?k:V:R>V?R:V,re=y.next;re!==l;){if(re.x>=W&&re.x<=Q&&re.y>=X&&re.y<=te&&uf(w,k,C,R,A,V,re.x,re.y)&&Vn(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function dV(c,l,f,y){var w=c.prev,C=c,A=c.next;if(Vn(w,C,A)>=0)return!1;for(var k=w.x,R=C.x,V=A.x,W=w.y,X=C.y,Q=A.y,te=k<R?k<V?k:V:R<V?R:V,re=W<X?W<Q?W:Q:X<Q?X:Q,we=k>R?k>V?k:V:R>V?R:V,xe=W>X?W>Q?W:Q:X>Q?X:Q,ke=gx(te,re,l,f,y),He=gx(we,xe,l,f,y),Le=c.prevZ,Ne=c.nextZ;Le&&Le.z>=ke&&Ne&&Ne.z<=He;){if(Le.x>=te&&Le.x<=we&&Le.y>=re&&Le.y<=xe&&Le!==w&&Le!==A&&uf(k,W,R,X,V,Q,Le.x,Le.y)&&Vn(Le.prev,Le,Le.next)>=0||(Le=Le.prevZ,Ne.x>=te&&Ne.x<=we&&Ne.y>=re&&Ne.y<=xe&&Ne!==w&&Ne!==A&&uf(k,W,R,X,V,Q,Ne.x,Ne.y)&&Vn(Ne.prev,Ne,Ne.next)>=0))return!1;Ne=Ne.nextZ}for(;Le&&Le.z>=ke;){if(Le.x>=te&&Le.x<=we&&Le.y>=re&&Le.y<=xe&&Le!==w&&Le!==A&&uf(k,W,R,X,V,Q,Le.x,Le.y)&&Vn(Le.prev,Le,Le.next)>=0)return!1;Le=Le.prevZ}for(;Ne&&Ne.z<=He;){if(Ne.x>=te&&Ne.x<=we&&Ne.y>=re&&Ne.y<=xe&&Ne!==w&&Ne!==A&&uf(k,W,R,X,V,Q,Ne.x,Ne.y)&&Vn(Ne.prev,Ne,Ne.next)>=0)return!1;Ne=Ne.nextZ}return!0}function pV(c,l,f){var y=c;do{var w=y.prev,C=y.next.next;!gy(w,C)&&YP(w,y,y.next,C)&&$p(w,C)&&$p(C,w)&&(l.push(w.i/f|0),l.push(y.i/f|0),l.push(C.i/f|0),Bp(y),Bp(y.next),y=c=C),y=y.next}while(y!==c);return bc(y)}function mV(c,l,f,y,w,C){var A=c;do{for(var k=A.next.next;k!==A.prev;){if(A.i!==k.i&&bV(A,k)){var R=JP(A,k);return A=bc(A,A.next),R=bc(R,R.next),zp(A,l,f,y,w,C,0),void zp(R,l,f,y,w,C,0)}k=k.next}A=A.next}while(A!==c)}function vV(c,l){return c.x-l.x}function gV(c,l){var f=function(w,C){var A,k=C,R=w.x,V=w.y,W=-1/0;do{if(V<=k.y&&V>=k.next.y&&k.next.y!==k.y){var X=k.x+(V-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(X<=R&&X>W&&(W=X,A=k.x<k.next.x?k:k.next,X===R))return A}k=k.next}while(k!==C);if(!A)return null;var Q,te=A,re=A.x,we=A.y,xe=1/0;k=A;do R>=k.x&&k.x>=re&&R!==k.x&&uf(V<we?R:W,V,re,we,V<we?W:R,V,k.x,k.y)&&(Q=Math.abs(V-k.y)/(R-k.x),$p(k,w)&&(Q<xe||Q===xe&&(k.x>A.x||k.x===A.x&&yV(A,k)))&&(A=k,xe=Q)),k=k.next;while(k!==te);return A}(c,l);if(!f)return l;var y=JP(f,c);return bc(y,y.next),bc(f,f.next)}function yV(c,l){return Vn(c.prev,c,l.prev)<0&&Vn(l.next,c,c.next)<0}function gx(c,l,f,y,w){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-f)*w|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-y)*w|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function _V(c){var l=c,f=c;do(l.x<f.x||l.x===f.x&&l.y<f.y)&&(f=l),l=l.next;while(l!==c);return f}function uf(c,l,f,y,w,C,A,k){return(w-A)*(l-k)>=(c-A)*(C-k)&&(c-A)*(y-k)>=(f-A)*(l-k)&&(f-A)*(C-k)>=(w-A)*(y-k)}function bV(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!function(f,y){var w=f;do{if(w.i!==f.i&&w.next.i!==f.i&&w.i!==y.i&&w.next.i!==y.i&&YP(w,w.next,f,y))return!0;w=w.next}while(w!==f);return!1}(c,l)&&($p(c,l)&&$p(l,c)&&function(f,y){var w=f,C=!1,A=(f.x+y.x)/2,k=(f.y+y.y)/2;do w.y>k!=w.next.y>k&&w.next.y!==w.y&&A<(w.next.x-w.x)*(k-w.y)/(w.next.y-w.y)+w.x&&(C=!C),w=w.next;while(w!==f);return C}(c,l)&&(Vn(c.prev,c,l.prev)||Vn(c,l.prev,l))||gy(c,l)&&Vn(c.prev,c,c.next)>0&&Vn(l.prev,l,l.next)>0)}function Vn(c,l,f){return(l.y-c.y)*(f.x-l.x)-(l.x-c.x)*(f.y-l.y)}function gy(c,l){return c.x===l.x&&c.y===l.y}function YP(c,l,f,y){var w=_y(Vn(c,l,f)),C=_y(Vn(c,l,y)),A=_y(Vn(f,y,c)),k=_y(Vn(f,y,l));return w!==C&&A!==k||!(w!==0||!yy(c,f,l))||!(C!==0||!yy(c,y,l))||!(A!==0||!yy(f,c,y))||!(k!==0||!yy(f,l,y))}function yy(c,l,f){return l.x<=Math.max(c.x,f.x)&&l.x>=Math.min(c.x,f.x)&&l.y<=Math.max(c.y,f.y)&&l.y>=Math.min(c.y,f.y)}function _y(c){return c>0?1:c<0?-1:0}function $p(c,l){return Vn(c.prev,c,c.next)<0?Vn(c,l,c.next)>=0&&Vn(c,c.prev,l)>=0:Vn(c,l,c.prev)<0||Vn(c,c.next,l)<0}function JP(c,l){var f=new yx(c.i,c.x,c.y),y=new yx(l.i,l.x,l.y),w=c.next,C=l.prev;return c.next=l,l.prev=c,f.next=w,w.prev=f,y.next=f,f.prev=y,C.next=y,y.prev=C,y}function QP(c,l,f,y){var w=new yx(c,l,f);return y?(w.next=y.next,w.prev=y,y.next.prev=w,y.next=w):(w.prev=w,w.next=w),w}function Bp(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function yx(c,l,f){this.i=c,this.x=l,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _x(c,l,f,y){for(var w=0,C=l,A=f-y;C<f;C+=y)w+=(c[A]-c[C])*(c[C+1]+c[A+1]),A=C;return w}function xV(c,l,f,y,w){eI(c,l,f||0,y||c.length-1,w||wV)}function eI(c,l,f,y,w){for(;y>f;){if(y-f>600){var C=y-f+1,A=l-f+1,k=Math.log(C),R=.5*Math.exp(2*k/3),V=.5*Math.sqrt(k*R*(C-R)/C)*(A-C/2<0?-1:1);eI(c,l,Math.max(f,Math.floor(l-A*R/C+V)),Math.min(y,Math.floor(l+(C-A)*R/C+V)),w)}var W=c[l],X=f,Q=y;for(Fp(c,f,l),w(c[y],W)>0&&Fp(c,f,y);X<Q;){for(Fp(c,X,Q),X++,Q--;w(c[X],W)<0;)X++;for(;w(c[Q],W)>0;)Q--}w(c[f],W)===0?Fp(c,f,Q):Fp(c,++Q,y),Q<=l&&(f=Q+1),l<=Q&&(y=Q-1)}}function Fp(c,l,f){var y=c[l];c[l]=c[f],c[f]=y}function wV(c,l){return c<l?-1:c>l?1:0}function bx(c,l){const f=c.length;if(f<=1)return[c];const y=[];let w,C;for(let A=0;A<f;A++){const k=H(c[A]);k!==0&&(c[A].area=Math.abs(k),C===void 0&&(C=k<0),C===k<0?(w&&y.push(w),w=[c[A]]):w.push(c[A]))}if(w&&y.push(w),l>1)for(let A=0;A<y.length;A++)y[A].length<=l||(xV(y[A],l,1,y[A].length-1,SV),y[A]=y[A].slice(0,l));return y}function SV(c,l){return l.area-c.area}function xx(c,l,f){const y=f.patternDependencies;let w=!1;for(const C of l){const A=C.paint.get(`${c}-pattern`);A.isConstant()||(w=!0);const k=A.constantOr(null);k&&(w=!0,y[k.to]=!0,y[k.from]=!0)}return w}function Sx(c,l,f,y,w){const C=w.patternDependencies;for(const A of l){const k=A.paint.get(`${c}-pattern`).value;if(k.kind!=="constant"){let R=k.evaluate({zoom:y-1},f,{},w.availableImages),V=k.evaluate({zoom:y},f,{},w.availableImages),W=k.evaluate({zoom:y+1},f,{},w.availableImages);R=R&&R.name?R.name:R,V=V&&V.name?V.name:V,W=W&&W.name?W.name:W,C[R]=!0,C[V]=!0,C[W]=!0,f.patterns[A.id]={min:R,mid:V,max:W}}}return f}my.exports=vy,my.exports.default=vy,vy.deviation=function(c,l,f,y){var w=l&&l.length,C=Math.abs(_x(c,0,w?l[0]*f:c.length,f));if(w)for(var A=0,k=l.length;A<k;A++)C-=Math.abs(_x(c,l[A]*f,A<k-1?l[A+1]*f:c.length,f));var R=0;for(A=0;A<y.length;A+=3){var V=y[A]*f,W=y[A+1]*f,X=y[A+2]*f;R+=Math.abs((c[V]-c[X])*(c[W+1]-c[V+1])-(c[V]-c[W])*(c[X+1]-c[V+1]))}return C===0&&R===0?0:Math.abs((R-C)/C)},vy.flatten=function(c){for(var l=c[0][0].length,f={vertices:[],holes:[],dimensions:l},y=0,w=0;w<c.length;w++){for(var C=0;C<c[w].length;C++)for(var A=0;A<l;A++)f.vertices.push(c[w][C][A]);w>0&&f.holes.push(y+=c[w-1].length)}return f};class Tx{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Xr,this.indexArray=new Ui,this.indexArray2=new ka,this.programConfigurations=new gc(l.layers,l.zoom),this.segments=new Cr,this.segments2=new Cr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,y){this.hasPattern=xx("fill",this.layers,f);const w=this.layers[0].layout.get("fill-sort-key"),C=!w.isConstant(),A=[];for(const{feature:k,id:R,index:V,sourceLayerIndex:W}of l){const X=this.layers[0]._featureFilter.needGeometry,Q=_c(k,X);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),Q,y))continue;const te=C?w.evaluate(Q,{},y,f.availableImages):void 0,re={id:R,properties:k.properties,type:k.type,sourceLayerIndex:W,index:V,geometry:X?Q.geometry:yc(k),patterns:{},sortKey:te};A.push(re)}C&&A.sort((k,R)=>k.sortKey-R.sortKey);for(const k of A){const{geometry:R,index:V,sourceLayerIndex:W}=k;if(this.hasPattern){const X=Sx("fill",this.layers,k,this.zoom,f);this.patternFeatures.push(X)}else this.addFeature(k,R,V,y,{});f.featureIndex.insert(l[V].feature,R,V,W,this.index)}}update(l,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,y)}addFeatures(l,f,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,f,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,hV),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,f,y,w,C){for(const A of bx(f,500)){let k=0;for(const te of A)k+=te.length;const R=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray),V=R.vertexLength,W=[],X=[];for(const te of A){if(te.length===0)continue;te!==A[0]&&X.push(W.length/2);const re=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),we=re.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(we+te.length-1,we),W.push(te[0].x),W.push(te[0].y);for(let xe=1;xe<te.length;xe++)this.layoutVertexArray.emplaceBack(te[xe].x,te[xe].y),this.indexArray2.emplaceBack(we+xe-1,we+xe),W.push(te[xe].x),W.push(te[xe].y);re.vertexLength+=te.length,re.primitiveLength+=te.length}const Q=my.exports(W,X);for(let te=0;te<Q.length;te+=3)this.indexArray.emplaceBack(V+Q[te],V+Q[te+1],V+Q[te+2]);R.vertexLength+=k,R.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,C,w)}}$t("FillBucket",Tx,{omit:["layers","patternFeatures"]});const TV=new mi({"fill-sort-key":new tr(Re.layout_fill["fill-sort-key"])});var CV={paint:new mi({"fill-antialias":new jt(Re.paint_fill["fill-antialias"]),"fill-opacity":new tr(Re.paint_fill["fill-opacity"]),"fill-color":new tr(Re.paint_fill["fill-color"]),"fill-outline-color":new tr(Re.paint_fill["fill-outline-color"]),"fill-translate":new jt(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new jt(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new iu(Re.paint_fill["fill-pattern"])}),layout:TV};const EV=Gn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),AV=Gn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:PV}=EV;var su={},IV=ce,tI=cf;function cf(c,l,f,y,w){this.properties={},this.extent=f,this.type=0,this._pbf=c,this._geometry=-1,this._keys=y,this._values=w,c.readFields(MV,this,l)}function MV(c,l,f){c==1?l.id=f.readVarint():c==2?function(y,w){for(var C=y.readVarint()+y.pos;y.pos<C;){var A=w._keys[y.readVarint()],k=w._values[y.readVarint()];w.properties[A]=k}}(f,l):c==3?l.type=f.readVarint():c==4&&(l._geometry=f.pos)}function DV(c){for(var l,f,y=0,w=0,C=c.length,A=C-1;w<C;A=w++)y+=((f=c[A]).x-(l=c[w]).x)*(l.y+f.y);return y}cf.types=["Unknown","Point","LineString","Polygon"],cf.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var l,f=c.readVarint()+c.pos,y=1,w=0,C=0,A=0,k=[];c.pos<f;){if(w<=0){var R=c.readVarint();y=7&R,w=R>>3}if(w--,y===1||y===2)C+=c.readSVarint(),A+=c.readSVarint(),y===1&&(l&&k.push(l),l=[]),l.push(new IV(C,A));else{if(y!==7)throw new Error("unknown command "+y);l&&l.push(l[0].clone())}}return l&&k.push(l),k},cf.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var l=c.readVarint()+c.pos,f=1,y=0,w=0,C=0,A=1/0,k=-1/0,R=1/0,V=-1/0;c.pos<l;){if(y<=0){var W=c.readVarint();f=7&W,y=W>>3}if(y--,f===1||f===2)(w+=c.readSVarint())<A&&(A=w),w>k&&(k=w),(C+=c.readSVarint())<R&&(R=C),C>V&&(V=C);else if(f!==7)throw new Error("unknown command "+f)}return[A,R,k,V]},cf.prototype.toGeoJSON=function(c,l,f){var y,w,C=this.extent*Math.pow(2,f),A=this.extent*c,k=this.extent*l,R=this.loadGeometry(),V=cf.types[this.type];function W(te){for(var re=0;re<te.length;re++){var we=te[re];te[re]=[360*(we.x+A)/C-180,360/Math.PI*Math.atan(Math.exp((180-360*(we.y+k)/C)*Math.PI/180))-90]}}switch(this.type){case 1:var X=[];for(y=0;y<R.length;y++)X[y]=R[y][0];W(R=X);break;case 2:for(y=0;y<R.length;y++)W(R[y]);break;case 3:for(R=function(te){var re=te.length;if(re<=1)return[te];for(var we,xe,ke=[],He=0;He<re;He++){var Le=DV(te[He]);Le!==0&&(xe===void 0&&(xe=Le<0),xe===Le<0?(we&&ke.push(we),we=[te[He]]):we.push(te[He]))}return we&&ke.push(we),ke}(R),y=0;y<R.length;y++)for(w=0;w<R[y].length;w++)W(R[y][w])}R.length===1?R=R[0]:V="Multi"+V;var Q={type:"Feature",geometry:{type:V,coordinates:R},properties:this.properties};return"id"in this&&(Q.id=this.id),Q};var LV=tI,rI=nI;function nI(c,l){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(OV,this,l),this.length=this._features.length}function OV(c,l,f){c===15?l.version=f.readVarint():c===1?l.name=f.readString():c===5?l.extent=f.readVarint():c===2?l._features.push(f.pos):c===3?l._keys.push(f.readString()):c===4&&l._values.push(function(y){for(var w=null,C=y.readVarint()+y.pos;y.pos<C;){var A=y.readVarint()>>3;w=A===1?y.readString():A===2?y.readFloat():A===3?y.readDouble():A===4?y.readVarint64():A===5?y.readVarint():A===6?y.readSVarint():A===7?y.readBoolean():null}return w}(f))}nI.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var l=this._pbf.readVarint()+this._pbf.pos;return new LV(this._pbf,l,this.extent,this._keys,this._values)};var kV=rI;function RV(c,l,f){if(c===3){var y=new kV(f,f.readVarint()+f.pos);y.length&&(l[y.name]=y)}}su.VectorTile=function(c,l){this.layers=c.readFields(RV,{},l)},su.VectorTileFeature=tI,su.VectorTileLayer=rI;const zV=su.VectorTileFeature.types,Cx=Math.pow(2,13);function Np(c,l,f,y,w,C,A,k){c.emplaceBack(l,f,2*Math.floor(y*Cx)+A,w*Cx*2,C*Cx*2,Math.round(k))}class Ex{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.layoutVertexArray=new Ir,this.centroidVertexArray=new Kt,this.indexArray=new Ui,this.programConfigurations=new gc(l.layers,l.zoom),this.segments=new Cr,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,y){this.features=[],this.hasPattern=xx("fill-extrusion",this.layers,f);for(const{feature:w,id:C,index:A,sourceLayerIndex:k}of l){const R=this.layers[0]._featureFilter.needGeometry,V=_c(w,R);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),V,y))continue;const W={id:C,sourceLayerIndex:k,index:A,geometry:R?V.geometry:yc(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(Sx("fill-extrusion",this.layers,W,this.zoom,f)):this.addFeature(W,W.geometry,A,y,{}),f.featureIndex.insert(w,W.geometry,A,k,this.index,!0)}}addFeatures(l,f,y){for(const w of this.features){const{geometry:C}=w;this.addFeature(w,C,w.index,f,y)}}update(l,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,y)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,PV),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,AV.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,f,y,w,C){const A={x:0,y:0,vertexCount:0};for(const k of bx(f,500)){let R=0;for(const re of k)R+=re.length;let V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const re of k){if(re.length===0||BV(re))continue;let we=0;for(let xe=0;xe<re.length;xe++){const ke=re[xe];if(xe>=1){const He=re[xe-1];if(!$V(ke,He)){V.vertexLength+4>Cr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Le=ke.sub(He)._perp()._unit(),Ne=He.dist(ke);we+Ne>32768&&(we=0),Np(this.layoutVertexArray,ke.x,ke.y,Le.x,Le.y,0,0,we),Np(this.layoutVertexArray,ke.x,ke.y,Le.x,Le.y,0,1,we),A.x+=2*ke.x,A.y+=2*ke.y,A.vertexCount+=2,we+=Ne,Np(this.layoutVertexArray,He.x,He.y,Le.x,Le.y,0,0,we),Np(this.layoutVertexArray,He.x,He.y,Le.x,Le.y,0,1,we),A.x+=2*He.x,A.y+=2*He.y,A.vertexCount+=2;const ot=V.vertexLength;this.indexArray.emplaceBack(ot,ot+2,ot+1),this.indexArray.emplaceBack(ot+1,ot+2,ot+3),V.vertexLength+=4,V.primitiveLength+=2}}}}if(V.vertexLength+R>Cr.MAX_VERTEX_ARRAY_LENGTH&&(V=this.segments.prepareSegment(R,this.layoutVertexArray,this.indexArray)),zV[l.type]!=="Polygon")continue;const W=[],X=[],Q=V.vertexLength;for(const re of k)if(re.length!==0){re!==k[0]&&X.push(W.length/2);for(let we=0;we<re.length;we++){const xe=re[we];Np(this.layoutVertexArray,xe.x,xe.y,0,0,1,1,0),A.x+=xe.x,A.y+=xe.y,A.vertexCount+=1,W.push(xe.x),W.push(xe.y)}}const te=my.exports(W,X);for(let re=0;re<te.length;re+=3)this.indexArray.emplaceBack(Q+te[re],Q+te[re+2],Q+te[re+1]);V.primitiveLength+=te.length/3,V.vertexLength+=R}for(let k=0;k<A.vertexCount;k++)this.centroidVertexArray.emplaceBack(Math.floor(A.x/A.vertexCount),Math.floor(A.y/A.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,C,w)}}function $V(c,l){return c.x===l.x&&(c.x<0||c.x>Qn)||c.y===l.y&&(c.y<0||c.y>Qn)}function BV(c){return c.every(l=>l.x<0)||c.every(l=>l.x>Qn)||c.every(l=>l.y<0)||c.every(l=>l.y>Qn)}$t("FillExtrusionBucket",Ex,{omit:["layers","features"]});var FV={paint:new mi({"fill-extrusion-opacity":new jt(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new tr(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jt(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jt(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new iu(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new tr(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new tr(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jt(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Vp(c,l){return c.x*l.x+c.y*l.y}function iI(c,l){if(c.length===1){let f=0;const y=l[f++];let w;for(;!w||y.equals(w);)if(w=l[f++],!w)return 1/0;for(;f<l.length;f++){const C=l[f],A=c[0],k=w.sub(y),R=C.sub(y),V=A.sub(y),W=Vp(k,k),X=Vp(k,R),Q=Vp(R,R),te=Vp(V,k),re=Vp(V,R),we=W*Q-X*X,xe=(Q*te-X*re)/we,ke=(W*re-X*te)/we,He=y.z*(1-xe-ke)+w.z*xe+C.z*ke;if(isFinite(He))return He}return 1/0}{let f=1/0;for(const y of l)f=Math.min(f,y.z);return f}}const NV=Gn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:VV}=NV,UV=Gn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:HV}=UV,jV=su.VectorTileFeature.types,GV=Math.cos(Math.PI/180*37.5),oI=Math.pow(2,14)/.5;class Ax{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(f=>f.id),this.index=l.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new kr,this.layoutVertexArray2=new Jr,this.indexArray=new Ui,this.programConfigurations=new gc(l.layers,l.zoom),this.segments=new Cr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(l,f,y){this.hasPattern=xx("line",this.layers,f);const w=this.layers[0].layout.get("line-sort-key"),C=!w.isConstant(),A=[];for(const{feature:k,id:R,index:V,sourceLayerIndex:W}of l){const X=this.layers[0]._featureFilter.needGeometry,Q=_c(k,X);if(!this.layers[0]._featureFilter.filter(new wn(this.zoom),Q,y))continue;const te=C?w.evaluate(Q,{},y):void 0,re={id:R,properties:k.properties,type:k.type,sourceLayerIndex:W,index:V,geometry:X?Q.geometry:yc(k),patterns:{},sortKey:te};A.push(re)}C&&A.sort((k,R)=>k.sortKey-R.sortKey);for(const k of A){const{geometry:R,index:V,sourceLayerIndex:W}=k;if(this.hasPattern){const X=Sx("line",this.layers,k,this.zoom,f);this.patternFeatures.push(X)}else this.addFeature(k,R,V,y,{});f.featureIndex.insert(l[V].feature,R,V,W,this.index)}}update(l,f,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,f,this.stateDependentLayers,y)}addFeatures(l,f,y){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,f,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,HV)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,VV),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,f,y,w,C){const A=this.layers[0].layout,k=A.get("line-join").evaluate(l,{}),R=A.get("line-cap"),V=A.get("line-miter-limit"),W=A.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const X of f)this.addLine(X,l,k,R,V,W);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,y,C,w)}addLine(l,f,y,w,C,A){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ke=0;ke<l.length-1;ke++)this.totalDistance+=l[ke].dist(l[ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const k=jV[f.type]==="Polygon";let R=l.length;for(;R>=2&&l[R-1].equals(l[R-2]);)R--;let V=0;for(;V<R-1&&l[V].equals(l[V+1]);)V++;if(R<(k?3:2))return;y==="bevel"&&(C=1.05);const W=this.overscaling<=16?122880/(512*this.overscaling):0,X=this.segments.prepareSegment(10*R,this.layoutVertexArray,this.indexArray);let Q,te,re,we,xe;this.e1=this.e2=-1,k&&(Q=l[R-2],xe=l[V].sub(Q)._unit()._perp());for(let ke=V;ke<R;ke++){if(re=ke===R-1?k?l[V+1]:void 0:l[ke+1],re&&l[ke].equals(re))continue;xe&&(we=xe),Q&&(te=Q),Q=l[ke],xe=re?re.sub(Q)._unit()._perp():we,we=we||xe;let He=we.add(xe);He.x===0&&He.y===0||He._unit();const Le=we.x*xe.x+we.y*xe.y,Ne=He.x*xe.x+He.y*xe.y,ot=Ne!==0?1/Ne:1/0,it=2*Math.sqrt(2-2*Ne),kt=Ne<GV&&te&&re,Vt=we.x*xe.y-we.y*xe.x>0;if(kt&&ke>V){const yt=Q.dist(te);if(yt>2*W){const At=Q.sub(Q.sub(te)._mult(W/yt)._round());this.updateDistance(te,At),this.addCurrentVertex(At,we,0,0,X),te=At}}const Et=te&&re;let wt=Et?y:k?"butt":w;if(Et&&wt==="round"&&(ot<A?wt="miter":ot<=2&&(wt="fakeround")),wt==="miter"&&ot>C&&(wt="bevel"),wt==="bevel"&&(ot>2&&(wt="flipbevel"),ot<C&&(wt="miter")),te&&this.updateDistance(te,Q),wt==="miter")He._mult(ot),this.addCurrentVertex(Q,He,0,0,X);else if(wt==="flipbevel"){if(ot>100)He=xe.mult(-1);else{const yt=ot*we.add(xe).mag()/we.sub(xe).mag();He._perp()._mult(yt*(Vt?-1:1))}this.addCurrentVertex(Q,He,0,0,X),this.addCurrentVertex(Q,He.mult(-1),0,0,X)}else if(wt==="bevel"||wt==="fakeround"){const yt=-Math.sqrt(ot*ot-1),At=Vt?yt:0,St=Vt?0:yt;if(te&&this.addCurrentVertex(Q,we,At,St,X),wt==="fakeround"){const pt=Math.round(180*it/Math.PI/20);for(let Yt=1;Yt<pt;Yt++){let Gt=Yt/pt;if(Gt!==.5){const dn=Gt-.5;Gt+=Gt*dn*(Gt-1)*((1.0904+Le*(Le*(3.55645-1.43519*Le)-3.2452))*dn*dn+(.848013+Le*(.215638*Le-1.06021)))}const xr=xe.sub(we)._mult(Gt)._add(we)._unit()._mult(Vt?-1:1);this.addHalfVertex(Q,xr.x,xr.y,!1,Vt,0,X)}}re&&this.addCurrentVertex(Q,xe,-At,-St,X)}else if(wt==="butt")this.addCurrentVertex(Q,He,0,0,X);else if(wt==="square"){const yt=te?1:-1;this.addCurrentVertex(Q,He,yt,yt,X)}else wt==="round"&&(te&&(this.addCurrentVertex(Q,we,0,0,X),this.addCurrentVertex(Q,we,1,1,X,!0)),re&&(this.addCurrentVertex(Q,xe,-1,-1,X,!0),this.addCurrentVertex(Q,xe,0,0,X)));if(kt&&ke<R-1){const yt=Q.dist(re);if(yt>2*W){const At=Q.add(re.sub(Q)._mult(W/yt)._round());this.updateDistance(Q,At),this.addCurrentVertex(At,xe,0,0,X),Q=At}}}}addCurrentVertex(l,f,y,w,C,A=!1){const k=f.y*w-f.x,R=-f.y-f.x*w;this.addHalfVertex(l,f.x+f.y*y,f.y-f.x*y,A,!1,y,C),this.addHalfVertex(l,k,R,A,!0,-w,C),this.distance>oI/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(l,f,y,w,C,A))}addHalfVertex({x:l,y:f},y,w,C,A,k,R){const V=.5*(this.lineClips?this.scaledDistance*(oI-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(C?1:0),(f<<1)+(A?1:0),Math.round(63*y)+128,Math.round(63*w)+128,1+(k===0?0:k<0?-1:1)|(63&V)<<2,V>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const W=R.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,W),R.primitiveLength++),A?this.e2=W:this.e1=W}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,f){this.distance+=l.dist(f),this.updateScaledDistance()}}$t("LineBucket",Ax,{omit:["layers","patternFeatures"]});const WV=new mi({"line-cap":new jt(Re.layout_line["line-cap"]),"line-join":new tr(Re.layout_line["line-join"]),"line-miter-limit":new jt(Re.layout_line["line-miter-limit"]),"line-round-limit":new jt(Re.layout_line["line-round-limit"]),"line-sort-key":new tr(Re.layout_line["line-sort-key"])});var aI={paint:new mi({"line-opacity":new tr(Re.paint_line["line-opacity"]),"line-color":new tr(Re.paint_line["line-color"]),"line-translate":new jt(Re.paint_line["line-translate"]),"line-translate-anchor":new jt(Re.paint_line["line-translate-anchor"]),"line-width":new tr(Re.paint_line["line-width"]),"line-gap-width":new tr(Re.paint_line["line-gap-width"]),"line-offset":new tr(Re.paint_line["line-offset"]),"line-blur":new tr(Re.paint_line["line-blur"]),"line-dasharray":new Pp(Re.paint_line["line-dasharray"]),"line-pattern":new iu(Re.paint_line["line-pattern"]),"line-gradient":new fs(Re.paint_line["line-gradient"])}),layout:WV};const sI=new class extends tr{possiblyEvaluate(c,l){return l=new wn(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(c,l)}evaluate(c,l,f,y){return l=T({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(c,l,f,y)}}(aI.paint.properties["line-width"].specification);function lI(c,l){return l>0?l+2*c:c}sI.useIntegerZoom=!0;const qV=Gn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),XV=Gn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Gn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ZV=Gn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Gn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const uI=Gn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),KV=Gn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function YV(c,l,f){return c.sections.forEach(y=>{y.text=function(w,C,A){const k=C.layout.get("text-transform").evaluate(A,{});return k==="uppercase"?w=w.toLocaleUpperCase():k==="lowercase"&&(w=w.toLocaleLowerCase()),xo.applyArabicShaping&&(w=xo.applyArabicShaping(w)),w}(y.text,l,f)}),c}Gn([{name:"triangle",components:3,type:"Uint16"}]),Gn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Gn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Gn([{type:"Float32",name:"offsetX"}]),Gn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Up={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var vi=24,Px=nn,cI=function(c,l,f,y,w){var C,A,k=8*w-y-1,R=(1<<k)-1,V=R>>1,W=-7,X=f?w-1:0,Q=f?-1:1,te=c[l+X];for(X+=Q,C=te&(1<<-W)-1,te>>=-W,W+=k;W>0;C=256*C+c[l+X],X+=Q,W-=8);for(A=C&(1<<-W)-1,C>>=-W,W+=y;W>0;A=256*A+c[l+X],X+=Q,W-=8);if(C===0)C=1-V;else{if(C===R)return A?NaN:1/0*(te?-1:1);A+=Math.pow(2,y),C-=V}return(te?-1:1)*A*Math.pow(2,C-y)},hI=function(c,l,f,y,w,C){var A,k,R,V=8*C-w-1,W=(1<<V)-1,X=W>>1,Q=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,te=y?0:C-1,re=y?1:-1,we=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(k=isNaN(l)?1:0,A=W):(A=Math.floor(Math.log(l)/Math.LN2),l*(R=Math.pow(2,-A))<1&&(A--,R*=2),(l+=A+X>=1?Q/R:Q*Math.pow(2,1-X))*R>=2&&(A++,R/=2),A+X>=W?(k=0,A=W):A+X>=1?(k=(l*R-1)*Math.pow(2,w),A+=X):(k=l*Math.pow(2,X-1)*Math.pow(2,w),A=0));w>=8;c[f+te]=255&k,te+=re,k/=256,w-=8);for(A=A<<w|k,V+=w;V>0;c[f+te]=255&A,te+=re,A/=256,V-=8);c[f+te-re]|=128*we};function nn(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}nn.Varint=0,nn.Fixed64=1,nn.Bytes=2,nn.Fixed32=5;var lu,Ix=4294967296,fI=1/Ix,dI=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function el(c){return c.type===nn.Bytes?c.readVarint()+c.pos:c.pos+1}function hf(c,l,f){return f?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function pI(c,l,f){var y=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));f.realloc(y);for(var w=f.pos-1;w>=c;w--)f.buf[w+y]=f.buf[w]}function JV(c,l){for(var f=0;f<c.length;f++)l.writeVarint(c[f])}function QV(c,l){for(var f=0;f<c.length;f++)l.writeSVarint(c[f])}function eU(c,l){for(var f=0;f<c.length;f++)l.writeFloat(c[f])}function tU(c,l){for(var f=0;f<c.length;f++)l.writeDouble(c[f])}function rU(c,l){for(var f=0;f<c.length;f++)l.writeBoolean(c[f])}function nU(c,l){for(var f=0;f<c.length;f++)l.writeFixed32(c[f])}function iU(c,l){for(var f=0;f<c.length;f++)l.writeSFixed32(c[f])}function oU(c,l){for(var f=0;f<c.length;f++)l.writeFixed64(c[f])}function aU(c,l){for(var f=0;f<c.length;f++)l.writeSFixed64(c[f])}function by(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+16777216*c[l+3]}function ff(c,l,f){c[f]=l,c[f+1]=l>>>8,c[f+2]=l>>>16,c[f+3]=l>>>24}function mI(c,l){return(c[l]|c[l+1]<<8|c[l+2]<<16)+(c[l+3]<<24)}function sU(c,l,f){c===1&&f.readMessage(lU,l)}function lU(c,l,f){if(c===3){const{id:y,bitmap:w,width:C,height:A,left:k,top:R,advance:V}=f.readMessage(uU,{});l.push({id:y,bitmap:new Rp({width:C+6,height:A+6},w),metrics:{width:C,height:A,left:k,top:R,advance:V}})}}function uU(c,l,f){c===1?l.id=f.readVarint():c===2?l.bitmap=f.readBytes():c===3?l.width=f.readVarint():c===4?l.height=f.readVarint():c===5?l.left=f.readSVarint():c===6?l.top=f.readSVarint():c===7&&(l.advance=f.readVarint())}function vI(c){let l=0,f=0;for(const A of c)l+=A.w*A.h,f=Math.max(f,A.w);c.sort((A,k)=>k.h-A.h);const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),f),h:1/0}];let w=0,C=0;for(const A of c)for(let k=y.length-1;k>=0;k--){const R=y[k];if(!(A.w>R.w||A.h>R.h)){if(A.x=R.x,A.y=R.y,C=Math.max(C,A.y+A.h),w=Math.max(w,A.x+A.w),A.w===R.w&&A.h===R.h){const V=y.pop();k<y.length&&(y[k]=V)}else A.h===R.h?(R.x+=A.w,R.w-=A.w):A.w===R.w?(R.y+=A.h,R.h-=A.h):(y.push({x:R.x+A.w,y:R.y,w:R.w-A.w,h:A.h}),R.y+=A.h,R.h-=A.h);break}}return{w,h:C,fill:l/(w*C)||0}}nn.prototype={destroy:function(){this.buf=null},readFields:function(c,l,f){for(f=f||this.length;this.pos<f;){var y=this.readVarint(),w=y>>3,C=this.pos;this.type=7&y,c(w,l,this),this.pos===C&&this.skip(y)}return l},readMessage:function(c,l){return this.readFields(c,l,this.readVarint()+this.pos)},readFixed32:function(){var c=by(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=mI(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=by(this.buf,this.pos)+by(this.buf,this.pos+4)*Ix;return this.pos+=8,c},readSFixed64:function(){var c=by(this.buf,this.pos)+mI(this.buf,this.pos+4)*Ix;return this.pos+=8,c},readFloat:function(){var c=cI(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=cI(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var l,f,y=this.buf;return l=127&(f=y[this.pos++]),f<128?l:(l|=(127&(f=y[this.pos++]))<<7,f<128?l:(l|=(127&(f=y[this.pos++]))<<14,f<128?l:(l|=(127&(f=y[this.pos++]))<<21,f<128?l:function(w,C,A){var k,R,V=A.buf;if(k=(112&(R=V[A.pos++]))>>4,R<128||(k|=(127&(R=V[A.pos++]))<<3,R<128)||(k|=(127&(R=V[A.pos++]))<<10,R<128)||(k|=(127&(R=V[A.pos++]))<<17,R<128)||(k|=(127&(R=V[A.pos++]))<<24,R<128)||(k|=(1&(R=V[A.pos++]))<<31,R<128))return hf(w,k,C);throw new Error("Expected varint not more than 10 bytes")}(l|=(15&(f=y[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,l=this.pos;return this.pos=c,c-l>=12&&dI?function(f,y,w){return dI.decode(f.subarray(y,w))}(this.buf,l,c):function(f,y,w){for(var C="",A=y;A<w;){var k,R,V,W=f[A],X=null,Q=W>239?4:W>223?3:W>191?2:1;if(A+Q>w)break;Q===1?W<128&&(X=W):Q===2?(192&(k=f[A+1]))==128&&(X=(31&W)<<6|63&k)<=127&&(X=null):Q===3?(R=f[A+2],(192&(k=f[A+1]))==128&&(192&R)==128&&((X=(15&W)<<12|(63&k)<<6|63&R)<=2047||X>=55296&&X<=57343)&&(X=null)):Q===4&&(R=f[A+2],V=f[A+3],(192&(k=f[A+1]))==128&&(192&R)==128&&(192&V)==128&&((X=(15&W)<<18|(63&k)<<12|(63&R)<<6|63&V)<=65535||X>=1114112)&&(X=null)),X===null?(X=65533,Q=1):X>65535&&(X-=65536,C+=String.fromCharCode(X>>>10&1023|55296),X=56320|1023&X),C+=String.fromCharCode(X),A+=Q}return C}(this.buf,l,c)},readBytes:function(){var c=this.readVarint()+this.pos,l=this.buf.subarray(this.pos,c);return this.pos=c,l},readPackedVarint:function(c,l){if(this.type!==nn.Bytes)return c.push(this.readVarint(l));var f=el(this);for(c=c||[];this.pos<f;)c.push(this.readVarint(l));return c},readPackedSVarint:function(c){if(this.type!==nn.Bytes)return c.push(this.readSVarint());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==nn.Bytes)return c.push(this.readBoolean());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==nn.Bytes)return c.push(this.readFloat());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==nn.Bytes)return c.push(this.readDouble());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==nn.Bytes)return c.push(this.readFixed32());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==nn.Bytes)return c.push(this.readSFixed32());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==nn.Bytes)return c.push(this.readFixed64());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==nn.Bytes)return c.push(this.readSFixed64());var l=el(this);for(c=c||[];this.pos<l;)c.push(this.readSFixed64());return c},skip:function(c){var l=7&c;if(l===nn.Varint)for(;this.buf[this.pos++]>127;);else if(l===nn.Bytes)this.pos=this.readVarint()+this.pos;else if(l===nn.Fixed32)this.pos+=4;else{if(l!==nn.Fixed64)throw new Error("Unimplemented type: "+l);this.pos+=8}},writeTag:function(c,l){this.writeVarint(c<<3|l)},realloc:function(c){for(var l=this.length||16;l<this.pos+c;)l*=2;if(l!==this.length){var f=new Uint8Array(l);f.set(this.buf),this.buf=f,this.length=l}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),ff(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),ff(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),ff(this.buf,-1&c,this.pos),ff(this.buf,Math.floor(c*fI),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),ff(this.buf,-1&c,this.pos),ff(this.buf,Math.floor(c*fI),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(l,f){var y,w;if(l>=0?(y=l%4294967296|0,w=l/4294967296|0):(w=~(-l/4294967296),4294967295^(y=~(-l%4294967296))?y=y+1|0:(y=0,w=w+1|0)),l>=18446744073709552e3||l<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),function(C,A,k){k.buf[k.pos++]=127&C|128,C>>>=7,k.buf[k.pos++]=127&C|128,C>>>=7,k.buf[k.pos++]=127&C|128,C>>>=7,k.buf[k.pos++]=127&C|128,k.buf[k.pos]=127&(C>>>=7)}(y,0,f),function(C,A){var k=(7&C)<<4;A.buf[A.pos++]|=k|((C>>>=3)?128:0),C&&(A.buf[A.pos++]=127&C|((C>>>=7)?128:0),C&&(A.buf[A.pos++]=127&C|((C>>>=7)?128:0),C&&(A.buf[A.pos++]=127&C|((C>>>=7)?128:0),C&&(A.buf[A.pos++]=127&C|((C>>>=7)?128:0),C&&(A.buf[A.pos++]=127&C)))))}(w,f)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var l=this.pos;this.pos=function(y,w,C){for(var A,k,R=0;R<w.length;R++){if((A=w.charCodeAt(R))>55295&&A<57344){if(!k){A>56319||R+1===w.length?(y[C++]=239,y[C++]=191,y[C++]=189):k=A;continue}if(A<56320){y[C++]=239,y[C++]=191,y[C++]=189,k=A;continue}A=k-55296<<10|A-56320|65536,k=null}else k&&(y[C++]=239,y[C++]=191,y[C++]=189,k=null);A<128?y[C++]=A:(A<2048?y[C++]=A>>6|192:(A<65536?y[C++]=A>>12|224:(y[C++]=A>>18|240,y[C++]=A>>12&63|128),y[C++]=A>>6&63|128),y[C++]=63&A|128)}return C}(this.buf,c,this.pos);var f=this.pos-l;f>=128&&pI(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeFloat:function(c){this.realloc(4),hI(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),hI(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var l=c.length;this.writeVarint(l),this.realloc(l);for(var f=0;f<l;f++)this.buf[this.pos++]=c[f]},writeRawMessage:function(c,l){this.pos++;var f=this.pos;c(l,this);var y=this.pos-f;y>=128&&pI(f,y,this),this.pos=f-1,this.writeVarint(y),this.pos+=y},writeMessage:function(c,l,f){this.writeTag(c,nn.Bytes),this.writeRawMessage(l,f)},writePackedVarint:function(c,l){l.length&&this.writeMessage(c,JV,l)},writePackedSVarint:function(c,l){l.length&&this.writeMessage(c,QV,l)},writePackedBoolean:function(c,l){l.length&&this.writeMessage(c,rU,l)},writePackedFloat:function(c,l){l.length&&this.writeMessage(c,eU,l)},writePackedDouble:function(c,l){l.length&&this.writeMessage(c,tU,l)},writePackedFixed32:function(c,l){l.length&&this.writeMessage(c,nU,l)},writePackedSFixed32:function(c,l){l.length&&this.writeMessage(c,iU,l)},writePackedFixed64:function(c,l){l.length&&this.writeMessage(c,oU,l)},writePackedSFixed64:function(c,l){l.length&&this.writeMessage(c,aU,l)},writeBytesField:function(c,l){this.writeTag(c,nn.Bytes),this.writeBytes(l)},writeFixed32Field:function(c,l){this.writeTag(c,nn.Fixed32),this.writeFixed32(l)},writeSFixed32Field:function(c,l){this.writeTag(c,nn.Fixed32),this.writeSFixed32(l)},writeFixed64Field:function(c,l){this.writeTag(c,nn.Fixed64),this.writeFixed64(l)},writeSFixed64Field:function(c,l){this.writeTag(c,nn.Fixed64),this.writeSFixed64(l)},writeVarintField:function(c,l){this.writeTag(c,nn.Varint),this.writeVarint(l)},writeSVarintField:function(c,l){this.writeTag(c,nn.Varint),this.writeSVarint(l)},writeStringField:function(c,l){this.writeTag(c,nn.Bytes),this.writeString(l)},writeFloatField:function(c,l){this.writeTag(c,nn.Fixed32),this.writeFloat(l)},writeDoubleField:function(c,l){this.writeTag(c,nn.Fixed64),this.writeDouble(l)},writeBooleanField:function(c,l){this.writeVarintField(c,!!l)}};class Mx{constructor(l,{pixelRatio:f,version:y,stretchX:w,stretchY:C,content:A}){this.paddedRect=l,this.pixelRatio=f,this.stretchX=w,this.stretchY=C,this.content=A,this.version=y}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class gI{constructor(l,f){const y={},w={};this.haveRenderCallbacks=[];const C=[];this.addImages(l,y,C),this.addImages(f,w,C);const{w:A,h:k}=vI(C),R=new Vo({width:A||1,height:k||1});for(const V in l){const W=l[V],X=y[V].paddedRect;Vo.copy(W.data,R,{x:0,y:0},{x:X.x+1,y:X.y+1},W.data)}for(const V in f){const W=f[V],X=w[V].paddedRect,Q=X.x+1,te=X.y+1,re=W.data.width,we=W.data.height;Vo.copy(W.data,R,{x:0,y:0},{x:Q,y:te},W.data),Vo.copy(W.data,R,{x:0,y:we-1},{x:Q,y:te-1},{width:re,height:1}),Vo.copy(W.data,R,{x:0,y:0},{x:Q,y:te+we},{width:re,height:1}),Vo.copy(W.data,R,{x:re-1,y:0},{x:Q-1,y:te},{width:1,height:we}),Vo.copy(W.data,R,{x:0,y:0},{x:Q+re,y:te},{width:1,height:we})}this.image=R,this.iconPositions=y,this.patternPositions=w}addImages(l,f,y){for(const w in l){const C=l[w],A={x:0,y:0,w:C.data.width+2,h:C.data.height+2};y.push(A),f[w]=new Mx(A,C),C.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(l,f){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in l.updatedImages)this.patchUpdatedImage(this.iconPositions[y],l.getImage(y),f),this.patchUpdatedImage(this.patternPositions[y],l.getImage(y),f)}patchUpdatedImage(l,f,y){if(!l||!f||l.version===f.version)return;l.version=f.version;const[w,C]=l.tl;y.update(f.data,void 0,{x:w,y:C})}}$t("ImagePosition",Mx),$t("ImageAtlas",gI),a.WritingMode=void 0,(lu=a.WritingMode||(a.WritingMode={}))[lu.none=0]="none",lu[lu.horizontal=1]="horizontal",lu[lu.vertical=2]="vertical",lu[lu.horizontalOnly=3]="horizontalOnly";const xy=-17;class Hp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(l,f){const y=new Hp;return y.scale=l||1,y.fontStack=f,y}static forImage(l){const f=new Hp;return f.imageName=l,f}}class df{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(l,f){const y=new df;for(let w=0;w<l.sections.length;w++){const C=l.sections[w];C.image?y.addImageSection(C):y.addTextSection(C,f)}return y}length(){return this.text.length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}getCharCode(l){return this.text.charCodeAt(l)}verticalizePunctuation(){this.text=function(l){let f="";for(let y=0;y<l.length;y++){const w=l.charCodeAt(y+1)||null,C=l.charCodeAt(y-1)||null;f+=w&&ty(w)&&!Up[l[y+1]]||C&&ty(C)&&!Up[l[y-1]]||!Up[l[y]]?l[y]:Up[l[y]]}return f}(this.text)}trim(){let l=0;for(let y=0;y<this.text.length&&Sy[this.text.charCodeAt(y)];y++)l++;let f=this.text.length;for(let y=this.text.length-1;y>=0&&y>=l&&Sy[this.text.charCodeAt(y)];y--)f--;this.text=this.text.substring(l,f),this.sectionIndex=this.sectionIndex.slice(l,f)}substring(l,f){const y=new df;return y.text=this.text.substring(l,f),y.sectionIndex=this.sectionIndex.slice(l,f),y.sections=this.sections,y}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((l,f)=>Math.max(l,this.sections[f].scale),0)}addTextSection(l,f){this.text+=l.text,this.sections.push(Hp.forText(l.scale,l.fontStack||f));const y=this.sections.length-1;for(let w=0;w<l.text.length;++w)this.sectionIndex.push(y)}addImageSection(l){const f=l.image?l.image.name:"";if(f.length===0)return void F("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push(Hp.forImage(f)),this.sectionIndex.push(this.sections.length-1)):F("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function wy(c,l,f,y,w,C,A,k,R,V,W,X,Q,te,re,we){const xe=df.fromFeature(c,w);let ke;X===a.WritingMode.vertical&&xe.verticalizePunctuation();const{processBidirectionalText:He,processStyledBidirectionalText:Le}=xo;if(He&&xe.sections.length===1){ke=[];const it=He(xe.toString(),Dx(xe,V,C,l,y,te,re));for(const kt of it){const Vt=new df;Vt.text=kt,Vt.sections=xe.sections;for(let Et=0;Et<kt.length;Et++)Vt.sectionIndex.push(0);ke.push(Vt)}}else if(Le){ke=[];const it=Le(xe.text,xe.sectionIndex,Dx(xe,V,C,l,y,te,re));for(const kt of it){const Vt=new df;Vt.text=kt[0],Vt.sectionIndex=kt[1],Vt.sections=xe.sections,ke.push(Vt)}}else ke=function(it,kt){const Vt=[],Et=it.text;let wt=0;for(const yt of kt)Vt.push(it.substring(wt,yt)),wt=yt;return wt<Et.length&&Vt.push(it.substring(wt,Et.length)),Vt}(xe,Dx(xe,V,C,l,y,te,re));const Ne=[],ot={positionedLines:Ne,text:xe.toString(),top:W[1],bottom:W[1],left:W[0],right:W[0],writingMode:X,iconsInText:!1,verticalizable:!1};return function(it,kt,Vt,Et,wt,yt,At,St,pt,Yt,Gt,xr){let dn=0,Tn=xy,ei=0,Ho=0;const wi=St==="right"?1:St==="left"?0:.5;let Wn=0;for(const qn of wt){qn.trim();const Ti=qn.getMaxScale(),Di=(Ti-1)*vi,Gi={positionedGlyphs:[],lineOffset:0};it.positionedLines[Wn]=Gi;const so=Gi.positionedGlyphs;let lo=0;if(!qn.length()){Tn+=yt,++Wn;continue}for(let ci=0;ci<qn.length();ci++){const Ar=qn.getSection(ci),To=qn.getSectionIndex(ci),Ci=qn.getCharCode(ci);let Li=0,aa=null,za=null,$a=null,rl=vi;const sa=!(pt===a.WritingMode.horizontal||!Gt&&!wp(Ci)||Gt&&(Sy[Ci]||(ui=Ci,Ct.Arabic(ui)||Ct["Arabic Supplement"](ui)||Ct["Arabic Extended-A"](ui)||Ct["Arabic Presentation Forms-A"](ui)||Ct["Arabic Presentation Forms-B"](ui))));if(Ar.imageName){const jo=Et[Ar.imageName];if(!jo)continue;$a=Ar.imageName,it.iconsInText=it.iconsInText||!0,za=jo.paddedRect;const uo=jo.displaySize;Ar.scale=Ar.scale*vi/xr,aa={width:uo[0],height:uo[1],left:1,top:-3,advance:sa?uo[1]:uo[0]},Li=Di+(vi-uo[1]*Ar.scale),rl=aa.advance;const nl=sa?uo[0]*Ar.scale-vi*Ti:uo[1]*Ar.scale-vi*Ti;nl>0&&nl>lo&&(lo=nl)}else{const jo=Vt[Ar.fontStack],uo=jo&&jo[Ci];if(uo&&uo.rect)za=uo.rect,aa=uo.metrics;else{const nl=kt[Ar.fontStack],Wp=nl&&nl[Ci];if(!Wp)continue;aa=Wp.metrics}Li=(Ti-Ar.scale)*vi}sa?(it.verticalizable=!0,so.push({glyph:Ci,imageName:$a,x:dn,y:Tn+Li,vertical:sa,scale:Ar.scale,fontStack:Ar.fontStack,sectionIndex:To,metrics:aa,rect:za}),dn+=rl*Ar.scale+Yt):(so.push({glyph:Ci,imageName:$a,x:dn,y:Tn+Li,vertical:sa,scale:Ar.scale,fontStack:Ar.fontStack,sectionIndex:To,metrics:aa,rect:za}),dn+=aa.advance*Ar.scale+Yt)}so.length!==0&&(ei=Math.max(dn-Yt,ei),fU(so,0,so.length-1,wi,lo)),dn=0;const An=yt*Ti+lo;Gi.lineOffset=Math.max(lo,Di),Tn+=An,Ho=Math.max(An,Ho),++Wn}var ui;const Si=Tn-xy,{horizontalAlign:Mi,verticalAlign:ao}=Lx(At);(function(qn,Ti,Di,Gi,so,lo,An,ci,Ar){const To=(Ti-Di)*so;let Ci=0;Ci=lo!==An?-ci*Gi-xy:(-Gi*Ar+.5)*An;for(const Li of qn)for(const aa of Li.positionedGlyphs)aa.x+=To,aa.y+=Ci})(it.positionedLines,wi,Mi,ao,ei,Ho,yt,Si,wt.length),it.top+=-ao*Si,it.bottom=it.top+Si,it.left+=-Mi*ei,it.right=it.left+ei}(ot,l,f,y,ke,A,k,R,X,V,Q,we),!function(it){for(const kt of it)if(kt.positionedGlyphs.length!==0)return!1;return!0}(Ne)&&ot}const Sy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cU={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function yI(c,l,f,y,w,C){if(l.imageName){const A=y[l.imageName];return A?A.displaySize[0]*l.scale*vi/C+w:0}{const A=f[l.fontStack],k=A&&A[c];return k?k.metrics.advance*l.scale+w:0}}function _I(c,l,f,y){const w=Math.pow(c-l,2);return y?c<l?w/2:2*w:w+Math.abs(f)*f}function hU(c,l,f){let y=0;return c===10&&(y-=1e4),f&&(y+=150),c!==40&&c!==65288||(y+=50),l!==41&&l!==65289||(y+=50),y}function bI(c,l,f,y,w,C){let A=null,k=_I(l,f,w,C);for(const R of y){const V=_I(l-R.x,f,w,C)+R.badness;V<=k&&(A=R,k=V)}return{index:c,x:l,priorBreak:A,badness:k}}function xI(c){return c?xI(c.priorBreak).concat(c.index):[]}function Dx(c,l,f,y,w,C,A){if(C!=="point")return[];if(!c)return[];const k=[],R=function(Q,te,re,we,xe,ke){let He=0;for(let Le=0;Le<Q.length();Le++){const Ne=Q.getSection(Le);He+=yI(Q.getCharCode(Le),Ne,we,xe,te,ke)}return He/Math.max(1,Math.ceil(He/re))}(c,l,f,y,w,A),V=c.text.indexOf("")>=0;let W=0;for(let Q=0;Q<c.length();Q++){const te=c.getSection(Q),re=c.getCharCode(Q);if(Sy[re]||(W+=yI(re,te,y,w,l,A)),Q<c.length()-1){const we=!((X=re)<11904||!(Ct["Bopomofo Extended"](X)||Ct.Bopomofo(X)||Ct["CJK Compatibility Forms"](X)||Ct["CJK Compatibility Ideographs"](X)||Ct["CJK Compatibility"](X)||Ct["CJK Radicals Supplement"](X)||Ct["CJK Strokes"](X)||Ct["CJK Symbols and Punctuation"](X)||Ct["CJK Unified Ideographs Extension A"](X)||Ct["CJK Unified Ideographs"](X)||Ct["Enclosed CJK Letters and Months"](X)||Ct["Halfwidth and Fullwidth Forms"](X)||Ct.Hiragana(X)||Ct["Ideographic Description Characters"](X)||Ct["Kangxi Radicals"](X)||Ct["Katakana Phonetic Extensions"](X)||Ct.Katakana(X)||Ct["Vertical Forms"](X)||Ct["Yi Radicals"](X)||Ct["Yi Syllables"](X)));(cU[re]||we||te.imageName)&&k.push(bI(Q+1,W,R,k,hU(re,c.getCharCode(Q+1),we&&V),!1))}}var X;return xI(bI(c.length(),W,R,k,0,!0))}function Lx(c){let l=.5,f=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:l,verticalAlign:f}}function fU(c,l,f,y,w){if(!y&&!w)return;const C=c[f],A=(c[f].x+C.metrics.advance*C.scale)*y;for(let k=l;k<=f;k++)c[k].x-=A,c[k].y+=w}function dU(c,l,f){const{horizontalAlign:y,verticalAlign:w}=Lx(f),C=l[0]-c.displaySize[0]*y,A=l[1]-c.displaySize[1]*w;return{image:c,top:A,bottom:A+c.displaySize[1],left:C,right:C+c.displaySize[0]}}function wI(c,l,f,y,w,C){const A=c.image;let k;if(A.content){const xe=A.content,ke=A.pixelRatio||1;k=[xe[0]/ke,xe[1]/ke,A.displaySize[0]-xe[2]/ke,A.displaySize[1]-xe[3]/ke]}const R=l.left*C,V=l.right*C;let W,X,Q,te;f==="width"||f==="both"?(te=w[0]+R-y[3],X=w[0]+V+y[1]):(te=w[0]+(R+V-A.displaySize[0])/2,X=te+A.displaySize[0]);const re=l.top*C,we=l.bottom*C;return f==="height"||f==="both"?(W=w[1]+re-y[0],Q=w[1]+we+y[2]):(W=w[1]+(re+we-A.displaySize[1])/2,Q=W+A.displaySize[1]),{image:A,top:W,right:X,bottom:Q,left:te,collisionPadding:k}}const tl=128;function SI(c,l){const{expression:f}=l;if(f.kind==="constant")return{kind:"constant",layoutSize:f.evaluate(new wn(c+1))};if(f.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:w}=f;let C=0;for(;C<y.length&&y[C]<=c;)C++;C=Math.max(0,C-1);let A=C;for(;A<y.length&&y[A]<c+1;)A++;A=Math.min(y.length-1,A);const k=y[C],R=y[A];return f.kind==="composite"?{kind:"composite",minZoom:k,maxZoom:R,interpolationType:w}:{kind:"camera",minZoom:k,maxZoom:R,minSize:f.evaluate(new wn(k)),maxSize:f.evaluate(new wn(R)),interpolationType:w}}}class uu extends ce{constructor(l,f,y,w){super(l,f),this.angle=y,w!==void 0&&(this.segment=w)}clone(){return new uu(this.x,this.y,this.angle,this.segment)}}function TI(c,l,f,y,w){if(l.segment===void 0)return!0;let C=l,A=l.segment+1,k=0;for(;k>-f/2;){if(A--,A<0)return!1;k-=c[A].dist(C),C=c[A]}k+=c[A].dist(c[A+1]),A++;const R=[];let V=0;for(;k<f/2;){const W=c[A],X=c[A+1];if(!X)return!1;let Q=c[A-1].angleTo(W)-W.angleTo(X);for(Q=Math.abs((Q+3*Math.PI)%(2*Math.PI)-Math.PI),R.push({distance:k,angleDelta:Q}),V+=Q;k-R[0].distance>y;)V-=R.shift().angleDelta;if(V>w)return!1;A++,k+=W.dist(X)}return!0}function CI(c){let l=0;for(let f=0;f<c.length-1;f++)l+=c[f].dist(c[f+1]);return l}function EI(c,l,f){return c?.6*l*f:0}function AI(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function pU(c,l,f,y,w,C){const A=EI(f,w,C),k=AI(f,y)*C;let R=0;const V=CI(c)/2;for(let W=0;W<c.length-1;W++){const X=c[W],Q=c[W+1],te=X.dist(Q);if(R+te>V){const re=(V-R)/te,we=bn(X.x,Q.x,re),xe=bn(X.y,Q.y,re),ke=new uu(we,xe,Q.angleTo(X),W);return ke._round(),!A||TI(c,ke,k,A,l)?ke:void 0}R+=te}}function mU(c,l,f,y,w,C,A,k,R){const V=EI(y,C,A),W=AI(y,w),X=W*A,Q=c[0].x===0||c[0].x===R||c[0].y===0||c[0].y===R;return l-X<l/4&&(l=X+l/4),PI(c,Q?l/2*k%l:(W/2+2*C)*A*k%l,l,V,f,X,Q,!1,R)}function PI(c,l,f,y,w,C,A,k,R){const V=C/2,W=CI(c);let X=0,Q=l-f,te=[];for(let re=0;re<c.length-1;re++){const we=c[re],xe=c[re+1],ke=we.dist(xe),He=xe.angleTo(we);for(;Q+f<X+ke;){Q+=f;const Le=(Q-X)/ke,Ne=bn(we.x,xe.x,Le),ot=bn(we.y,xe.y,Le);if(Ne>=0&&Ne<R&&ot>=0&&ot<R&&Q-V>=0&&Q+V<=W){const it=new uu(Ne,ot,He,re);it._round(),y&&!TI(c,it,C,y,w)||te.push(it)}}X+=ke}return k||te.length||A||(te=PI(c,X/2,f,y,w,C,A,!0,R)),te}function II(c,l,f,y,w){const C=[];for(let A=0;A<c.length;A++){const k=c[A];let R;for(let V=0;V<k.length-1;V++){let W=k[V],X=k[V+1];W.x<l&&X.x<l||(W.x<l?W=new ce(l,W.y+(l-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x<l&&(X=new ce(l,W.y+(l-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y<f&&X.y<f||(W.y<f?W=new ce(W.x+(f-W.y)/(X.y-W.y)*(X.x-W.x),f)._round():X.y<f&&(X=new ce(W.x+(f-W.y)/(X.y-W.y)*(X.x-W.x),f)._round()),W.x>=y&&X.x>=y||(W.x>=y?W=new ce(y,W.y+(y-W.x)/(X.x-W.x)*(X.y-W.y))._round():X.x>=y&&(X=new ce(y,W.y+(y-W.x)/(X.x-W.x)*(X.y-W.y))._round()),W.y>=w&&X.y>=w||(W.y>=w?W=new ce(W.x+(w-W.y)/(X.y-W.y)*(X.x-W.x),w)._round():X.y>=w&&(X=new ce(W.x+(w-W.y)/(X.y-W.y)*(X.x-W.x),w)._round()),R&&W.equals(R[R.length-1])||(R=[W],C.push(R)),R.push(X)))))}}return C}function MI(c,l,f,y){const w=[],C=c.image,A=C.pixelRatio,k=C.paddedRect.w-2,R=C.paddedRect.h-2,V=c.right-c.left,W=c.bottom-c.top,X=C.stretchX||[[0,k]],Q=C.stretchY||[[0,R]],te=(yt,At)=>yt+At[1]-At[0],re=X.reduce(te,0),we=Q.reduce(te,0),xe=k-re,ke=R-we;let He=0,Le=re,Ne=0,ot=we,it=0,kt=xe,Vt=0,Et=ke;if(C.content&&y){const yt=C.content;He=Ty(X,0,yt[0]),Ne=Ty(Q,0,yt[1]),Le=Ty(X,yt[0],yt[2]),ot=Ty(Q,yt[1],yt[3]),it=yt[0]-He,Vt=yt[1]-Ne,kt=yt[2]-yt[0]-Le,Et=yt[3]-yt[1]-ot}const wt=(yt,At,St,pt)=>{const Yt=Cy(yt.stretch-He,Le,V,c.left),Gt=Ey(yt.fixed-it,kt,yt.stretch,re),xr=Cy(At.stretch-Ne,ot,W,c.top),dn=Ey(At.fixed-Vt,Et,At.stretch,we),Tn=Cy(St.stretch-He,Le,V,c.left),ei=Ey(St.fixed-it,kt,St.stretch,re),Ho=Cy(pt.stretch-Ne,ot,W,c.top),wi=Ey(pt.fixed-Vt,Et,pt.stretch,we),Wn=new ce(Yt,xr),ui=new ce(Tn,xr),Si=new ce(Tn,Ho),Mi=new ce(Yt,Ho),ao=new ce(Gt/A,dn/A),qn=new ce(ei/A,wi/A),Ti=l*Math.PI/180;if(Ti){const so=Math.sin(Ti),lo=Math.cos(Ti),An=[lo,-so,so,lo];Wn._matMult(An),ui._matMult(An),Mi._matMult(An),Si._matMult(An)}const Di=yt.stretch+yt.fixed,Gi=At.stretch+At.fixed;return{tl:Wn,tr:ui,bl:Mi,br:Si,tex:{x:C.paddedRect.x+1+Di,y:C.paddedRect.y+1+Gi,w:St.stretch+St.fixed-Di,h:pt.stretch+pt.fixed-Gi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ao,pixelOffsetBR:qn,minFontScaleX:kt/A/V,minFontScaleY:Et/A/W,isSDF:f}};if(y&&(C.stretchX||C.stretchY)){const yt=DI(X,xe,re),At=DI(Q,ke,we);for(let St=0;St<yt.length-1;St++){const pt=yt[St],Yt=yt[St+1];for(let Gt=0;Gt<At.length-1;Gt++)w.push(wt(pt,At[Gt],Yt,At[Gt+1]))}}else w.push(wt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:k+1},{fixed:0,stretch:R+1}));return w}function Ty(c,l,f){let y=0;for(const w of c)y+=Math.max(l,Math.min(f,w[1]))-Math.max(l,Math.min(f,w[0]));return y}function DI(c,l,f){const y=[{fixed:-1,stretch:0}];for(const[w,C]of c){const A=y[y.length-1];y.push({fixed:w-A.stretch,stretch:A.stretch}),y.push({fixed:w-A.stretch,stretch:A.stretch+(C-w)})}return y.push({fixed:l+1,stretch:f}),y}function Cy(c,l,f,y){return c/l*f+y}function Ey(c,l,f,y){return c-l*f/y}$t("Anchor",uu);class Ay{constructor(l,f,y,w,C,A,k,R,V,W){if(this.boxStartIndex=l.length,V){let X=A.top,Q=A.bottom;const te=A.collisionPadding;te&&(X-=te[1],Q+=te[3]);let re=Q-X;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{let X=A.top*k-R[0],Q=A.bottom*k+R[2],te=A.left*k-R[3],re=A.right*k+R[1];const we=A.collisionPadding;if(we&&(te-=we[0]*k,X-=we[1]*k,re+=we[2]*k,Q+=we[3]*k),W){const xe=new ce(te,X),ke=new ce(re,X),He=new ce(te,Q),Le=new ce(re,Q),Ne=W*Math.PI/180;xe._rotate(Ne),ke._rotate(Ne),He._rotate(Ne),Le._rotate(Ne),te=Math.min(xe.x,ke.x,He.x,Le.x),re=Math.max(xe.x,ke.x,He.x,Le.x),X=Math.min(xe.y,ke.y,He.y,Le.y),Q=Math.max(xe.y,ke.y,He.y,Le.y)}l.emplaceBack(f.x,f.y,te,X,re,Q,y,w,C)}this.boxEndIndex=l.length}}class vU{constructor(l=[],f=gU){if(this.data=l,this.length=this.data.length,this.compare=f,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(l){this.data.push(l),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const l=this.data[0],f=this.data.pop();return this.length--,this.length>0&&(this.data[0]=f,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:f,compare:y}=this,w=f[l];for(;l>0;){const C=l-1>>1,A=f[C];if(y(w,A)>=0)break;f[l]=A,l=C}f[l]=w}_down(l){const{data:f,compare:y}=this,w=this.length>>1,C=f[l];for(;l<w;){let A=1+(l<<1),k=f[A];const R=A+1;if(R<this.length&&y(f[R],k)<0&&(A=R,k=f[R]),y(k,C)>=0)break;f[l]=k,l=A}f[l]=C}}function gU(c,l){return c<l?-1:c>l?1:0}function yU(c,l=1,f=!1){let y=1/0,w=1/0,C=-1/0,A=-1/0;const k=c[0];for(let te=0;te<k.length;te++){const re=k[te];(!te||re.x<y)&&(y=re.x),(!te||re.y<w)&&(w=re.y),(!te||re.x>C)&&(C=re.x),(!te||re.y>A)&&(A=re.y)}const R=Math.min(C-y,A-w);let V=R/2;const W=new vU([],_U);if(R===0)return new ce(y,w);for(let te=y;te<C;te+=R)for(let re=w;re<A;re+=R)W.push(new pf(te+V,re+V,V,c));let X=function(te){let re=0,we=0,xe=0;const ke=te[0];for(let He=0,Le=ke.length,Ne=Le-1;He<Le;Ne=He++){const ot=ke[He],it=ke[Ne],kt=ot.x*it.y-it.x*ot.y;we+=(ot.x+it.x)*kt,xe+=(ot.y+it.y)*kt,re+=3*kt}return new pf(we/re,xe/re,0,te)}(c),Q=W.length;for(;W.length;){const te=W.pop();(te.d>X.d||!X.d)&&(X=te,f&&console.log("found best %d after %d probes",Math.round(1e4*te.d)/1e4,Q)),te.max-X.d<=l||(V=te.h/2,W.push(new pf(te.p.x-V,te.p.y-V,V,c)),W.push(new pf(te.p.x+V,te.p.y-V,V,c)),W.push(new pf(te.p.x-V,te.p.y+V,V,c)),W.push(new pf(te.p.x+V,te.p.y+V,V,c)),Q+=4)}return f&&(console.log(`num probes: ${Q}`),console.log(`best distance: ${X.d}`)),X.p}function _U(c,l){return l.max-c.max}function pf(c,l,f,y){this.p=new ce(c,l),this.h=f,this.d=function(w,C){let A=!1,k=1/0;for(let R=0;R<C.length;R++){const V=C[R];for(let W=0,X=V.length,Q=X-1;W<X;Q=W++){const te=V[W],re=V[Q];te.y>w.y!=re.y>w.y&&w.x<(re.x-te.x)*(w.y-te.y)/(re.y-te.y)+te.x&&(A=!A),k=Math.min(k,FP(w,te,re))}}return(A?1:-1)*Math.sqrt(k)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}const Ox=Number.POSITIVE_INFINITY;function LI(c,l){return l[1]!==Ox?function(f,y,w){let C=0,A=0;switch(y=Math.abs(y),w=Math.abs(w),f){case"top-right":case"top-left":case"top":A=w-7;break;case"bottom-right":case"bottom-left":case"bottom":A=7-w}switch(f){case"top-right":case"bottom-right":case"right":C=-y;break;case"top-left":case"bottom-left":case"left":C=y}return[C,A]}(c,l[0],l[1]):function(f,y){let w=0,C=0;y<0&&(y=0);const A=y/Math.sqrt(2);switch(f){case"top-right":case"top-left":C=A-7;break;case"bottom-right":case"bottom-left":C=7-A;break;case"bottom":C=7-y;break;case"top":C=y-7}switch(f){case"top-right":case"bottom-right":w=-A;break;case"top-left":case"bottom-left":w=A;break;case"left":w=y;break;case"right":w=-y}return[w,C]}(c,l[0])}function kx(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function bU(c,l,f,y,w,C,A,k,R,V,W){let X=C.textMaxSize.evaluate(l,{});X===void 0&&(X=A);const Q=c.layers[0].layout,te=Q.get("icon-offset").evaluate(l,{},W),re=kI(f.horizontal),we=A/24,xe=c.tilePixelRatio*we,ke=c.tilePixelRatio*X/24,He=c.tilePixelRatio*k,Le=c.tilePixelRatio*Q.get("symbol-spacing"),Ne=Q.get("text-padding")*c.tilePixelRatio,ot=function(pt,Yt,Gt,xr=1){const dn=pt.get("icon-padding").evaluate(Yt,{},Gt),Tn=dn&&dn.values;return[Tn[0]*xr,Tn[1]*xr,Tn[2]*xr,Tn[3]*xr]}(Q,l,W,c.tilePixelRatio),it=Q.get("text-max-angle")/180*Math.PI,kt=Q.get("text-rotation-alignment")!=="viewport"&&Q.get("symbol-placement")!=="point",Vt=Q.get("icon-rotation-alignment")==="map"&&Q.get("symbol-placement")!=="point",Et=Q.get("symbol-placement"),wt=Le/2,yt=Q.get("icon-text-fit");let At;y&&yt!=="none"&&(c.allowVerticalPlacement&&f.vertical&&(At=wI(y,f.vertical,yt,Q.get("icon-text-fit-padding"),te,we)),re&&(y=wI(y,re,yt,Q.get("icon-text-fit-padding"),te,we)));const St=(pt,Yt)=>{Yt.x<0||Yt.x>=Qn||Yt.y<0||Yt.y>=Qn||function(Gt,xr,dn,Tn,ei,Ho,wi,Wn,ui,Si,Mi,ao,qn,Ti,Di,Gi,so,lo,An,ci,Ar,To,Ci,Li,aa){const za=Gt.addToLineVertexArray(xr,dn);let $a,rl,sa,jo,uo=0,nl=0,Wp=0,KI=0,jx=-1,Gx=-1;const il={};let YI=li.exports(""),Wx=0,qx=0;if(Wn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Wx,qx]=Wn.layout.get("text-offset").evaluate(Ar,{},Li).map(co=>co*vi):(Wx=Wn.layout.get("text-radial-offset").evaluate(Ar,{},Li)*vi,qx=Ox),Gt.allowVerticalPlacement&&Tn.vertical){const co=Wn.layout.get("text-rotate").evaluate(Ar,{},Li)+90;sa=new Ay(ui,xr,Si,Mi,ao,Tn.vertical,qn,Ti,Di,co),wi&&(jo=new Ay(ui,xr,Si,Mi,ao,wi,so,lo,Di,co))}if(ei){const co=Wn.layout.get("icon-rotate").evaluate(Ar,{}),gs=Wn.layout.get("icon-text-fit")!=="none",qp=MI(ei,co,Ci,gs),Xp=wi?MI(wi,co,Ci,gs):void 0;rl=new Ay(ui,xr,Si,Mi,ao,ei,so,lo,!1,co),uo=4*qp.length;const eM=Gt.iconSizeData;let wc=null;eM.kind==="source"?(wc=[tl*Wn.layout.get("icon-size").evaluate(Ar,{})],wc[0]>cu&&F(`${Gt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):eM.kind==="composite"&&(wc=[tl*To.compositeIconSizes[0].evaluate(Ar,{},Li),tl*To.compositeIconSizes[1].evaluate(Ar,{},Li)],(wc[0]>cu||wc[1]>cu)&&F(`${Gt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Gt.addSymbols(Gt.icon,qp,wc,ci,An,Ar,a.WritingMode.none,xr,za.lineStartIndex,za.lineLength,-1,Li),jx=Gt.icon.placedSymbolArray.length-1,Xp&&(nl=4*Xp.length,Gt.addSymbols(Gt.icon,Xp,wc,ci,An,Ar,a.WritingMode.vertical,xr,za.lineStartIndex,za.lineLength,-1,Li),Gx=Gt.icon.placedSymbolArray.length-1)}const JI=Object.keys(Tn.horizontal);for(const co of JI){const gs=Tn.horizontal[co];if(!$a){YI=li.exports(gs.text);const Xp=Wn.layout.get("text-rotate").evaluate(Ar,{},Li);$a=new Ay(ui,xr,Si,Mi,ao,gs,qn,Ti,Di,Xp)}const qp=gs.positionedLines.length===1;if(Wp+=OI(Gt,xr,gs,Ho,Wn,Di,Ar,Gi,za,Tn.vertical?a.WritingMode.horizontal:a.WritingMode.horizontalOnly,qp?JI:[co],il,jx,To,Li),qp)break}Tn.vertical&&(KI+=OI(Gt,xr,Tn.vertical,Ho,Wn,Di,Ar,Gi,za,a.WritingMode.vertical,["vertical"],il,Gx,To,Li));const OU=$a?$a.boxStartIndex:Gt.collisionBoxArray.length,kU=$a?$a.boxEndIndex:Gt.collisionBoxArray.length,RU=sa?sa.boxStartIndex:Gt.collisionBoxArray.length,zU=sa?sa.boxEndIndex:Gt.collisionBoxArray.length,$U=rl?rl.boxStartIndex:Gt.collisionBoxArray.length,BU=rl?rl.boxEndIndex:Gt.collisionBoxArray.length,FU=jo?jo.boxStartIndex:Gt.collisionBoxArray.length,NU=jo?jo.boxEndIndex:Gt.collisionBoxArray.length;let Ba=-1;const Ly=(co,gs)=>co&&co.circleDiameter?Math.max(co.circleDiameter,gs):gs;Ba=Ly($a,Ba),Ba=Ly(sa,Ba),Ba=Ly(rl,Ba),Ba=Ly(jo,Ba);const QI=Ba>-1?1:0;QI&&(Ba*=aa/vi),Gt.glyphOffsetArray.length>=mf.MAX_GLYPHS&&F("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ar.sortKey!==void 0&&Gt.addToSortKeyRanges(Gt.symbolInstances.length,Ar.sortKey),Gt.symbolInstances.emplaceBack(xr.x,xr.y,il.right>=0?il.right:-1,il.center>=0?il.center:-1,il.left>=0?il.left:-1,il.vertical||-1,jx,Gx,YI,OU,kU,RU,zU,$U,BU,FU,NU,Si,Wp,KI,uo,nl,QI,0,qn,Wx,qx,Ba)}(c,Yt,pt,f,y,w,At,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,xe,[Ne,Ne,Ne,Ne],kt,R,He,ot,Vt,te,l,C,V,W,A)};if(Et==="line")for(const pt of II(l.geometry,0,0,Qn,Qn)){const Yt=mU(pt,Le,it,f.vertical||re,y,24,ke,c.overscaling,Qn);for(const Gt of Yt){const xr=re;xr&&xU(c,xr.text,wt,Gt)||St(pt,Gt)}}else if(Et==="line-center"){for(const pt of l.geometry)if(pt.length>1){const Yt=pU(pt,it,f.vertical||re,y,24,ke);Yt&&St(pt,Yt)}}else if(l.type==="Polygon")for(const pt of bx(l.geometry,0)){const Yt=yU(pt,16);St(pt[0],new uu(Yt.x,Yt.y,0))}else if(l.type==="LineString")for(const pt of l.geometry)St(pt,new uu(pt[0].x,pt[0].y,0));else if(l.type==="Point")for(const pt of l.geometry)for(const Yt of pt)St([Yt],new uu(Yt.x,Yt.y,0))}const cu=32640;function OI(c,l,f,y,w,C,A,k,R,V,W,X,Q,te,re){const we=function(He,Le,Ne,ot,it,kt,Vt,Et){const wt=ot.layout.get("text-rotate").evaluate(kt,{})*Math.PI/180,yt=[];for(const At of Le.positionedLines)for(const St of At.positionedGlyphs){if(!St.rect)continue;const pt=St.rect||{};let Yt=4,Gt=!0,xr=1,dn=0;const Tn=(it||Et)&&St.vertical,ei=St.metrics.advance*St.scale/2;if(Et&&Le.verticalizable){const An=(St.scale-1)*vi,ci=(vi-St.metrics.width*St.scale)/2;dn=At.lineOffset/2-(St.imageName?-ci:An)}if(St.imageName){const An=Vt[St.imageName];Gt=An.sdf,xr=An.pixelRatio,Yt=1/xr}const Ho=it?[St.x+ei,St.y]:[0,0];let wi=it?[0,0]:[St.x+ei+Ne[0],St.y+Ne[1]-dn],Wn=[0,0];Tn&&(Wn=wi,wi=[0,0]);const ui=(St.metrics.left-Yt)*St.scale-ei+wi[0],Si=(-St.metrics.top-Yt)*St.scale+wi[1],Mi=ui+pt.w*St.scale/xr,ao=Si+pt.h*St.scale/xr,qn=new ce(ui,Si),Ti=new ce(Mi,Si),Di=new ce(ui,ao),Gi=new ce(Mi,ao);if(Tn){const An=new ce(-ei,ei-xy),ci=-Math.PI/2,Ar=12-ei,To=new ce(22-Ar,-(St.imageName?Ar:0)),Ci=new ce(...Wn);qn._rotateAround(ci,An)._add(To)._add(Ci),Ti._rotateAround(ci,An)._add(To)._add(Ci),Di._rotateAround(ci,An)._add(To)._add(Ci),Gi._rotateAround(ci,An)._add(To)._add(Ci)}if(wt){const An=Math.sin(wt),ci=Math.cos(wt),Ar=[ci,-An,An,ci];qn._matMult(Ar),Ti._matMult(Ar),Di._matMult(Ar),Gi._matMult(Ar)}const so=new ce(0,0),lo=new ce(0,0);yt.push({tl:qn,tr:Ti,bl:Di,br:Gi,tex:pt,writingMode:Le.writingMode,glyphOffset:Ho,sectionIndex:St.sectionIndex,isSDF:Gt,pixelOffsetTL:so,pixelOffsetBR:lo,minFontScaleX:0,minFontScaleY:0})}return yt}(0,f,k,w,C,A,y,c.allowVerticalPlacement),xe=c.textSizeData;let ke=null;xe.kind==="source"?(ke=[tl*w.layout.get("text-size").evaluate(A,{})],ke[0]>cu&&F(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):xe.kind==="composite"&&(ke=[tl*te.compositeTextSizes[0].evaluate(A,{},re),tl*te.compositeTextSizes[1].evaluate(A,{},re)],(ke[0]>cu||ke[1]>cu)&&F(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,we,ke,k,C,A,V,l,R.lineStartIndex,R.lineLength,Q,re);for(const He of W)X[He]=c.text.placedSymbolArray.length-1;return 4*we.length}function kI(c){for(const l in c)return c[l];return null}function xU(c,l,f,y){const w=c.compareText;if(l in w){const C=w[l];for(let A=C.length-1;A>=0;A--)if(y.dist(C[A])<f)return!0}else w[l]=[];return w[l].push(y),!1}const wU=su.VectorTileFeature.types,SU=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Py(c,l,f,y,w,C,A,k,R,V,W,X,Q){const te=k?Math.min(cu,Math.round(k[0])):0,re=k?Math.min(cu,Math.round(k[1])):0;c.emplaceBack(l,f,Math.round(32*y),Math.round(32*w),C,A,(te<<1)+(R?1:0),re,16*V,16*W,256*X,256*Q)}function Rx(c,l,f){c.emplaceBack(l.x,l.y,f),c.emplaceBack(l.x,l.y,f),c.emplaceBack(l.x,l.y,f),c.emplaceBack(l.x,l.y,f)}function TU(c){for(const l of c.sections)if(ny(l.text))return!0;return!1}class zx{constructor(l){this.layoutVertexArray=new ia,this.indexArray=new Ui,this.programConfigurations=l,this.segments=new Cr,this.dynamicLayoutVertexArray=new No,this.opacityVertexArray=new oa,this.placedSymbolArray=new ft}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,f,y,w){this.isEmpty()||(y&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,qV.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,XV.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,SU,!0),this.opacityVertexBuffer.itemSize=1),(y||w)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}$t("SymbolBuffers",zx);class $x{constructor(l,f,y){this.layoutVertexArray=new l,this.layoutAttributes=f,this.indexArray=new y,this.segments=new Cr,this.collisionVertexArray=new wo}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,ZV.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}$t("CollisionBuffers",$x);class mf{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map(A=>A.id),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=px([]),this.placementViewportMatrix=px([]);const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=SI(this.zoom,f["text-size"]),this.iconSizeData=SI(this.zoom,f["icon-size"]);const y=this.layers[0].layout,w=y.get("symbol-sort-key"),C=y.get("symbol-z-order");this.canOverlap=Fx(y,"text-overlap","text-allow-overlap")!=="never"||Fx(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=C!=="viewport-y"&&!w.isConstant(),this.sortFeaturesByY=(C==="viewport-y"||C==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map(A=>a.WritingMode[A])),this.stateDependentLayerIds=this.layers.filter(A=>A.isStateDependent()).map(A=>A.id),this.sourceID=l.sourceID}createArrays(){this.text=new zx(new gc(this.layers,this.zoom,l=>/^text/.test(l))),this.icon=new zx(new gc(this.layers,this.zoom,l=>/^icon/.test(l))),this.glyphOffsetArray=new xt,this.lineVertexArray=new Ot,this.symbolInstances=new Mt}calculateGlyphDependencies(l,f,y,w,C){for(let A=0;A<l.length;A++)if(f[l.charCodeAt(A)]=!0,(y||w)&&C){const k=Up[l.charAt(A)];k&&(f[k.charCodeAt(0)]=!0)}}populate(l,f,y){const w=this.layers[0],C=w.layout,A=C.get("text-font"),k=C.get("text-field"),R=C.get("icon-image"),V=(k.value.kind!=="constant"||k.value.value instanceof Ce&&!k.value.value.isEmpty()||k.value.value.toString().length>0)&&(A.value.kind!=="constant"||A.value.value.length>0),W=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,X=C.get("symbol-sort-key");if(this.features=[],!V&&!W)return;const Q=f.iconDependencies,te=f.glyphDependencies,re=f.availableImages,we=new wn(this.zoom);for(const{feature:xe,id:ke,index:He,sourceLayerIndex:Le}of l){const Ne=w._featureFilter.needGeometry,ot=_c(xe,Ne);if(!w._featureFilter.filter(we,ot,y))continue;let it,kt;if(Ne||(ot.geometry=yc(xe)),V){const Et=w.getValueAndResolveTokens("text-field",ot,y,re),wt=Ce.factory(Et);TU(wt)&&(this.hasRTLText=!0),(!this.hasRTLText||pc()==="unavailable"||this.hasRTLText&&xo.isParsed())&&(it=YV(wt,w,ot))}if(W){const Et=w.getValueAndResolveTokens("icon-image",ot,y,re);kt=Et instanceof Ie?Et:Ie.fromString(Et)}if(!it&&!kt)continue;const Vt=this.sortFeaturesByKey?X.evaluate(ot,{},y):void 0;if(this.features.push({id:ke,text:it,icon:kt,index:He,sourceLayerIndex:Le,geometry:ot.geometry,properties:xe.properties,type:wU[xe.type],sortKey:Vt}),kt&&(Q[kt.name]=!0),it){const Et=A.evaluate(ot,{},y).join(","),wt=C.get("text-rotation-alignment")!=="viewport"&&C.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(a.WritingMode.vertical)>=0;for(const yt of it.sections)if(yt.image)Q[yt.image.name]=!0;else{const At=rf(it.toString()),St=yt.fontStack||Et,pt=te[St]=te[St]||{};this.calculateGlyphDependencies(yt.text,pt,wt,this.allowVerticalPlacement,At)}}}C.get("symbol-placement")==="line"&&(this.features=function(xe){const ke={},He={},Le=[];let Ne=0;function ot(Et){Le.push(xe[Et]),Ne++}function it(Et,wt,yt){const At=He[Et];return delete He[Et],He[wt]=At,Le[At].geometry[0].pop(),Le[At].geometry[0]=Le[At].geometry[0].concat(yt[0]),At}function kt(Et,wt,yt){const At=ke[wt];return delete ke[wt],ke[Et]=At,Le[At].geometry[0].shift(),Le[At].geometry[0]=yt[0].concat(Le[At].geometry[0]),At}function Vt(Et,wt,yt){const At=yt?wt[0][wt[0].length-1]:wt[0][0];return`${Et}:${At.x}:${At.y}`}for(let Et=0;Et<xe.length;Et++){const wt=xe[Et],yt=wt.geometry,At=wt.text?wt.text.toString():null;if(!At){ot(Et);continue}const St=Vt(At,yt),pt=Vt(At,yt,!0);if(St in He&&pt in ke&&He[St]!==ke[pt]){const Yt=kt(St,pt,yt),Gt=it(St,pt,Le[Yt].geometry);delete ke[St],delete He[pt],He[Vt(At,Le[Gt].geometry,!0)]=Gt,Le[Yt].geometry=null}else St in He?it(St,pt,yt):pt in ke?kt(St,pt,yt):(ot(Et),ke[St]=Ne-1,He[pt]=Ne-1)}return Le.filter(Et=>Et.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((xe,ke)=>xe.sortKey-ke.sortKey)}update(l,f,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,f,this.layers,y),this.icon.programConfigurations.updatePaintArrays(l,f,this.layers,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,f){const y=this.lineVertexArray.length;if(l.segment!==void 0){let w=l.dist(f[l.segment+1]),C=l.dist(f[l.segment]);const A={};for(let k=l.segment+1;k<f.length;k++)A[k]={x:f[k].x,y:f[k].y,tileUnitDistanceFromAnchor:w},k<f.length-1&&(w+=f[k+1].dist(f[k]));for(let k=l.segment||0;k>=0;k--)A[k]={x:f[k].x,y:f[k].y,tileUnitDistanceFromAnchor:C},k>0&&(C+=f[k-1].dist(f[k]));for(let k=0;k<f.length;k++){const R=A[k];this.lineVertexArray.emplaceBack(R.x,R.y,R.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(l,f,y,w,C,A,k,R,V,W,X,Q){const te=l.indexArray,re=l.layoutVertexArray,we=l.segments.prepareSegment(4*f.length,re,te,this.canOverlap?A.sortKey:void 0),xe=this.glyphOffsetArray.length,ke=we.vertexLength,He=this.allowVerticalPlacement&&k===a.WritingMode.vertical?Math.PI/2:0,Le=A.text&&A.text.sections;for(let Ne=0;Ne<f.length;Ne++){const{tl:ot,tr:it,bl:kt,br:Vt,tex:Et,pixelOffsetTL:wt,pixelOffsetBR:yt,minFontScaleX:At,minFontScaleY:St,glyphOffset:pt,isSDF:Yt,sectionIndex:Gt}=f[Ne],xr=we.vertexLength,dn=pt[1];Py(re,R.x,R.y,ot.x,dn+ot.y,Et.x,Et.y,y,Yt,wt.x,wt.y,At,St),Py(re,R.x,R.y,it.x,dn+it.y,Et.x+Et.w,Et.y,y,Yt,yt.x,wt.y,At,St),Py(re,R.x,R.y,kt.x,dn+kt.y,Et.x,Et.y+Et.h,y,Yt,wt.x,yt.y,At,St),Py(re,R.x,R.y,Vt.x,dn+Vt.y,Et.x+Et.w,Et.y+Et.h,y,Yt,yt.x,yt.y,At,St),Rx(l.dynamicLayoutVertexArray,R,He),te.emplaceBack(xr,xr+1,xr+2),te.emplaceBack(xr+1,xr+2,xr+3),we.vertexLength+=4,we.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(pt[0]),Ne!==f.length-1&&Gt===f[Ne+1].sectionIndex||l.programConfigurations.populatePaintArrays(re.length,A,A.index,{},Q,Le&&Le[Gt])}l.placedSymbolArray.emplaceBack(R.x,R.y,xe,this.glyphOffsetArray.length-xe,ke,V,W,R.segment,y?y[0]:0,y?y[1]:0,w[0],w[1],k,0,!1,0,X)}_addCollisionDebugVertex(l,f,y,w,C,A){return f.emplaceBack(0,0),l.emplaceBack(y.x,y.y,w,C,Math.round(A.x),Math.round(A.y))}addCollisionDebugVertices(l,f,y,w,C,A,k){const R=C.segments.prepareSegment(4,C.layoutVertexArray,C.indexArray),V=R.vertexLength,W=C.layoutVertexArray,X=C.collisionVertexArray,Q=k.anchorX,te=k.anchorY;this._addCollisionDebugVertex(W,X,A,Q,te,new ce(l,f)),this._addCollisionDebugVertex(W,X,A,Q,te,new ce(y,f)),this._addCollisionDebugVertex(W,X,A,Q,te,new ce(y,w)),this._addCollisionDebugVertex(W,X,A,Q,te,new ce(l,w)),R.vertexLength+=4;const re=C.indexArray;re.emplaceBack(V,V+1),re.emplaceBack(V+1,V+2),re.emplaceBack(V+2,V+3),re.emplaceBack(V+3,V),R.primitiveLength+=4}addDebugCollisionBoxes(l,f,y,w){for(let C=l;C<f;C++){const A=this.collisionBoxArray.get(C);this.addCollisionDebugVertices(A.x1,A.y1,A.x2,A.y2,w?this.textCollisionBox:this.iconCollisionBox,A.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $x(ms,uI.members,ka),this.iconCollisionBox=new $x(ms,uI.members,ka);for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(l,f,y,w,C,A,k,R,V){const W={};for(let X=f;X<y;X++){const Q=l.get(X);W.textBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},W.textFeatureIndex=Q.featureIndex;break}for(let X=w;X<C;X++){const Q=l.get(X);W.verticalTextBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},W.verticalTextFeatureIndex=Q.featureIndex;break}for(let X=A;X<k;X++){const Q=l.get(X);W.iconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},W.iconFeatureIndex=Q.featureIndex;break}for(let X=R;X<V;X++){const Q=l.get(X);W.verticalIconBox={x1:Q.x1,y1:Q.y1,x2:Q.x2,y2:Q.y2,anchorPointX:Q.anchorPointX,anchorPointY:Q.anchorPointY},W.verticalIconFeatureIndex=Q.featureIndex;break}return W}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const y=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,f){const y=l.placedSymbolArray.get(f),w=y.vertexStartIndex+4*y.numGlyphs;for(let C=y.vertexStartIndex;C<w;C+=4)l.indexArray.emplaceBack(C,C+1,C+2),l.indexArray.emplaceBack(C+1,C+2,C+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const f=Math.sin(l),y=Math.cos(l),w=[],C=[],A=[];for(let k=0;k<this.symbolInstances.length;++k){A.push(k);const R=this.symbolInstances.get(k);w.push(0|Math.round(f*R.anchorX+y*R.anchorY)),C.push(R.featureIndex)}return A.sort((k,R)=>w[k]-w[R]||C[R]-C[k]),A}addToSortKeyRanges(l,f){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===f?y.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const y=this.symbolInstances.get(f);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach((w,C,A)=>{w>=0&&A.indexOf(w)===C&&this.addIndicesForPlacedSymbol(this.text,w)}),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}$t("SymbolBucket",mf,{omit:["layers","collisionBoxArray","features","compareText"]}),mf.MAX_GLYPHS=65535,mf.addDynamicAttributes=Rx;const CU=new mi({"symbol-placement":new jt(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new jt(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jt(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new tr(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jt(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jt(Re.layout_symbol["icon-allow-overlap"]),"icon-overlap":new jt(Re.layout_symbol["icon-overlap"]),"icon-ignore-placement":new jt(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new jt(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jt(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new tr(Re.layout_symbol["icon-size"]),"icon-text-fit":new jt(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jt(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new tr(Re.layout_symbol["icon-image"]),"icon-rotate":new tr(Re.layout_symbol["icon-rotate"]),"icon-padding":new tr(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new jt(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new tr(Re.layout_symbol["icon-offset"]),"icon-anchor":new tr(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jt(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jt(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jt(Re.layout_symbol["text-rotation-alignment"]),"text-field":new tr(Re.layout_symbol["text-field"]),"text-font":new tr(Re.layout_symbol["text-font"]),"text-size":new tr(Re.layout_symbol["text-size"]),"text-max-width":new tr(Re.layout_symbol["text-max-width"]),"text-line-height":new jt(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new tr(Re.layout_symbol["text-letter-spacing"]),"text-justify":new tr(Re.layout_symbol["text-justify"]),"text-radial-offset":new tr(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jt(Re.layout_symbol["text-variable-anchor"]),"text-anchor":new tr(Re.layout_symbol["text-anchor"]),"text-max-angle":new jt(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new jt(Re.layout_symbol["text-writing-mode"]),"text-rotate":new tr(Re.layout_symbol["text-rotate"]),"text-padding":new jt(Re.layout_symbol["text-padding"]),"text-keep-upright":new jt(Re.layout_symbol["text-keep-upright"]),"text-transform":new tr(Re.layout_symbol["text-transform"]),"text-offset":new tr(Re.layout_symbol["text-offset"]),"text-allow-overlap":new jt(Re.layout_symbol["text-allow-overlap"]),"text-overlap":new jt(Re.layout_symbol["text-overlap"]),"text-ignore-placement":new jt(Re.layout_symbol["text-ignore-placement"]),"text-optional":new jt(Re.layout_symbol["text-optional"])});var Bx={paint:new mi({"icon-opacity":new tr(Re.paint_symbol["icon-opacity"]),"icon-color":new tr(Re.paint_symbol["icon-color"]),"icon-halo-color":new tr(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new tr(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new tr(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new jt(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new jt(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new tr(Re.paint_symbol["text-opacity"]),"text-color":new tr(Re.paint_symbol["text-color"],{runtimeType:Yn,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new tr(Re.paint_symbol["text-halo-color"]),"text-halo-width":new tr(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new tr(Re.paint_symbol["text-halo-blur"]),"text-translate":new jt(Re.paint_symbol["text-translate"]),"text-translate-anchor":new jt(Re.paint_symbol["text-translate-anchor"])}),layout:CU};class RI{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Rn,this.defaultValue=l}evaluate(l){if(l.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(l.formattedSection))return f.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}$t("FormatSectionOverride",RI,{omit:["defaultValue"]});class Iy extends na{constructor(l){super(l,Bx)}recalculate(l,f){if(super.recalculate(l,f),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const w=[];for(const C of y)w.indexOf(C)<0&&w.push(C);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,f,y,w){const C=this.layout.get(l).evaluate(f,{},y,w),A=this._unevaluatedLayout._values[l];return A.isDataDriven()||tc(A.value)||!C?C:function(k,R){return R.replace(/{([^{}]+)}/g,(V,W)=>W in k?String(k[W]):"")}(f.properties,C)}createBucket(l){return new mf(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of Bx.paint.overridableProperties){if(!Iy.hasPaintOverride(this.layout,l))continue;const f=this.paint.get(l),y=new RI(f),w=new Kh(y,f.property.specification);let C=null;C=f.value.kind==="constant"||f.value.kind==="source"?new nc("source",w):new vp("composite",w,f.value.zoomStops),this.paint._values[l]=new ra(f.property,C,f.parameters)}}_handleOverridablePaintPropertyUpdate(l,f,y){return!(!this.layout||f.isDataDriven()||y.isDataDriven())&&Iy.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,f){const y=l.get("text-field"),w=Bx.paint.properties[f];let C=!1;const A=k=>{for(const R of k)if(w.overrides&&w.overrides.hasOverride(R))return void(C=!0)};if(y.value.kind==="constant"&&y.value.value instanceof Ce)A(y.value.value.sections);else if(y.value.kind==="source"){const k=V=>{C||(V instanceof Ht&&Xe(V.value)===ii?A(V.value.sections):V instanceof Xh?A(V.sections):V.eachChild(k))},R=y.value;R._styleExpression&&k(R._styleExpression.expression)}return C}}function Fx(c,l,f){let y="never";const w=c.get(l);return w?y=w:c.get(f)&&(y="always"),y}var EU={paint:new mi({"background-color":new jt(Re.paint_background["background-color"]),"background-pattern":new Pp(Re.paint_background["background-pattern"]),"background-opacity":new jt(Re.paint_background["background-opacity"])})},AU={paint:new mi({"raster-opacity":new jt(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new jt(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jt(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jt(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new jt(Re.paint_raster["raster-saturation"]),"raster-contrast":new jt(Re.paint_raster["raster-contrast"]),"raster-resampling":new jt(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new jt(Re.paint_raster["raster-fade-duration"])})};class PU extends na{constructor(l){super(l,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const IU={circle:class extends na{constructor(c){super(c,aV)}createBucket(c){return new hx(c)}queryRadius(c){const l=c;return Op("circle-radius",this,l)+Op("circle-stroke-width",this,l)+fy(this.paint.get("circle-translate"))}queryIntersectsFeature(c,l,f,y,w,C,A,k){const R=dy(c,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),C.angle,A),V=this.paint.get("circle-radius").evaluate(l,f)+this.paint.get("circle-stroke-width").evaluate(l,f),W=this.paint.get("circle-pitch-alignment")==="map",X=W?R:function(te,re){return te.map(we=>WP(we,re))}(R,k),Q=W?V*A:V;for(const te of y)for(const re of te){const we=W?re:WP(re,k);let xe=Q;const ke=py([],[re.x,re.y,0,1],k);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?xe*=ke[3]/C.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(xe*=C.cameraToCenterDistance/ke[3]),tV(X,we,xe))return!0}return!1}},heatmap:class extends na{constructor(c){super(c,lV),this._updateColorRamp()}createBucket(c){return new qP(c)}_handleSpecialPaintPropertyUpdate(c){c==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ZP({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}},hillshade:class extends na{constructor(c){super(c,uV)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}},fill:class extends na{constructor(c){super(c,CV)}recalculate(c,l){super.recalculate(c,l);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(c){return new Tx(c)}queryRadius(){return fy(this.paint.get("fill-translate"))}queryIntersectsFeature(c,l,f,y,w,C,A){return BP(dy(c,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),C.angle,A),y)}isTileClipped(){return!0}},"fill-extrusion":class extends na{constructor(c){super(c,FV)}createBucket(c){return new Ex(c)}queryRadius(){return fy(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(c,l,f,y,w,C,A,k){const R=dy(c,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),C.angle,A),V=this.paint.get("fill-extrusion-height").evaluate(l,f),W=this.paint.get("fill-extrusion-base").evaluate(l,f),X=function(te,re,we,xe){const ke=[];for(const He of te){const Le=[He.x,He.y,0,1];py(Le,Le,re),ke.push(new ce(Le[0]/Le[3],Le[1]/Le[3]))}return ke}(R,k),Q=function(te,re,we,xe){const ke=[],He=[],Le=xe[8]*re,Ne=xe[9]*re,ot=xe[10]*re,it=xe[11]*re,kt=xe[8]*we,Vt=xe[9]*we,Et=xe[10]*we,wt=xe[11]*we;for(const yt of te){const At=[],St=[];for(const pt of yt){const Yt=pt.x,Gt=pt.y,xr=xe[0]*Yt+xe[4]*Gt+xe[12],dn=xe[1]*Yt+xe[5]*Gt+xe[13],Tn=xe[2]*Yt+xe[6]*Gt+xe[14],ei=xe[3]*Yt+xe[7]*Gt+xe[15],Ho=Tn+ot,wi=ei+it,Wn=xr+kt,ui=dn+Vt,Si=Tn+Et,Mi=ei+wt,ao=new ce((xr+Le)/wi,(dn+Ne)/wi);ao.z=Ho/wi,At.push(ao);const qn=new ce(Wn/Mi,ui/Mi);qn.z=Si/Mi,St.push(qn)}ke.push(At),He.push(St)}return[ke,He]}(y,W,V,k);return function(te,re,we){let xe=1/0;BP(we,re)&&(xe=iI(we,re[0]));for(let ke=0;ke<re.length;ke++){const He=re[ke],Le=te[ke];for(let Ne=0;Ne<He.length-1;Ne++){const ot=He[Ne],it=[ot,He[Ne+1],Le[Ne+1],Le[Ne],ot];$P(we,it)&&(xe=Math.min(xe,iI(we,it)))}}return xe!==1/0&&xe}(Q[0],Q[1],X)}},line:class extends na{constructor(c){super(c,aI),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(c){c==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ku,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(c,l){super.recalculate(c,l),this.paint._values["line-floorwidth"]=sI.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,c)}createBucket(c){return new Ax(c)}queryRadius(c){const l=c,f=lI(Op("line-width",this,l),Op("line-gap-width",this,l)),y=Op("line-offset",this,l);return f/2+Math.abs(y)+fy(this.paint.get("line-translate"))}queryIntersectsFeature(c,l,f,y,w,C,A){const k=dy(c,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),C.angle,A),R=A/2*lI(this.paint.get("line-width").evaluate(l,f),this.paint.get("line-gap-width").evaluate(l,f)),V=this.paint.get("line-offset").evaluate(l,f);return V&&(y=function(W,X){const Q=[];for(let te=0;te<W.length;te++){const re=W[te],we=[];for(let xe=0;xe<re.length;xe++){const ke=re[xe-1],He=re[xe],Le=re[xe+1],Ne=xe===0?new ce(0,0):He.sub(ke)._unit()._perp(),ot=xe===re.length-1?new ce(0,0):Le.sub(He)._unit()._perp(),it=Ne._add(ot)._unit(),kt=it.x*ot.x+it.y*ot.y;kt!==0&&it._mult(1/kt),we.push(it._mult(X)._add(He))}Q.push(we)}return Q}(y,V*A)),function(W,X,Q){for(let te=0;te<X.length;te++){const re=X[te];if(W.length>=3){for(let we=0;we<re.length;we++)if(lf(W,re[we]))return!0}if(rV(W,re,Q))return!0}return!1}(k,y,R)}isTileClipped(){return!0}},symbol:Iy,background:class extends na{constructor(c){super(c,EU)}},raster:class extends na{constructor(c){super(c,AU)}}};class MU{constructor(l){this._callback=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const zI=63710088e-1;class $n{constructor(l,f){if(isNaN(l)||isNaN(f))throw new Error(`Invalid LngLat object: (${l}, ${f})`);if(this.lng=+l,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new $n(_(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const f=Math.PI/180,y=this.lat*f,w=l.lat*f,C=Math.sin(y)*Math.sin(w)+Math.cos(y)*Math.cos(w)*Math.cos((l.lng-this.lng)*f);return zI*Math.acos(Math.min(C,1))}toBounds(l=0){const f=360*l/40075017,y=f/Math.cos(Math.PI/180*this.lat);return new xc(new $n(this.lng-y,this.lat-f),new $n(this.lng+y,this.lat+f))}static convert(l){if(l instanceof $n)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new $n(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new $n(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class xc{constructor(l,f){l&&(f?this.setSouthWest(l).setNorthEast(f):l.length===4?this.setSouthWest([l[0],l[1]]).setNorthEast([l[2],l[3]]):this.setSouthWest(l[0]).setNorthEast(l[1]))}setNorthEast(l){return this._ne=l instanceof $n?new $n(l.lng,l.lat):$n.convert(l),this}setSouthWest(l){return this._sw=l instanceof $n?new $n(l.lng,l.lat):$n.convert(l),this}extend(l){const f=this._sw,y=this._ne;let w,C;if(l instanceof $n)w=l,C=l;else{if(!(l instanceof xc))return Array.isArray(l)?l.length===4||l.every(Array.isArray)?this.extend(xc.convert(l)):this.extend($n.convert(l)):this;if(w=l._sw,C=l._ne,!w||!C)return this}return f||y?(f.lng=Math.min(w.lng,f.lng),f.lat=Math.min(w.lat,f.lat),y.lng=Math.max(C.lng,y.lng),y.lat=Math.max(C.lat,y.lat)):(this._sw=new $n(w.lng,w.lat),this._ne=new $n(C.lng,C.lat)),this}getCenter(){return new $n((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new $n(this.getWest(),this.getNorth())}getSouthEast(){return new $n(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(l){const{lng:f,lat:y}=$n.convert(l);let w=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&w}static convert(l){return l instanceof xc?l:l&&new xc(l)}}const $I=2*Math.PI*zI;function BI(c){return $I*Math.cos(c*Math.PI/180)}function FI(c){return(180+c)/360}function NI(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function VI(c,l){return c/BI(l)}function Nx(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class My{constructor(l,f,y=0){this.x=+l,this.y=+f,this.z=+y}static fromLngLat(l,f=0){const y=$n.convert(l);return new My(FI(y.lng),NI(y.lat),VI(f,y.lat))}toLngLat(){return new $n(360*this.x-180,Nx(this.y))}toAltitude(){return this.z*BI(Nx(this.y))}meterInMercatorCoordinateUnits(){return 1/$I*(l=Nx(this.y),1/Math.cos(l*Math.PI/180));var l}}function UI(c,l,f){var y=2*Math.PI*6378137/256/Math.pow(2,f);return[c*y-2*Math.PI*6378137/2,l*y-2*Math.PI*6378137/2]}class Vx{constructor(l,f,y){if(l<0||l>25||y<0||y>=Math.pow(2,l)||f<0||f>=Math.pow(2,l))throw new Error(`x=${f}, y=${y}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=f,this.y=y,this.key=jp(0,l,l,f,y)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,f,y){const w=(A=this.y,k=this.z,R=UI(256*(C=this.x),256*(A=Math.pow(2,k)-A-1),k),V=UI(256*(C+1),256*(A+1),k),R[0]+","+R[1]+","+V[0]+","+V[1]);var C,A,k,R,V;const W=function(X,Q,te){let re,we="";for(let xe=X;xe>0;xe--)re=1<<xe-1,we+=(Q&re?1:0)+(te&re?2:0);return we}(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,W).replace(/{bbox-epsg-3857}/g,w)}isChildOf(l){const f=this.z-l.z;return f>0&&l.x===this.x>>f&&l.y===this.y>>f}getTilePoint(l){const f=Math.pow(2,this.z);return new ce((l.x*f-this.x)*Qn,(l.y*f-this.y)*Qn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class HI{constructor(l,f){this.wrap=l,this.canonical=f,this.key=jp(l,f.z,f.z,f.x,f.y)}}class Uo{constructor(l,f,y,w,C){if(l<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${y}`);this.overscaledZ=l,this.wrap=f,this.canonical=new Vx(y,+w,+C),this.key=jp(f,l,y,w,C)}clone(){return new Uo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-l;return l>this.canonical.z?new Uo(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Uo(l,this.wrap,l,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(l,f){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-l;return l>this.canonical.z?jp(this.wrap*+f,l,this.canonical.z,this.canonical.x,this.canonical.y):jp(this.wrap*+f,l,l,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(l){if(l.wrap!==this.wrap)return!1;const f=this.canonical.z-l.canonical.z;return l.overscaledZ===0||l.overscaledZ<this.overscaledZ&&l.canonical.x===this.canonical.x>>f&&l.canonical.y===this.canonical.y>>f}children(l){if(this.overscaledZ>=l)return[new Uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,y=2*this.canonical.x,w=2*this.canonical.y;return[new Uo(f,this.wrap,f,y,w),new Uo(f,this.wrap,f,y+1,w),new Uo(f,this.wrap,f,y,w+1),new Uo(f,this.wrap,f,y+1,w+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Uo(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new HI(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new My(l.x-this.wrap,l.y))}}function jp(c,l,f,y,w){(c*=2)<0&&(c=-1*c-1);const C=1<<f;return(C*C*c+C*w+y).toString(36)+f.toString(36)+l.toString(36)}$t("CanonicalTileID",Vx),$t("OverscaledTileID",Uo,{omit:["posMatrix"]});class jI{constructor(l,f,y){if(this.uid=l,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(y&&y!=="mapbox"&&y!=="terrarium")return void F(`"${y}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=f.height;const w=this.dim=f.height-2;this.data=new Uint32Array(f.data.buffer),this.encoding=y||"mapbox";for(let C=0;C<w;C++)this.data[this._idx(-1,C)]=this.data[this._idx(0,C)],this.data[this._idx(w,C)]=this.data[this._idx(w-1,C)],this.data[this._idx(C,-1)]=this.data[this._idx(C,0)],this.data[this._idx(C,w)]=this.data[this._idx(C,w-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(w,-1)]=this.data[this._idx(w-1,0)],this.data[this._idx(-1,w)]=this.data[this._idx(0,w-1)],this.data[this._idx(w,w)]=this.data[this._idx(w-1,w-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let C=0;C<w;C++)for(let A=0;A<w;A++){const k=this.get(C,A);k>this.max&&(this.max=k),k<this.min&&(this.min=k)}}get(l,f){const y=new Uint8Array(this.data.buffer),w=4*this._idx(l,f);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(y[w],y[w+1],y[w+2])}getUnpackVector(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(l,f){if(l<-1||l>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(l+1)}_unpackMapbox(l,f,y){return(256*l*256+256*f+y)/10-1e4}_unpackTerrarium(l,f,y){return 256*l+f+y/256-32768}getPixels(){return new Vo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,f,y){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let w=f*this.dim,C=f*this.dim+this.dim,A=y*this.dim,k=y*this.dim+this.dim;switch(f){case-1:w=C-1;break;case 1:C=w+1}switch(y){case-1:A=k-1;break;case 1:k=A+1}const R=-f*this.dim,V=-y*this.dim;for(let W=A;W<k;W++)for(let X=w;X<C;X++)this.data[this._idx(X,W)]=l.data[this._idx(X+R,W+V)]}}$t("DEMData",jI);class GI{constructor(l){this._stringToNumber={},this._numberToString=[];for(let f=0;f<l.length;f++){const y=l[f];this._stringToNumber[y]=f,this._numberToString[f]=y}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class WI{constructor(l,f,y,w,C){this.type="Feature",this._vectorTileFeature=l,l._z=f,l._x=y,l._y=w,this.properties=l.properties,this.id=C}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const f in this)f!=="_geometry"&&f!=="_vectorTileFeature"&&(l[f]=this[f]);return l}}class qI{constructor(l,f){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new dc(Qn,16,0),this.grid3D=new dc(Qn,16,0),this.featureIndexArray=new br,this.promoteId=f}insert(l,f,y,w,C,A){const k=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,w,C);const R=A?this.grid3D:this.grid;for(let V=0;V<f.length;V++){const W=f[V],X=[1/0,1/0,-1/0,-1/0];for(let Q=0;Q<W.length;Q++){const te=W[Q];X[0]=Math.min(X[0],te.x),X[1]=Math.min(X[1],te.y),X[2]=Math.max(X[2],te.x),X[3]=Math.max(X[3],te.y)}X[0]<Qn&&X[1]<Qn&&X[2]>=0&&X[3]>=0&&R.insert(k,X[0],X[1],X[2],X[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new su.VectorTile(new Px(this.rawTileData)).layers,this.sourceLayerCoder=new GI(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(l,f,y,w){this.loadVTLayers();const C=l.params||{},A=Qn/l.tileSize/l.scale,k=Qh(C.filter),R=l.queryGeometry,V=l.queryPadding*A,W=ZI(R),X=this.grid.query(W.minX-V,W.minY-V,W.maxX+V,W.maxY+V),Q=ZI(l.cameraQueryGeometry),te=this.grid3D.query(Q.minX-V,Q.minY-V,Q.maxX+V,Q.maxY+V,(xe,ke,He,Le)=>function(Ne,ot,it,kt,Vt){for(const wt of Ne)if(ot<=wt.x&&it<=wt.y&&kt>=wt.x&&Vt>=wt.y)return!0;const Et=[new ce(ot,it),new ce(ot,Vt),new ce(kt,Vt),new ce(kt,it)];if(Ne.length>2){for(const wt of Et)if(lf(Ne,wt))return!0}for(let wt=0;wt<Ne.length-1;wt++)if(iV(Ne[wt],Ne[wt+1],Et))return!0;return!1}(l.cameraQueryGeometry,xe-V,ke-V,He+V,Le+V));for(const xe of te)X.push(xe);X.sort(DU);const re={};let we;for(let xe=0;xe<X.length;xe++){const ke=X[xe];if(ke===we)continue;we=ke;const He=this.featureIndexArray.get(ke);let Le=null;this.loadMatchingFeature(re,He.bucketIndex,He.sourceLayerIndex,He.featureIndex,k,C.layers,C.availableImages,f,y,w,(Ne,ot,it)=>(Le||(Le=yc(Ne)),ot.queryIntersectsFeature(R,Ne,it,Le,this.z,l.transform,A,l.pixelPosMatrix)))}return re}loadMatchingFeature(l,f,y,w,C,A,k,R,V,W,X){const Q=this.bucketLayerIDs[f];if(A&&!function(xe,ke){for(let He=0;He<xe.length;He++)if(ke.indexOf(xe[He])>=0)return!0;return!1}(A,Q))return;const te=this.sourceLayerCoder.decode(y),re=this.vtLayers[te].feature(w);if(C.needGeometry){const xe=_c(re,!0);if(!C.filter(new wn(this.tileID.overscaledZ),xe,this.tileID.canonical))return}else if(!C.filter(new wn(this.tileID.overscaledZ),re))return;const we=this.getId(re,te);for(let xe=0;xe<Q.length;xe++){const ke=Q[xe];if(A&&A.indexOf(ke)<0)continue;const He=R[ke];if(!He)continue;let Le={};we&&W&&(Le=W.getState(He.sourceLayer||"_geojsonTileLayer",we));const Ne=T({},V[ke]);Ne.paint=XI(Ne.paint,He.paint,re,Le,k),Ne.layout=XI(Ne.layout,He.layout,re,Le,k);const ot=!X||X(re,He,Le);if(!ot)continue;const it=new WI(re,this.z,this.x,this.y,we);it.layer=Ne;let kt=l[ke];kt===void 0&&(kt=l[ke]=[]),kt.push({featureIndex:w,feature:it,intersectionZ:ot})}}lookupSymbolFeatures(l,f,y,w,C,A,k,R){const V={};this.loadVTLayers();const W=Qh(C);for(const X of l)this.loadMatchingFeature(V,y,w,X,W,A,k,R,f);return V}hasLayer(l){for(const f of this.bucketLayerIDs)for(const y of f)if(l===y)return!0;return!1}getId(l,f){let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[f]],typeof y=="boolean"&&(y=Number(y))),y}}function XI(c,l,f,y,w){return I(c,(C,A)=>{const k=l instanceof vc?l.get(A):null;return k&&k.evaluate?k.evaluate(f,y,w):k})}function ZI(c){let l=1/0,f=1/0,y=-1/0,w=-1/0;for(const C of c)l=Math.min(l,C.x),f=Math.min(f,C.y),y=Math.max(y,C.x),w=Math.max(w,C.y);return{minX:l,minY:f,maxX:y,maxY:w}}function DU(c,l){return l-c}var Ux;$t("FeatureIndex",qI,{omit:["rawTileData","sourceLayerCoder"]}),a.PerformanceMarkers=void 0,(Ux=a.PerformanceMarkers||(a.PerformanceMarkers={})).create="create",Ux.load="load",Ux.fullLoad="fullLoad";let Dy=null,Gp=[];const Hx=1e3/30,LU={mark(c){performance.mark(c)},frame(c){const l=c;Dy!=null&&Gp.push(l-Dy),Dy=l},clearMetrics(){Dy=null,Gp=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const c in a.PerformanceMarkers)performance.clearMarks(a.PerformanceMarkers[c])},getPerformanceMetrics(){performance.measure("loadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.load),performance.measure("fullLoadTime",a.PerformanceMarkers.create,a.PerformanceMarkers.fullLoad);const c=performance.getEntriesByName("loadTime")[0].duration,l=performance.getEntriesByName("fullLoadTime")[0].duration,f=Gp.length,y=1/(Gp.reduce((C,A)=>C+A,0)/f/1e3),w=Gp.filter(C=>C>Hx).reduce((C,A)=>C+(A-Hx)/Hx,0);return{loadTime:c,fullLoadTime:l,fps:y,percentDroppedFrames:w/(f+w)*100}}};a.AJAXError=ye,a.ARRAY_TYPE=ji,a.Actor=class{constructor(c,l,f){this.target=c,this.parent=l,this.mapId=f,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new MU(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=U()?c:window}send(c,l,f,y,w=!1){const C=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(this.callbacks[C]=f);const A=he(this.globalScope)?void 0:[];return this.target.postMessage({id:C,type:c,hasCallback:!!f,targetMapId:y,mustQueue:w,sourceMapId:this.mapId,data:Xs(l,A)},A),{cancel:()=>{f&&delete this.callbacks[C],this.target.postMessage({id:C,type:"<cancel>",targetMapId:y,sourceMapId:this.mapId})}}}receive(c){const l=c.data,f=l.id;if(f&&(!l.targetMapId||this.mapId===l.targetMapId))if(l.type==="<cancel>"){delete this.tasks[f];const y=this.cancelCallbacks[f];delete this.cancelCallbacks[f],y&&y()}else U()||l.mustQueue?(this.tasks[f]=l,this.taskQueue.push(f),this.invoker.trigger()):this.processTask(f,l)}process(){if(!this.taskQueue.length)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){if(l.type==="<response>"){const f=this.callbacks[c];delete this.callbacks[c],f&&(l.error?f(cs(l.error)):f(null,cs(l.data)))}else{let f=!1;const y=he(this.globalScope)?void 0:[],w=l.hasCallback?(k,R)=>{f=!0,delete this.cancelCallbacks[c],this.target.postMessage({id:c,type:"<response>",sourceMapId:this.mapId,error:k?Xs(k):null,data:Xs(R,y)},y)}:k=>{f=!0};let C=null;const A=cs(l.data);if(this.parent[l.type])C=this.parent[l.type](l.sourceMapId,A,w);else if(this.parent.getWorkerSource){const k=l.type.split(".");C=this.parent.getWorkerSource(l.sourceMapId,k[0],A.source)[k[1]](A,w)}else w(new Error(`Could not find function ${l.type}`));!f&&C&&C.cancel&&(this.cancelCallbacks[c]=C.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.AlphaImage=Rp,a.CanonicalTileID=Vx,a.CollisionBoxArray=Je,a.CollisionCircleLayoutArray=class extends q{},a.Color=se,a.DEMData=jI,a.DataConstantProperty=jt,a.DictionaryCoder=GI,a.EXTENT=Qn,a.ErrorEvent=sr,a.EvaluationParameters=wn,a.Event=qt,a.Evented=yr,a.FeatureIndex=qI,a.FillBucket=Tx,a.FillExtrusionBucket=Ex,a.GeoJSONFeature=WI,a.ImageAtlas=gI,a.ImagePosition=Mx,a.LineBucket=Ax,a.LineStripIndexArray=class extends be{},a.LngLat=$n,a.LngLatBounds=xc,a.MercatorCoordinate=My,a.ONE_EM=vi,a.OverscaledTileID=Uo,a.PerformanceUtils=LU,a.PosArray=Kt,a.Properties=mi,a.QuadTriangleArray=class extends ee{},a.RGBAImage=Vo,a.RasterBoundsArray=class extends x{},a.RequestPerformance=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},a.ResourceType=le,a.SegmentVector=Cr,a.SymbolBucket=mf,a.Transitionable=ay,a.TriangleIndexArray=Ui,a.Uniform1f=Js,a.Uniform1i=class extends Ys{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.Uniform2f=class extends Ys{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},a.Uniform3f=class extends Ys{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},a.Uniform4f=af,a.UniformColor=OP,a.UniformMatrix4f=class extends Ys{constructor(c,l){super(c,l),this.current=Q7}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},a.UnwrappedTileID=HI,a.ValidationError=at,a.ZoomHistory=bp,a.add=function(c,l,f){return c[0]=l[0]+f[0],c[1]=l[1]+f[1],c[2]=l[2]+f[2],c},a.addDynamicAttributes=Rx,a.asyncAll=function(c,l,f){if(!c.length)return f(null,[]);let y=c.length;const w=new Array(c.length);let C=null;c.forEach((A,k)=>{l(A,(R,V)=>{R&&(C=R),w[k]=V,--y==0&&f(C,w)})})},a.bezier=m,a.bindAll=M,a.cacheEntryPossiblyAdded=function(c){nr++,nr>Jt&&(c.getActor().send("enforceCacheSizeLimit",vt),nr=0)},a.clamp=g,a.clearTileCache=function(c){const l=caches.delete(ht);c&&l.catch(c).then(()=>c())},a.clipLine=II,a.clone=function(c){var l=new ji(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},a.clone$1=O,a.clone$2=function(c){var l=new ji(3);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l},a.collisionCircleLayout=KV,a.config=Ve,a.copy=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.create=function(){var c=new ji(16);return ji!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},a.create$1=VP,a.createExpression=rc,a.createFilter=Qh,a.createLayout=Gn,a.createStyleLayer=function(c){return c.type==="custom"?new PU(c):new IU[c.type](c)},a.cross=function(c,l,f){var y=l[0],w=l[1],C=l[2],A=f[0],k=f[1],R=f[2];return c[0]=w*R-C*k,c[1]=C*A-y*R,c[2]=y*k-w*A,c},a.dot=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]},a.dot$1=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3]},a.ease=v,a.emitValidationErrors=tf,a.enforceCacheSizeLimit=function(c){ar(),mt&&mt.then(l=>{l.keys().then(f=>{for(let y=0;y<f.length-c;y++)l.delete(f[y])})})},a.equals=function(c,l){var f=c[0],y=c[1],w=c[2],C=c[3],A=c[4],k=c[5],R=c[6],V=c[7],W=c[8],X=c[9],Q=c[10],te=c[11],re=c[12],we=c[13],xe=c[14],ke=c[15],He=l[0],Le=l[1],Ne=l[2],ot=l[3],it=l[4],kt=l[5],Vt=l[6],Et=l[7],wt=l[8],yt=l[9],At=l[10],St=l[11],pt=l[12],Yt=l[13],Gt=l[14],xr=l[15];return Math.abs(f-He)<=Hi*Math.max(1,Math.abs(f),Math.abs(He))&&Math.abs(y-Le)<=Hi*Math.max(1,Math.abs(y),Math.abs(Le))&&Math.abs(w-Ne)<=Hi*Math.max(1,Math.abs(w),Math.abs(Ne))&&Math.abs(C-ot)<=Hi*Math.max(1,Math.abs(C),Math.abs(ot))&&Math.abs(A-it)<=Hi*Math.max(1,Math.abs(A),Math.abs(it))&&Math.abs(k-kt)<=Hi*Math.max(1,Math.abs(k),Math.abs(kt))&&Math.abs(R-Vt)<=Hi*Math.max(1,Math.abs(R),Math.abs(Vt))&&Math.abs(V-Et)<=Hi*Math.max(1,Math.abs(V),Math.abs(Et))&&Math.abs(W-wt)<=Hi*Math.max(1,Math.abs(W),Math.abs(wt))&&Math.abs(X-yt)<=Hi*Math.max(1,Math.abs(X),Math.abs(yt))&&Math.abs(Q-At)<=Hi*Math.max(1,Math.abs(Q),Math.abs(At))&&Math.abs(te-St)<=Hi*Math.max(1,Math.abs(te),Math.abs(St))&&Math.abs(re-pt)<=Hi*Math.max(1,Math.abs(re),Math.abs(pt))&&Math.abs(we-Yt)<=Hi*Math.max(1,Math.abs(we),Math.abs(Yt))&&Math.abs(xe-Gt)<=Hi*Math.max(1,Math.abs(xe),Math.abs(Gt))&&Math.abs(ke-xr)<=Hi*Math.max(1,Math.abs(ke),Math.abs(xr))},a.evaluateSizeForFeature=function(c,{uSize:l,uSizeT:f},{lowerSize:y,upperSize:w}){return c.kind==="source"?y/tl:c.kind==="composite"?bn(y/tl,w/tl,f):l},a.evaluateSizeForZoom=function(c,l){let f=0,y=0;if(c.kind==="constant")y=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:w,minZoom:C,maxZoom:A}=c,k=w?g(no.interpolationFactor(w,l,C,A),0,1):0;c.kind==="camera"?y=bn(c.minSize,c.maxSize,k):f=k}return{uSizeT:f,uSize:y}},a.evaluateVariableOffset=LI,a.evented=Ap,a.exported=de,a.exported$1=st,a.extend=T,a.filterObject=D,a.fromRotation=function(c,l){var f=Math.sin(l),y=Math.cos(l);return c[0]=y,c[1]=f,c[2]=0,c[3]=-f,c[4]=y,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},a.fromScaling=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},a.getAnchorAlignment=Lx,a.getAnchorJustification=kx,a.getArrayBuffer=qe,a.getImage=Tt,a.getJSON=function(c,l){return Ye(T(c,{type:"json"}),l)},a.getOverlapMode=Fx,a.getRTLTextPluginStatus=pc,a.getReferrer=Ee,a.getVideo=function(c,l){const f=window.document.createElement("video");f.muted=!0,f.onloadstart=function(){l(null,f)};for(let y=0;y<c.length;y++){const w=window.document.createElement("source");nt(c[y])||(f.crossOrigin="Anonymous"),w.src=c[y],f.appendChild(w)}return{cancel:()=>{}}},a.identity=px,a.invert=function(c,l){var f=l[0],y=l[1],w=l[2],C=l[3],A=l[4],k=l[5],R=l[6],V=l[7],W=l[8],X=l[9],Q=l[10],te=l[11],re=l[12],we=l[13],xe=l[14],ke=l[15],He=f*k-y*A,Le=f*R-w*A,Ne=f*V-C*A,ot=y*R-w*k,it=y*V-C*k,kt=w*V-C*R,Vt=W*we-X*re,Et=W*xe-Q*re,wt=W*ke-te*re,yt=X*xe-Q*we,At=X*ke-te*we,St=Q*ke-te*xe,pt=He*St-Le*At+Ne*yt+ot*wt-it*Et+kt*Vt;return pt?(c[0]=(k*St-R*At+V*yt)*(pt=1/pt),c[1]=(w*At-y*St-C*yt)*pt,c[2]=(we*kt-xe*it+ke*ot)*pt,c[3]=(Q*it-X*kt-te*ot)*pt,c[4]=(R*wt-A*St-V*Et)*pt,c[5]=(f*St-w*wt+C*Et)*pt,c[6]=(xe*Ne-re*kt-ke*Le)*pt,c[7]=(W*kt-Q*Ne+te*Le)*pt,c[8]=(A*At-k*wt+V*Vt)*pt,c[9]=(y*wt-f*At-C*Vt)*pt,c[10]=(re*it-we*Ne+ke*He)*pt,c[11]=(X*Ne-W*it-te*He)*pt,c[12]=(k*Et-A*yt-R*Vt)*pt,c[13]=(f*yt-y*Et+w*Vt)*pt,c[14]=(we*Le-re*ot-xe*He)*pt,c[15]=(W*ot-X*Le+Q*He)*pt,c):null},a.isImageBitmap=ie,a.isSafari=he,a.isWorker=U,a.keysDifference=function(c,l){const f=[];for(const y in c)y in l||f.push(y);return f},a.lazyLoadRTLTextPlugin=function(){xo.isLoading()||xo.isLoaded()||pc()!=="deferred"||oy()},a.makeRequest=Ye,a.mapObject=I,a.mercatorXfromLng=FI,a.mercatorYfromLat=NI,a.mercatorZfromAltitude=VI,a.mul=sV,a.mul$1=function(c,l,f){return c[0]=l[0]*f[0],c[1]=l[1]*f[1],c[2]=l[2]*f[2],c[3]=l[3]*f[3],c},a.multiply=UP,a.nextPowerOfTwo=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},a.normalize=function(c,l){var f=l[0],y=l[1],w=l[2],C=f*f+y*y+w*w;return C>0&&(C=1/Math.sqrt(C)),c[0]=l[0]*C,c[1]=l[1]*C,c[2]=l[2]*C,c},a.number=bn,a.ortho=function(c,l,f,y,w,C,A){var k=1/(l-f),R=1/(y-w),V=1/(C-A);return c[0]=-2*k,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*R,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*V,c[11]=0,c[12]=(l+f)*k,c[13]=(w+y)*R,c[14]=(A+C)*V,c[15]=1,c},a.parseCacheControl=J,a.parseGlyphPbf=function(c){return new Px(c).readFields(sU,[])},a.pbf=Px,a.performSymbolLayout=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Qn/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0].layout,f=c.bucket.layers[0]._unevaluatedLayout._values,y={layoutIconSize:f["icon-size"].possiblyEvaluate(new wn(c.bucket.zoom+1),c.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new wn(c.bucket.zoom+1),c.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new wn(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:R,maxZoom:V}=c.bucket.textSizeData;y.compositeTextSizes=[f["text-size"].possiblyEvaluate(new wn(R),c.canonical),f["text-size"].possiblyEvaluate(new wn(V),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:R,maxZoom:V}=c.bucket.iconSizeData;y.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new wn(R),c.canonical),f["icon-size"].possiblyEvaluate(new wn(V),c.canonical)]}const w=l.get("text-line-height")*vi,C=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",A=l.get("text-keep-upright"),k=l.get("text-size");for(const R of c.bucket.features){const V=l.get("text-font").evaluate(R,{},c.canonical).join(","),W=k.evaluate(R,{},c.canonical),X=y.layoutTextSize.evaluate(R,{},c.canonical),Q=y.layoutIconSize.evaluate(R,{},c.canonical),te={horizontal:{},vertical:void 0},re=R.text;let we,xe=[0,0];if(re){const Le=re.toString(),Ne=l.get("text-letter-spacing").evaluate(R,{},c.canonical)*vi,ot=ax(Le)?Ne:0,it=l.get("text-anchor").evaluate(R,{},c.canonical),kt=l.get("text-variable-anchor");if(!kt){const At=l.get("text-radial-offset").evaluate(R,{},c.canonical);xe=At?LI(it,[At*vi,Ox]):l.get("text-offset").evaluate(R,{},c.canonical).map(St=>St*vi)}let Vt=C?"center":l.get("text-justify").evaluate(R,{},c.canonical);const Et=l.get("symbol-placement"),wt=Et==="point"?l.get("text-max-width").evaluate(R,{},c.canonical)*vi:0,yt=()=>{c.bucket.allowVerticalPlacement&&rf(Le)&&(te.vertical=wy(re,c.glyphMap,c.glyphPositions,c.imagePositions,V,wt,w,it,"left",ot,xe,a.WritingMode.vertical,!0,Et,X,W))};if(!C&&kt){const At=Vt==="auto"?kt.map(pt=>kx(pt)):[Vt];let St=!1;for(let pt=0;pt<At.length;pt++){const Yt=At[pt];if(!te.horizontal[Yt])if(St)te.horizontal[Yt]=te.horizontal[0];else{const Gt=wy(re,c.glyphMap,c.glyphPositions,c.imagePositions,V,wt,w,"center",Yt,ot,xe,a.WritingMode.horizontal,!1,Et,X,W);Gt&&(te.horizontal[Yt]=Gt,St=Gt.positionedLines.length===1)}}yt()}else{Vt==="auto"&&(Vt=kx(it));const At=wy(re,c.glyphMap,c.glyphPositions,c.imagePositions,V,wt,w,it,Vt,ot,xe,a.WritingMode.horizontal,!1,Et,X,W);At&&(te.horizontal[Vt]=At),yt(),rf(Le)&&C&&A&&(te.vertical=wy(re,c.glyphMap,c.glyphPositions,c.imagePositions,V,wt,w,it,Vt,ot,xe,a.WritingMode.vertical,!1,Et,X,W))}}let ke=!1;if(R.icon&&R.icon.name){const Le=c.imageMap[R.icon.name];Le&&(we=dU(c.imagePositions[R.icon.name],l.get("icon-offset").evaluate(R,{},c.canonical),l.get("icon-anchor").evaluate(R,{},c.canonical)),ke=!!Le.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=ke:c.bucket.sdfIcons!==ke&&F("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Le.pixelRatio!==c.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const He=kI(te.horizontal)||te.vertical;c.bucket.iconsInText=!!He&&He.iconsInText,(He||we)&&bU(c.bucket,R,te,we,c.imageMap,y,X,Q,xe,ke,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},a.perspective=function(c,l,f,y,w){var C,A=1/Math.tan(l/2);return c[0]=A/f,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=A,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,w!=null&&w!==1/0?(c[10]=(w+y)*(C=1/(y-w)),c[14]=2*w*y*C):(c[10]=-1,c[14]=-2*y),c},a.pick=function(c,l){const f={};for(let y=0;y<l.length;y++){const w=l[y];w in c&&(f[w]=c[w])}return f},a.plugin=xo,a.pointGeometry=ce,a.polygonIntersectsPolygon=$P,a.potpack=vI,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=$t,a.registerForPluginStateChange=function(c){return c({pluginStatus:Vi,pluginURL:hs}),Ap.on("pluginStateChange",c),c},a.renderColorRamp=ZP,a.rotateX=function(c,l,f){var y=Math.sin(f),w=Math.cos(f),C=l[4],A=l[5],k=l[6],R=l[7],V=l[8],W=l[9],X=l[10],Q=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=C*w+V*y,c[5]=A*w+W*y,c[6]=k*w+X*y,c[7]=R*w+Q*y,c[8]=V*w-C*y,c[9]=W*w-A*y,c[10]=X*w-k*y,c[11]=Q*w-R*y,c},a.rotateZ=function(c,l,f){var y=Math.sin(f),w=Math.cos(f),C=l[0],A=l[1],k=l[2],R=l[3],V=l[4],W=l[5],X=l[6],Q=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=C*w+V*y,c[1]=A*w+W*y,c[2]=k*w+X*y,c[3]=R*w+Q*y,c[4]=V*w-C*y,c[5]=W*w-A*y,c[6]=X*w-k*y,c[7]=Q*w-R*y,c},a.scale=function(c,l,f){var y=f[0],w=f[1],C=f[2];return c[0]=l[0]*y,c[1]=l[1]*y,c[2]=l[2]*y,c[3]=l[3]*y,c[4]=l[4]*w,c[5]=l[5]*w,c[6]=l[6]*w,c[7]=l[7]*w,c[8]=l[8]*C,c[9]=l[9]*C,c[10]=l[10]*C,c[11]=l[11]*C,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},a.scale$1=function(c,l,f){return c[0]=l[0]*f,c[1]=l[1]*f,c[2]=l[2]*f,c},a.setCacheLimits=function(c,l){vt=c,Jt=l},a.setRTLTextPlugin=function(c,l,f=!1){if(Vi===Sp||Vi===Tp||Vi===Cp)throw new Error("setRTLTextPlugin cannot be called multiple times.");hs=de.resolveURL(c),Vi=Sp,Ep=l,nu(),f||oy()},a.spec=Re,a.sphericalToCartesian=function([c,l,f]){return l+=90,l*=Math.PI/180,f*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(f),y:c*Math.sin(l)*Math.sin(f),z:c*Math.cos(f)}},a.sqrLen=function(c){var l=c[0],f=c[1];return l*l+f*f},a.sub=function(c,l,f){return c[0]=l[0]-f[0],c[1]=l[1]-f[1],c[2]=l[2]-f[2],c},a.toEvaluationFeature=_c,a.transformMat3=function(c,l,f){var y=l[0],w=l[1],C=l[2];return c[0]=y*f[0]+w*f[3]+C*f[6],c[1]=y*f[1]+w*f[4]+C*f[7],c[2]=y*f[2]+w*f[5]+C*f[8],c},a.transformMat4=py,a.transformMat4$1=function(c,l,f){var y=l[0],w=l[1];return c[0]=f[0]*y+f[4]*w+f[12],c[1]=f[1]*y+f[5]*w+f[13],c},a.translate=function(c,l,f){var y,w,C,A,k,R,V,W,X,Q,te,re,we=f[0],xe=f[1],ke=f[2];return l===c?(c[12]=l[0]*we+l[4]*xe+l[8]*ke+l[12],c[13]=l[1]*we+l[5]*xe+l[9]*ke+l[13],c[14]=l[2]*we+l[6]*xe+l[10]*ke+l[14],c[15]=l[3]*we+l[7]*xe+l[11]*ke+l[15]):(w=l[1],C=l[2],A=l[3],k=l[4],R=l[5],V=l[6],W=l[7],X=l[8],Q=l[9],te=l[10],re=l[11],c[0]=y=l[0],c[1]=w,c[2]=C,c[3]=A,c[4]=k,c[5]=R,c[6]=V,c[7]=W,c[8]=X,c[9]=Q,c[10]=te,c[11]=re,c[12]=y*we+k*xe+X*ke+l[12],c[13]=w*we+R*xe+Q*ke+l[13],c[14]=C*we+V*xe+te*ke+l[14],c[15]=A*we+W*xe+re*ke+l[15]),c},a.triggerPluginCompletionEvent=iy,a.unicodeBlockLookup=Ct,a.uniqueId=function(){return P++},a.validateCustomStyleLayer=function(c){const l=[],f=c.id;return f===void 0&&l.push({message:`layers.${f}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${f}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),l},a.validateLight=_p,a.validateStyle=fc,a.vectorTile=su,a.warnOnce=F,a.wrap=_}),o(["./shared"],function(a){function h(ue){const G=typeof ue;if(G==="number"||G==="boolean"||G==="string"||ue==null)return JSON.stringify(ue);if(Array.isArray(ue)){let se="[";for(const Se of ue)se+=`${h(Se)},`;return`${se}]`}const Z=Object.keys(ue).sort();let oe="{";for(let se=0;se<Z.length;se++)oe+=`${JSON.stringify(Z[se])}:${h(ue[Z[se]])},`;return`${oe}}`}function d(ue){let G="";for(const Z of a.refProperties)G+=`/${h(ue[Z])}`;return G}class m{constructor(G){this.keyCache={},G&&this.replace(G)}replace(G){this._layerConfigs={},this._layers={},this.update(G,[])}update(G,Z){for(const se of G){this._layerConfigs[se.id]=se;const Se=this._layers[se.id]=a.createStyleLayer(se);Se._featureFilter=a.createFilter(Se.filter),this.keyCache[se.id]&&delete this.keyCache[se.id]}for(const se of Z)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};const oe=function(se,Se){const Pe={};for(let Te=0;Te<se.length;Te++){const Ie=Se&&Se[se[Te].id]||d(se[Te]);Se&&(Se[se[Te].id]=Ie);let Ze=Pe[Ie];Ze||(Ze=Pe[Ie]=[]),Ze.push(se[Te])}const Ce=[];for(const Te in Pe)Ce.push(Pe[Te]);return Ce}(Object.values(this._layerConfigs),this.keyCache);for(const se of oe){const Se=se.map(lt=>this._layers[lt.id]),Pe=Se[0];if(Pe.visibility==="none")continue;const Ce=Pe.source||"";let Te=this.familiesBySource[Ce];Te||(Te=this.familiesBySource[Ce]={});const Ie=Pe.sourceLayer||"_geojsonTileLayer";let Ze=Te[Ie];Ze||(Ze=Te[Ie]=[]),Ze.push(Se)}}}class v{constructor(G){const Z={},oe=[];for(const Ce in G){const Te=G[Ce],Ie=Z[Ce]={};for(const Ze in Te){const lt=Te[+Ze];if(!lt||lt.bitmap.width===0||lt.bitmap.height===0)continue;const Xe={x:0,y:0,w:lt.bitmap.width+2,h:lt.bitmap.height+2};oe.push(Xe),Ie[Ze]={rect:Xe,metrics:lt.metrics}}}const{w:se,h:Se}=a.potpack(oe),Pe=new a.AlphaImage({width:se||1,height:Se||1});for(const Ce in G){const Te=G[Ce];for(const Ie in Te){const Ze=Te[+Ie];if(!Ze||Ze.bitmap.width===0||Ze.bitmap.height===0)continue;const lt=Z[Ce][Ie].rect;a.AlphaImage.copy(Ze.bitmap,Pe,{x:0,y:0},{x:lt.x+1,y:lt.y+1},Ze.bitmap)}}this.image=Pe,this.positions=Z}}a.register("GlyphAtlas",v);class g{constructor(G){this.tileID=new a.OverscaledTileID(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId}parse(G,Z,oe,se,Se){this.status="parsing",this.data=G,this.collisionBoxArray=new a.CollisionBoxArray;const Pe=new a.DictionaryCoder(Object.keys(G.layers).sort()),Ce=new a.FeatureIndex(this.tileID,this.promoteId);Ce.bucketLayerIDs=[];const Te={},Ie={featureIndex:Ce,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:oe},Ze=Z.familiesBySource[this.source];for(const cr in Ze){const _r=G.layers[cr];if(!_r)continue;_r.version===1&&a.warnOnce(`Vector tile source "${this.source}" layer "${cr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Or=Pe.encode(cr),tn=[];for(let oi=0;oi<_r.length;oi++){const _n=_r.feature(oi),xi=Ce.getId(_n,cr);tn.push({feature:_n,id:xi,index:oi,sourceLayerIndex:Or})}for(const oi of Ze[cr]){const _n=oi[0];_n.source!==this.source&&a.warnOnce(`layer.source = ${_n.source} does not equal this.source = ${this.source}`),_n.minzoom&&this.zoom<Math.floor(_n.minzoom)||_n.maxzoom&&this.zoom>=_n.maxzoom||_n.visibility!=="none"&&(_(oi,this.zoom,oe),(Te[_n.id]=_n.createBucket({index:Ce.bucketLayerIDs.length,layers:oi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Or,sourceID:this.source})).populate(tn,Ie,this.tileID.canonical),Ce.bucketLayerIDs.push(oi.map(xi=>xi.id)))}}let lt,Xe,Nt,Ht;const It=a.mapObject(Ie.glyphDependencies,cr=>Object.keys(cr).map(Number));Object.keys(It).length?se.send("getGlyphs",{uid:this.uid,stacks:It},(cr,_r)=>{lt||(lt=cr,Xe=_r,Lr.call(this))}):Xe={};const er=Object.keys(Ie.iconDependencies);er.length?se.send("getImages",{icons:er,source:this.source,tileID:this.tileID,type:"icons"},(cr,_r)=>{lt||(lt=cr,Nt=_r,Lr.call(this))}):Nt={};const or=Object.keys(Ie.patternDependencies);function Lr(){if(lt)return Se(lt);if(Xe&&Nt&&Ht){const cr=new v(Xe),_r=new a.ImageAtlas(Nt,Ht);for(const Or in Te){const tn=Te[Or];tn instanceof a.SymbolBucket?(_(tn.layers,this.zoom,oe),a.performSymbolLayout({bucket:tn,glyphMap:Xe,glyphPositions:cr.positions,imageMap:Nt,imagePositions:_r.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):tn.hasPattern&&(tn instanceof a.LineBucket||tn instanceof a.FillBucket||tn instanceof a.FillExtrusionBucket)&&(_(tn.layers,this.zoom,oe),tn.addFeatures(Ie,this.tileID.canonical,_r.patternPositions))}this.status="done",Se(null,{buckets:Object.values(Te).filter(Or=>!Or.isEmpty()),featureIndex:Ce,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:cr.image,imageAtlas:_r,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?Nt:null,glyphPositions:this.returnDependencies?cr.positions:null})}}or.length?se.send("getImages",{icons:or,source:this.source,tileID:this.tileID,type:"patterns"},(cr,_r)=>{lt||(lt=cr,Ht=_r,Lr.call(this))}):Ht={},Lr.call(this)}}function _(ue,G,Z){const oe=new a.EvaluationParameters(G);for(const se of ue)se.recalculate(oe,Z)}function T(ue,G){const Z=a.getArrayBuffer(ue.request,(oe,se,Se,Pe)=>{oe?G(oe):se&&G(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(se)),rawData:se,cacheControl:Se,expires:Pe})});return()=>{Z.cancel(),G()}}class P{constructor(G,Z,oe,se){this.actor=G,this.layerIndex=Z,this.availableImages=oe,this.loadVectorData=se||T,this.loading={},this.loaded={}}loadTile(G,Z){const oe=G.uid;this.loading||(this.loading={});const se=!!(G&&G.request&&G.request.collectResourceTiming)&&new a.RequestPerformance(G.request),Se=this.loading[oe]=new g(G);Se.abort=this.loadVectorData(G,(Pe,Ce)=>{if(delete this.loading[oe],Pe||!Ce)return Se.status="done",this.loaded[oe]=Se,Z(Pe);const Te=Ce.rawData,Ie={};Ce.expires&&(Ie.expires=Ce.expires),Ce.cacheControl&&(Ie.cacheControl=Ce.cacheControl);const Ze={};if(se){const lt=se.finish();lt&&(Ze.resourceTiming=JSON.parse(JSON.stringify(lt)))}Se.vectorTile=Ce.vectorTile,Se.parse(Ce.vectorTile,this.layerIndex,this.availableImages,this.actor,(lt,Xe)=>{if(lt||!Xe)return Z(lt);Z(null,a.extend({rawTileData:Te.slice(0)},Xe,Ie,Ze))}),this.loaded=this.loaded||{},this.loaded[oe]=Se})}reloadTile(G,Z){const oe=this.loaded,se=G.uid,Se=this;if(oe&&oe[se]){const Pe=oe[se];Pe.showCollisionBoxes=G.showCollisionBoxes;const Ce=(Te,Ie)=>{const Ze=Pe.reloadCallback;Ze&&(delete Pe.reloadCallback,Pe.parse(Pe.vectorTile,Se.layerIndex,this.availableImages,Se.actor,Ze)),Z(Te,Ie)};Pe.status==="parsing"?Pe.reloadCallback=Ce:Pe.status==="done"&&(Pe.vectorTile?Pe.parse(Pe.vectorTile,this.layerIndex,this.availableImages,this.actor,Ce):Ce())}}abortTile(G,Z){const oe=this.loading,se=G.uid;oe&&oe[se]&&oe[se].abort&&(oe[se].abort(),delete oe[se]),Z()}removeTile(G,Z){const oe=this.loaded,se=G.uid;oe&&oe[se]&&delete oe[se],Z()}}class M{constructor(){this.loaded={}}loadTile(G,Z){const{uid:oe,encoding:se,rawImageData:Se}=G,Pe=a.isImageBitmap(Se)?this.getImageData(Se):Se,Ce=new a.DEMData(oe,Pe,se);this.loaded=this.loaded||{},this.loaded[oe]=Ce,Z(null,Ce)}getImageData(G){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(G.width,G.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=G.width,this.offscreenCanvas.height=G.height,this.offscreenCanvasContext.drawImage(G,0,0,G.width,G.height);const Z=this.offscreenCanvasContext.getImageData(-1,-1,G.width+2,G.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Z.width,height:Z.height},Z.data)}removeTile(G){const Z=this.loaded,oe=G.uid;Z&&Z[oe]&&delete Z[oe]}}var I=function ue(G,Z){var oe,se=G&&G.type;if(se==="FeatureCollection")for(oe=0;oe<G.features.length;oe++)ue(G.features[oe],Z);else if(se==="GeometryCollection")for(oe=0;oe<G.geometries.length;oe++)ue(G.geometries[oe],Z);else if(se==="Feature")ue(G.geometry,Z);else if(se==="Polygon")D(G.coordinates,Z);else if(se==="MultiPolygon")for(oe=0;oe<G.coordinates.length;oe++)D(G.coordinates[oe],Z);return G};function D(ue,G){if(ue.length!==0){O(ue[0],G);for(var Z=1;Z<ue.length;Z++)O(ue[Z],!G)}}function O(ue,G){for(var Z=0,oe=0,se=0,Se=ue.length,Pe=Se-1;se<Se;Pe=se++){var Ce=(ue[se][0]-ue[Pe][0])*(ue[Pe][1]+ue[se][1]),Te=Z+Ce;oe+=Math.abs(Z)>=Math.abs(Ce)?Z-Te+Ce:Ce-Te+Z,Z=Te}Z+oe>=0!=!!G&&ue.reverse()}const z=a.vectorTile.VectorTileFeature.prototype.toGeoJSON;class F{constructor(G){this._feature=G,this.extent=a.EXTENT,this.type=G.type,this.properties=G.tags,"id"in G&&!isNaN(G.id)&&(this.id=parseInt(G.id,10))}loadGeometry(){if(this._feature.type===1){const G=[];for(const Z of this._feature.geometry)G.push([new a.pointGeometry(Z[0],Z[1])]);return G}{const G=[];for(const Z of this._feature.geometry){const oe=[];for(const se of Z)oe.push(new a.pointGeometry(se[0],se[1]));G.push(oe)}return G}}toGeoJSON(G,Z,oe){return z.call(this,G,Z,oe)}}class N{constructor(G){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=G.length,this._features=G}feature(G){return new F(this._features[G])}}var H={exports:{}},U=a.pointGeometry,J=a.vectorTile.VectorTileFeature,K=ne;function ne(ue,G){this.options=G||{},this.features=ue,this.length=ue.length}function ae(ue,G){this.id=typeof ue.id=="number"?ue.id:void 0,this.type=ue.type,this.rawGeometry=ue.type===1?[ue.geometry]:ue.geometry,this.properties=ue.tags,this.extent=G||4096}ne.prototype.feature=function(ue){return new ae(this.features[ue],this.options.extent)},ae.prototype.loadGeometry=function(){var ue=this.rawGeometry;this.geometry=[];for(var G=0;G<ue.length;G++){for(var Z=ue[G],oe=[],se=0;se<Z.length;se++)oe.push(new U(Z[se][0],Z[se][1]));this.geometry.push(oe)}return this.geometry},ae.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ue=this.geometry,G=1/0,Z=-1/0,oe=1/0,se=-1/0,Se=0;Se<ue.length;Se++)for(var Pe=ue[Se],Ce=0;Ce<Pe.length;Ce++){var Te=Pe[Ce];G=Math.min(G,Te.x),Z=Math.max(Z,Te.x),oe=Math.min(oe,Te.y),se=Math.max(se,Te.y)}return[G,oe,Z,se]},ae.prototype.toGeoJSON=J.prototype.toGeoJSON;var he=a.pbf,ie=K;function de(ue){var G=new he;return function(Z,oe){for(var se in Z.layers)oe.writeMessage(3,ce,Z.layers[se])}(ue,G),G.finish()}function ce(ue,G){var Z;G.writeVarintField(15,ue.version||1),G.writeStringField(1,ue.name||""),G.writeVarintField(5,ue.extent||4096);var oe={keys:[],values:[],keycache:{},valuecache:{}};for(Z=0;Z<ue.length;Z++)oe.feature=ue.feature(Z),G.writeMessage(2,Be,oe);var se=oe.keys;for(Z=0;Z<se.length;Z++)G.writeStringField(3,se[Z]);var Se=oe.values;for(Z=0;Z<Se.length;Z++)G.writeMessage(4,vt,Se[Z])}function Be(ue,G){var Z=ue.feature;Z.id!==void 0&&G.writeVarintField(1,Z.id),G.writeMessage(2,Ve,ue),G.writeVarintField(3,Z.type),G.writeMessage(4,dt,Z)}function Ve(ue,G){var Z=ue.feature,oe=ue.keys,se=ue.values,Se=ue.keycache,Pe=ue.valuecache;for(var Ce in Z.properties){var Te=Z.properties[Ce],Ie=Se[Ce];if(Te!==null){Ie===void 0&&(oe.push(Ce),Se[Ce]=Ie=oe.length-1),G.writeVarint(Ie);var Ze=typeof Te;Ze!=="string"&&Ze!=="boolean"&&Ze!=="number"&&(Te=JSON.stringify(Te));var lt=Ze+":"+Te,Xe=Pe[lt];Xe===void 0&&(se.push(Te),Pe[lt]=Xe=se.length-1),G.writeVarint(Xe)}}}function ht(ue,G){return(G<<3)+(7&ue)}function mt(ue){return ue<<1^ue>>31}function dt(ue,G){for(var Z=ue.loadGeometry(),oe=ue.type,se=0,Se=0,Pe=Z.length,Ce=0;Ce<Pe;Ce++){var Te=Z[Ce],Ie=1;oe===1&&(Ie=Te.length),G.writeVarint(ht(1,Ie));for(var Ze=oe===3?Te.length-1:Te.length,lt=0;lt<Ze;lt++){lt===1&&oe!==1&&G.writeVarint(ht(2,Ze-1));var Xe=Te[lt].x-se,Nt=Te[lt].y-Se;G.writeVarint(mt(Xe)),G.writeVarint(mt(Nt)),se+=Xe,Se+=Nt}oe===3&&G.writeVarint(ht(7,1))}}function vt(ue,G){var Z=typeof ue;Z==="string"?G.writeStringField(1,ue):Z==="boolean"?G.writeBooleanField(7,ue):Z==="number"&&(ue%1!=0?G.writeDoubleField(3,ue):ue<0?G.writeSVarintField(6,ue):G.writeVarintField(5,ue))}function Jt(ue,G,Z,oe,se,Se){if(se-oe<=Z)return;const Pe=oe+se>>1;ar(ue,G,Pe,oe,se,Se%2),Jt(ue,G,Z,oe,Pe-1,Se+1),Jt(ue,G,Z,Pe+1,se,Se+1)}function ar(ue,G,Z,oe,se,Se){for(;se>oe;){if(se-oe>600){const Ie=se-oe+1,Ze=Z-oe+1,lt=Math.log(Ie),Xe=.5*Math.exp(2*lt/3),Nt=.5*Math.sqrt(lt*Xe*(Ie-Xe)/Ie)*(Ze-Ie/2<0?-1:1);ar(ue,G,Z,Math.max(oe,Math.floor(Z-Ze*Xe/Ie+Nt)),Math.min(se,Math.floor(Z+(Ie-Ze)*Xe/Ie+Nt)),Se)}const Pe=G[2*Z+Se];let Ce=oe,Te=se;for(nr(ue,G,oe,Z),G[2*se+Se]>Pe&&nr(ue,G,oe,se);Ce<Te;){for(nr(ue,G,Ce,Te),Ce++,Te--;G[2*Ce+Se]<Pe;)Ce++;for(;G[2*Te+Se]>Pe;)Te--}G[2*oe+Se]===Pe?nr(ue,G,oe,Te):(Te++,nr(ue,G,Te,se)),Te<=Z&&(oe=Te+1),Z<=Te&&(se=Te-1)}}function nr(ue,G,Z,oe){st(ue,Z,oe),st(G,2*Z,2*oe),st(G,2*Z+1,2*oe+1)}function st(ue,G,Z){const oe=ue[G];ue[G]=ue[Z],ue[Z]=oe}function ze(ue,G,Z,oe){const se=ue-Z,Se=G-oe;return se*se+Se*Se}H.exports=de,H.exports.fromVectorTileJs=de,H.exports.fromGeojsonVt=function(ue,G){G=G||{};var Z={};for(var oe in ue)Z[oe]=new ie(ue[oe].features,G),Z[oe].name=oe,Z[oe].version=G.version,Z[oe].extent=G.extent;return de({layers:Z})},H.exports.GeoJSONWrapper=ie;const et=ue=>ue[0],We=ue=>ue[1];class ut{constructor(G,Z=et,oe=We,se=64,Se=Float64Array){this.nodeSize=se,this.points=G;const Pe=G.length<65536?Uint16Array:Uint32Array,Ce=this.ids=new Pe(G.length),Te=this.coords=new Se(2*G.length);for(let Ie=0;Ie<G.length;Ie++)Ce[Ie]=Ie,Te[2*Ie]=Z(G[Ie]),Te[2*Ie+1]=oe(G[Ie]);Jt(Ce,Te,se,0,Ce.length-1,0)}range(G,Z,oe,se){return function(Se,Pe,Ce,Te,Ie,Ze,lt){const Xe=[0,Se.length-1,0],Nt=[];let Ht,It;for(;Xe.length;){const er=Xe.pop(),or=Xe.pop(),Lr=Xe.pop();if(or-Lr<=lt){for(let Or=Lr;Or<=or;Or++)Ht=Pe[2*Or],It=Pe[2*Or+1],Ht>=Ce&&Ht<=Ie&&It>=Te&&It<=Ze&&Nt.push(Se[Or]);continue}const cr=Math.floor((Lr+or)/2);Ht=Pe[2*cr],It=Pe[2*cr+1],Ht>=Ce&&Ht<=Ie&&It>=Te&&It<=Ze&&Nt.push(Se[cr]);const _r=(er+1)%2;(er===0?Ce<=Ht:Te<=It)&&(Xe.push(Lr),Xe.push(cr-1),Xe.push(_r)),(er===0?Ie>=Ht:Ze>=It)&&(Xe.push(cr+1),Xe.push(or),Xe.push(_r))}return Nt}(this.ids,this.coords,G,Z,oe,se,this.nodeSize)}within(G,Z,oe){return function(se,Se,Pe,Ce,Te,Ie){const Ze=[0,se.length-1,0],lt=[],Xe=Te*Te;for(;Ze.length;){const Nt=Ze.pop(),Ht=Ze.pop(),It=Ze.pop();if(Ht-It<=Ie){for(let _r=It;_r<=Ht;_r++)ze(Se[2*_r],Se[2*_r+1],Pe,Ce)<=Xe&&lt.push(se[_r]);continue}const er=Math.floor((It+Ht)/2),or=Se[2*er],Lr=Se[2*er+1];ze(or,Lr,Pe,Ce)<=Xe&&lt.push(se[er]);const cr=(Nt+1)%2;(Nt===0?Pe-Te<=or:Ce-Te<=Lr)&&(Ze.push(It),Ze.push(er-1),Ze.push(cr)),(Nt===0?Pe+Te>=or:Ce+Te>=Lr)&&(Ze.push(er+1),Ze.push(Ht),Ze.push(cr))}return lt}(this.ids,this.coords,G,Z,oe,this.nodeSize)}}const ct={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ue=>ue},le=Math.fround||(ye=new Float32Array(1),ue=>(ye[0]=+ue,ye[0]));var ye;class Ee{constructor(G){this.options=Tt(Object.create(ct),G),this.trees=new Array(this.options.maxZoom+1)}load(G){const{log:Z,minZoom:oe,maxZoom:se,nodeSize:Se}=this.options;Z&&console.time("total time");const Pe=`prepare ${G.length} points`;Z&&console.time(Pe),this.points=G;let Ce=[];for(let Te=0;Te<G.length;Te++)G[Te].geometry&&Ce.push(Ye(G[Te],Te));this.trees[se+1]=new ut(Ce,Lt,Pt,Se,Float32Array),Z&&console.timeEnd(Pe);for(let Te=se;Te>=oe;Te--){const Ie=+Date.now();Ce=this._cluster(Ce,Te),this.trees[Te]=new ut(Ce,Lt,Pt,Se,Float32Array),Z&&console.log("z%d: %d clusters in %dms",Te,Ce.length,+Date.now()-Ie)}return Z&&console.timeEnd("total time"),this}getClusters(G,Z){let oe=((G[0]+180)%360+360)%360-180;const se=Math.max(-90,Math.min(90,G[1]));let Se=G[2]===180?180:((G[2]+180)%360+360)%360-180;const Pe=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)oe=-180,Se=180;else if(oe>Se){const Ze=this.getClusters([oe,se,180,Pe],Z),lt=this.getClusters([-180,se,Se,Pe],Z);return Ze.concat(lt)}const Ce=this.trees[this._limitZoom(Z)],Te=Ce.range(Oe(oe),tt(Pe),Oe(Se),tt(se)),Ie=[];for(const Ze of Te){const lt=Ce.points[Ze];Ie.push(lt.numPoints?qe(lt):this.points[lt.index])}return Ie}getChildren(G){const Z=this._getOriginId(G),oe=this._getOriginZoom(G),se="No cluster with the specified id.",Se=this.trees[oe];if(!Se)throw new Error(se);const Pe=Se.points[Z];if(!Pe)throw new Error(se);const Ce=this.options.radius/(this.options.extent*Math.pow(2,oe-1)),Te=Se.within(Pe.x,Pe.y,Ce),Ie=[];for(const Ze of Te){const lt=Se.points[Ze];lt.parentId===G&&Ie.push(lt.numPoints?qe(lt):this.points[lt.index])}if(Ie.length===0)throw new Error(se);return Ie}getLeaves(G,Z,oe){const se=[];return this._appendLeaves(se,G,Z=Z||10,oe=oe||0,0),se}getTile(G,Z,oe){const se=this.trees[this._limitZoom(G)],Se=Math.pow(2,G),{extent:Pe,radius:Ce}=this.options,Te=Ce/Pe,Ie=(oe-Te)/Se,Ze=(oe+1+Te)/Se,lt={features:[]};return this._addTileFeatures(se.range((Z-Te)/Se,Ie,(Z+1+Te)/Se,Ze),se.points,Z,oe,Se,lt),Z===0&&this._addTileFeatures(se.range(1-Te/Se,Ie,1,Ze),se.points,Se,oe,Se,lt),Z===Se-1&&this._addTileFeatures(se.range(0,Ie,Te/Se,Ze),se.points,-1,oe,Se,lt),lt.features.length?lt:null}getClusterExpansionZoom(G){let Z=this._getOriginZoom(G)-1;for(;Z<=this.options.maxZoom;){const oe=this.getChildren(G);if(Z++,oe.length!==1)break;G=oe[0].properties.cluster_id}return Z}_appendLeaves(G,Z,oe,se,Se){const Pe=this.getChildren(Z);for(const Ce of Pe){const Te=Ce.properties;if(Te&&Te.cluster?Se+Te.point_count<=se?Se+=Te.point_count:Se=this._appendLeaves(G,Te.cluster_id,oe,se,Se):Se<se?Se++:G.push(Ce),G.length===oe)break}return Se}_addTileFeatures(G,Z,oe,se,Se,Pe){for(const Ce of G){const Te=Z[Ce],Ie=Te.numPoints;let Ze,lt,Xe;if(Ie)Ze=nt(Te),lt=Te.x,Xe=Te.y;else{const It=this.points[Te.index];Ze=It.properties,lt=Oe(It.geometry.coordinates[0]),Xe=tt(It.geometry.coordinates[1])}const Nt={type:1,geometry:[[Math.round(this.options.extent*(lt*Se-oe)),Math.round(this.options.extent*(Xe*Se-se))]],tags:Ze};let Ht;Ie?Ht=Te.id:this.options.generateId?Ht=Te.index:this.points[Te.index].id&&(Ht=this.points[Te.index].id),Ht!==void 0&&(Nt.id=Ht),Pe.features.push(Nt)}}_limitZoom(G){return Math.max(this.options.minZoom,Math.min(Math.floor(+G),this.options.maxZoom+1))}_cluster(G,Z){const oe=[],{radius:se,extent:Se,reduce:Pe,minPoints:Ce}=this.options,Te=se/(Se*Math.pow(2,Z));for(let Ie=0;Ie<G.length;Ie++){const Ze=G[Ie];if(Ze.zoom<=Z)continue;Ze.zoom=Z;const lt=this.trees[Z+1],Xe=lt.within(Ze.x,Ze.y,Te),Nt=Ze.numPoints||1;let Ht=Nt;for(const It of Xe){const er=lt.points[It];er.zoom>Z&&(Ht+=er.numPoints||1)}if(Ht>Nt&&Ht>=Ce){let It=Ze.x*Nt,er=Ze.y*Nt,or=Pe&&Nt>1?this._map(Ze,!0):null;const Lr=(Ie<<5)+(Z+1)+this.points.length;for(const cr of Xe){const _r=lt.points[cr];if(_r.zoom<=Z)continue;_r.zoom=Z;const Or=_r.numPoints||1;It+=_r.x*Or,er+=_r.y*Or,_r.parentId=Lr,Pe&&(or||(or=this._map(Ze,!0)),Pe(or,this._map(_r)))}Ze.parentId=Lr,oe.push(je(It/Ht,er/Ht,Lr,Ht,or))}else if(oe.push(Ze),Ht>1)for(const It of Xe){const er=lt.points[It];er.zoom<=Z||(er.zoom=Z,oe.push(er))}}return oe}_getOriginId(G){return G-this.points.length>>5}_getOriginZoom(G){return(G-this.points.length)%32}_map(G,Z){if(G.numPoints)return Z?Tt({},G.properties):G.properties;const oe=this.points[G.index].properties,se=this.options.map(oe);return Z&&se===oe?Tt({},se):se}}function je(ue,G,Z,oe,se){return{x:le(ue),y:le(G),zoom:1/0,id:Z,parentId:-1,numPoints:oe,properties:se}}function Ye(ue,G){const[Z,oe]=ue.geometry.coordinates;return{x:le(Oe(Z)),y:le(tt(oe)),zoom:1/0,index:G,parentId:-1}}function qe(ue){return{type:"Feature",id:ue.id,properties:nt(ue),geometry:{type:"Point",coordinates:[(G=ue.x,360*(G-.5)),rt(ue.y)]}};var G}function nt(ue){const G=ue.numPoints,Z=G>=1e4?`${Math.round(G/1e3)}k`:G>=1e3?Math.round(G/100)/10+"k":G;return Tt(Tt({},ue.properties),{cluster:!0,cluster_id:ue.id,point_count:G,point_count_abbreviated:Z})}function Oe(ue){return ue/360+.5}function tt(ue){const G=Math.sin(ue*Math.PI/180),Z=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return Z<0?0:Z>1?1:Z}function rt(ue){const G=(180-360*ue)*Math.PI/180;return 360*Math.atan(Math.exp(G))/Math.PI-90}function Tt(ue,G){for(const Z in G)ue[Z]=G[Z];return ue}function Lt(ue){return ue.x}function Pt(ue){return ue.y}function qt(ue,G,Z,oe){for(var se,Se=oe,Pe=Z-G>>1,Ce=Z-G,Te=ue[G],Ie=ue[G+1],Ze=ue[Z],lt=ue[Z+1],Xe=G+3;Xe<Z;Xe+=3){var Nt=sr(ue[Xe],ue[Xe+1],Te,Ie,Ze,lt);if(Nt>Se)se=Xe,Se=Nt;else if(Nt===Se){var Ht=Math.abs(Xe-Pe);Ht<Ce&&(se=Xe,Ce=Ht)}}Se>oe&&(se-G>3&&qt(ue,G,se,oe),ue[se+2]=Se,Z-se>3&&qt(ue,se,Z,oe))}function sr(ue,G,Z,oe,se,Se){var Pe=se-Z,Ce=Se-oe;if(Pe!==0||Ce!==0){var Te=((ue-Z)*Pe+(G-oe)*Ce)/(Pe*Pe+Ce*Ce);Te>1?(Z=se,oe=Se):Te>0&&(Z+=Pe*Te,oe+=Ce*Te)}return(Pe=ue-Z)*Pe+(Ce=G-oe)*Ce}function yr(ue,G,Z,oe){var se={id:ue===void 0?null:ue,type:G,geometry:Z,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Se){var Pe=Se.geometry,Ce=Se.type;if(Ce==="Point"||Ce==="MultiPoint"||Ce==="LineString")Re(Se,Pe);else if(Ce==="Polygon"||Ce==="MultiLineString")for(var Te=0;Te<Pe.length;Te++)Re(Se,Pe[Te]);else if(Ce==="MultiPolygon")for(Te=0;Te<Pe.length;Te++)for(var Ie=0;Ie<Pe[Te].length;Ie++)Re(Se,Pe[Te][Ie])}(se),se}function Re(ue,G){for(var Z=0;Z<G.length;Z+=3)ue.minX=Math.min(ue.minX,G[Z]),ue.minY=Math.min(ue.minY,G[Z+1]),ue.maxX=Math.max(ue.maxX,G[Z]),ue.maxY=Math.max(ue.maxY,G[Z+1])}function at(ue,G,Z,oe){if(G.geometry){var se=G.geometry.coordinates,Se=G.geometry.type,Pe=Math.pow(Z.tolerance/((1<<Z.maxZoom)*Z.extent),2),Ce=[],Te=G.id;if(Z.promoteId?Te=G.properties[Z.promoteId]:Z.generateId&&(Te=oe||0),Se==="Point")Wr(se,Ce);else if(Se==="MultiPoint")for(var Ie=0;Ie<se.length;Ie++)Wr(se[Ie],Ce);else if(Se==="LineString")yn(se,Ce,Pe,!1);else if(Se==="MultiLineString"){if(Z.lineMetrics){for(Ie=0;Ie<se.length;Ie++)yn(se[Ie],Ce=[],Pe,!1),ue.push(yr(Te,"LineString",Ce,G.properties));return}dr(se,Ce,Pe,!1)}else if(Se==="Polygon")dr(se,Ce,Pe,!0);else{if(Se!=="MultiPolygon"){if(Se==="GeometryCollection"){for(Ie=0;Ie<G.geometry.geometries.length;Ie++)at(ue,{id:Te,geometry:G.geometry.geometries[Ie],properties:G.properties},Z,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ie=0;Ie<se.length;Ie++){var Ze=[];dr(se[Ie],Ze,Pe,!0),Ce.push(Ze)}}ue.push(yr(Te,Se,Ce,G.properties))}}function Wr(ue,G){G.push(an(ue[0])),G.push(Kn(ue[1])),G.push(0)}function yn(ue,G,Z,oe){for(var se,Se,Pe=0,Ce=0;Ce<ue.length;Ce++){var Te=an(ue[Ce][0]),Ie=Kn(ue[Ce][1]);G.push(Te),G.push(Ie),G.push(0),Ce>0&&(Pe+=oe?(se*Ie-Te*Se)/2:Math.sqrt(Math.pow(Te-se,2)+Math.pow(Ie-Se,2))),se=Te,Se=Ie}var Ze=G.length-3;G[2]=1,qt(G,0,Ze,Z),G[Ze+2]=1,G.size=Math.abs(Pe),G.start=0,G.end=G.size}function dr(ue,G,Z,oe){for(var se=0;se<ue.length;se++){var Se=[];yn(ue[se],Se,Z,oe),G.push(Se)}}function an(ue){return ue/360+.5}function Kn(ue){var G=Math.sin(ue*Math.PI/180),Z=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return Z<0?0:Z>1?1:Z}function Hr(ue,G,Z,oe,se,Se,Pe,Ce){if(oe/=G,Se>=(Z/=G)&&Pe<oe)return ue;if(Pe<Z||Se>=oe)return null;for(var Te=[],Ie=0;Ie<ue.length;Ie++){var Ze=ue[Ie],lt=Ze.geometry,Xe=Ze.type,Nt=se===0?Ze.minX:Ze.minY,Ht=se===0?Ze.maxX:Ze.maxY;if(Nt>=Z&&Ht<oe)Te.push(Ze);else if(!(Ht<Z||Nt>=oe)){var It=[];if(Xe==="Point"||Xe==="MultiPoint")Rn(lt,It,Z,oe,se);else if(Xe==="LineString")gt(lt,It,Z,oe,se,!1,Ce.lineMetrics);else if(Xe==="MultiLineString")ir(lt,It,Z,oe,se,!1);else if(Xe==="Polygon")ir(lt,It,Z,oe,se,!0);else if(Xe==="MultiPolygon")for(var er=0;er<lt.length;er++){var or=[];ir(lt[er],or,Z,oe,se,!0),or.length&&It.push(or)}if(It.length){if(Ce.lineMetrics&&Xe==="LineString"){for(er=0;er<It.length;er++)Te.push(yr(Ze.id,Xe,It[er],Ze.tags));continue}Xe!=="LineString"&&Xe!=="MultiLineString"||(It.length===1?(Xe="LineString",It=It[0]):Xe="MultiLineString"),Xe!=="Point"&&Xe!=="MultiPoint"||(Xe=It.length===3?"Point":"MultiPoint"),Te.push(yr(Ze.id,Xe,It,Ze.tags))}}}return Te.length?Te:null}function Rn(ue,G,Z,oe,se){for(var Se=0;Se<ue.length;Se+=3){var Pe=ue[Se+se];Pe>=Z&&Pe<=oe&&(G.push(ue[Se]),G.push(ue[Se+1]),G.push(ue[Se+2]))}}function gt(ue,G,Z,oe,se,Se,Pe){for(var Ce,Te,Ie=gr(ue),Ze=se===0?ls:hr,lt=ue.start,Xe=0;Xe<ue.length-3;Xe+=3){var Nt=ue[Xe],Ht=ue[Xe+1],It=ue[Xe+2],er=ue[Xe+3],or=ue[Xe+4],Lr=se===0?Nt:Ht,cr=se===0?er:or,_r=!1;Pe&&(Ce=Math.sqrt(Math.pow(Nt-er,2)+Math.pow(Ht-or,2))),Lr<Z?cr>Z&&(Te=Ze(Ie,Nt,Ht,er,or,Z),Pe&&(Ie.start=lt+Ce*Te)):Lr>oe?cr<oe&&(Te=Ze(Ie,Nt,Ht,er,or,oe),Pe&&(Ie.start=lt+Ce*Te)):Yn(Ie,Nt,Ht,It),cr<Z&&Lr>=Z&&(Te=Ze(Ie,Nt,Ht,er,or,Z),_r=!0),cr>oe&&Lr<=oe&&(Te=Ze(Ie,Nt,Ht,er,or,oe),_r=!0),!Se&&_r&&(Pe&&(Ie.end=lt+Ce*Te),G.push(Ie),Ie=gr(ue)),Pe&&(lt+=Ce)}var Or=ue.length-3;Nt=ue[Or],Ht=ue[Or+1],It=ue[Or+2],(Lr=se===0?Nt:Ht)>=Z&&Lr<=oe&&Yn(Ie,Nt,Ht,It),Or=Ie.length-3,Se&&Or>=3&&(Ie[Or]!==Ie[0]||Ie[Or+1]!==Ie[1])&&Yn(Ie,Ie[0],Ie[1],Ie[2]),Ie.length&&G.push(Ie)}function gr(ue){var G=[];return G.size=ue.size,G.start=ue.start,G.end=ue.end,G}function ir(ue,G,Z,oe,se,Se){for(var Pe=0;Pe<ue.length;Pe++)gt(ue[Pe],G,Z,oe,se,Se,!1)}function Yn(ue,G,Z,oe){ue.push(G),ue.push(Z),ue.push(oe)}function ls(ue,G,Z,oe,se,Se){var Pe=(Se-G)/(oe-G);return ue.push(Se),ue.push(Z+(se-Z)*Pe),ue.push(1),Pe}function hr(ue,G,Z,oe,se,Se){var Pe=(Se-Z)/(se-Z);return ue.push(G+(oe-G)*Pe),ue.push(Se),ue.push(1),Pe}function Da(ue,G){for(var Z=[],oe=0;oe<ue.length;oe++){var se,Se=ue[oe],Pe=Se.type;if(Pe==="Point"||Pe==="MultiPoint"||Pe==="LineString")se=ii(Se.geometry,G);else if(Pe==="MultiLineString"||Pe==="Polygon"){se=[];for(var Ce=0;Ce<Se.geometry.length;Ce++)se.push(ii(Se.geometry[Ce],G))}else if(Pe==="MultiPolygon")for(se=[],Ce=0;Ce<Se.geometry.length;Ce++){for(var Te=[],Ie=0;Ie<Se.geometry[Ce].length;Ie++)Te.push(ii(Se.geometry[Ce][Ie],G));se.push(Te)}Z.push(yr(Se.id,Pe,se,Se.tags))}return Z}function ii(ue,G){var Z=[];Z.size=ue.size,ue.start!==void 0&&(Z.start=ue.start,Z.end=ue.end);for(var oe=0;oe<ue.length;oe+=3)Z.push(ue[oe]+G,ue[oe+1],ue[oe+2]);return Z}function jl(ue,G){if(ue.transformed)return ue;var Z,oe,se,Se=1<<ue.z,Pe=ue.x,Ce=ue.y;for(Z=0;Z<ue.features.length;Z++){var Te=ue.features[Z],Ie=Te.geometry,Ze=Te.type;if(Te.geometry=[],Ze===1)for(oe=0;oe<Ie.length;oe+=2)Te.geometry.push(jn(Ie[oe],Ie[oe+1],G,Se,Pe,Ce));else for(oe=0;oe<Ie.length;oe++){var lt=[];for(se=0;se<Ie[oe].length;se+=2)lt.push(jn(Ie[oe][se],Ie[oe][se+1],G,Se,Pe,Ce));Te.geometry.push(lt)}}return ue.transformed=!0,ue}function jn(ue,G,Z,oe,se,Se){return[Math.round(Z*(ue*oe-se)),Math.round(Z*(G*oe-Se))]}function Ii(ue,G,Z,oe,se){for(var Se=G===se.maxZoom?0:se.tolerance/((1<<G)*se.extent),Pe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Z,y:oe,z:G,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ce=0;Ce<ue.length;Ce++){Pe.numFeatures++,Yr(Pe,ue[Ce],Se,se);var Te=ue[Ce].minX,Ie=ue[Ce].minY,Ze=ue[Ce].maxX,lt=ue[Ce].maxY;Te<Pe.minX&&(Pe.minX=Te),Ie<Pe.minY&&(Pe.minY=Ie),Ze>Pe.maxX&&(Pe.maxX=Ze),lt>Pe.maxY&&(Pe.maxY=lt)}return Pe}function Yr(ue,G,Z,oe){var se=G.geometry,Se=G.type,Pe=[];if(Se==="Point"||Se==="MultiPoint")for(var Ce=0;Ce<se.length;Ce+=3)Pe.push(se[Ce]),Pe.push(se[Ce+1]),ue.numPoints++,ue.numSimplified++;else if(Se==="LineString")Gl(Pe,se,ue,Z,!1,!1);else if(Se==="MultiLineString"||Se==="Polygon")for(Ce=0;Ce<se.length;Ce++)Gl(Pe,se[Ce],ue,Z,Se==="Polygon",Ce===0);else if(Se==="MultiPolygon")for(var Te=0;Te<se.length;Te++){var Ie=se[Te];for(Ce=0;Ce<Ie.length;Ce++)Gl(Pe,Ie[Ce],ue,Z,!0,Ce===0)}if(Pe.length){var Ze=G.tags||null;if(Se==="LineString"&&oe.lineMetrics){for(var lt in Ze={},G.tags)Ze[lt]=G.tags[lt];Ze.mapbox_clip_start=se.start/se.size,Ze.mapbox_clip_end=se.end/se.size}var Xe={geometry:Pe,type:Se==="Polygon"||Se==="MultiPolygon"?3:Se==="LineString"||Se==="MultiLineString"?2:1,tags:Ze};G.id!==null&&(Xe.id=G.id),ue.features.push(Xe)}}function Gl(ue,G,Z,oe,se,Se){var Pe=oe*oe;if(oe>0&&G.size<(se?Pe:oe))Z.numPoints+=G.length/3;else{for(var Ce=[],Te=0;Te<G.length;Te+=3)(oe===0||G[Te+2]>Pe)&&(Z.numSimplified++,Ce.push(G[Te]),Ce.push(G[Te+1])),Z.numPoints++;se&&function(Ie,Ze){for(var lt=0,Xe=0,Nt=Ie.length,Ht=Nt-2;Xe<Nt;Ht=Xe,Xe+=2)lt+=(Ie[Xe]-Ie[Ht])*(Ie[Xe+1]+Ie[Ht+1]);if(lt>0===Ze)for(Xe=0,Nt=Ie.length;Xe<Nt/2;Xe+=2){var It=Ie[Xe],er=Ie[Xe+1];Ie[Xe]=Ie[Nt-2-Xe],Ie[Xe+1]=Ie[Nt-1-Xe],Ie[Nt-2-Xe]=It,Ie[Nt-1-Xe]=er}}(Ce,Se),ue.push(Ce)}}function ta(ue,G){var Z=(G=this.options=function(se,Se){for(var Pe in Se)se[Pe]=Se[Pe];return se}(Object.create(this.options),G)).debug;if(Z&&console.time("preprocess data"),G.maxZoom<0||G.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(G.promoteId&&G.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe=function(se,Se){var Pe=[];if(se.type==="FeatureCollection")for(var Ce=0;Ce<se.features.length;Ce++)at(Pe,se.features[Ce],Se,Ce);else at(Pe,se.type==="Feature"?se:{geometry:se},Se);return Pe}(ue,G);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",G.indexMaxZoom,G.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=function(se,Se){var Pe=Se.buffer/Se.extent,Ce=se,Te=Hr(se,1,-1-Pe,Pe,0,-1,2,Se),Ie=Hr(se,1,1-Pe,2+Pe,0,-1,2,Se);return(Te||Ie)&&(Ce=Hr(se,1,-Pe,1+Pe,0,-1,2,Se)||[],Te&&(Ce=Da(Te,1).concat(Ce)),Ie&&(Ce=Ce.concat(Da(Ie,-1)))),Ce}(oe,G),oe.length&&this.splitTile(oe,0,0,0),Z&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Us(ue,G,Z){return 32*((1<<ue)*Z+G)+ue}function Hs(ue,G){const Z=ue.tileID.canonical;if(!this._geoJSONIndex)return G(null,null);const oe=this._geoJSONIndex.getTile(Z.z,Z.x,Z.y);if(!oe)return G(null,null);const se=new N(oe.features);let Se=H.exports(se);Se.byteOffset===0&&Se.byteLength===Se.buffer.byteLength||(Se=new Uint8Array(Se)),G(null,{vectorTile:se,rawData:Se.buffer})}ta.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ta.prototype.splitTile=function(ue,G,Z,oe,se,Se,Pe){for(var Ce=[ue,G,Z,oe],Te=this.options,Ie=Te.debug;Ce.length;){oe=Ce.pop(),Z=Ce.pop(),G=Ce.pop(),ue=Ce.pop();var Ze=1<<G,lt=Us(G,Z,oe),Xe=this.tiles[lt];if(!Xe&&(Ie>1&&console.time("creation"),Xe=this.tiles[lt]=Ii(ue,G,Z,oe,Te),this.tileCoords.push({z:G,x:Z,y:oe}),Ie)){Ie>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",G,Z,oe,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var Nt="z"+G;this.stats[Nt]=(this.stats[Nt]||0)+1,this.total++}if(Xe.source=ue,se){if(G===Te.maxZoom||G===se)continue;var Ht=1<<se-G;if(Z!==Math.floor(Se/Ht)||oe!==Math.floor(Pe/Ht))continue}else if(G===Te.indexMaxZoom||Xe.numPoints<=Te.indexMaxPoints)continue;if(Xe.source=null,ue.length!==0){Ie>1&&console.time("clipping");var It,er,or,Lr,cr,_r,Or=.5*Te.buffer/Te.extent,tn=.5-Or,oi=.5+Or,_n=1+Or;It=er=or=Lr=null,cr=Hr(ue,Ze,Z-Or,Z+oi,0,Xe.minX,Xe.maxX,Te),_r=Hr(ue,Ze,Z+tn,Z+_n,0,Xe.minX,Xe.maxX,Te),ue=null,cr&&(It=Hr(cr,Ze,oe-Or,oe+oi,1,Xe.minY,Xe.maxY,Te),er=Hr(cr,Ze,oe+tn,oe+_n,1,Xe.minY,Xe.maxY,Te),cr=null),_r&&(or=Hr(_r,Ze,oe-Or,oe+oi,1,Xe.minY,Xe.maxY,Te),Lr=Hr(_r,Ze,oe+tn,oe+_n,1,Xe.minY,Xe.maxY,Te),_r=null),Ie>1&&console.timeEnd("clipping"),Ce.push(It||[],G+1,2*Z,2*oe),Ce.push(er||[],G+1,2*Z,2*oe+1),Ce.push(or||[],G+1,2*Z+1,2*oe),Ce.push(Lr||[],G+1,2*Z+1,2*oe+1)}}},ta.prototype.getTile=function(ue,G,Z){var oe=this.options,se=oe.extent,Se=oe.debug;if(ue<0||ue>24)return null;var Pe=1<<ue,Ce=Us(ue,G=(G%Pe+Pe)%Pe,Z);if(this.tiles[Ce])return jl(this.tiles[Ce],se);Se>1&&console.log("drilling down to z%d-%d-%d",ue,G,Z);for(var Te,Ie=ue,Ze=G,lt=Z;!Te&&Ie>0;)Ie--,Ze=Math.floor(Ze/2),lt=Math.floor(lt/2),Te=this.tiles[Us(Ie,Ze,lt)];return Te&&Te.source?(Se>1&&console.log("found parent tile z%d-%d-%d",Ie,Ze,lt),Se>1&&console.time("drilling down"),this.splitTile(Te.source,Ie,Ze,lt,ue,G,Z),Se>1&&console.timeEnd("drilling down"),this.tiles[Ce]?jl(this.tiles[Ce],se):null):null};class Wl extends P{constructor(G,Z,oe,se){super(G,Z,oe,Hs),se&&(this.loadGeoJSON=se)}loadData(G,Z){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const se=!!(G&&G.request&&G.request.collectResourceTiming)&&new a.RequestPerformance(G.request);this._pendingCallback=Z,this._pendingRequest=this.loadGeoJSON(G,(Se,Pe)=>{if(delete this._pendingCallback,delete this._pendingRequest,Se||!Pe)return Z(Se);if(typeof Pe!="object")return Z(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`));{I(Pe,!0);try{if(G.filter){const Te=a.createExpression(G.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Te.result==="error")throw new Error(Te.value.map(Ze=>`${Ze.key}: ${Ze.message}`).join(", "));Pe={type:"FeatureCollection",features:Pe.features.filter(Ze=>Te.value.evaluate({zoom:0},Ze))}}this._geoJSONIndex=G.cluster?new Ee(function({superclusterOptions:Te,clusterProperties:Ie}){if(!Ie||!Te)return Te;const Ze={},lt={},Xe={accumulated:null,zoom:0},Nt={properties:null},Ht=Object.keys(Ie);for(const It of Ht){const[er,or]=Ie[It],Lr=a.createExpression(or),cr=a.createExpression(typeof er=="string"?[er,["accumulated"],["get",It]]:er);Ze[It]=Lr.value,lt[It]=cr.value}return Te.map=It=>{Nt.properties=It;const er={};for(const or of Ht)er[or]=Ze[or].evaluate(Xe,Nt);return er},Te.reduce=(It,er)=>{Nt.properties=er;for(const or of Ht)Xe.accumulated=It[or],It[or]=lt[or].evaluate(Xe,Nt)},Te}(G)).load(Pe.features):function(Te,Ie){return new ta(Te,Ie)}(Pe,G.geojsonVtOptions)}catch(Te){return Z(Te)}this.loaded={};const Ce={};if(se){const Te=se.finish();Te&&(Ce.resourceTiming={},Ce.resourceTiming[G.source]=JSON.parse(JSON.stringify(Te)))}Z(null,Ce)}})}reloadTile(G,Z){const oe=this.loaded;return oe&&oe[G.uid]?super.reloadTile(G,Z):this.loadTile(G,Z)}loadGeoJSON(G,Z){if(G.request)return a.getJSON(G.request,Z);if(typeof G.data=="string")try{Z(null,JSON.parse(G.data))}catch{Z(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`))}else Z(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(G,Z){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Z()}getClusterExpansionZoom(G,Z){try{Z(null,this._geoJSONIndex.getClusterExpansionZoom(G.clusterId))}catch(oe){Z(oe)}}getClusterChildren(G,Z){try{Z(null,this._geoJSONIndex.getChildren(G.clusterId))}catch(oe){Z(oe)}}getClusterLeaves(G,Z){try{Z(null,this._geoJSONIndex.getLeaves(G.clusterId,G.limit,G.offset))}catch(oe){Z(oe)}}}class js{constructor(G){this.self=G,this.actor=new a.Actor(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:P,geojson:Wl},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Z,oe)=>{if(this.workerSourceTypes[Z])throw new Error(`Worker source with name "${Z}" already registered.`);this.workerSourceTypes[Z]=oe},this.self.registerRTLTextPlugin=Z=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Z.applyArabicShaping,a.plugin.processBidirectionalText=Z.processBidirectionalText,a.plugin.processStyledBidirectionalText=Z.processStyledBidirectionalText}}setReferrer(G,Z){this.referrer=Z}setImages(G,Z,oe){this.availableImages[G]=Z;for(const se in this.workerSources[G]){const Se=this.workerSources[G][se];for(const Pe in Se)Se[Pe].availableImages=Z}oe()}setLayers(G,Z,oe){this.getLayerIndex(G).replace(Z),oe()}updateLayers(G,Z,oe){this.getLayerIndex(G).update(Z.layers,Z.removedIds),oe()}loadTile(G,Z,oe){this.getWorkerSource(G,Z.type,Z.source).loadTile(Z,oe)}loadDEMTile(G,Z,oe){this.getDEMWorkerSource(G,Z.source).loadTile(Z,oe)}reloadTile(G,Z,oe){this.getWorkerSource(G,Z.type,Z.source).reloadTile(Z,oe)}abortTile(G,Z,oe){this.getWorkerSource(G,Z.type,Z.source).abortTile(Z,oe)}removeTile(G,Z,oe){this.getWorkerSource(G,Z.type,Z.source).removeTile(Z,oe)}removeDEMTile(G,Z){this.getDEMWorkerSource(G,Z.source).removeTile(Z)}removeSource(G,Z,oe){if(!this.workerSources[G]||!this.workerSources[G][Z.type]||!this.workerSources[G][Z.type][Z.source])return;const se=this.workerSources[G][Z.type][Z.source];delete this.workerSources[G][Z.type][Z.source],se.removeSource!==void 0?se.removeSource(Z,oe):oe()}loadWorkerSource(G,Z,oe){try{this.self.importScripts(Z.url),oe()}catch(se){oe(se.toString())}}syncRTLPluginState(G,Z,oe){try{a.plugin.setState(Z);const se=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&se!=null){this.self.importScripts(se);const Se=a.plugin.isParsed();oe(Se?void 0:new Error(`RTL Text Plugin failed to import scripts from ${se}`),Se)}}catch(se){oe(se.toString())}}getAvailableImages(G){let Z=this.availableImages[G];return Z||(Z=[]),Z}getLayerIndex(G){let Z=this.layerIndexes[G];return Z||(Z=this.layerIndexes[G]=new m),Z}getWorkerSource(G,Z,oe){if(this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][Z]||(this.workerSources[G][Z]={}),!this.workerSources[G][Z][oe]){const se={send:(Se,Pe,Ce)=>{this.actor.send(Se,Pe,Ce,G)}};this.workerSources[G][Z][oe]=new this.workerSourceTypes[Z](se,this.getLayerIndex(G),this.getAvailableImages(G))}return this.workerSources[G][Z][oe]}getDEMWorkerSource(G,Z){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][Z]||(this.demWorkerSources[G][Z]=new M),this.demWorkerSources[G][Z]}enforceCacheSizeLimit(G,Z){a.enforceCacheSizeLimit(Z)}}return a.isWorker()&&(self.worker=new js(self)),js}),o(["./shared"],function(a){var h=d;function d(x){return!function(u){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var b,S,E=new Blob([""],{type:"text/javascript"}),L=URL.createObjectURL(E);try{S=new Worker(L),b=!0}catch{b=!1}return S&&S.terminate(),URL.revokeObjectURL(L),b}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var b=document.createElement("canvas");b.width=b.height=1;var S=b.getContext("2d");if(!S)return!1;var E=S.getImageData(0,0,1,1);return E&&E.width===b.width}()?(m[p=u&&u.failIfMajorPerformanceCaveat]===void 0&&(m[p]=function(b){var S,E=function(L){var $=document.createElement("canvas"),B=Object.create(d.webGLContextAttributes);return B.failIfMajorPerformanceCaveat=L,$.getContext("webgl",B)||$.getContext("experimental-webgl",B)}(b);if(!E)return!1;try{S=E.createShader(E.VERTEX_SHADER)}catch{return!1}return!(!S||E.isContextLost())&&(E.shaderSource(S,"void main() {}"),E.compileShader(S),E.getShaderParameter(S,E.COMPILE_STATUS)===!0)}(p)),m[p]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var p}(x)}var m={};function v(x,u){if(Array.isArray(x)){if(!Array.isArray(u)||x.length!==u.length)return!1;for(let p=0;p<x.length;p++)if(!v(x[p],u[p]))return!1;return!0}if(typeof x=="object"&&x!==null&&u!==null){if(typeof u!="object"||Object.keys(x).length!==Object.keys(u).length)return!1;for(const p in x)if(!v(x[p],u[p]))return!1;return!0}return x===u}d.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class g{static testProp(u){if(!g.docStyle)return u[0];for(let p=0;p<u.length;p++)if(u[p]in g.docStyle)return u[p];return u[0]}static create(u,p,b){const S=window.document.createElement(u);return p!==void 0&&(S.className=p),b&&b.appendChild(S),S}static createNS(u,p){return window.document.createElementNS(u,p)}static disableDrag(){g.docStyle&&g.selectProp&&(g.userSelect=g.docStyle[g.selectProp],g.docStyle[g.selectProp]="none")}static enableDrag(){g.docStyle&&g.selectProp&&(g.docStyle[g.selectProp]=g.userSelect)}static setTransform(u,p){u.style[g.transformProp]=p}static addEventListener(u,p,b,S={}){u.addEventListener(p,b,"passive"in S?S:S.capture)}static removeEventListener(u,p,b,S={}){u.removeEventListener(p,b,"passive"in S?S:S.capture)}static suppressClickInternal(u){u.preventDefault(),u.stopPropagation(),window.removeEventListener("click",g.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",g.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",g.suppressClickInternal,!0)},0)}static mousePos(u,p){const b=u.getBoundingClientRect();return new a.pointGeometry(p.clientX-b.left-u.clientLeft,p.clientY-b.top-u.clientTop)}static touchPos(u,p){const b=u.getBoundingClientRect(),S=[];for(let E=0;E<p.length;E++)S.push(new a.pointGeometry(p[E].clientX-b.left-u.clientLeft,p[E].clientY-b.top-u.clientTop));return S}static mouseButton(u){return u.button}static remove(u){u.parentNode&&u.parentNode.removeChild(u)}}g.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,g.selectProp=g.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),g.transformProp=g.testProp(["transform","WebkitTransform"]);class _{constructor(u){this._transformRequestFn=u}transformRequest(u,p){return this._transformRequestFn&&this._transformRequestFn(u,p)||{url:u}}normalizeSpriteURL(u,p,b){const S=function(E){const L=E.match(T);if(!L)throw new Error(`Unable to parse URL "${E}"`);return{protocol:L[1],authority:L[2],path:L[3]||"/",params:L[4]?L[4].split("&"):[]}}(u);return S.path+=`${p}${b}`,function(E){const L=E.params.length?`?${E.params.join("&")}`:"";return`${E.protocol}://${E.authority}${E.path}${L}`}(S)}setTransformRequest(u){this._transformRequestFn=u}}const T=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class P{constructor(u,p,b,S){this.context=u,this.format=b,this.texture=u.gl.createTexture(),this.update(p,S)}update(u,p,b){const{width:S,height:E}=u,L=!(this.size&&this.size[0]===S&&this.size[1]===E||b),{context:$}=this,{gl:B}=$;if(this.useMipmap=!!(p&&p.useMipmap),B.bindTexture(B.TEXTURE_2D,this.texture),$.pixelStoreUnpackFlipY.set(!1),$.pixelStoreUnpack.set(1),$.pixelStoreUnpackPremultiplyAlpha.set(this.format===B.RGBA&&(!p||p.premultiply!==!1)),L)this.size=[S,E],u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.isImageBitmap(u)?B.texImage2D(B.TEXTURE_2D,0,this.format,this.format,B.UNSIGNED_BYTE,u):B.texImage2D(B.TEXTURE_2D,0,this.format,S,E,0,this.format,B.UNSIGNED_BYTE,u.data);else{const{x:j,y:q}=b||{x:0,y:0};u instanceof HTMLImageElement||u instanceof HTMLCanvasElement||u instanceof HTMLVideoElement||u instanceof ImageData||a.isImageBitmap(u)?B.texSubImage2D(B.TEXTURE_2D,0,j,q,B.RGBA,B.UNSIGNED_BYTE,u):B.texSubImage2D(B.TEXTURE_2D,0,j,q,S,E,B.RGBA,B.UNSIGNED_BYTE,u.data)}this.useMipmap&&this.isSizePowerOfTwo()&&B.generateMipmap(B.TEXTURE_2D)}bind(u,p,b){const{context:S}=this,{gl:E}=S;E.bindTexture(E.TEXTURE_2D,this.texture),b!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(b=E.LINEAR),u!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,u),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,b||u),this.filter=u),p!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,p),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,p),this.wrap=p)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}}function M(x){const{userImage:u}=x;return!!(u&&u.render&&u.render())&&(x.data.replace(new Uint8Array(u.data.buffer)),!0)}class I extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:p,callback:b}of this.requestors)this._notify(p,b);this.requestors=[]}}getImage(u){return this.images[u]}addImage(u,p){if(this.images[u])throw new Error(`Image id ${u} already exist, use updateImage instead`);this._validate(u,p)&&(this.images[u]=p)}_validate(u,p){let b=!0;return this._validateStretch(p.stretchX,p.data&&p.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "stretchX" value`))),b=!1),this._validateStretch(p.stretchY,p.data&&p.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "stretchY" value`))),b=!1),this._validateContent(p.content,p)||(this.fire(new a.ErrorEvent(new Error(`Image "${u}" has invalid "content" value`))),b=!1),b}_validateStretch(u,p){if(!u)return!0;let b=0;for(const S of u){if(S[0]<b||S[1]<S[0]||p<S[1])return!1;b=S[1]}return!0}_validateContent(u,p){return!(u&&(u.length!==4||u[0]<0||p.data.width<u[0]||u[1]<0||p.data.height<u[1]||u[2]<0||p.data.width<u[2]||u[3]<0||p.data.height<u[3]||u[2]<u[0]||u[3]<u[1]))}updateImage(u,p){const b=this.images[u];if(b.data.width!==p.data.width||b.data.height!==p.data.height)throw new Error(`size mismatch between old image (${b.data.width}x${b.data.height}) and new image (${p.data.width}x${p.data.height}).`);p.version=b.version+1,this.images[u]=p,this.updatedImages[u]=!0}removeImage(u){const p=this.images[u];delete this.images[u],delete this.patterns[u],p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u,p){let b=!0;if(!this.isLoaded())for(const S of u)this.images[S]||(b=!1);this.isLoaded()||b?this._notify(u,p):this.requestors.push({ids:u,callback:p})}_notify(u,p){const b={};for(const S of u){this.images[S]||this.fire(new a.Event("styleimagemissing",{id:S}));const E=this.images[S];E?b[S]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.warnOnce(`Image "${S}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,b)}getPixelSize(){const{width:u,height:p}=this.atlasImage;return{width:u,height:p}}getPattern(u){const p=this.patterns[u],b=this.getImage(u);if(!b)return null;if(p&&p.position.version===b.version)return p.position;if(p)p.position.version=b.version;else{const S={w:b.data.width+2,h:b.data.height+2,x:0,y:0},E=new a.ImagePosition(S,b);this.patterns[u]={bin:S,position:E}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const p=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new P(u,this.atlasImage,p.RGBA),this.atlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const E in this.patterns)u.push(this.patterns[E].bin);const{w:p,h:b}=a.potpack(u),S=this.atlasImage;S.resize({width:p||1,height:b||1});for(const E in this.patterns){const{bin:L}=this.patterns[E],$=L.x+1,B=L.y+1,j=this.images[E].data,q=j.width,Y=j.height;a.RGBAImage.copy(j,S,{x:0,y:0},{x:$,y:B},{width:q,height:Y}),a.RGBAImage.copy(j,S,{x:0,y:Y-1},{x:$,y:B-1},{width:q,height:1}),a.RGBAImage.copy(j,S,{x:0,y:0},{x:$,y:B+Y},{width:q,height:1}),a.RGBAImage.copy(j,S,{x:q-1,y:0},{x:$-1,y:B},{width:1,height:Y}),a.RGBAImage.copy(j,S,{x:0,y:0},{x:$+q,y:B},{width:1,height:Y})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const p of u){if(this.callbackDispatchedThisFrame[p])continue;this.callbackDispatchedThisFrame[p]=!0;const b=this.images[p];b||a.warnOnce(`Image with ID: "${p}" was not found`),M(b)&&this.updateImage(p,b)}}}const D=1e20;function O(x,u,p,b,S,E,L,$,B){for(let j=u;j<u+b;j++)z(x,p*E+j,E,S,L,$,B);for(let j=p;j<p+S;j++)z(x,j*E+u,1,b,L,$,B)}function z(x,u,p,b,S,E,L){E[0]=0,L[0]=-D,L[1]=D,S[0]=x[u];for(let $=1,B=0,j=0;$<b;$++){S[$]=x[u+$*p];const q=$*$;do{const Y=E[B];j=(S[$]-S[Y]+q-Y*Y)/($-Y)/2}while(j<=L[B]&&--B>-1);B++,E[B]=$,L[B]=j,L[B+1]=D}for(let $=0,B=0;$<b;$++){for(;L[B+1]<$;)B++;const j=E[B],q=$-j;x[u+$*p]=S[j]+q*q}}class F{constructor(u,p){this.requestManager=u,this.localIdeographFontFamily=p,this.entries={}}setURL(u){this.url=u}getGlyphs(u,p){const b=[];for(const S in u)for(const E of u[S])b.push({stack:S,id:E});a.asyncAll(b,({stack:S,id:E},L)=>{let $=this.entries[S];$||($=this.entries[S]={glyphs:{},requests:{},ranges:{}});let B=$.glyphs[E];if(B!==void 0)return void L(null,{stack:S,id:E,glyph:B});if(B=this._tinySDF($,S,E),B)return $.glyphs[E]=B,void L(null,{stack:S,id:E,glyph:B});const j=Math.floor(E/256);if(256*j>65535)return void L(new Error("glyphs > 65535 not supported"));if($.ranges[j])return void L(null,{stack:S,id:E,glyph:B});let q=$.requests[j];q||(q=$.requests[j]=[],F.loadGlyphRange(S,j,this.url,this.requestManager,(Y,ee)=>{if(ee){for(const ge in ee)this._doesCharSupportLocalGlyph(+ge)||($.glyphs[+ge]=ee[+ge]);$.ranges[j]=!0}for(const ge of q)ge(Y,ee);delete $.requests[j]})),q.push((Y,ee)=>{Y?L(Y):ee&&L(null,{stack:S,id:E,glyph:ee[E]||null})})},(S,E)=>{if(S)p(S);else if(E){const L={};for(const{stack:$,id:B,glyph:j}of E)(L[$]||(L[$]={}))[B]=j&&{id:j.id,bitmap:j.bitmap.clone(),metrics:j.metrics};p(null,L)}})}_doesCharSupportLocalGlyph(u){return!!this.localIdeographFontFamily&&(a.unicodeBlockLookup["CJK Unified Ideographs"](u)||a.unicodeBlockLookup["Hangul Syllables"](u)||a.unicodeBlockLookup.Hiragana(u)||a.unicodeBlockLookup.Katakana(u))}_tinySDF(u,p,b){const S=this.localIdeographFontFamily;if(!S||!this._doesCharSupportLocalGlyph(b))return;let E=u.tinySDF;if(!E){let $="400";/bold/i.test(p)?$="900":/medium/i.test(p)?$="500":/light/i.test(p)&&($="200"),E=u.tinySDF=new F.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:S,fontWeight:$})}const L=E.draw(String.fromCharCode(b));return{id:b,bitmap:new a.AlphaImage({width:L.width||30,height:L.height||30},L.data),metrics:{width:L.glyphWidth||24,height:L.glyphHeight||24,left:L.glyphLeft||0,top:L.glyphTop-27||-8,advance:L.glyphAdvance||24}}}}F.loadGlyphRange=function(x,u,p,b,S){const E=256*u,L=E+255,$=b.transformRequest(p.replace("{fontstack}",x).replace("{range}",`${E}-${L}`),a.ResourceType.Glyphs);a.getArrayBuffer($,(B,j)=>{if(B)S(B);else if(j){const q={};for(const Y of a.parseGlyphPbf(j))q[Y.id]=Y;S(null,q)}})},F.TinySDF=class{constructor({fontSize:x=24,buffer:u=3,radius:p=8,cutoff:b=.25,fontFamily:S="sans-serif",fontWeight:E="normal",fontStyle:L="normal"}={}){this.buffer=u,this.cutoff=b,this.radius=p;const $=this.size=x+4*u,B=this._createCanvas($),j=this.ctx=B.getContext("2d",{willReadFrequently:!0});j.font=`${L} ${E} ${x}px ${S}`,j.textBaseline="alphabetic",j.textAlign="left",j.fillStyle="black",this.gridOuter=new Float64Array($*$),this.gridInner=new Float64Array($*$),this.f=new Float64Array($),this.z=new Float64Array($+1),this.v=new Uint16Array($)}_createCanvas(x){const u=document.createElement("canvas");return u.width=u.height=x,u}draw(x){const{width:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:b,actualBoundingBoxLeft:S,actualBoundingBoxRight:E}=this.ctx.measureText(x),L=Math.ceil(p),$=Math.min(this.size-this.buffer,Math.ceil(E-S)),B=Math.min(this.size-this.buffer,L+Math.ceil(b)),j=$+2*this.buffer,q=B+2*this.buffer,Y=Math.max(j*q,0),ee=new Uint8ClampedArray(Y),ge={data:ee,width:j,height:q,glyphWidth:$,glyphHeight:B,glyphTop:L,glyphLeft:0,glyphAdvance:u};if($===0||B===0)return ge;const{ctx:pe,buffer:ve,gridInner:Ae,gridOuter:De}=this;pe.clearRect(ve,ve,$,B),pe.fillText(x,ve,ve+L);const $e=pe.getImageData(ve,ve,$,B);De.fill(D,0,Y),Ae.fill(0,0,Y);for(let be=0;be<B;be++)for(let Ue=0;Ue<$;Ue++){const Fe=$e.data[4*(be*$+Ue)+3]/255;if(Fe===0)continue;const Je=(be+ve)*j+Ue+ve;if(Fe===1)De[Je]=0,Ae[Je]=D;else{const Qe=.5-Fe;De[Je]=Qe>0?Qe*Qe:0,Ae[Je]=Qe<0?Qe*Qe:0}}O(De,0,0,j,q,j,this.f,this.v,this.z),O(Ae,ve,ve,$,B,j,this.f,this.v,this.z);for(let be=0;be<Y;be++){const Ue=Math.sqrt(De[be])-Math.sqrt(Ae[be]);ee[be]=Math.round(255-255*(Ue/this.radius+this.cutoff))}return ge}};const N=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(x,u){return a.sphericalToCartesian(x.expression.evaluate(u))}interpolate(x,u,p){return{x:a.number(x.x,u.x,p),y:a.number(x.y,u.y,p),z:a.number(x.z,u.z,p)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)}),H="-transition";class U extends a.Evented{constructor(u){super(),this._transitionable=new a.Transitionable(N),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,p={}){if(!this._validate(a.validateLight,u,p))for(const b in u){const S=u[b];b.endsWith(H)?this._transitionable.setTransition(b.slice(0,-H.length),S):this._transitionable.setValue(b,S)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,p,b){return(!b||b.validate!==!1)&&a.emitValidationErrors(this,u.call(a.validateStyle,a.extend({value:p,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class J{constructor(u,p){this.width=u,this.height=p,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(u,p){const b=u.join(",")+String(p);return this.dashEntry[b]||(this.dashEntry[b]=this.addDash(u,p)),this.dashEntry[b]}getDashRanges(u,p,b){const S=[];let E=u.length%2==1?-u[u.length-1]*b:0,L=u[0]*b,$=!0;S.push({left:E,right:L,isDash:$,zeroLength:u[0]===0});let B=u[0];for(let j=1;j<u.length;j++){$=!$;const q=u[j];E=B*b,B+=q,L=B*b,S.push({left:E,right:L,isDash:$,zeroLength:q===0})}return S}addRoundDash(u,p,b){const S=p/2;for(let E=-b;E<=b;E++){const L=this.width*(this.nextRow+b+E);let $=0,B=u[$];for(let j=0;j<this.width;j++){j/B.right>1&&(B=u[++$]);const q=Math.abs(j-B.left),Y=Math.abs(j-B.right),ee=Math.min(q,Y);let ge;const pe=E/b*(S+1);if(B.isDash){const ve=S-Math.abs(pe);ge=Math.sqrt(ee*ee+ve*ve)}else ge=S-Math.sqrt(ee*ee+pe*pe);this.data[L+j]=Math.max(0,Math.min(255,ge+128))}}}addRegularDash(u){for(let $=u.length-1;$>=0;--$){const B=u[$],j=u[$+1];B.zeroLength?u.splice($,1):j&&j.isDash===B.isDash&&(j.left=B.left,u.splice($,1))}const p=u[0],b=u[u.length-1];p.isDash===b.isDash&&(p.left=b.left-this.width,b.right=p.right+this.width);const S=this.width*this.nextRow;let E=0,L=u[E];for(let $=0;$<this.width;$++){$/L.right>1&&(L=u[++E]);const B=Math.abs($-L.left),j=Math.abs($-L.right),q=Math.min(B,j);this.data[S+$]=Math.max(0,Math.min(255,(L.isDash?q:-q)+128))}}addDash(u,p){const b=p?7:0,S=2*b+1;if(this.nextRow+S>this.height)return a.warnOnce("LineAtlas out of space"),null;let E=0;for(let $=0;$<u.length;$++)E+=u[$];if(E!==0){const $=this.width/E,B=this.getDashRanges(u,this.width,$);p?this.addRoundDash(B,$,b):this.addRegularDash(B)}const L={y:(this.nextRow+b+.5)/this.height,height:2*b/this.height,width:E};return this.nextRow+=S,this.dirty=!0,L}bind(u){const p=u.gl;this.texture?(p.bindTexture(p.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,p.texSubImage2D(p.TEXTURE_2D,0,0,0,this.width,this.height,p.ALPHA,p.UNSIGNED_BYTE,this.data))):(this.texture=p.createTexture(),p.bindTexture(p.TEXTURE_2D,this.texture),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,this.width,this.height,0,p.ALPHA,p.UNSIGNED_BYTE,this.data))}}class K{constructor(u,p){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const b=this.workerPool.acquire(this.id);for(let S=0;S<b.length;S++){const E=new K.Actor(b[S],p,this.id);E.name=`Worker ${S}`,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(u,p,b){a.asyncAll(this.actors,(S,E)=>{S.send(u,p,E)},b=b||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(u=>{u.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ne(x,u,p){const b=function(S,E){if(S)return p(S);if(E){const L=a.pick(a.extend(E,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);E.vector_layers&&(L.vectorLayers=E.vector_layers,L.vectorLayerIds=L.vectorLayers.map($=>$.id)),p(null,L)}};return x.url?a.getJSON(u.transformRequest(x.url,a.ResourceType.Source),b):a.exported.frame(()=>b(null,x))}K.Actor=a.Actor;class ae{constructor(u,p,b){this.bounds=a.LngLatBounds.convert(this.validateBounds(u)),this.minzoom=p||0,this.maxzoom=b||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const p=Math.pow(2,u.z),b=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*p),S=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*p),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*p),L=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*p);return u.x>=b&&u.x<E&&u.y>=S&&u.y<L}}class he extends a.Evented{constructor(u,p,b,S){if(super(),this.id=u,this.dispatcher=b,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(p,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},p),this._collectResourceTiming=p.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,(u,p)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),u?this.fire(new a.ErrorEvent(u)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new ae(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}setSourceProperty(u){this._tileJSONRequest&&this._tileJSONRequest.cancel(),u(),this.load()}setTiles(u){return this.setSourceProperty(()=>{this._options.tiles=u}),this}setUrl(u){return this.setSourceProperty(()=>{this.url=u,this._options.url=u}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}loadTile(u,p){const b=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),S={request:this.map._requestManager.transformRequest(b,a.ResourceType.Tile),uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function E(L,$){return delete u.request,u.aborted?p(null):L&&L.status!==404?p(L):($&&$.resourceTiming&&(u.resourceTiming=$.resourceTiming),this.map._refreshExpiredTiles&&$&&u.setExpiryData($),u.loadVectorData($,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),p(null),void(u.reloadCallback&&(this.loadTile(u,u.reloadCallback),u.reloadCallback=null)))}S.request.collectResourceTiming=this._collectResourceTiming,u.actor&&u.state!=="expired"?u.state==="loading"?u.reloadCallback=p:u.request=u.actor.send("reloadTile",S,E.bind(this)):(u.actor=this.dispatcher.getActor(),u.request=u.actor.send("loadTile",S,E.bind(this)))}abortTile(u){u.request&&(u.request.cancel(),delete u.request),u.actor&&u.actor.send("abortTile",{uid:u.uid,type:this.type,source:this.id},void 0)}unloadTile(u){u.unloadVectorData(),u.actor&&u.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class ie extends a.Evented{constructor(u,p,b,S){super(),this.id=u,this.dispatcher=b,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},p),a.extend(this,a.pick(p,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=ne(this._options,this.map._requestManager,(u,p)=>{this._tileJSONRequest=null,this._loaded=!0,u?this.fire(new a.ErrorEvent(u)):p&&(a.extend(this,p),p.bounds&&(this.tileBounds=new ae(p.bounds,this.minzoom,this.maxzoom)),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return a.extend({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u,p){const b=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);u.request=a.getImage(this.map._requestManager.transformRequest(b,a.ResourceType.Tile),(S,E,L)=>{if(delete u.request,u.aborted)u.state="unloaded",p(null);else if(S)u.state="errored",p(S);else if(E){this.map._refreshExpiredTiles&&u.setExpiryData(L);const $=this.map.painter.context,B=$.gl;u.texture=this.map.painter.getTileTexture(E.width),u.texture?u.texture.update(E,{useMipmap:!0}):(u.texture=new P($,E,B.RGBA,{useMipmap:!0}),u.texture.bind(B.LINEAR,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),$.extTextureFilterAnisotropic&&B.texParameterf(B.TEXTURE_2D,$.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,$.extTextureFilterAnisotropicMax)),u.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),p(null)}})}abortTile(u,p){u.request&&(u.request.cancel(),delete u.request),p()}unloadTile(u,p){u.texture&&this.map.painter.saveTileTexture(u.texture),p()}hasTransition(){return!1}}let de;class ce extends ie{constructor(u,p,b,S){super(u,p,b,S),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},p),this.encoding=p.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(u,p){const b=u.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function S(E,L){E&&(u.state="errored",p(E)),L&&(u.dem=L,u.needsHillshadePrepare=!0,u.needsTerrainPrepare=!0,u.state="loaded",p(null))}u.request=a.getImage(this.map._requestManager.transformRequest(b,a.ResourceType.Tile),function(E,L){if(delete u.request,u.aborted)u.state="unloaded",p(null);else if(E)u.state="errored",p(E);else if(L){this.map._refreshExpiredTiles&&u.setExpiryData(L),delete L.cacheControl,delete L.expires;const $=a.isImageBitmap(L)&&(de==null&&(de=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),de)?L:a.exported.getImageData(L,1),B={uid:u.uid,coord:u.tileID,source:this.id,rawImageData:$,encoding:this.encoding};u.actor&&u.state!=="expired"||(u.actor=this.dispatcher.getActor(),u.actor.send("loadDEMTile",B,S.bind(this)))}}.bind(this)),u.neighboringTiles=this._getNeighboringTiles(u.tileID)}_getNeighboringTiles(u){const p=u.canonical,b=Math.pow(2,p.z),S=(p.x-1+b)%b,E=p.x===0?u.wrap-1:u.wrap,L=(p.x+1+b)%b,$=p.x+1===b?u.wrap+1:u.wrap,B={};return B[new a.OverscaledTileID(u.overscaledZ,E,p.z,S,p.y).key]={backfilled:!1},B[new a.OverscaledTileID(u.overscaledZ,$,p.z,L,p.y).key]={backfilled:!1},p.y>0&&(B[new a.OverscaledTileID(u.overscaledZ,E,p.z,S,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(u.overscaledZ,u.wrap,p.z,p.x,p.y-1).key]={backfilled:!1},B[new a.OverscaledTileID(u.overscaledZ,$,p.z,L,p.y-1).key]={backfilled:!1}),p.y+1<b&&(B[new a.OverscaledTileID(u.overscaledZ,E,p.z,S,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(u.overscaledZ,u.wrap,p.z,p.x,p.y+1).key]={backfilled:!1},B[new a.OverscaledTileID(u.overscaledZ,$,p.z,L,p.y+1).key]={backfilled:!1}),B}unloadTile(u){u.demTexture&&this.map.painter.saveTileTexture(u.demTexture),u.fbo&&(u.fbo.destroy(),delete u.fbo),u.dem&&delete u.dem,delete u.neighboringTiles,u.state="unloaded",u.actor&&u.actor.send("removeDEMTile",{uid:u.uid,source:this.id})}}class Be extends a.Evented{constructor(u,p,b,S){super(),this.id=u,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=b.getActor(),this.setEventedParent(S),this._data=p.data,this._options=a.extend({},p),this._collectResourceTiming=p.collectResourceTiming,p.maxzoom!==void 0&&(this.maxzoom=p.maxzoom),p.type&&(this.type=p.type),p.attribution&&(this.attribution=p.attribution),this.promoteId=p.promoteId;const E=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:p.cluster||!1,geojsonVtOptions:{buffer:(p.buffer!==void 0?p.buffer:128)*E,tolerance:(p.tolerance!==void 0?p.tolerance:.375)*E,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:p.lineMetrics||!1,generateId:p.generateId||!1},superclusterOptions:{maxZoom:p.clusterMaxZoom!==void 0?p.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,p.clusterMinPoints||2),extent:a.EXTENT,radius:(p.clusterRadius||50)*E,log:!1,generateId:p.generateId||!1},clusterProperties:p.clusterProperties,filter:p.filter},p.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(u){this.map=u,this.load()}setData(u){return this._data=u,this._updateWorkerData("content"),this}getClusterExpansionZoom(u,p){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:u,source:this.id},p),this}getClusterChildren(u,p){return this.actor.send("geojson.getClusterChildren",{clusterId:u,source:this.id},p),this}getClusterLeaves(u,p,b,S){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:u,limit:p,offset:b},S),this}_updateWorkerData(u){const p=a.extend({},this.workerOptions),b=this._data;typeof b=="string"?(p.request=this.map._requestManager.transformRequest(a.exported.resolveURL(b),a.ResourceType.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(b),this._pendingLoads++,this.fire(new a.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,p,(S,E)=>{if(this._pendingLoads--,this._removed||E&&E.abandoned)return void this.fire(new a.Event("dataabort",{dataType:"source",sourceDataType:u}));let L=null;if(E&&E.resourceTiming&&E.resourceTiming[this.id]&&(L=E.resourceTiming[this.id].slice(0)),S)return void this.fire(new a.ErrorEvent(S));const $={dataType:"source",sourceDataType:u};this._collectResourceTiming&&L&&L.length>0&&a.extend($,{resourceTiming:L}),this.fire(new a.Event("data",$))})}loaded(){return this._pendingLoads===0}loadTile(u,p){const b=u.actor?"reloadTile":"loadTile";u.actor=this.actor;const S={type:this.type,uid:u.uid,tileID:u.tileID,zoom:u.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};u.request=this.actor.send(b,S,(E,L)=>(delete u.request,u.unloadVectorData(),u.aborted?p(null):E?p(E):(u.loadVectorData(L,this.map.painter,b==="reloadTile"),p(null))))}abortTile(u){u.request&&(u.request.cancel(),delete u.request),u.aborted=!0}unloadTile(u){u.unloadVectorData(),this.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var Ve=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ht extends a.Evented{constructor(u,p,b,S){super(),this.id=u,this.dispatcher=b,this.coordinates=p.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=p}load(u,p){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(b,S)=>{this._loaded=!0,b?this.fire(new a.ErrorEvent(b)):S&&(this.image=S,u&&(this.coordinates=u),p&&p(),this._finishLoading())})}loaded(){return this._loaded}updateImage(u){return this.image&&u.url?(this.options.url=u.url,this.load(u.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}setCoordinates(u){this.coordinates=u;const p=u.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(S){let E=1/0,L=1/0,$=-1/0,B=-1/0;for(const ee of S)E=Math.min(E,ee.x),L=Math.min(L,ee.y),$=Math.max($,ee.x),B=Math.max(B,ee.y);const j=Math.max($-E,B-L),q=Math.max(0,Math.floor(-Math.log(j)/Math.LN2)),Y=Math.pow(2,q);return new a.CanonicalTileID(q,Math.floor((E+$)/2*Y),Math.floor((L+B)/2*Y))}(p),this.minzoom=this.maxzoom=this.tileID.z;const b=p.map(S=>this.tileID.getTilePoint(S)._round());return this._boundsArray=new a.RasterBoundsArray,this._boundsArray.emplaceBack(b[0].x,b[0].y,0,0),this._boundsArray.emplaceBack(b[1].x,b[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(b[3].x,b[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(b[2].x,b[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Ve.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new P(u,this.image,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));for(const b in this.tiles){const S=this.tiles[b];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture)}}loadTile(u,p){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={},p(null)):(u.state="errored",p(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class mt extends ht{constructor(u,p,b,S){super(u,p,b,S),this.roundZoom=!0,this.type="video",this.options=p}load(){this._loaded=!1;const u=this.options;this.urls=[];for(const p of u.urls)this.urls.push(this.map._requestManager.transformRequest(p,a.ResourceType.Source).url);a.getVideo(this.urls,(p,b)=>{this._loaded=!0,p?this.fire(new a.ErrorEvent(p)):b&&(this.video=b,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(u){if(this.video){const p=this.video.seekable;u<p.start(0)||u>p.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${p.start(0)} and ${p.end(0)}-second mark.`))):this.video.currentTime=u}}getVideo(){return this.video}onAdd(u){this.map||(this.map=u,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,Ve.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE),p.texSubImage2D(p.TEXTURE_2D,0,0,0,p.RGBA,p.UNSIGNED_BYTE,this.video)):(this.texture=new P(u,this.video,p.RGBA),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE));for(const b in this.tiles){const S=this.tiles[b];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class dt extends ht{constructor(u,p,b,S){super(u,p,b,S),p.coordinates?Array.isArray(p.coordinates)&&p.coordinates.length===4&&!p.coordinates.some(E=>!Array.isArray(E)||E.length!==2||E.some(L=>typeof L!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'missing required property "coordinates"'))),p.animate&&typeof p.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'optional "animate" property must be a boolean value'))),p.canvas?typeof p.canvas=="string"||p.canvas instanceof HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${u}`,null,'missing required property "canvas"'))),this.options=p,this.animate=p.animate===void 0||p.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(u){this.map=u,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let u=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,u=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,u=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const p=this.map.painter.context,b=p.gl;this.boundsBuffer||(this.boundsBuffer=p.createVertexBuffer(this._boundsArray,Ve.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(u||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new P(p,this.canvas,b.RGBA,{premultiply:!0});for(const S in this.tiles){const E=this.tiles[S];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const u of[this.canvas.width,this.canvas.height])if(isNaN(u)||u<=0)return!0;return!1}}const vt={vector:he,raster:ie,"raster-dem":ce,geojson:Be,video:mt,image:ht,canvas:dt};function Jt(x,u){const p=a.create();return a.translate(p,p,[1,1,0]),a.scale(p,p,[.5*x.width,.5*x.height,1]),a.multiply(p,p,x.calculatePosMatrix(u.toUnwrapped()))}function ar(x,u,p,b,S,E){const L=function(Y,ee,ge){if(Y)for(const pe of Y){const ve=ee[pe];if(ve&&ve.source===ge&&ve.type==="fill-extrusion")return!0}else for(const pe in ee){const ve=ee[pe];if(ve.source===ge&&ve.type==="fill-extrusion")return!0}return!1}(S&&S.layers,u,x.id),$=E.maxPitchScaleFactor(),B=x.tilesIn(b,$,L);B.sort(nr);const j=[];for(const Y of B)j.push({wrappedTileID:Y.tileID.wrapped().key,queryResults:Y.tile.queryRenderedFeatures(u,p,x._state,Y.queryGeometry,Y.cameraQueryGeometry,Y.scale,S,E,$,Jt(x.transform,Y.tileID))});const q=function(Y){const ee={},ge={};for(const pe of Y){const ve=pe.queryResults,Ae=pe.wrappedTileID,De=ge[Ae]=ge[Ae]||{};for(const $e in ve){const be=ve[$e],Ue=De[$e]=De[$e]||{},Fe=ee[$e]=ee[$e]||[];for(const Je of be)Ue[Je.featureIndex]||(Ue[Je.featureIndex]=!0,Fe.push(Je))}}return ee}(j);for(const Y in q)q[Y].forEach(ee=>{const ge=ee.feature,pe=x.getFeatureState(ge.layer["source-layer"],ge.id);ge.source=ge.layer.source,ge.layer["source-layer"]&&(ge.sourceLayer=ge.layer["source-layer"]),ge.state=pe});return q}function nr(x,u){const p=x.tileID,b=u.tileID;return p.overscaledZ-b.overscaledZ||p.canonical.y-b.canonical.y||p.wrap-b.wrap||p.canonical.x-b.canonical.x}class st{constructor(u,p){this.tileID=u,this.uid=a.uniqueId(),this.uses=0,this.tileSize=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(u){const p=u+this.timeAdded;p<a.exported.now()||this.fadeEndTime&&p<this.fadeEndTime||(this.fadeEndTime=p)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(u){this.demTexture&&u.saveTileTexture(this.demTexture),this.textures.forEach(p=>u.saveTileTexture(p)),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(u,p,b){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",u){u.featureIndex&&(this.latestFeatureIndex=u.featureIndex,u.rawTileData?(this.latestRawTileData=u.rawTileData,this.latestFeatureIndex.rawTileData=u.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=u.collisionBoxArray,this.buckets=function(S,E){const L={};if(!E)return L;for(const $ of S){const B=$.layerIds.map(j=>E.getLayer(j)).filter(Boolean);if(B.length!==0){$.layers=B,$.stateDependentLayerIds&&($.stateDependentLayers=$.stateDependentLayerIds.map(j=>B.filter(q=>q.id===j)[0]));for(const j of B)L[j.id]=$}}return L}(u.buckets,p.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const E=this.buckets[S];if(E instanceof a.SymbolBucket){if(this.hasSymbolBuckets=!0,!b)break;E.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const E=this.buckets[S];if(E instanceof a.SymbolBucket&&E.hasRTLText){this.hasRTLText=!0,a.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const S in this.buckets){const E=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,p.style.getLayer(S).queryRadius(E))}u.imageAtlas&&(this.imageAtlas=u.imageAtlas),u.glyphAtlasImage&&(this.glyphAtlasImage=u.glyphAtlasImage)}else this.collisionBoxArray=new a.CollisionBoxArray}unloadVectorData(){for(const u in this.buckets)this.buckets[u].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(u){return this.buckets[u.id]}upload(u){for(const b in this.buckets){const S=this.buckets[b];S.uploadPending()&&S.upload(u)}const p=u.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new P(u,this.imageAtlas.image,p.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new P(u,this.glyphAtlasImage,p.ALPHA),this.glyphAtlasImage=null)}prepare(u){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(u,this.imageAtlasTexture)}queryRenderedFeatures(u,p,b,S,E,L,$,B,j,q){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:E,scale:L,tileSize:this.tileSize,pixelPosMatrix:q,transform:B,params:$,queryPadding:this.queryPadding*j},u,p,b):{}}querySourceFeatures(u,p){const b=this.latestFeatureIndex;if(!b||!b.rawTileData)return;const S=b.loadVTLayers(),E=p?p.sourceLayer:"",L=S._geojsonTileLayer||S[E];if(!L)return;const $=a.createFilter(p&&p.filter),{z:B,x:j,y:q}=this.tileID.canonical,Y={z:B,x:j,y:q};for(let ee=0;ee<L.length;ee++){const ge=L.feature(ee);if($.needGeometry){const Ae=a.toEvaluationFeature(ge,!0);if(!$.filter(new a.EvaluationParameters(this.tileID.overscaledZ),Ae,this.tileID.canonical))continue}else if(!$.filter(new a.EvaluationParameters(this.tileID.overscaledZ),ge))continue;const pe=b.getId(ge,E),ve=new a.GeoJSONFeature(ge,B,j,q,pe);ve.tile=Y,u.push(ve)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(u){const p=this.expirationTime;if(u.cacheControl){const b=a.parseCacheControl(u.cacheControl);b["max-age"]&&(this.expirationTime=Date.now()+1e3*b["max-age"])}else u.expires&&(this.expirationTime=new Date(u.expires).getTime());if(this.expirationTime){const b=Date.now();let S=!1;if(this.expirationTime>b)S=!1;else if(p)if(this.expirationTime<p)S=!0;else{const E=this.expirationTime-p;E?this.expirationTime=b+Math.max(E,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(u,p){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(u).length===0)return;const b=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!p.style.hasLayer(S))continue;const E=this.buckets[S],L=E.layers[0].sourceLayer||"_geojsonTileLayer",$=b[L],B=u[L];if(!$||!B||Object.keys(B).length===0)continue;E.update(B,$,this.imageAtlas&&this.imageAtlas.patternPositions||{});const j=p&&p.style&&p.style.getLayer(S);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(E)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<a.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(u){this.symbolFadeHoldUntil=a.exported.now()+u}setDependencies(u,p){const b={};for(const S of p)b[S]=!0;this.dependencies[u]=b}hasDependency(u,p){for(const b of u){const S=this.dependencies[b];if(S){for(const E of p)if(S[E])return!0}}return!1}}class ze{constructor(u,p){this.max=u,this.onRemove=p,this.reset()}reset(){for(const u in this.data)for(const p of this.data[u])p.timeout&&clearTimeout(p.timeout),this.onRemove(p.value);return this.data={},this.order=[],this}add(u,p,b){const S=u.wrapped().key;this.data[S]===void 0&&(this.data[S]=[]);const E={value:p,timeout:void 0};if(b!==void 0&&(E.timeout=setTimeout(()=>{this.remove(u,E)},b)),this.data[S].push(E),this.order.push(S),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(u){return u.wrapped().key in this.data}getAndRemove(u){return this.has(u)?this._getAndRemoveByKey(u.wrapped().key):null}_getAndRemoveByKey(u){const p=this.data[u].shift();return p.timeout&&clearTimeout(p.timeout),this.data[u].length===0&&delete this.data[u],this.order.splice(this.order.indexOf(u),1),p.value}getByKey(u){const p=this.data[u];return p?p[0].value:null}get(u){return this.has(u)?this.data[u.wrapped().key][0].value:null}remove(u,p){if(!this.has(u))return this;const b=u.wrapped().key,S=p===void 0?0:this.data[b].indexOf(p),E=this.data[b][S];return this.data[b].splice(S,1),E.timeout&&clearTimeout(E.timeout),this.data[b].length===0&&delete this.data[b],this.onRemove(E.value),this.order.splice(this.order.indexOf(b),1),this}setMaxSize(u){for(this.max=u;this.order.length>this.max;){const p=this._getAndRemoveByKey(this.order[0]);p&&this.onRemove(p)}return this}filter(u){const p=[];for(const b in this.data)for(const S of this.data[b])u(S.value)||p.push(S);for(const b of p)this.remove(b.value.tileID,b)}}class et{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(u,p,b){const S=String(p);if(this.stateChanges[u]=this.stateChanges[u]||{},this.stateChanges[u][S]=this.stateChanges[u][S]||{},a.extend(this.stateChanges[u][S],b),this.deletedStates[u]===null){this.deletedStates[u]={};for(const E in this.state[u])E!==S&&(this.deletedStates[u][E]=null)}else if(this.deletedStates[u]&&this.deletedStates[u][S]===null){this.deletedStates[u][S]={};for(const E in this.state[u][S])b[E]||(this.deletedStates[u][S][E]=null)}else for(const E in b)this.deletedStates[u]&&this.deletedStates[u][S]&&this.deletedStates[u][S][E]===null&&delete this.deletedStates[u][S][E]}removeFeatureState(u,p,b){if(this.deletedStates[u]===null)return;const S=String(p);if(this.deletedStates[u]=this.deletedStates[u]||{},b&&p!==void 0)this.deletedStates[u][S]!==null&&(this.deletedStates[u][S]=this.deletedStates[u][S]||{},this.deletedStates[u][S][b]=null);else if(p!==void 0)if(this.stateChanges[u]&&this.stateChanges[u][S])for(b in this.deletedStates[u][S]={},this.stateChanges[u][S])this.deletedStates[u][S][b]=null;else this.deletedStates[u][S]=null;else this.deletedStates[u]=null}getState(u,p){const b=String(p),S=a.extend({},(this.state[u]||{})[b],(this.stateChanges[u]||{})[b]);if(this.deletedStates[u]===null)return{};if(this.deletedStates[u]){const E=this.deletedStates[u][p];if(E===null)return{};for(const L in E)delete S[L]}return S}initializeTileState(u,p){u.setFeatureState(this.state,p)}coalesceChanges(u,p){const b={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const E={};for(const L in this.stateChanges[S])this.state[S][L]||(this.state[S][L]={}),a.extend(this.state[S][L],this.stateChanges[S][L]),E[L]=this.state[S][L];b[S]=E}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const E={};if(this.deletedStates[S]===null)for(const L in this.state[S])E[L]={},this.state[S][L]={};else for(const L in this.deletedStates[S]){if(this.deletedStates[S][L]===null)this.state[S][L]={};else for(const $ of Object.keys(this.deletedStates[S][L]))delete this.state[S][L][$];E[L]=this.state[S][L]}b[S]=b[S]||{},a.extend(b[S],E)}if(this.stateChanges={},this.deletedStates={},Object.keys(b).length!==0)for(const S in u)u[S].setFeatureState(b,p)}}class We extends a.Evented{constructor(u,p,b){super(),this.id=u,this.dispatcher=b,this.on("data",S=>{S.dataType==="source"&&S.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&S.dataType==="source"&&S.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(S,E,L,$){const B=new vt[E.type](S,E,L,$);if(B.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${B.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],B),B}(u,p,b,this),this._tiles={},this._cache=new ze(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new et}onAdd(u){this.map=u,this._maxTileCacheSize=u?u._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(u)}onRemove(u){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(u)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const u in this._tiles){const p=this._tiles[u];if(p.state!=="loaded"&&p.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const u=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,u&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(u,p){return this._source.loadTile(u,p)}_unloadTile(u){if(this._source.unloadTile)return this._source.unloadTile(u,()=>{})}_abortTile(u){this._source.abortTile&&this._source.abortTile(u,()=>{}),this._source.fire(new a.Event("dataabort",{tile:u,coord:u.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(u){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const p in this._tiles){const b=this._tiles[p];b.upload(u),b.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(u=>u.tileID).sort(ut).map(u=>u.key)}getRenderableIds(u){const p=[];for(const b in this._tiles)this._isIdRenderable(b,u)&&p.push(this._tiles[b]);return u?p.sort((b,S)=>{const E=b.tileID,L=S.tileID,$=new a.pointGeometry(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),B=new a.pointGeometry(L.canonical.x,L.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-L.overscaledZ||B.y-$.y||B.x-$.x}).map(b=>b.tileID.key):p.map(b=>b.tileID).sort(ut).map(b=>b.key)}hasRenderableParent(u){const p=this.findLoadedParent(u,0);return!!p&&this._isIdRenderable(p.tileID.key)}_isIdRenderable(u,p){return this._tiles[u]&&this._tiles[u].hasData()&&!this._coveredTiles[u]&&(p||!this._tiles[u].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const u in this._tiles)this._tiles[u].state!=="errored"&&this._reloadTile(u,"reloading")}}_reloadTile(u,p){const b=this._tiles[u];b&&(b.state!=="loading"&&(b.state=p),this._loadTile(b,this._tileLoaded.bind(this,b,u,p)))}_tileLoaded(u,p,b,S){if(S)return u.state="errored",void(S.status!==404?this._source.fire(new a.ErrorEvent(S,{tile:u})):this.update(this.transform,this.terrain));u.timeAdded=a.exported.now(),b==="expired"&&(u.refreshedUponExpiration=!0),this._setTileReloadTimer(p,u),this.getSource().type==="raster-dem"&&u.dem&&this._backfillDEM(u),this._state.initializeTileState(u,this.map?this.map.painter:null),u.aborted||this._source.fire(new a.Event("data",{dataType:"source",tile:u,coord:u.tileID}))}_backfillDEM(u){const p=this.getRenderableIds();for(let S=0;S<p.length;S++){const E=p[S];if(u.neighboringTiles&&u.neighboringTiles[E]){const L=this.getTileByID(E);b(u,L),b(L,u)}}function b(S,E){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let L=E.tileID.canonical.x-S.tileID.canonical.x;const $=E.tileID.canonical.y-S.tileID.canonical.y,B=Math.pow(2,S.tileID.canonical.z),j=E.tileID.key;L===0&&$===0||Math.abs($)>1||(Math.abs(L)>1&&(Math.abs(L+B)===1?L+=B:Math.abs(L-B)===1&&(L-=B)),E.dem&&S.dem&&(S.dem.backfillBorder(E.dem,L,$),S.neighboringTiles&&S.neighboringTiles[j]&&(S.neighboringTiles[j].backfilled=!0)))}}getTile(u){return this.getTileByID(u.key)}getTileByID(u){return this._tiles[u]}_retainLoadedChildren(u,p,b,S){for(const E in this._tiles){let L=this._tiles[E];if(S[E]||!L.hasData()||L.tileID.overscaledZ<=p||L.tileID.overscaledZ>b)continue;let $=L.tileID;for(;L&&L.tileID.overscaledZ>p+1;){const j=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[j.key],L&&L.hasData()&&($=j)}let B=$;for(;B.overscaledZ>p;)if(B=B.scaledTo(B.overscaledZ-1),u[B.key]){S[$.key]=$;break}}}findLoadedParent(u,p){if(u.key in this._loadedParentTiles){const b=this._loadedParentTiles[u.key];return b&&b.tileID.overscaledZ>=p?b:null}for(let b=u.overscaledZ-1;b>=p;b--){const S=u.scaledTo(b),E=this._getLoadedTile(S);if(E)return E}}_getLoadedTile(u){const p=this._tiles[u.key];return p&&p.hasData()?p:this._cache.getByKey(u.wrapped().key)}updateCacheSize(u){const p=Math.ceil(u.width/this._source.tileSize)+1,b=Math.ceil(u.height/this._source.tileSize)+1,S=Math.floor(p*b*5),E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(E)}handleWrapJump(u){const p=Math.round((u-(this._prevLng===void 0?u:this._prevLng))/360);if(this._prevLng=u,p){const b={};for(const S in this._tiles){const E=this._tiles[S];E.tileID=E.tileID.unwrapTo(E.tileID.wrap+p),b[E.tileID.key]=E}this._tiles=b;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(S,this._tiles[S])}}update(u,p){if(this.transform=u,this.terrain=p,!this._sourceLoaded||this._paused)return;let b;this.updateCacheSize(u),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?b=u.getVisibleUnwrappedCoordinates(this._source.tileID).map(j=>new a.OverscaledTileID(j.canonical.z,j.wrap,j.canonical.z,j.canonical.x,j.canonical.y)):(b=u.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:p}),this._source.hasTile&&(b=b.filter(j=>this._source.hasTile(j)))):b=[];const S=u.coveringZoomLevel(this._source),E=Math.max(S-We.maxOverzooming,this._source.minzoom),L=Math.max(S+We.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const j={};for(const q of b)if(q.canonical.z>this._source.minzoom){const Y=q.scaledTo(q.canonical.z-1);j[Y.key]=Y;const ee=q.scaledTo(Math.max(this._source.minzoom,Math.min(q.canonical.z,5)));j[ee.key]=ee}b=b.concat(Object.values(j))}const $=this._updateRetainedTiles(b,S);if(ct(this._source.type)){const j={},q={},Y=Object.keys($);for(const ee of Y){const ge=$[ee],pe=this._tiles[ee];if(!pe||pe.fadeEndTime&&pe.fadeEndTime<=a.exported.now())continue;const ve=this.findLoadedParent(ge,E);ve&&(this._addTile(ve.tileID),j[ve.tileID.key]=ve.tileID),q[ee]=ge}this._retainLoadedChildren(q,S,L,$);for(const ee in j)$[ee]||(this._coveredTiles[ee]=!0,$[ee]=j[ee]);if(p){const ee={},ge={};for(const pe of b)this._tiles[pe.key].hasData()?ee[pe.key]=pe:ge[pe.key]=pe;for(const pe in ge){const ve=ge[pe].children(this._source.maxzoom);this._tiles[ve[0].key]&&this._tiles[ve[1].key]&&this._tiles[ve[2].key]&&this._tiles[ve[3].key]&&(ee[ve[0].key]=$[ve[0].key]=ve[0],ee[ve[1].key]=$[ve[1].key]=ve[1],ee[ve[2].key]=$[ve[2].key]=ve[2],ee[ve[3].key]=$[ve[3].key]=ve[3],delete ge[pe])}for(const pe in ge){const ve=this.findLoadedParent(ge[pe],this._source.minzoom);if(ve){ee[ve.tileID.key]=$[ve.tileID.key]=ve.tileID;for(const Ae in ee)ee[Ae].isChildOf(ve.tileID)&&delete ee[Ae]}}for(const pe in this._tiles)ee[pe]||(this._coveredTiles[pe]=!0)}}for(const j in $)this._tiles[j].clearFadeHold();const B=a.keysDifference(this._tiles,$);for(const j of B){const q=this._tiles[j];q.hasSymbolBuckets&&!q.holdingForFade()?q.setHoldDuration(this.map._fadeDuration):q.hasSymbolBuckets&&!q.symbolFadeFinished()||this._removeTile(j)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const u in this._tiles)this._tiles[u].holdingForFade()&&this._removeTile(u)}_updateRetainedTiles(u,p){const b={},S={},E=Math.max(p-We.maxOverzooming,this._source.minzoom),L=Math.max(p+We.maxUnderzooming,this._source.minzoom),$={};for(const B of u){const j=this._addTile(B);b[B.key]=B,j.hasData()||p<this._source.maxzoom&&($[B.key]=B)}this._retainLoadedChildren($,p,L,b);for(const B of u){let j=this._tiles[B.key];if(j.hasData())continue;if(p+1>this._source.maxzoom){const Y=B.children(this._source.maxzoom)[0],ee=this.getTile(Y);if(ee&&ee.hasData()){b[Y.key]=Y;continue}}else{const Y=B.children(this._source.maxzoom);if(b[Y[0].key]&&b[Y[1].key]&&b[Y[2].key]&&b[Y[3].key])continue}let q=j.wasRequested();for(let Y=B.overscaledZ-1;Y>=E;--Y){const ee=B.scaledTo(Y);if(S[ee.key]||(S[ee.key]=!0,j=this.getTile(ee),!j&&q&&(j=this._addTile(ee)),j&&(b[ee.key]=ee,q=j.wasRequested(),j.hasData())))break}}return b}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const u in this._tiles){const p=[];let b,S=this._tiles[u].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){b=this._loadedParentTiles[S.key];break}p.push(S.key);const E=S.scaledTo(S.overscaledZ-1);if(b=this._getLoadedTile(E),b)break;S=E}for(const E of p)this._loadedParentTiles[E]=b}}_addTile(u){let p=this._tiles[u.key];if(p)return p;p=this._cache.getAndRemove(u),p&&(this._setTileReloadTimer(u.key,p),p.tileID=u,this._state.initializeTileState(p,this.map?this.map.painter:null),this._cacheTimers[u.key]&&(clearTimeout(this._cacheTimers[u.key]),delete this._cacheTimers[u.key],this._setTileReloadTimer(u.key,p)));const b=p;return p||(p=new st(u,this._source.tileSize*u.overscaleFactor()),this._loadTile(p,this._tileLoaded.bind(this,p,u.key,p.state))),p.uses++,this._tiles[u.key]=p,b||this._source.fire(new a.Event("dataloading",{tile:p,coord:p.tileID,dataType:"source"})),p}_setTileReloadTimer(u,p){u in this._timers&&(clearTimeout(this._timers[u]),delete this._timers[u]);const b=p.getExpiryTimeout();b&&(this._timers[u]=setTimeout(()=>{this._reloadTile(u,"expired"),delete this._timers[u]},b))}_removeTile(u){const p=this._tiles[u];p&&(p.uses--,delete this._tiles[u],this._timers[u]&&(clearTimeout(this._timers[u]),delete this._timers[u]),p.uses>0||(p.hasData()&&p.state!=="reloading"?this._cache.add(p.tileID,p,p.getExpiryTimeout()):(p.aborted=!0,this._abortTile(p),this._unloadTile(p))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const u in this._tiles)this._removeTile(u);this._cache.reset()}tilesIn(u,p,b){const S=[],E=this.transform;if(!E)return S;const L=b?E.getCameraQueryGeometry(u):u,$=u.map(pe=>E.pointCoordinate(pe,this.terrain)),B=L.map(pe=>E.pointCoordinate(pe,this.terrain)),j=this.getIds();let q=1/0,Y=1/0,ee=-1/0,ge=-1/0;for(const pe of B)q=Math.min(q,pe.x),Y=Math.min(Y,pe.y),ee=Math.max(ee,pe.x),ge=Math.max(ge,pe.y);for(let pe=0;pe<j.length;pe++){const ve=this._tiles[j[pe]];if(ve.holdingForFade())continue;const Ae=ve.tileID,De=Math.pow(2,E.zoom-ve.tileID.overscaledZ),$e=p*ve.queryPadding*a.EXTENT/ve.tileSize/De,be=[Ae.getTilePoint(new a.MercatorCoordinate(q,Y)),Ae.getTilePoint(new a.MercatorCoordinate(ee,ge))];if(be[0].x-$e<a.EXTENT&&be[0].y-$e<a.EXTENT&&be[1].x+$e>=0&&be[1].y+$e>=0){const Ue=$.map(Je=>Ae.getTilePoint(Je)),Fe=B.map(Je=>Ae.getTilePoint(Je));S.push({tile:ve,tileID:Ae,queryGeometry:Ue,cameraQueryGeometry:Fe,scale:De})}}return S}getVisibleCoordinates(u){const p=this.getRenderableIds(u).map(b=>this._tiles[b].tileID);for(const b of p)b.posMatrix=this.transform.calculatePosMatrix(b.toUnwrapped());return p}hasTransition(){if(this._source.hasTransition())return!0;if(ct(this._source.type))for(const u in this._tiles){const p=this._tiles[u];if(p.fadeEndTime!==void 0&&p.fadeEndTime>=a.exported.now())return!0}return!1}setFeatureState(u,p,b){this._state.updateState(u=u||"_geojsonTileLayer",p,b)}removeFeatureState(u,p,b){this._state.removeFeatureState(u=u||"_geojsonTileLayer",p,b)}getFeatureState(u,p){return this._state.getState(u=u||"_geojsonTileLayer",p)}setDependencies(u,p,b){const S=this._tiles[u];S&&S.setDependencies(p,b)}reloadTilesForDependencies(u,p){for(const b in this._tiles)this._tiles[b].hasDependency(u,p)&&this._reloadTile(b,"reloading");this._cache.filter(b=>!b.hasDependency(u,p))}}function ut(x,u){const p=Math.abs(2*x.wrap)-+(x.wrap<0),b=Math.abs(2*u.wrap)-+(u.wrap<0);return x.overscaledZ-u.overscaledZ||b-p||u.canonical.y-x.canonical.y||u.canonical.x-x.canonical.x}function ct(x){return x==="raster"||x==="image"||x==="video"}We.maxOverzooming=10,We.maxUnderzooming=3;const le="mapboxgl_preloaded_worker_pool";class ye{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<ye.workerCount;)this.workers.push(new Worker(Zs.workerUrl));return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(p=>{p.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[le]}numActive(){return Object.keys(this.active).length}}const Ee=Math.floor(a.exported.hardwareConcurrency/2);let je;function Ye(){return je||(je=new ye),je}function qe(x,u){const p={};for(const b in x)b!=="ref"&&(p[b]=x[b]);return a.refProperties.forEach(b=>{b in u&&(p[b]=u[b])}),p}function nt(x){x=x.slice();const u=Object.create(null);for(let p=0;p<x.length;p++)u[x[p].id]=x[p];for(let p=0;p<x.length;p++)"ref"in x[p]&&(x[p]=qe(x[p],u[x[p].ref]));return x}ye.workerCount=Math.max(Math.min(Ee,6),1);const Oe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function tt(x,u,p){p.push({command:Oe.addSource,args:[x,u[x]]})}function rt(x,u,p){u.push({command:Oe.removeSource,args:[x]}),p[x]=!0}function Tt(x,u,p,b){rt(x,p,b),tt(x,u,p)}function Lt(x,u,p){let b;for(b in x[p])if(Object.prototype.hasOwnProperty.call(x[p],b)&&b!=="data"&&!v(x[p][b],u[p][b]))return!1;for(b in u[p])if(Object.prototype.hasOwnProperty.call(u[p],b)&&b!=="data"&&!v(x[p][b],u[p][b]))return!1;return!0}function Pt(x,u,p,b,S,E){let L;for(L in u=u||{},x=x||{})Object.prototype.hasOwnProperty.call(x,L)&&(v(x[L],u[L])||p.push({command:E,args:[b,L,u[L],S]}));for(L in u)Object.prototype.hasOwnProperty.call(u,L)&&!Object.prototype.hasOwnProperty.call(x,L)&&(v(x[L],u[L])||p.push({command:E,args:[b,L,u[L],S]}))}function qt(x){return x.id}function sr(x,u){return x[u.id]=u,x}class yr{constructor(u,p){this.reset(u,p)}reset(u,p){this.points=u||[],this._distances=[0];for(let b=1;b<this.points.length;b++)this._distances[b]=this._distances[b-1]+this.points[b].dist(this.points[b-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(p||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=a.clamp(u,0,1);let p=1,b=this._distances[p];const S=u*this.paddedLength+this.padding;for(;b<S&&p<this._distances.length;)b=this._distances[++p];const E=p-1,L=this._distances[E],$=b-L,B=$>0?(S-L)/$:0;return this.points[E].mult(1-B).add(this.points[p].mult(B))}}function Re(x,u){let p=!0;return x==="always"||x!=="never"&&u!=="never"||(p=!1),p}class at{constructor(u,p,b){const S=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(u/b),this.yCellCount=Math.ceil(p/b);for(let L=0;L<this.xCellCount*this.yCellCount;L++)S.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=p,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/p,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,p,b,S,E){this._forEachCell(p,b,S,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(p),this.bboxes.push(b),this.bboxes.push(S),this.bboxes.push(E)}insertCircle(u,p,b,S){this._forEachCell(p-S,b-S,p+S,b+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(p),this.circles.push(b),this.circles.push(S)}_insertBoxCell(u,p,b,S,E,L){this.boxCells[E].push(L)}_insertCircleCell(u,p,b,S,E,L){this.circleCells[E].push(L)}_query(u,p,b,S,E,L,$){if(b<0||u>this.width||S<0||p>this.height)return[];const B=[];if(u<=0&&p<=0&&this.width<=b&&this.height<=S){if(E)return[{key:null,x1:u,y1:p,x2:b,y2:S}];for(let j=0;j<this.boxKeys.length;j++)B.push({key:this.boxKeys[j],x1:this.bboxes[4*j],y1:this.bboxes[4*j+1],x2:this.bboxes[4*j+2],y2:this.bboxes[4*j+3]});for(let j=0;j<this.circleKeys.length;j++){const q=this.circles[3*j],Y=this.circles[3*j+1],ee=this.circles[3*j+2];B.push({key:this.circleKeys[j],x1:q-ee,y1:Y-ee,x2:q+ee,y2:Y+ee})}}else this._forEachCell(u,p,b,S,this._queryCell,B,{hitTest:E,overlapMode:L,seenUids:{box:{},circle:{}}},$);return B}query(u,p,b,S){return this._query(u,p,b,S,!1,null)}hitTest(u,p,b,S,E,L){return this._query(u,p,b,S,!0,E,L).length>0}hitTestCircle(u,p,b,S,E){const L=u-b,$=u+b,B=p-b,j=p+b;if($<0||L>this.width||j<0||B>this.height)return!1;const q=[];return this._forEachCell(L,B,$,j,this._queryCellCircle,q,{hitTest:!0,overlapMode:S,circle:{x:u,y:p,radius:b},seenUids:{box:{},circle:{}}},E),q.length>0}_queryCell(u,p,b,S,E,L,$,B){const{seenUids:j,hitTest:q,overlapMode:Y}=$,ee=this.boxCells[E];if(ee!==null){const pe=this.bboxes;for(const ve of ee)if(!j.box[ve]){j.box[ve]=!0;const Ae=4*ve,De=this.boxKeys[ve];if(u<=pe[Ae+2]&&p<=pe[Ae+3]&&b>=pe[Ae+0]&&S>=pe[Ae+1]&&(!B||B(De))&&(!q||!Re(Y,De.overlapMode))&&(L.push({key:De,x1:pe[Ae],y1:pe[Ae+1],x2:pe[Ae+2],y2:pe[Ae+3]}),q))return!0}}const ge=this.circleCells[E];if(ge!==null){const pe=this.circles;for(const ve of ge)if(!j.circle[ve]){j.circle[ve]=!0;const Ae=3*ve,De=this.circleKeys[ve];if(this._circleAndRectCollide(pe[Ae],pe[Ae+1],pe[Ae+2],u,p,b,S)&&(!B||B(De))&&(!q||!Re(Y,De.overlapMode))){const $e=pe[Ae],be=pe[Ae+1],Ue=pe[Ae+2];if(L.push({key:De,x1:$e-Ue,y1:be-Ue,x2:$e+Ue,y2:be+Ue}),q)return!0}}}return!1}_queryCellCircle(u,p,b,S,E,L,$,B){const{circle:j,seenUids:q,overlapMode:Y}=$,ee=this.boxCells[E];if(ee!==null){const pe=this.bboxes;for(const ve of ee)if(!q.box[ve]){q.box[ve]=!0;const Ae=4*ve,De=this.boxKeys[ve];if(this._circleAndRectCollide(j.x,j.y,j.radius,pe[Ae+0],pe[Ae+1],pe[Ae+2],pe[Ae+3])&&(!B||B(De))&&!Re(Y,De.overlapMode))return L.push(!0),!0}}const ge=this.circleCells[E];if(ge!==null){const pe=this.circles;for(const ve of ge)if(!q.circle[ve]){q.circle[ve]=!0;const Ae=3*ve,De=this.circleKeys[ve];if(this._circlesCollide(pe[Ae],pe[Ae+1],pe[Ae+2],j.x,j.y,j.radius)&&(!B||B(De))&&!Re(Y,De.overlapMode))return L.push(!0),!0}}}_forEachCell(u,p,b,S,E,L,$,B){const j=this._convertToXCellCoord(u),q=this._convertToYCellCoord(p),Y=this._convertToXCellCoord(b),ee=this._convertToYCellCoord(S);for(let ge=j;ge<=Y;ge++)for(let pe=q;pe<=ee;pe++)if(E.call(this,u,p,b,S,this.xCellCount*pe+ge,L,$,B))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,p,b,S,E,L){const $=S-u,B=E-p,j=b+L;return j*j>$*$+B*B}_circleAndRectCollide(u,p,b,S,E,L,$){const B=(L-S)/2,j=Math.abs(u-(S+B));if(j>B+b)return!1;const q=($-E)/2,Y=Math.abs(p-(E+q));if(Y>q+b)return!1;if(j<=B||Y<=q)return!0;const ee=j-B,ge=Y-q;return ee*ee+ge*ge<=b*b}}function Wr(x,u,p,b,S){const E=a.create();return u?(a.scale(E,E,[1/S,1/S,1]),p||a.rotateZ(E,E,b.angle)):a.multiply(E,b.labelPlaneMatrix,x),E}function yn(x,u,p,b,S){if(u){const E=a.clone(x);return a.scale(E,E,[S,S,1]),p||a.rotateZ(E,E,-b.angle),E}return b.glCoordMatrix}function dr(x,u,p){let b;p?(b=[x.x,x.y,p(x.x,x.y),1],a.transformMat4(b,b,u)):(b=[x.x,x.y,0,1],Da(b,b,u));const S=b[3];return{point:new a.pointGeometry(b[0]/S,b[1]/S),signedDistanceFromCamera:S}}function an(x,u){return .5+x/u*.5}function Kn(x,u){const p=x[0]/x[3],b=x[1]/x[3];return p>=-u[0]&&p<=u[0]&&b>=-u[1]&&b<=u[1]}function Hr(x,u,p,b,S,E,L,$,B,j){const q=b?x.textSizeData:x.iconSizeData,Y=a.evaluateSizeForZoom(q,p.transform.zoom),ee=[256/p.width*2+1,256/p.height*2+1],ge=b?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;ge.clear();const pe=x.lineVertexArray,ve=b?x.text.placedSymbolArray:x.icon.placedSymbolArray,Ae=p.transform.width/p.transform.height;let De=!1;for(let $e=0;$e<ve.length;$e++){const be=ve.get($e);if(be.hidden||be.writingMode===a.WritingMode.vertical&&!De){hr(be.numGlyphs,ge);continue}let Ue;if(De=!1,j?(Ue=[be.anchorX,be.anchorY,j(be.anchorX,be.anchorY),1],a.transformMat4(Ue,Ue,u)):(Ue=[be.anchorX,be.anchorY,0,1],Da(Ue,Ue,u)),!Kn(Ue,ee)){hr(be.numGlyphs,ge);continue}const Fe=an(p.transform.cameraToCenterDistance,Ue[3]),Je=a.evaluateSizeForFeature(q,Y,be),Qe=L?Je/Fe:Je*Fe,ft=new a.pointGeometry(be.anchorX,be.anchorY),Ke=dr(ft,S,j).point,Mt={},xt=gr(be,Qe,!1,$,u,S,E,x.glyphOffsetArray,pe,ge,Ke,ft,Mt,Ae,B,j);De=xt.useVertical,(xt.notEnoughRoom||De||xt.needsFlipping&&gr(be,Qe,!0,$,u,S,E,x.glyphOffsetArray,pe,ge,Ke,ft,Mt,Ae,B,j).notEnoughRoom)&&hr(be.numGlyphs,ge)}b?x.text.dynamicLayoutVertexBuffer.updateData(ge):x.icon.dynamicLayoutVertexBuffer.updateData(ge)}function Rn(x,u,p,b,S,E,L,$,B,j,q,Y,ee){const ge=$.glyphStartIndex+$.numGlyphs,pe=$.lineStartIndex,ve=$.lineStartIndex+$.lineLength,Ae=u.getoffsetX($.glyphStartIndex),De=u.getoffsetX(ge-1),$e=Yn(x*Ae,p,b,S,E,L,$.segment,pe,ve,B,j,q,Y,ee);if(!$e)return null;const be=Yn(x*De,p,b,S,E,L,$.segment,pe,ve,B,j,q,Y,ee);return be?{first:$e,last:be}:null}function gt(x,u,p,b){return x===a.WritingMode.horizontal&&Math.abs(p.y-u.y)>Math.abs(p.x-u.x)*b?{useVertical:!0}:(x===a.WritingMode.vertical?u.y<p.y:u.x>p.x)?{needsFlipping:!0}:null}function gr(x,u,p,b,S,E,L,$,B,j,q,Y,ee,ge,pe,ve){const Ae=u/24,De=x.lineOffsetX*Ae,$e=x.lineOffsetY*Ae;let be;if(x.numGlyphs>1){const Ue=x.glyphStartIndex+x.numGlyphs,Fe=x.lineStartIndex,Je=x.lineStartIndex+x.lineLength,Qe=Rn(Ae,$,De,$e,p,q,Y,x,B,E,ee,pe,ve);if(!Qe)return{notEnoughRoom:!0};const ft=dr(Qe.first.point,L,ve).point,Ke=dr(Qe.last.point,L,ve).point;if(b&&!p){const Mt=gt(x.writingMode,ft,Ke,ge);if(Mt)return Mt}be=[Qe.first];for(let Mt=x.glyphStartIndex+1;Mt<Ue-1;Mt++)be.push(Yn(Ae*$.getoffsetX(Mt),De,$e,p,q,Y,x.segment,Fe,Je,B,E,ee,pe,ve));be.push(Qe.last)}else{if(b&&!p){const Fe=dr(Y,S,ve).point,Je=x.lineStartIndex+x.segment+1,Qe=new a.pointGeometry(B.getx(Je),B.gety(Je)),ft=dr(Qe,S,ve),Ke=ft.signedDistanceFromCamera>0?ft.point:ir(Y,Qe,Fe,1,S,ve),Mt=gt(x.writingMode,Fe,Ke,ge);if(Mt)return Mt}const Ue=Yn(Ae*$.getoffsetX(x.glyphStartIndex),De,$e,p,q,Y,x.segment,x.lineStartIndex,x.lineStartIndex+x.lineLength,B,E,ee,pe,ve);if(!Ue)return{notEnoughRoom:!0};be=[Ue]}for(const Ue of be)a.addDynamicAttributes(j,Ue.point,Ue.angle);return{}}function ir(x,u,p,b,S,E){const L=dr(x.add(x.sub(u)._unit()),S,E).point,$=p.sub(L);return p.add($._mult(b/$.mag()))}function Yn(x,u,p,b,S,E,L,$,B,j,q,Y,ee,ge){const pe=b?x-u:x+u;let ve=pe>0?1:-1,Ae=0;b&&(ve*=-1,Ae=Math.PI),ve<0&&(Ae+=Math.PI);let De=ve>0?$+L:$+L+1,$e=S,be=S,Ue=0,Fe=0;const Je=Math.abs(pe),Qe=[];for(;Ue+Fe<=Je;){if(De+=ve,De<$||De>=B)return null;if(be=$e,Qe.push($e),$e=Y[De],$e===void 0){const Ot=new a.pointGeometry(j.getx(De),j.gety(De)),mr=dr(Ot,q,ge);if(mr.signedDistanceFromCamera>0)$e=Y[De]=mr.point;else{const br=De-ve;$e=ir(Ue===0?E:new a.pointGeometry(j.getx(br),j.gety(br)),Ot,be,Je-Ue+1,q,ge)}}Ue+=Fe,Fe=be.dist($e)}const ft=(Je-Ue)/Fe,Ke=$e.sub(be),Mt=Ke.mult(ft)._add(be);Mt._add(Ke._unit()._perp()._mult(p*ve));const xt=Ae+Math.atan2($e.y-be.y,$e.x-be.x);return Qe.push(Mt),{point:Mt,angle:ee?xt:0,path:Qe}}const ls=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function hr(x,u){for(let p=0;p<x;p++){const b=u.length;u.resize(b+4),u.float32.set(ls,3*b)}}function Da(x,u,p){const b=u[0],S=u[1];return x[0]=p[0]*b+p[4]*S+p[12],x[1]=p[1]*b+p[5]*S+p[13],x[3]=p[3]*b+p[7]*S+p[15],x}const ii=100;class jl{constructor(u,p=new at(u.width+200,u.height+200,25),b=new at(u.width+200,u.height+200,25)){this.transform=u,this.grid=p,this.ignoredGrid=b,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+ii,this.screenBottomBoundary=u.height+ii,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(u,p,b,S,E,L){const $=this.projectAndGetPerspectiveRatio(S,u.anchorPointX,u.anchorPointY,L),B=b*$.perspectiveRatio,j=u.x1*B+$.point.x,q=u.y1*B+$.point.y,Y=u.x2*B+$.point.x,ee=u.y2*B+$.point.y;return!this.isInsideGrid(j,q,Y,ee)||p!=="always"&&this.grid.hitTest(j,q,Y,ee,p,E)||$.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[j,q,Y,ee],offscreen:this.isOffscreen(j,q,Y,ee)}}placeCollisionCircles(u,p,b,S,E,L,$,B,j,q,Y,ee,ge,pe){const ve=[],Ae=new a.pointGeometry(p.anchorX,p.anchorY),De=dr(Ae,L,pe),$e=an(this.transform.cameraToCenterDistance,De.signedDistanceFromCamera),be=(q?E/$e:E*$e)/a.ONE_EM,Ue=dr(Ae,$,pe).point,Fe=Rn(be,S,p.lineOffsetX*be,p.lineOffsetY*be,!1,Ue,Ae,p,b,$,{},!1,pe);let Je=!1,Qe=!1,ft=!0;if(Fe){const Ke=.5*ee*$e+ge,Mt=new a.pointGeometry(-100,-100),xt=new a.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Ot=new yr,mr=Fe.first,br=Fe.last;let Kt=[];for(let Ir=mr.path.length-1;Ir>=1;Ir--)Kt.push(mr.path[Ir]);for(let Ir=1;Ir<br.path.length;Ir++)Kt.push(br.path[Ir]);const qr=2.5*Ke;if(B){const Ir=Kt.map(kr=>dr(kr,B,pe));Kt=Ir.some(kr=>kr.signedDistanceFromCamera<=0)?[]:Ir.map(kr=>kr.point)}let Xr=[];if(Kt.length>0){const Ir=Kt[0].clone(),kr=Kt[0].clone();for(let Jr=1;Jr<Kt.length;Jr++)Ir.x=Math.min(Ir.x,Kt[Jr].x),Ir.y=Math.min(Ir.y,Kt[Jr].y),kr.x=Math.max(kr.x,Kt[Jr].x),kr.y=Math.max(kr.y,Kt[Jr].y);Xr=Ir.x>=Mt.x&&kr.x<=xt.x&&Ir.y>=Mt.y&&kr.y<=xt.y?[Kt]:kr.x<Mt.x||Ir.x>xt.x||kr.y<Mt.y||Ir.y>xt.y?[]:a.clipLine([Kt],Mt.x,Mt.y,xt.x,xt.y)}for(const Ir of Xr){Ot.reset(Ir,.25*Ke);let kr=0;kr=Ot.length<=.5*Ke?1:Math.ceil(Ot.paddedLength/qr)+1;for(let Jr=0;Jr<kr;Jr++){const ai=Jr/Math.max(kr-1,1),ia=Ot.lerp(ai),No=ia.x+ii,oa=ia.y+ii;ve.push(No,oa,Ke,0);const ms=No-Ke,wo=oa-Ke,Ui=No+Ke,ka=oa+Ke;if(ft=ft&&this.isOffscreen(ms,wo,Ui,ka),Qe=Qe||this.isInsideGrid(ms,wo,Ui,ka),u!=="always"&&this.grid.hitTestCircle(No,oa,Ke,u,Y)&&(Je=!0,!j))return{circles:[],offscreen:!1,collisionDetected:Je}}}}return{circles:!j&&Je||!Qe||$e<this.perspectiveRatioCutoff?[]:ve,offscreen:ft,collisionDetected:Je}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const p=[];let b=1/0,S=1/0,E=-1/0,L=-1/0;for(const q of u){const Y=new a.pointGeometry(q.x+ii,q.y+ii);b=Math.min(b,Y.x),S=Math.min(S,Y.y),E=Math.max(E,Y.x),L=Math.max(L,Y.y),p.push(Y)}const $=this.grid.query(b,S,E,L).concat(this.ignoredGrid.query(b,S,E,L)),B={},j={};for(const q of $){const Y=q.key;if(B[Y.bucketInstanceId]===void 0&&(B[Y.bucketInstanceId]={}),B[Y.bucketInstanceId][Y.featureIndex])continue;const ee=[new a.pointGeometry(q.x1,q.y1),new a.pointGeometry(q.x2,q.y1),new a.pointGeometry(q.x2,q.y2),new a.pointGeometry(q.x1,q.y2)];a.polygonIntersectsPolygon(p,ee)&&(B[Y.bucketInstanceId][Y.featureIndex]=!0,j[Y.bucketInstanceId]===void 0&&(j[Y.bucketInstanceId]=[]),j[Y.bucketInstanceId].push(Y.featureIndex))}return j}insertCollisionBox(u,p,b,S,E,L){(b?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:E,collisionGroupID:L,overlapMode:p},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,p,b,S,E,L){const $=b?this.ignoredGrid:this.grid,B={bucketInstanceId:S,featureIndex:E,collisionGroupID:L,overlapMode:p};for(let j=0;j<u.length;j+=4)$.insertCircle(B,u[j],u[j+1],u[j+2])}projectAndGetPerspectiveRatio(u,p,b,S){let E;return S?(E=[p,b,S(p,b),1],a.transformMat4(E,E,u)):(E=[p,b,0,1],Da(E,E,u)),{point:new a.pointGeometry((E[0]/E[3]+1)/2*this.transform.width+ii,(-E[1]/E[3]+1)/2*this.transform.height+ii),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E[3]*.5}}isOffscreen(u,p,b,S){return b<ii||u>=this.screenRightBoundary||S<ii||p>this.screenBottomBoundary}isInsideGrid(u,p,b,S){return b>=0&&u<this.gridRightBoundary&&S>=0&&p<this.gridBottomBoundary}getViewportMatrix(){const u=a.identity([]);return a.translate(u,u,[-100,-100,0]),u}}function jn(x,u,p){return u*(a.EXTENT/(x.tileSize*Math.pow(2,p-x.tileID.overscaledZ)))}class Ii{constructor(u,p,b,S){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?p:-p))):S&&b?1:0,this.placed=b}isHidden(){return this.opacity===0&&!this.placed}}class Yr{constructor(u,p,b,S,E){this.text=new Ii(u?u.text:null,p,b,E),this.icon=new Ii(u?u.icon:null,p,S,E)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Gl{constructor(u,p,b){this.text=u,this.icon=p,this.skipFade=b}}class ta{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class Us{constructor(u,p,b,S,E){this.bucketInstanceId=u,this.featureIndex=p,this.sourceLayerIndex=b,this.bucketIndex=S,this.tileID=E}}class Hs{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const p=++this.maxGroupID;this.collisionGroups[u]={ID:p,predicate:b=>b.collisionGroupID===p}}return this.collisionGroups[u]}}function Wl(x,u,p,b,S){const{horizontalAlign:E,verticalAlign:L}=a.getAnchorAlignment(x),$=-(E-.5)*u,B=-(L-.5)*p,j=a.evaluateVariableOffset(x,b);return new a.pointGeometry($+j[0]*S,B+j[1]*S)}function js(x,u,p,b,S,E){const{x1:L,x2:$,y1:B,y2:j,anchorPointX:q,anchorPointY:Y}=x,ee=new a.pointGeometry(u,p);return b&&ee._rotate(S?E:-E),{x1:L+ee.x,y1:B+ee.y,x2:$+ee.x,y2:j+ee.y,anchorPointX:q,anchorPointY:Y}}class ue{constructor(u,p,b,S,E){this.transform=u.clone(),this.terrain=p,this.collisionIndex=new jl(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=b,this.retainedQueryData={},this.collisionGroups=new Hs(S),this.collisionCircleArrays={},this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,p,b,S){const E=b.getBucket(p),L=b.latestFeatureIndex;if(!E||!L||p.id!==E.layerIds[0])return;const $=b.collisionBoxArray,B=E.layers[0].layout,j=Math.pow(2,this.transform.zoom-b.tileID.overscaledZ),q=b.tileSize/a.EXTENT,Y=this.transform.calculatePosMatrix(b.tileID.toUnwrapped()),ee=B.get("text-pitch-alignment")==="map",ge=B.get("text-rotation-alignment")==="map",pe=jn(b,1,this.transform.zoom),ve=Wr(Y,ee,ge,this.transform,pe);let Ae=null;if(ee){const $e=yn(Y,ee,ge,this.transform,pe);Ae=a.multiply([],this.transform.labelPlaneMatrix,$e)}this.retainedQueryData[E.bucketInstanceId]=new Us(E.bucketInstanceId,L,E.sourceLayerIndex,E.index,b.tileID);const De={bucket:E,layout:B,posMatrix:Y,textLabelPlaneMatrix:ve,labelToScreenMatrix:Ae,scale:j,textPixelRatio:q,holdingForFade:b.holdingForFade(),collisionBoxArray:$,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(S)for(const $e of E.sortKeyRanges){const{sortKey:be,symbolInstanceStart:Ue,symbolInstanceEnd:Fe}=$e;u.push({sortKey:be,symbolInstanceStart:Ue,symbolInstanceEnd:Fe,parameters:De})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:De})}attemptAnchorPlacement(u,p,b,S,E,L,$,B,j,q,Y,ee,ge,pe,ve,Ae){const De=[ee.textOffset0,ee.textOffset1],$e=Wl(u,b,S,De,E),be=this.collisionIndex.placeCollisionBox(js(p,$e.x,$e.y,L,$,this.transform.angle),Y,B,j,q.predicate,Ae);if((!ve||this.collisionIndex.placeCollisionBox(js(ve,$e.x,$e.y,L,$,this.transform.angle),Y,B,j,q.predicate,Ae).box.length!==0)&&be.box.length>0){let Ue;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID]&&this.prevPlacement.placements[ee.crossTileID].text&&(Ue=this.prevPlacement.variableOffsets[ee.crossTileID].anchor),ee.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ee.crossTileID]={textOffset:De,width:b,height:S,anchor:u,textBoxScale:E,prevAnchor:Ue},this.markUsedJustification(ge,u,ee,pe),ge.allowVerticalPlacement&&(this.markUsedOrientation(ge,pe,ee),this.placedOrientations[ee.crossTileID]=pe),{shift:$e,placedGlyphBoxes:be}}}placeLayerBucketPart(u,p,b){const{bucket:S,layout:E,posMatrix:L,textLabelPlaneMatrix:$,labelToScreenMatrix:B,textPixelRatio:j,holdingForFade:q,collisionBoxArray:Y,partiallyEvaluatedTextSize:ee,collisionGroup:ge}=u.parameters,pe=E.get("text-optional"),ve=E.get("icon-optional"),Ae=a.getOverlapMode(E,"text-overlap","text-allow-overlap"),De=Ae==="always",$e=a.getOverlapMode(E,"icon-overlap","icon-allow-overlap"),be=$e==="always",Ue=E.get("text-rotation-alignment")==="map",Fe=E.get("text-pitch-alignment")==="map",Je=E.get("icon-text-fit")!=="none",Qe=E.get("symbol-z-order")==="viewport-y",ft=De&&(be||!S.hasIconData()||ve),Ke=be&&(De||!S.hasTextData()||pe);!S.collisionArrays&&Y&&S.deserializeCollisionBoxes(Y);const Mt=(xt,Ot)=>{if(p[xt.crossTileID])return;if(q)return void(this.placements[xt.crossTileID]=new Gl(!1,!1,!1));let mr=!1,br=!1,Kt=!0,qr=null,Xr={box:null,offscreen:null},Ir={box:null,offscreen:null},kr=null,Jr=null,ai=null,ia=0,No=0,oa=0;Ot.textFeatureIndex?ia=Ot.textFeatureIndex:xt.useRuntimeCollisionCircles&&(ia=xt.featureIndex),Ot.verticalTextFeatureIndex&&(No=Ot.verticalTextFeatureIndex);const ms=this.retainedQueryData[S.bucketInstanceId].tileID,wo=this.terrain?(Jn,Cr)=>this.terrain.getElevation(ms,Jn,Cr):null;for(const Jn of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const Cr=Ot[Jn];Cr&&(Cr.elevation=wo?wo(Cr.anchorPointX,Cr.anchorPointY):0)}const Ui=Ot.textBox;if(Ui){const Jn=jr=>{let si=a.WritingMode.horizontal;if(S.allowVerticalPlacement&&!jr&&this.prevPlacement){const li=this.prevPlacement.placedOrientations[xt.crossTileID];li&&(this.placedOrientations[xt.crossTileID]=li,si=li,this.markUsedOrientation(S,si,xt))}return si},Cr=(jr,si)=>{if(S.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&Ot.verticalTextBox){for(const li of S.writingModes)if(li===a.WritingMode.vertical?(Xr=si(),Ir=Xr):Xr=jr(),Xr&&Xr.box&&Xr.box.length)break}else Xr=jr()};if(E.get("text-variable-anchor")){let jr=E.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[xt.crossTileID]){const Sn=this.prevPlacement.variableOffsets[xt.crossTileID];jr.indexOf(Sn.anchor)>0&&(jr=jr.filter(So=>So!==Sn.anchor),jr.unshift(Sn.anchor))}const si=(Sn,So,Ks)=>{const Mp=Sn.x2-Sn.x1,ou=Sn.y2-Sn.y1,cy=xt.textBoxScale,Dp=Je&&$e==="never"?So:null;let vs={box:[],offscreen:!1};const Ys=Ae!=="never"?2*jr.length:jr.length;for(let Js=0;Js<Ys;++Js){const af=this.attemptAnchorPlacement(jr[Js%jr.length],Sn,Mp,ou,cy,Ue,Fe,j,L,ge,Js>=jr.length?Ae:"never",xt,S,Ks,Dp,wo);if(af&&(vs=af.placedGlyphBoxes,vs&&vs.box&&vs.box.length)){mr=!0,qr=af.shift;break}}return vs};Cr(()=>si(Ui,Ot.iconBox,a.WritingMode.horizontal),()=>{const Sn=Ot.verticalTextBox;return S.allowVerticalPlacement&&!(Xr&&Xr.box&&Xr.box.length)&&xt.numVerticalGlyphVertices>0&&Sn?si(Sn,Ot.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),Xr&&(mr=Xr.box,Kt=Xr.offscreen);const li=Jn(Xr&&Xr.box);if(!mr&&this.prevPlacement){const Sn=this.prevPlacement.variableOffsets[xt.crossTileID];Sn&&(this.variableOffsets[xt.crossTileID]=Sn,this.markUsedJustification(S,Sn.anchor,xt,li))}}else{const jr=(si,li)=>{const Sn=this.collisionIndex.placeCollisionBox(si,Ae,j,L,ge.predicate,wo);return Sn&&Sn.box&&Sn.box.length&&(this.markUsedOrientation(S,li,xt),this.placedOrientations[xt.crossTileID]=li),Sn};Cr(()=>jr(Ui,a.WritingMode.horizontal),()=>{const si=Ot.verticalTextBox;return S.allowVerticalPlacement&&xt.numVerticalGlyphVertices>0&&si?jr(si,a.WritingMode.vertical):{box:null,offscreen:null}}),Jn(Xr&&Xr.box&&Xr.box.length)}}if(kr=Xr,mr=kr&&kr.box&&kr.box.length>0,Kt=kr&&kr.offscreen,xt.useRuntimeCollisionCircles){const Jn=S.text.placedSymbolArray.get(xt.centerJustifiedTextSymbolIndex),Cr=a.evaluateSizeForFeature(S.textSizeData,ee,Jn),jr=E.get("text-padding");Jr=this.collisionIndex.placeCollisionCircles(Ae,Jn,S.lineVertexArray,S.glyphOffsetArray,Cr,L,$,B,b,Fe,ge.predicate,xt.collisionCircleDiameter,jr,wo),Jr.circles.length&&Jr.collisionDetected&&!b&&a.warnOnce("Collisions detected, but collision boxes are not shown"),mr=De||Jr.circles.length>0&&!Jr.collisionDetected,Kt=Kt&&Jr.offscreen}if(Ot.iconFeatureIndex&&(oa=Ot.iconFeatureIndex),Ot.iconBox){const Jn=Cr=>{const jr=Je&&qr?js(Cr,qr.x,qr.y,Ue,Fe,this.transform.angle):Cr;return this.collisionIndex.placeCollisionBox(jr,$e,j,L,ge.predicate,wo)};Ir&&Ir.box&&Ir.box.length&&Ot.verticalIconBox?(ai=Jn(Ot.verticalIconBox),br=ai.box.length>0):(ai=Jn(Ot.iconBox),br=ai.box.length>0),Kt=Kt&&ai.offscreen}const ka=pe||xt.numHorizontalGlyphVertices===0&&xt.numVerticalGlyphVertices===0,of=ve||xt.numIconVertices===0;if(ka||of?of?ka||(br=br&&mr):mr=br&&mr:br=mr=br&&mr,mr&&kr&&kr.box&&this.collisionIndex.insertCollisionBox(kr.box,Ae,E.get("text-ignore-placement"),S.bucketInstanceId,Ir&&Ir.box&&No?No:ia,ge.ID),br&&ai&&this.collisionIndex.insertCollisionBox(ai.box,$e,E.get("icon-ignore-placement"),S.bucketInstanceId,oa,ge.ID),Jr&&(mr&&this.collisionIndex.insertCollisionCircles(Jr.circles,Ae,E.get("text-ignore-placement"),S.bucketInstanceId,ia,ge.ID),b)){const Jn=S.bucketInstanceId;let Cr=this.collisionCircleArrays[Jn];Cr===void 0&&(Cr=this.collisionCircleArrays[Jn]=new ta);for(let jr=0;jr<Jr.circles.length;jr+=4)Cr.circles.push(Jr.circles[jr+0]),Cr.circles.push(Jr.circles[jr+1]),Cr.circles.push(Jr.circles[jr+2]),Cr.circles.push(Jr.collisionDetected?1:0)}if(xt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(S.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[xt.crossTileID]=new Gl(mr||ft,br||Ke,Kt||S.justReloaded),p[xt.crossTileID]=!0};if(Qe){if(u.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const xt=S.getSortedSymbolIndexes(this.transform.angle);for(let Ot=xt.length-1;Ot>=0;--Ot){const mr=xt[Ot];Mt(S.symbolInstances.get(mr),S.collisionArrays[mr])}}else for(let xt=u.symbolInstanceStart;xt<u.symbolInstanceEnd;xt++)Mt(S.symbolInstances.get(xt),S.collisionArrays[xt]);if(b&&S.bucketInstanceId in this.collisionCircleArrays){const xt=this.collisionCircleArrays[S.bucketInstanceId];a.invert(xt.invProjMatrix,L),xt.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(u,p,b,S){let E;E=S===a.WritingMode.vertical?b.verticalPlacedTextSymbolIndex:{left:b.leftJustifiedTextSymbolIndex,center:b.centerJustifiedTextSymbolIndex,right:b.rightJustifiedTextSymbolIndex}[a.getAnchorJustification(p)];const L=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex,b.verticalPlacedTextSymbolIndex];for(const $ of L)$>=0&&(u.text.placedSymbolArray.get($).crossTileID=E>=0&&$!==E?0:b.crossTileID)}markUsedOrientation(u,p,b){const S=p===a.WritingMode.horizontal||p===a.WritingMode.horizontalOnly?p:0,E=p===a.WritingMode.vertical?p:0,L=[b.leftJustifiedTextSymbolIndex,b.centerJustifiedTextSymbolIndex,b.rightJustifiedTextSymbolIndex];for(const $ of L)u.text.placedSymbolArray.get($).placedOrientation=S;b.verticalPlacedTextSymbolIndex&&(u.text.placedSymbolArray.get(b.verticalPlacedTextSymbolIndex).placedOrientation=E)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const p=this.prevPlacement;let b=!1;this.prevZoomAdjustment=p?p.zoomAdjustment(this.transform.zoom):0;const S=p?p.symbolFadeChange(u):1,E=p?p.opacities:{},L=p?p.variableOffsets:{},$=p?p.placedOrientations:{};for(const B in this.placements){const j=this.placements[B],q=E[B];q?(this.opacities[B]=new Yr(q,S,j.text,j.icon),b=b||j.text!==q.text.placed||j.icon!==q.icon.placed):(this.opacities[B]=new Yr(null,S,j.text,j.icon,j.skipFade),b=b||j.text||j.icon)}for(const B in E){const j=E[B];if(!this.opacities[B]){const q=new Yr(j,S,!1,!1);q.isHidden()||(this.opacities[B]=q,b=b||j.text.placed||j.icon.placed)}}for(const B in L)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=L[B]);for(const B in $)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=$[B]);if(p&&p.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");b?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=p?p.lastPlacementChangeTime:u)}updateLayerOpacities(u,p){const b={};for(const S of p){const E=S.getBucket(u);E&&S.latestFeatureIndex&&u.id===E.layerIds[0]&&this.updateBucketOpacities(E,b,S.collisionBoxArray)}}updateBucketOpacities(u,p,b){u.hasTextData()&&u.text.opacityVertexArray.clear(),u.hasIconData()&&u.icon.opacityVertexArray.clear(),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const S=u.layers[0].layout,E=new Yr(null,0,!1,!1,!0),L=S.get("text-allow-overlap"),$=S.get("icon-allow-overlap"),B=S.get("text-variable-anchor"),j=S.get("text-rotation-alignment")==="map",q=S.get("text-pitch-alignment")==="map",Y=S.get("icon-text-fit")!=="none",ee=new Yr(null,0,L&&($||!u.hasIconData()||S.get("icon-optional")),$&&(L||!u.hasTextData()||S.get("text-optional")),!0);!u.collisionArrays&&b&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(b);const ge=(pe,ve,Ae)=>{for(let De=0;De<ve/4;De++)pe.opacityVertexArray.emplaceBack(Ae)};for(let pe=0;pe<u.symbolInstances.length;pe++){const ve=u.symbolInstances.get(pe),{numHorizontalGlyphVertices:Ae,numVerticalGlyphVertices:De,crossTileID:$e}=ve;let be=this.opacities[$e];p[$e]?be=E:be||(be=ee,this.opacities[$e]=be),p[$e]=!0;const Ue=ve.numIconVertices>0,Fe=this.placedOrientations[ve.crossTileID],Je=Fe===a.WritingMode.vertical,Qe=Fe===a.WritingMode.horizontal||Fe===a.WritingMode.horizontalOnly;if(Ae>0||De>0){const ft=Ie(be.text);ge(u.text,Ae,Je?Ze:ft),ge(u.text,De,Qe?Ze:ft);const Ke=be.text.isHidden();[ve.rightJustifiedTextSymbolIndex,ve.centerJustifiedTextSymbolIndex,ve.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(u.text.placedSymbolArray.get(Ot).hidden=Ke||Je?1:0)}),ve.verticalPlacedTextSymbolIndex>=0&&(u.text.placedSymbolArray.get(ve.verticalPlacedTextSymbolIndex).hidden=Ke||Qe?1:0);const Mt=this.variableOffsets[ve.crossTileID];Mt&&this.markUsedJustification(u,Mt.anchor,ve,Fe);const xt=this.placedOrientations[ve.crossTileID];xt&&(this.markUsedJustification(u,"left",ve,xt),this.markUsedOrientation(u,xt,ve))}if(Ue){const ft=Ie(be.icon),Ke=!(Y&&ve.verticalPlacedIconSymbolIndex&&Je);ve.placedIconSymbolIndex>=0&&(ge(u.icon,ve.numIconVertices,Ke?ft:Ze),u.icon.placedSymbolArray.get(ve.placedIconSymbolIndex).hidden=be.icon.isHidden()),ve.verticalPlacedIconSymbolIndex>=0&&(ge(u.icon,ve.numVerticalIconVertices,Ke?Ze:ft),u.icon.placedSymbolArray.get(ve.verticalPlacedIconSymbolIndex).hidden=be.icon.isHidden())}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const ft=u.collisionArrays[pe];if(ft){let Ke=new a.pointGeometry(0,0);if(ft.textBox||ft.verticalTextBox){let xt=!0;if(B){const Ot=this.variableOffsets[$e];Ot?(Ke=Wl(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale),j&&Ke._rotate(q?this.transform.angle:-this.transform.angle)):xt=!1}ft.textBox&&G(u.textCollisionBox.collisionVertexArray,be.text.placed,!xt||Je,Ke.x,Ke.y),ft.verticalTextBox&&G(u.textCollisionBox.collisionVertexArray,be.text.placed,!xt||Qe,Ke.x,Ke.y)}const Mt=!!(!Qe&&ft.verticalIconBox);ft.iconBox&&G(u.iconCollisionBox.collisionVertexArray,be.icon.placed,Mt,Y?Ke.x:0,Y?Ke.y:0),ft.verticalIconBox&&G(u.iconCollisionBox.collisionVertexArray,be.icon.placed,!Mt,Y?Ke.x:0,Y?Ke.y:0)}}}if(u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.text.opacityVertexArray.length!==u.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${u.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${u.text.layoutVertexArray.length}) / 4`);if(u.icon.opacityVertexArray.length!==u.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${u.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${u.icon.layoutVertexArray.length}) / 4`);if(u.bucketInstanceId in this.collisionCircleArrays){const pe=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=pe.invProjMatrix,u.placementViewportMatrix=pe.viewportMatrix,u.collisionCircleArray=pe.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,p){const b=this.zoomAtLastRecencyCheck===p?1-this.zoomAdjustment(p):1;return this.zoomAtLastRecencyCheck=p,this.commitTime+this.fadeDuration*b>u}setStale(){this.stale=!0}}function G(x,u,p,b,S){x.emplaceBack(u?1:0,p?1:0,b||0,S||0),x.emplaceBack(u?1:0,p?1:0,b||0,S||0),x.emplaceBack(u?1:0,p?1:0,b||0,S||0),x.emplaceBack(u?1:0,p?1:0,b||0,S||0)}const Z=Math.pow(2,25),oe=Math.pow(2,24),se=Math.pow(2,17),Se=Math.pow(2,16),Pe=Math.pow(2,9),Ce=Math.pow(2,8),Te=Math.pow(2,1);function Ie(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;const u=x.placed?1:0,p=Math.floor(127*x.opacity);return p*Z+u*oe+p*se+u*Se+p*Pe+u*Ce+p*Te+u}const Ze=0;class lt{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&!u.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(u,p,b,S,E){const L=this._bucketParts;for(;this._currentTileIndex<u.length;)if(p.getBucketParts(L,S,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort(($,B)=>$.sortKey-B.sortKey));this._currentPartIndex<L.length;)if(p.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,b),this._currentPartIndex++,E())return!0;return!1}}class Xe{constructor(u,p,b,S,E,L,$,B){this.placement=new ue(u,p,L,$,B),this._currentPlacementIndex=b.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=E,this._done=!1}isDone(){return this._done}continuePlacement(u,p,b){const S=a.exported.now(),E=()=>{const L=a.exported.now()-S;return!this._forceFullPlacement&&L>2};for(;this._currentPlacementIndex>=0;){const L=p[u[this._currentPlacementIndex]],$=this.placement.collisionIndex.transform.zoom;if(L.type==="symbol"&&(!L.minzoom||L.minzoom<=$)&&(!L.maxzoom||L.maxzoom>$)){if(this._inProgressLayer||(this._inProgressLayer=new lt(L)),this._inProgressLayer.continuePlacement(b[L.source],this.placement,this._showCollisionBoxes,L,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const Nt=512/a.EXTENT/2;class Ht{constructor(u,p,b){this.tileID=u,this.indexedSymbolInstances={},this.bucketInstanceId=b;for(let S=0;S<p.length;S++){const E=p.get(S),L=E.key;this.indexedSymbolInstances[L]||(this.indexedSymbolInstances[L]=[]),this.indexedSymbolInstances[L].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,u)})}}getScaledCoordinates(u,p){const b=Nt/Math.pow(2,p.canonical.z-this.tileID.canonical.z);return{x:Math.floor((p.canonical.x*a.EXTENT+u.anchorX)*b),y:Math.floor((p.canonical.y*a.EXTENT+u.anchorY)*b)}}findMatches(u,p,b){const S=this.tileID.canonical.z<p.canonical.z?1:Math.pow(2,this.tileID.canonical.z-p.canonical.z);for(let E=0;E<u.length;E++){const L=u.get(E);if(L.crossTileID)continue;const $=this.indexedSymbolInstances[L.key];if(!$)continue;const B=this.getScaledCoordinates(L,p);for(const j of $)if(Math.abs(j.coord.x-B.x)<=S&&Math.abs(j.coord.y-B.y)<=S&&!b[j.crossTileID]){b[j.crossTileID]=!0,L.crossTileID=j.crossTileID;break}}}}class It{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class er{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const p=Math.round((u-this.lng)/360);if(p!==0)for(const b in this.indexes){const S=this.indexes[b],E={};for(const L in S){const $=S[L];$.tileID=$.tileID.unwrapTo($.tileID.wrap+p),E[$.tileID.key]=$}this.indexes[b]=E}this.lng=u}addBucket(u,p,b){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===p.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let E=0;E<p.symbolInstances.length;E++)p.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]={});const S=this.usedCrossTileIDs[u.overscaledZ];for(const E in this.indexes){const L=this.indexes[E];if(Number(E)>u.overscaledZ)for(const $ in L){const B=L[$];B.tileID.isChildOf(u)&&B.findMatches(p.symbolInstances,u,S)}else{const $=L[u.scaledTo(Number(E)).key];$&&$.findMatches(p.symbolInstances,u,S)}}for(let E=0;E<p.symbolInstances.length;E++){const L=p.symbolInstances.get(E);L.crossTileID||(L.crossTileID=b.generate(),S[L.crossTileID]=!0)}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Ht(u,p.symbolInstances,p.bucketInstanceId),!0}removeBucketCrossTileIDs(u,p){for(const b in p.indexedSymbolInstances)for(const S of p.indexedSymbolInstances[b])delete this.usedCrossTileIDs[u][S.crossTileID]}removeStaleBuckets(u){let p=!1;for(const b in this.indexes){const S=this.indexes[b];for(const E in S)u[S[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(b,S[E]),delete S[E],p=!0)}return p}}class or{constructor(){this.layerIndexes={},this.crossTileIDs=new It,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,p,b){let S=this.layerIndexes[u.id];S===void 0&&(S=this.layerIndexes[u.id]=new er);let E=!1;const L={};S.handleWrapJump(b);for(const $ of p){const B=$.getBucket(u);B&&u.id===B.layerIds[0]&&(B.bucketInstanceId||(B.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket($.tileID,B,this.crossTileIDs)&&(E=!0),L[B.bucketInstanceId]=!0)}return S.removeStaleBuckets(L)&&(E=!0),E}pruneUnusedLayers(u){const p={};u.forEach(b=>{p[b]=!0});for(const b in this.layerIndexes)p[b]||delete this.layerIndexes[b]}}var Lr=a.createLayout([{name:"a_pos",type:"Int16",components:2}]);class cr extends a.Evented{constructor(u){super(),this.sourceCache=u,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=u._cache.max,u.usedForTerrain=!0,u.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const u in this._tiles){const p=this._tiles[u];p.textures.forEach(b=>b.destroy()),p.textures=[]}}update(u,p){this.sourceCache.update(u,p),this._renderableTilesKeys=[];for(const b of u.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:p}))this._renderableTilesKeys.push(b.key),this._tiles[b.key]||(b.posMatrix=new Float64Array(16),a.ortho(b.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),this._tiles[b.key]=new st(b,this.tileSize))}removeOutdated(u){const p={};this.renderHistory=this.renderHistory.filter((b,S)=>this.renderHistory.indexOf(b)===S).slice(0,this.renderHistorySize);for(const b of this._renderableTilesKeys)p[b]=!0;for(const b of this.renderHistory)p[b]=!0;for(const b in this._tiles)p[b]||(this._tiles[b].clearTextures(u),delete this._tiles[b])}getRenderableTiles(){return this._renderableTilesKeys.map(u=>this.getTileByID(u))}getTileByID(u){return this._tiles[u]}getTerrainCoords(u){const p={};for(const b of this._renderableTilesKeys){const S=this._tiles[b].tileID;if(S.canonical.equals(u.canonical)){const E=u.clone();E.posMatrix=new Float64Array(16),a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),p[b]=E}else if(S.canonical.isChildOf(u.canonical)){const E=u.clone();E.posMatrix=new Float64Array(16);const L=S.canonical.z-u.canonical.z,$=S.canonical.x-(S.canonical.x>>L<<L),B=S.canonical.y-(S.canonical.y>>L<<L),j=a.EXTENT>>L;a.ortho(E.posMatrix,0,j,0,j,0,1),a.translate(E.posMatrix,E.posMatrix,[-$*j,-B*j,0]),p[b]=E}else if(u.canonical.isChildOf(S.canonical)){const E=u.clone();E.posMatrix=new Float64Array(16);const L=u.canonical.z-S.canonical.z,$=u.canonical.x-(u.canonical.x>>L<<L),B=u.canonical.y-(u.canonical.y>>L<<L),j=a.EXTENT>>L;a.ortho(E.posMatrix,0,a.EXTENT,0,a.EXTENT,0,1),a.translate(E.posMatrix,E.posMatrix,[$*j,B*j,0]),a.scale(E.posMatrix,E.posMatrix,[1/2**L,1/2**L,0]),p[b]=E}}return p}getSourceTile(u,p){const b=this.sourceCache._source;let S=u.overscaledZ-this.deltaZoom;if(S>b.maxzoom&&(S=b.maxzoom),S<b.minzoom)return null;this._sourceTileCache[u.key]||(this._sourceTileCache[u.key]=u.scaledTo(S).key);let E=this.sourceCache.getTileByID(this._sourceTileCache[u.key]);if((!E||!E.dem)&&p)for(;S>=b.minzoom&&(!E||!E.dem);)E=this.sourceCache.getTileByID(u.scaledTo(S--).key);return E}tilesAfterTime(u=Date.now()){return Object.values(this._tiles).filter(p=>p.timeLoaded>=u)}}class _r{constructor(u,p,b){this.style=u,this.sourceCache=new cr(p),this.options=b,this.exaggeration=typeof b.exaggeration=="number"?b.exaggeration:1,this.elevationOffset=typeof b.elevationOffset=="number"?b.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(u,p,b,S=a.EXTENT){if(!(p>=0&&p<S&&b>=0&&b<S))return this.elevationOffset;let E=0;const L=this.getTerrainData(u);if(L.tile&&L.tile.dem){const $=a.transformMat4$1([],[p/S*a.EXTENT,b/S*a.EXTENT],L.u_terrain_matrix),B=[$[0]*L.tile.dem.dim,$[1]*L.tile.dem.dim],j=[Math.floor(B[0]),Math.floor(B[1])],q=L.tile.dem.get(j[0],j[1]),Y=L.tile.dem.get(j[0],j[1]+1),ee=L.tile.dem.get(j[0]+1,j[1]),ge=L.tile.dem.get(j[0]+1,j[1]+1);E=a.number(a.number(q,Y,B[0]-j[0]),a.number(ee,ge,B[0]-j[0]),B[1]-j[1])}return E}rememberForRerender(u,p){for(const b in this.sourceCache._tiles){const S=this.sourceCache._tiles[b];(S.tileID.equals(p)||S.tileID.isChildOf(p))&&(u===this.sourceCache.sourceCache.id&&(S.timeLoaded=Date.now()),this._rerender[u]=this._rerender[u]||{},this._rerender[u][S.tileID.key]=!0)}}needsRerender(u,p){return this._rerender[u]&&this._rerender[u][p.key]}clearRerenderCache(){this._rerender={}}getElevation(u,p,b,S=a.EXTENT){return(this.getDEMElevation(u,p,b,S)+this.elevationOffset)*this.exaggeration}getTerrainData(u){if(!this._emptyDemTexture){const S=this.style.map.painter.context,E=new a.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new P(S,E,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new P(S,new a.RGBAImage({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.identity([])}const p=this.sourceCache.getSourceTile(u,!0);if(p&&p.dem&&(!p.demTexture||p.needsTerrainPrepare)){const S=this.style.map.painter.context;p.demTexture=this.style.map.painter.getTileTexture(p.dem.stride),p.demTexture?p.demTexture.update(p.dem.getPixels(),{premultiply:!1}):p.demTexture=new P(S,p.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),p.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),p.needsTerrainPrepare=!1}const b=p&&p+p.tileID.key+u.key;if(b&&!this._demMatrixCache[b]){const S=this.sourceCache.sourceCache._source.maxzoom;let E=u.canonical.z-p.tileID.canonical.z;u.overscaledZ>u.canonical.z&&(u.canonical.z>=S?E=u.canonical.z-S:a.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const L=u.canonical.x-(u.canonical.x>>E<<E),$=u.canonical.y-(u.canonical.y>>E<<E),B=a.fromScaling(new Float64Array(16),[1/(a.EXTENT<<E),1/(a.EXTENT<<E),0]);a.translate(B,B,[L*a.EXTENT,$*a.EXTENT,0]),this._demMatrixCache[u.key]={matrix:B,coord:u}}return{u_depth:2,u_terrain:3,u_terrain_dim:p&&p.dem&&p.dem.dim||1,u_terrain_matrix:b?this._demMatrixCache[u.key].matrix:this._emptyDemMatrix,u_terrain_unpack:p&&p.dem&&p.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(p&&p.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:p}}getRTTFramebuffer(){const u=this.style.map.painter;if(!this._rttFramebuffer){const p=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=u.context.createFramebuffer(p,p,!0),this._rttFramebuffer.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,p,p))}return this._rttFramebuffer}getFramebuffer(u){const p=this.style.map.painter,b=p.width/devicePixelRatio,S=p.height/devicePixelRatio;return!this._fbo||this._fbo.width===b&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new P(p.context,{width:b,height:S,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new P(p.context,{width:b,height:S,data:null},p.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(p.context.gl.NEAREST,p.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=p.context.createFramebuffer(b,S,!0),this._fbo.depthAttachment.set(p.context.createRenderbuffer(p.context.gl.DEPTH_COMPONENT16,b,S))),this._fbo.colorAttachment.set(u==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const u=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const p=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let E=0,L=0;E<this._coordsTextureSize;E++)for(let $=0;$<this._coordsTextureSize;$++,L+=4)p[L+0]=255&$,p[L+1]=255&E,p[L+2]=$>>8<<4|E>>8,p[L+3]=0;const b=new a.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(p.buffer)),S=new P(u,b,u.gl.RGBA,{premultiply:!1});return S.bind(u.gl.NEAREST,u.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(u){const p=new Uint8Array(4),b=this.style.map.painter,S=b.context,E=S.gl;S.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),E.readPixels(u.x,b.height/devicePixelRatio-u.y-1,1,1,E.RGBA,E.UNSIGNED_BYTE,p),S.bindFramebuffer.set(null);const L=p[0]+(p[2]>>4<<8),$=p[1]+((15&p[2])<<8),B=this.coordsIndex[255-p[3]],j=B&&this.sourceCache.getTileByID(B);if(!j)return null;const q=this._coordsTextureSize,Y=(1<<j.tileID.canonical.z)*q;return new a.MercatorCoordinate((j.tileID.canonical.x*q+L)/Y,(j.tileID.canonical.y*q+$)/Y,this.getElevation(j.tileID,L,$,q))}getTerrainMesh(){if(this._mesh)return this._mesh;const u=this.style.map.painter.context,p=new a.PosArray,b=new a.TriangleIndexArray,S=this.meshSize,E=a.EXTENT/S,L=S*S;for(let $=0;$<=S;$++)for(let B=0;B<=S;B++)p.emplaceBack(B*E,$*E);for(let $=0;$<L;$+=S+1)for(let B=0;B<S;B++)b.emplaceBack(B+$,S+B+$+1,S+B+$+2),b.emplaceBack(B+$,S+B+$+2,B+$+1);return this._mesh={indexBuffer:u.createIndexBuffer(b),vertexBuffer:u.createVertexBuffer(p,Lr.members),segments:a.SegmentVector.simpleSegment(0,0,p.length,b.length)},this._mesh}getMinMaxElevation(u){const p=this.getTerrainData(u).tile,b={minElevation:null,maxElevation:null};return p&&p.dem&&(b.minElevation=(p.dem.min+this.elevationOffset)*this.exaggeration,b.maxElevation=(p.dem.max+this.elevationOffset)*this.exaggeration),b}}const Or=(x,u)=>a.emitValidationErrors(x,u&&u.filter(p=>p.identifier!=="source.canvas")),tn=a.pick(Oe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),oi=a.pick(Oe,["setCenter","setZoom","setBearing","setPitch"]),_n=function(){const x={},u=a.spec.$version;for(const p in a.spec.$root){const b=a.spec.$root[p];if(b.required){let S=null;S=p==="version"?u:b.type==="array"?[]:{},S!=null&&(x[p]=S)}}return x}();class xi extends a.Evented{constructor(u,p={}){super(),this.map=u,this.dispatcher=new K(Ye(),this),this.imageManager=new I,this.imageManager.setEventedParent(this),this.glyphManager=new F(u._requestManager,p.localIdeographFontFamily),this.lineAtlas=new J(256,512),this.crossTileSymbolIndex=new or,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const b=this;this._rtlTextPluginCallback=xi.registerForPluginStateChange(S=>{b.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:S.pluginStatus,pluginURL:S.pluginURL},(E,L)=>{if(a.triggerPluginCompletionEvent(E),L&&L.every($=>$))for(const $ in b.sourceCaches)b.sourceCaches[$].reload()})}),this.on("data",S=>{if(S.dataType!=="source"||S.sourceDataType!=="metadata")return;const E=this.sourceCaches[S.sourceId];if(!E)return;const L=E.getSource();if(L&&L.vectorLayerIds)for(const $ in this._layers){const B=this._layers[$];B.source===L.id&&this._validateLayer(B)}})}loadURL(u,p={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const b=typeof p.validate!="boolean"||p.validate,S=this.map._requestManager.transformRequest(u,a.ResourceType.Style);this._request=a.getJSON(S,(E,L)=>{this._request=null,E?this.fire(new a.ErrorEvent(E)):L&&this._load(L,b)})}loadJSON(u,p={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(u,p.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(_n,!1)}_load(u,p){if(p&&Or(this,a.validateStyle(u)))return;this._loaded=!0,this.stylesheet=u;for(const S in u.sources)this.addSource(S,u.sources[S],{validate:!1});u.sprite?this._loadSprite(u.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(u.glyphs);const b=nt(this.stylesheet.layers);this._order=b.map(S=>S.id),this._layers={},this._serializedLayers={};for(let S of b)S=a.createStyleLayer(S),S.setEventedParent(this,{layer:{id:S.id}}),this._layers[S.id]=S,this._serializedLayers[S.id]=S.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new U(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}_loadSprite(u){this._spriteRequest=function(p,b,S,E){let L,$,B;const j=S>1?"@2x":"";let q=a.getJSON(b.transformRequest(b.normalizeSpriteURL(p,j,".json"),a.ResourceType.SpriteJSON),(ge,pe)=>{q=null,B||(B=ge,L=pe,ee())}),Y=a.getImage(b.transformRequest(b.normalizeSpriteURL(p,j,".png"),a.ResourceType.SpriteImage),(ge,pe)=>{Y=null,B||(B=ge,$=pe,ee())});function ee(){if(B)E(B);else if(L&&$){const ge=a.exported.getImageData($),pe={};for(const ve in L){const{width:Ae,height:De,x:$e,y:be,sdf:Ue,pixelRatio:Fe,stretchX:Je,stretchY:Qe,content:ft}=L[ve],Ke=new a.RGBAImage({width:Ae,height:De});a.RGBAImage.copy(ge,Ke,{x:$e,y:be},{x:0,y:0},{width:Ae,height:De}),pe[ve]={data:Ke,pixelRatio:Fe,sdf:Ue,stretchX:Je,stretchY:Qe,content:ft}}E(null,pe)}}return{cancel(){q&&(q.cancel(),q=null),Y&&(Y.cancel(),Y=null)}}}(u,this.map._requestManager,this.map.getPixelRatio(),(p,b)=>{if(this._spriteRequest=null,p)this.fire(new a.ErrorEvent(p));else if(b)for(const S in b)this.imageManager.addImage(S,b[S]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(u){const p=this.sourceCaches[u.source];if(!p)return;const b=u.sourceLayer;if(!b)return;const S=p.getSource();(S.type==="geojson"||S.vectorLayerIds&&S.vectorLayerIds.indexOf(b)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${b}" does not exist on source "${S.id}" as specified by style layer "${u.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this.sourceCaches)if(!this.sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(u){const p=[];for(const b of u){const S=this._layers[b];S.type!=="custom"&&p.push(S.serialize())}return p}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const u in this.sourceCaches)if(this.sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(u){if(!this._loaded)return;const p=this._changed;if(this._changed){const S=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(S.length||E.length)&&this._updateWorkerLayers(S,E);for(const L in this._updatedSources){const $=this._updatedSources[L];if($==="reload")this._reloadSource(L);else{if($!=="clear")throw new Error(`Invalid action ${$}`);this._clearSource(L)}}this._updateTilesForChangedImages();for(const L in this._updatedPaintProps)this._layers[L].updateTransitions(u);this.light.updateTransitions(u),this._resetUpdates()}const b={};for(const S in this.sourceCaches){const E=this.sourceCaches[S];b[S]=E.used,E.used=!1}for(const S of this._order){const E=this._layers[S];E.recalculate(u,this._availableImages),!E.isHidden(u.zoom)&&E.source&&(this.sourceCaches[E.source].used=!0)}for(const S in b){const E=this.sourceCaches[S];b[S]!==E.used&&E.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(u),this.z=u.zoom,p&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const p in this.sourceCaches)this.sourceCaches[p].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateWorkerLayers(u,p){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(u),removedIds:p})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(u){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),u){const p=this.sourceCaches[u.source];if(!p)throw new Error(`cannot load terrain, because there exists no source with ID: ${u.source}`);this.terrain=new _r(this,p,u),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=b=>{b.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=b=>{b.tile&&(b.sourceId===u.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(b.sourceId,b.tile.tileID)):b.source.type==="geojson"&&this.terrain.rememberForRerender(b.sourceId,b.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new a.Event("terrain",{terrain:u}))}setState(u){if(this._checkLoaded(),Or(this,a.validateStyle(u)))return!1;(u=a.clone$1(u)).layers=nt(u.layers);const p=function(S,E){if(!S)return[{command:Oe.setStyle,args:[E]}];let L=[];try{if(!v(S.version,E.version))return[{command:Oe.setStyle,args:[E]}];v(S.center,E.center)||L.push({command:Oe.setCenter,args:[E.center]}),v(S.zoom,E.zoom)||L.push({command:Oe.setZoom,args:[E.zoom]}),v(S.bearing,E.bearing)||L.push({command:Oe.setBearing,args:[E.bearing]}),v(S.pitch,E.pitch)||L.push({command:Oe.setPitch,args:[E.pitch]}),v(S.sprite,E.sprite)||L.push({command:Oe.setSprite,args:[E.sprite]}),v(S.glyphs,E.glyphs)||L.push({command:Oe.setGlyphs,args:[E.glyphs]}),v(S.transition,E.transition)||L.push({command:Oe.setTransition,args:[E.transition]}),v(S.light,E.light)||L.push({command:Oe.setLight,args:[E.light]});const $={},B=[];(function(q,Y,ee,ge){let pe;for(pe in Y=Y||{},q=q||{})Object.prototype.hasOwnProperty.call(q,pe)&&(Object.prototype.hasOwnProperty.call(Y,pe)||rt(pe,ee,ge));for(pe in Y)Object.prototype.hasOwnProperty.call(Y,pe)&&(Object.prototype.hasOwnProperty.call(q,pe)?v(q[pe],Y[pe])||(q[pe].type==="geojson"&&Y[pe].type==="geojson"&&Lt(q,Y,pe)?ee.push({command:Oe.setGeoJSONSourceData,args:[pe,Y[pe].data]}):Tt(pe,Y,ee,ge)):tt(pe,Y,ee))})(S.sources,E.sources,B,$);const j=[];S.layers&&S.layers.forEach(q=>{$[q.source]?L.push({command:Oe.removeLayer,args:[q.id]}):j.push(q)}),L=L.concat(B),function(q,Y,ee){Y=Y||[];const ge=(q=q||[]).map(qt),pe=Y.map(qt),ve=q.reduce(sr,{}),Ae=Y.reduce(sr,{}),De=ge.slice(),$e=Object.create(null);let be,Ue,Fe,Je,Qe,ft,Ke;for(be=0,Ue=0;be<ge.length;be++)Fe=ge[be],Object.prototype.hasOwnProperty.call(Ae,Fe)?Ue++:(ee.push({command:Oe.removeLayer,args:[Fe]}),De.splice(De.indexOf(Fe,Ue),1));for(be=0,Ue=0;be<pe.length;be++)Fe=pe[pe.length-1-be],De[De.length-1-be]!==Fe&&(Object.prototype.hasOwnProperty.call(ve,Fe)?(ee.push({command:Oe.removeLayer,args:[Fe]}),De.splice(De.lastIndexOf(Fe,De.length-Ue),1)):Ue++,ft=De[De.length-be],ee.push({command:Oe.addLayer,args:[Ae[Fe],ft]}),De.splice(De.length-be,0,Fe),$e[Fe]=!0);for(be=0;be<pe.length;be++)if(Fe=pe[be],Je=ve[Fe],Qe=Ae[Fe],!$e[Fe]&&!v(Je,Qe))if(v(Je.source,Qe.source)&&v(Je["source-layer"],Qe["source-layer"])&&v(Je.type,Qe.type)){for(Ke in Pt(Je.layout,Qe.layout,ee,Fe,null,Oe.setLayoutProperty),Pt(Je.paint,Qe.paint,ee,Fe,null,Oe.setPaintProperty),v(Je.filter,Qe.filter)||ee.push({command:Oe.setFilter,args:[Fe,Qe.filter]}),v(Je.minzoom,Qe.minzoom)&&v(Je.maxzoom,Qe.maxzoom)||ee.push({command:Oe.setLayerZoomRange,args:[Fe,Qe.minzoom,Qe.maxzoom]}),Je)Object.prototype.hasOwnProperty.call(Je,Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?Pt(Je[Ke],Qe[Ke],ee,Fe,Ke.slice(6),Oe.setPaintProperty):v(Je[Ke],Qe[Ke])||ee.push({command:Oe.setLayerProperty,args:[Fe,Ke,Qe[Ke]]}));for(Ke in Qe)Object.prototype.hasOwnProperty.call(Qe,Ke)&&!Object.prototype.hasOwnProperty.call(Je,Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?Pt(Je[Ke],Qe[Ke],ee,Fe,Ke.slice(6),Oe.setPaintProperty):v(Je[Ke],Qe[Ke])||ee.push({command:Oe.setLayerProperty,args:[Fe,Ke,Qe[Ke]]}))}else ee.push({command:Oe.removeLayer,args:[Fe]}),ft=De[De.lastIndexOf(Fe)+1],ee.push({command:Oe.addLayer,args:[Qe,ft]})}(j,E.layers,L)}catch($){console.warn("Unable to compute style diff:",$),L=[{command:Oe.setStyle,args:[E]}]}return L}(this.serialize(),u).filter(S=>!(S.command in oi));if(p.length===0)return!1;const b=p.filter(S=>!(S.command in tn));if(b.length>0)throw new Error(`Unimplemented: ${b.map(S=>S.command).join(", ")}.`);return p.forEach(S=>{S.command!=="setTransition"&&this[S.command].apply(this,S.args)}),this.stylesheet=u,!0}addImage(u,p){if(this.getImage(u))return this.fire(new a.ErrorEvent(new Error(`An image named "${u}" already exists.`)));this.imageManager.addImage(u,p),this._afterImageUpdated(u)}updateImage(u,p){this.imageManager.updateImage(u,p)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){if(!this.getImage(u))return this.fire(new a.ErrorEvent(new Error(`An image named "${u}" does not exist.`)));this.imageManager.removeImage(u),this._afterImageUpdated(u)}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(u,p,b={}){if(this._checkLoaded(),this.sourceCaches[u]!==void 0)throw new Error(`Source "${u}" already exists.`);if(!p.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(p).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(p.type)>=0&&this._validate(a.validateStyle.source,`sources.${u}`,p,null,b))return;this.map&&this.map._collectResourceTiming&&(p.collectResourceTiming=!0);const S=this.sourceCaches[u]=new We(u,p,this.dispatcher);S.style=this,S.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:S.serialize(),sourceId:u})),S.onAdd(this.map),this._changed=!0}removeSource(u){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===u)return this.fire(new a.ErrorEvent(new Error(`Source "${u}" cannot be removed while layer "${b}" is using it.`)));const p=this.sourceCaches[u];delete this.sourceCaches[u],delete this._updatedSources[u],p.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:u})),p.setEventedParent(null),p.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(u,p){if(this._checkLoaded(),this.sourceCaches[u]===void 0)throw new Error(`There is no source with this ID=${u}`);const b=this.sourceCaches[u].getSource();if(b.type!=="geojson")throw new Error(`geojsonSource.type is ${b.type}, which is !== 'geojson`);b.setData(p),this._changed=!0}getSource(u){return this.sourceCaches[u]&&this.sourceCaches[u].getSource()}addLayer(u,p,b={}){this._checkLoaded();const S=u.id;if(this.getLayer(S))return void this.fire(new a.ErrorEvent(new Error(`Layer "${S}" already exists on this map.`)));let E;if(u.type==="custom"){if(Or(this,a.validateCustomStyleLayer(u)))return;E=a.createStyleLayer(u)}else{if(typeof u.source=="object"&&(this.addSource(S,u.source),u=a.clone$1(u),u=a.extend(u,{source:S})),this._validate(a.validateStyle.layer,`layers.${S}`,u,{arrayIndex:-1},b))return;E=a.createStyleLayer(u),this._validateLayer(E),E.setEventedParent(this,{layer:{id:S}}),this._serializedLayers[E.id]=E.serialize()}const L=p?this._order.indexOf(p):this._order.length;if(p&&L===-1)this.fire(new a.ErrorEvent(new Error(`Cannot add layer "${S}" before non-existing layer "${p}".`)));else{if(this._order.splice(L,0,S),this._layerOrderChanged=!0,this._layers[S]=E,this._removedLayers[S]&&E.source&&E.type!=="custom"){const $=this._removedLayers[S];delete this._removedLayers[S],$.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",this.sourceCaches[E.source].pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map)}}moveLayer(u,p){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new a.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===p)return;const b=this._order.indexOf(u);this._order.splice(b,1);const S=p?this._order.indexOf(p):this._order.length;p&&S===-1?this.fire(new a.ErrorEvent(new Error(`Cannot move layer "${u}" before non-existing layer "${p}".`))):(this._order.splice(S,0,u),this._layerOrderChanged=!0)}removeLayer(u){this._checkLoaded();const p=this._layers[u];if(!p)return void this.fire(new a.ErrorEvent(new Error(`Cannot remove non-existing layer "${u}".`)));p.setEventedParent(null);const b=this._order.indexOf(u);this._order.splice(b,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=p,delete this._layers[u],delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],p.onRemove&&p.onRemove(this.map)}getLayer(u){return this._layers[u]}hasLayer(u){return u in this._layers}setLayerZoomRange(u,p,b){this._checkLoaded();const S=this.getLayer(u);S?S.minzoom===p&&S.maxzoom===b||(p!=null&&(S.minzoom=p),b!=null&&(S.maxzoom=b),this._updateLayer(S)):this.fire(new a.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${u}".`)))}setFilter(u,p,b={}){this._checkLoaded();const S=this.getLayer(u);if(S){if(!v(S.filter,p))return p==null?(S.filter=void 0,void this._updateLayer(S)):void(this._validate(a.validateStyle.filter,`layers.${S.id}.filter`,p,null,b)||(S.filter=a.clone$1(p),this._updateLayer(S)))}else this.fire(new a.ErrorEvent(new Error(`Cannot filter non-existing layer "${u}".`)))}getFilter(u){return a.clone$1(this.getLayer(u).filter)}setLayoutProperty(u,p,b,S={}){this._checkLoaded();const E=this.getLayer(u);E?v(E.getLayoutProperty(p),b)||(E.setLayoutProperty(p,b,S),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${u}".`)))}getLayoutProperty(u,p){const b=this.getLayer(u);if(b)return b.getLayoutProperty(p);this.fire(new a.ErrorEvent(new Error(`Cannot get style of non-existing layer "${u}".`)))}setPaintProperty(u,p,b,S={}){this._checkLoaded();const E=this.getLayer(u);E?v(E.getPaintProperty(p),b)||(E.setPaintProperty(p,b,S)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new a.ErrorEvent(new Error(`Cannot style non-existing layer "${u}".`)))}getPaintProperty(u,p){return this.getLayer(u).getPaintProperty(p)}setFeatureState(u,p){this._checkLoaded();const b=u.source,S=u.sourceLayer,E=this.sourceCaches[b];if(E===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const L=E.getSource().type;L==="geojson"&&S?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):L!=="vector"||S?(u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),E.setFeatureState(S,u.id,p)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(u,p){this._checkLoaded();const b=u.source,S=this.sourceCaches[b];if(S===void 0)return void this.fire(new a.ErrorEvent(new Error(`The source '${b}' does not exist in the map's style.`)));const E=S.getSource().type,L=E==="vector"?u.sourceLayer:void 0;E!=="vector"||L?p&&typeof u.id!="string"&&typeof u.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(L,u.id,p):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(u){this._checkLoaded();const p=u.source,b=u.sourceLayer,S=this.sourceCaches[p];if(S!==void 0)return S.getSource().type!=="vector"||b?(u.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),S.getFeatureState(b,u.id)):void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.ErrorEvent(new Error(`The source '${p}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,u=>u.serialize()),layers:this._serializeLayers(this._order)},u=>u!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0,u.source&&!this._updatedSources[u.source]&&this.sourceCaches[u.source].getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",this.sourceCaches[u.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(u){const p=L=>this._layers[L].type==="fill-extrusion",b={},S=[];for(let L=this._order.length-1;L>=0;L--){const $=this._order[L];if(p($)){b[$]=L;for(const B of u){const j=B[$];if(j)for(const q of j)S.push(q)}}}S.sort((L,$)=>$.intersectionZ-L.intersectionZ);const E=[];for(let L=this._order.length-1;L>=0;L--){const $=this._order[L];if(p($))for(let B=S.length-1;B>=0;B--){const j=S[B].feature;if(b[j.layer.id]<L)break;E.push(j),S.pop()}else for(const B of u){const j=B[$];if(j)for(const q of j)E.push(q.feature)}}return E}queryRenderedFeatures(u,p,b){p&&p.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",p.filter,null,p);const S={};if(p&&p.layers){if(!Array.isArray(p.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const L of p.layers){const $=this._layers[L];if(!$)return this.fire(new a.ErrorEvent(new Error(`The layer '${L}' does not exist in the map's style and cannot be queried for features.`))),[];S[$.source]=!0}}const E=[];p.availableImages=this._availableImages;for(const L in this.sourceCaches)p.layers&&!S[L]||E.push(ar(this.sourceCaches[L],this._layers,this._serializedLayers,u,p,b));return this.placement&&E.push(function(L,$,B,j,q,Y,ee){const ge={},pe=Y.queryRenderedSymbols(j),ve=[];for(const Ae of Object.keys(pe).map(Number))ve.push(ee[Ae]);ve.sort(nr);for(const Ae of ve){const De=Ae.featureIndex.lookupSymbolFeatures(pe[Ae.bucketInstanceId],$,Ae.bucketIndex,Ae.sourceLayerIndex,q.filter,q.layers,q.availableImages,L);for(const $e in De){const be=ge[$e]=ge[$e]||[],Ue=De[$e];Ue.sort((Fe,Je)=>{const Qe=Ae.featureSortOrder;if(Qe){const ft=Qe.indexOf(Fe.featureIndex);return Qe.indexOf(Je.featureIndex)-ft}return Je.featureIndex-Fe.featureIndex});for(const Fe of Ue)be.push(Fe)}}for(const Ae in ge)ge[Ae].forEach(De=>{const $e=De.feature,be=B[L[Ae].source].getFeatureState($e.layer["source-layer"],$e.id);$e.source=$e.layer.source,$e.layer["source-layer"]&&($e.sourceLayer=$e.layer["source-layer"]),$e.state=be});return ge}(this._layers,this._serializedLayers,this.sourceCaches,u,p,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(u,p){p&&p.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",p.filter,null,p);const b=this.sourceCaches[u];return b?function(S,E){const L=S.getRenderableIds().map(j=>S.getTileByID(j)),$=[],B={};for(let j=0;j<L.length;j++){const q=L[j],Y=q.tileID.canonical.key;B[Y]||(B[Y]=!0,q.querySourceFeatures($,E))}return $}(b,p):[]}addSourceType(u,p,b){return xi.getSourceType(u)?b(new Error(`A source type called "${u}" already exists.`)):(xi.setSourceType(u,p),p.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:u,url:p.workerSourceURL},b):b(null,null))}getLight(){return this.light.getLight()}setLight(u,p={}){this._checkLoaded();const b=this.light.getLight();let S=!1;for(const L in u)if(!v(u[L],b[L])){S=!0;break}if(!S)return;const E={now:a.exported.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(u,p),this.light.updateTransitions(E)}_validate(u,p,b,S,E={}){return(!E||E.validate!==!1)&&Or(this,u.call(a.validateStyle,a.extend({key:p,style:this.serialize(),value:b,styleSpec:a.spec},S)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const p=this.sourceCaches[u];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(u){this.sourceCaches[u].clearTiles()}_reloadSource(u){this.sourceCaches[u].resume(),this.sourceCaches[u].reload()}_updateSources(u){for(const p in this.sourceCaches)this.sourceCaches[p].update(u,this.terrain)}_generateCollisionBoxes(){for(const u in this.sourceCaches)this._reloadSource(u)}_updatePlacement(u,p,b,S,E=!1){let L=!1,$=!1;const B={};for(const j of this._order){const q=this._layers[j];if(q.type!=="symbol")continue;if(!B[q.source]){const ee=this.sourceCaches[q.source];B[q.source]=ee.getRenderableIds(!0).map(ge=>ee.getTileByID(ge)).sort((ge,pe)=>pe.tileID.overscaledZ-ge.tileID.overscaledZ||(ge.tileID.isLessThan(pe.tileID)?-1:1))}const Y=this.crossTileSymbolIndex.addLayer(q,B[q.source],u.center.lng);L=L||Y}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((E=E||this._layerOrderChanged||b===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),u.zoom))&&(this.pauseablePlacement=new Xe(u,this.terrain,this._order,E,p,b,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,B),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),$=!0),L&&this.pauseablePlacement.placement.setStale()),$||L)for(const j of this._order){const q=this._layers[j];q.type==="symbol"&&this.placement.updateLayerOpacities(q,B[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const u in this.sourceCaches)this.sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,p,b){this.imageManager.getImages(p.icons,b),this._updateTilesForChangedImages();const S=this.sourceCaches[p.source];S&&S.setDependencies(p.tileID.key,p.type,p.icons)}getGlyphs(u,p,b){this.glyphManager.getGlyphs(p.stacks,b)}getResource(u,p,b){return a.makeRequest(p,b)}}xi.getSourceType=function(x){return vt[x]},xi.setSourceType=function(x,u){vt[x]=u},xi.registerForPluginStateChange=a.registerForPluginStateChange;var ql="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const Xu={prelude:rn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:rn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:rn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:rn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:rn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:rn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:rn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:rn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:rn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:rn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:rn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:rn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:rn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:rn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:rn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:rn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float baseDelta=10.0;float ele=get_elevation(a_centroid);
#else
float baseDelta=0.0;float ele=0.0;
#endif
base=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:rn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:rn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:rn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:rn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:rn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:rn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:rn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:rn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:rn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:rn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:rn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",ql),terrainDepth:rn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",ql),terrainCoords:rn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",ql)};function rn(x,u){const p=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,b=u.match(/attribute ([\w]+) ([\w]+)/g),S=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=u.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=E?E.concat(S):S,$={};return{fragmentSource:x=x.replace(p,(B,j,q,Y,ee)=>($[ee]=!0,j==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
varying ${q} ${Y} ${ee};
#else
uniform ${q} ${Y} u_${ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ee}
    ${q} ${Y} ${ee} = u_${ee};
#endif
`)),vertexSource:u=u.replace(p,(B,j,q,Y,ee)=>{const ge=Y==="float"?"vec2":"vec4",pe=ee.match(/color/)?"color":ge;return $[ee]?j==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${q} ${ge} a_${ee};
varying ${q} ${Y} ${ee};
#else
uniform ${q} ${Y} u_${ee};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = a_${ee};
#else
    ${q} ${Y} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${ee} = unpack_mix_${pe}(a_${ee}, u_${ee}_t);
#else
    ${q} ${Y} ${ee} = u_${ee};
#endif
`:j==="define"?`
#ifndef HAS_UNIFORM_u_${ee}
uniform lowp float u_${ee}_t;
attribute ${q} ${ge} a_${ee};
#else
uniform ${q} ${Y} u_${ee};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${ee}
    ${q} ${Y} ${ee} = a_${ee};
#else
    ${q} ${Y} ${ee} = u_${ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ee}
    ${q} ${Y} ${ee} = unpack_mix_${pe}(a_${ee}, u_${ee}_t);
#else
    ${q} ${Y} ${ee} = u_${ee};
#endif
`}),staticAttributes:b,staticUniforms:L}}class Jd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(u,p,b,S,E,L,$,B,j){this.context=u;let q=this.boundPaintVertexBuffers.length!==S.length;for(let Y=0;!q&&Y<S.length;Y++)this.boundPaintVertexBuffers[Y]!==S[Y]&&(q=!0);u.extVertexArrayObject&&this.vao&&this.boundProgram===p&&this.boundLayoutVertexBuffer===b&&!q&&this.boundIndexBuffer===E&&this.boundVertexOffset===L&&this.boundDynamicVertexBuffer===$&&this.boundDynamicVertexBuffer2===B&&this.boundDynamicVertexBuffer3===j?(u.bindVertexArrayOES.set(this.vao),$&&$.bind(),E&&E.dynamicDraw&&E.bind(),B&&B.bind(),j&&j.bind()):this.freshBind(p,b,S,E,L,$,B,j)}freshBind(u,p,b,S,E,L,$,B){let j;const q=u.numAttributes,Y=this.context,ee=Y.gl;if(Y.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Y.extVertexArrayObject.createVertexArrayOES(),Y.bindVertexArrayOES.set(this.vao),j=0,this.boundProgram=u,this.boundLayoutVertexBuffer=p,this.boundPaintVertexBuffers=b,this.boundIndexBuffer=S,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=$,this.boundDynamicVertexBuffer3=B;else{j=Y.currentNumAttributes||0;for(let ge=q;ge<j;ge++)ee.disableVertexAttribArray(ge)}p.enableAttributes(ee,u);for(const ge of b)ge.enableAttributes(ee,u);L&&L.enableAttributes(ee,u),$&&$.enableAttributes(ee,u),B&&B.enableAttributes(ee,u),p.bind(),p.setVertexAttribPointers(ee,u,E);for(const ge of b)ge.bind(),ge.setVertexAttribPointers(ee,u,E);L&&(L.bind(),L.setVertexAttribPointers(ee,u,E)),S&&S.bind(),$&&($.bind(),$.setVertexAttribPointers(ee,u,E)),B&&(B.bind(),B.setVertexAttribPointers(ee,u,E)),Y.currentNumAttributes=q}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Qd(x){const u=[];for(let p=0;p<x.length;p++){if(x[p]===null)continue;const b=x[p].split(" ");u.push(b.pop())}return u}class Eg{constructor(u,p,b,S,E,L,$){const B=u.gl;this.program=B.createProgram();const j=Qd(b.staticAttributes),q=S?S.getBinderAttributes():[],Y=j.concat(q),ee=Xu.prelude.staticUniforms?Qd(Xu.prelude.staticUniforms):[],ge=b.staticUniforms?Qd(b.staticUniforms):[],pe=S?S.getBinderUniforms():[],ve=ee.concat(ge).concat(pe),Ae=[];for(const Qe of ve)Ae.indexOf(Qe)<0&&Ae.push(Qe);const De=S?S.defines():[];L&&De.push("#define OVERDRAW_INSPECTOR;"),$&&De.push("#define TERRAIN3D;");const $e=De.concat(Xu.prelude.fragmentSource,b.fragmentSource).join(`
`),be=De.concat(Xu.prelude.vertexSource,b.vertexSource).join(`
`),Ue=B.createShader(B.FRAGMENT_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);B.shaderSource(Ue,$e),B.compileShader(Ue),B.attachShader(this.program,Ue);const Fe=B.createShader(B.VERTEX_SHADER);if(B.isContextLost())return void(this.failedToCreate=!0);B.shaderSource(Fe,be),B.compileShader(Fe),B.attachShader(this.program,Fe),this.attributes={};const Je={};this.numAttributes=Y.length;for(let Qe=0;Qe<this.numAttributes;Qe++)Y[Qe]&&(B.bindAttribLocation(this.program,Qe,Y[Qe]),this.attributes[Y[Qe]]=Qe);B.linkProgram(this.program),B.deleteShader(Fe),B.deleteShader(Ue);for(let Qe=0;Qe<Ae.length;Qe++){const ft=Ae[Qe];if(ft&&!Je[ft]){const Ke=B.getUniformLocation(this.program,ft);Ke&&(Je[ft]=Ke)}}this.fixedUniforms=E(u,Je),this.terrainUniforms=((Qe,ft)=>({u_depth:new a.Uniform1i(Qe,ft.u_depth),u_terrain:new a.Uniform1i(Qe,ft.u_terrain),u_terrain_dim:new a.Uniform1f(Qe,ft.u_terrain_dim),u_terrain_matrix:new a.UniformMatrix4f(Qe,ft.u_terrain_matrix),u_terrain_unpack:new a.Uniform4f(Qe,ft.u_terrain_unpack),u_terrain_offset:new a.Uniform1f(Qe,ft.u_terrain_offset),u_terrain_exaggeration:new a.Uniform1f(Qe,ft.u_terrain_exaggeration)}))(u,Je),this.binderUniforms=S?S.getUniforms(u,Je):[]}draw(u,p,b,S,E,L,$,B,j,q,Y,ee,ge,pe,ve,Ae,De,$e){const be=u.gl;if(this.failedToCreate)return;if(u.program.set(this.program),u.setDepthMode(b),u.setStencilMode(S),u.setColorMode(E),u.setCullFace(L),B){u.activeTexture.set(be.TEXTURE2),be.bindTexture(be.TEXTURE_2D,B.depthTexture),u.activeTexture.set(be.TEXTURE3),be.bindTexture(be.TEXTURE_2D,B.texture);for(const Fe in this.terrainUniforms)this.terrainUniforms[Fe].set(B[Fe])}for(const Fe in this.fixedUniforms)this.fixedUniforms[Fe].set($[Fe]);ve&&ve.setUniforms(u,this.binderUniforms,ge,{zoom:pe});let Ue=0;switch(p){case be.LINES:Ue=2;break;case be.TRIANGLES:Ue=3;break;case be.LINE_STRIP:Ue=1}for(const Fe of ee.get()){const Je=Fe.vaos||(Fe.vaos={});(Je[j]||(Je[j]=new Jd)).bind(u,this,q,ve?ve.getPaintVertexBuffers():[],Y,Fe.vertexOffset,Ae,De,$e),be.drawElements(p,Fe.primitiveLength*Ue,be.UNSIGNED_SHORT,Fe.primitiveOffset*Ue*2)}}}function Ag(x,u,p){const b=1/jn(p,1,u.transform.tileZoom),S=Math.pow(2,p.tileID.overscaledZ),E=p.tileSize*Math.pow(2,u.transform.tileZoom)/S,L=E*(p.tileID.canonical.x+p.tileID.wrap*S),$=E*p.tileID.canonical.y;return{u_image:0,u_texsize:p.imageAtlasTexture.size,u_scale:[b,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[L>>16,$>>16],u_pixel_coord_lower:[65535&L,65535&$]}}const ep=(x,u,p,b)=>{const S=u.style.light,E=S.properties.get("position"),L=[E.x,E.y,E.z],$=a.create$1();S.properties.get("anchor")==="viewport"&&a.fromRotation($,-u.transform.angle),a.transformMat3(L,L,$);const B=S.properties.get("color");return{u_matrix:x,u_lightpos:L,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[B.r,B.g,B.b],u_vertical_gradient:+p,u_opacity:b}},Hb=(x,u,p,b,S,E,L)=>a.extend(ep(x,u,p,b),Ag(E,u,L),{u_height_factor:-Math.pow(2,S.overscaledZ)/L.tileSize/8}),Fh=x=>({u_matrix:x}),tp=(x,u,p,b)=>a.extend(Fh(x),Ag(p,u,b)),Pg=(x,u)=>({u_matrix:x,u_world:u}),Ig=(x,u,p,b,S)=>a.extend(tp(x,u,p,b),{u_world:S}),Mg=(x,u,p,b)=>{const S=x.transform;let E,L;if(b.paint.get("circle-pitch-alignment")==="map"){const $=jn(p,1,S.zoom);E=!0,L=[$,$]}else E=!1,L=S.pixelsToGLUnits;return{u_camera_to_center_distance:S.cameraToCenterDistance,u_scale_with_map:+(b.paint.get("circle-pitch-scale")==="map"),u_matrix:x.translatePosMatrix(u.posMatrix,p,b.paint.get("circle-translate"),b.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:L}},Gs=(x,u,p)=>{const b=jn(p,1,u.zoom),S=Math.pow(2,u.zoom-p.tileID.overscaledZ),E=p.tileID.overscaleFactor();return{u_matrix:x,u_camera_to_center_distance:u.cameraToCenterDistance,u_pixels_to_tile_units:b,u_extrude_scale:[u.pixelsToGLUnits[0]/(b*S),u.pixelsToGLUnits[1]/(b*S)],u_overscale_factor:E}},Zu=(x,u,p=1)=>({u_matrix:x,u_color:u,u_overlay:0,u_overlay_scale:p}),Xl=x=>({u_matrix:x}),Nh=(x,u,p,b)=>({u_matrix:x,u_extrude_scale:jn(u,1,p),u_intensity:b});function Vh(x,u){const p=Math.pow(2,u.canonical.z),b=u.canonical.y;return[new a.MercatorCoordinate(0,b/p).toLngLat().lat,new a.MercatorCoordinate(0,(b+1)/p).toLngLat().lat]}const Zl=(x,u,p,b)=>{const S=x.transform;return{u_matrix:Yu(x,u,p,b),u_ratio:1/jn(u,1,S.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},rp=(x,u,p,b,S)=>a.extend(Zl(x,u,p,S),{u_image:0,u_image_height:b}),Uh=(x,u,p,b,S)=>{const E=x.transform,L=bn(u,E);return{u_matrix:Yu(x,u,p,S),u_texsize:u.imageAtlasTexture.size,u_ratio:1/jn(u,1,E.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[L,b.fromScale,b.toScale],u_fade:b.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},Ku=(x,u,p,b,S,E)=>{const L=x.lineAtlas,$=bn(u,x.transform),B=p.layout.get("line-cap")==="round",j=L.getDash(b.from,B),q=L.getDash(b.to,B),Y=j.width*S.fromScale,ee=q.width*S.toScale;return a.extend(Zl(x,u,p,E),{u_patternscale_a:[$/Y,-j.height/2],u_patternscale_b:[$/ee,-q.height/2],u_sdfgamma:L.width/(256*Math.min(Y,ee)*x.pixelRatio)/2,u_image:0,u_tex_y_a:j.y,u_tex_y_b:q.y,u_mix:S.t})};function bn(x,u){return 1/jn(x,1,u.tileZoom)}function Yu(x,u,p,b){return x.translatePosMatrix(b?b.posMatrix:u.tileID.posMatrix,u,p.paint.get("line-translate"),p.paint.get("line-translate-anchor"))}const Dg=(x,u,p,b,S)=>{return{u_matrix:x,u_tl_parent:u,u_scale_parent:p,u_buffer_scale:1,u_fade_t:b.mix,u_opacity:b.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:(L=S.paint.get("raster-saturation"),L>0?1-1/(1.001-L):-L),u_contrast_factor:(E=S.paint.get("raster-contrast"),E>0?1/(1-E):1+E),u_spin_weights:Lg(S.paint.get("raster-hue-rotate"))};var E,L};function Lg(x){x*=Math.PI/180;const u=Math.sin(x),p=Math.cos(x);return[(2*p+1)/3,(-Math.sqrt(3)*u-p+1)/3,(Math.sqrt(3)*u-p+1)/3]}const np=(x,u,p,b,S,E,L,$,B,j)=>{const q=S.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:q.cameraToCenterDistance,u_pitch:q.pitch/360*2*Math.PI,u_rotate_symbol:+p,u_aspect_ratio:q.width/q.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:L,u_coord_matrix:$,u_is_text:+B,u_pitch_with_map:+b,u_texsize:j,u_texture:0}},Hh=(x,u,p,b,S,E,L,$,B,j,q)=>{const Y=S.transform;return a.extend(np(x,u,p,b,S,E,L,$,B,j),{u_gamma_scale:b?Math.cos(Y._pitch)*Y.cameraToCenterDistance:1,u_device_pixel_ratio:S.pixelRatio,u_is_halo:+q})},Og=(x,u,p,b,S,E,L,$,B,j)=>a.extend(Hh(x,u,p,b,S,E,L,$,!0,B,!0),{u_texsize_icon:j,u_texture_icon:1}),jb=(x,u,p)=>({u_matrix:x,u_opacity:u,u_color:p}),Gb=(x,u,p,b,S,E)=>a.extend(function(L,$,B,j){const q=B.imageManager.getPattern(L.from.toString()),Y=B.imageManager.getPattern(L.to.toString()),{width:ee,height:ge}=B.imageManager.getPixelSize(),pe=Math.pow(2,j.tileID.overscaledZ),ve=j.tileSize*Math.pow(2,B.transform.tileZoom)/pe,Ae=ve*(j.tileID.canonical.x+j.tileID.wrap*pe),De=ve*j.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:q.tl,u_pattern_br_a:q.br,u_pattern_tl_b:Y.tl,u_pattern_br_b:Y.br,u_texsize:[ee,ge],u_mix:$.t,u_pattern_size_a:q.displaySize,u_pattern_size_b:Y.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/jn(j,1,B.transform.tileZoom),u_pixel_coord_upper:[Ae>>16,De>>16],u_pixel_coord_lower:[65535&Ae,65535&De]}}(b,E,p,S),{u_matrix:x,u_opacity:u}),ip={fillExtrusion:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_lightpos:new a.Uniform3f(x,u.u_lightpos),u_lightintensity:new a.Uniform1f(x,u.u_lightintensity),u_lightcolor:new a.Uniform3f(x,u.u_lightcolor),u_vertical_gradient:new a.Uniform1f(x,u.u_vertical_gradient),u_opacity:new a.Uniform1f(x,u.u_opacity)}),fillExtrusionPattern:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_lightpos:new a.Uniform3f(x,u.u_lightpos),u_lightintensity:new a.Uniform1f(x,u.u_lightintensity),u_lightcolor:new a.Uniform3f(x,u.u_lightcolor),u_vertical_gradient:new a.Uniform1f(x,u.u_vertical_gradient),u_height_factor:new a.Uniform1f(x,u.u_height_factor),u_image:new a.Uniform1i(x,u.u_image),u_texsize:new a.Uniform2f(x,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(x,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(x,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(x,u.u_scale),u_fade:new a.Uniform1f(x,u.u_fade),u_opacity:new a.Uniform1f(x,u.u_opacity)}),fill:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix)}),fillPattern:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_image:new a.Uniform1i(x,u.u_image),u_texsize:new a.Uniform2f(x,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(x,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(x,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(x,u.u_scale),u_fade:new a.Uniform1f(x,u.u_fade)}),fillOutline:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_world:new a.Uniform2f(x,u.u_world)}),fillOutlinePattern:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_world:new a.Uniform2f(x,u.u_world),u_image:new a.Uniform1i(x,u.u_image),u_texsize:new a.Uniform2f(x,u.u_texsize),u_pixel_coord_upper:new a.Uniform2f(x,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(x,u.u_pixel_coord_lower),u_scale:new a.Uniform3f(x,u.u_scale),u_fade:new a.Uniform1f(x,u.u_fade)}),circle:(x,u)=>({u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(x,u.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(x,u.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(x,u.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(x,u.u_matrix)}),collisionBox:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(x,u.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(x,u.u_extrude_scale),u_overscale_factor:new a.Uniform1f(x,u.u_overscale_factor)}),collisionCircle:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_inv_matrix:new a.UniformMatrix4f(x,u.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(x,u.u_viewport_size)}),debug:(x,u)=>({u_color:new a.UniformColor(x,u.u_color),u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_overlay:new a.Uniform1i(x,u.u_overlay),u_overlay_scale:new a.Uniform1f(x,u.u_overlay_scale)}),clippingMask:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix)}),heatmap:(x,u)=>({u_extrude_scale:new a.Uniform1f(x,u.u_extrude_scale),u_intensity:new a.Uniform1f(x,u.u_intensity),u_matrix:new a.UniformMatrix4f(x,u.u_matrix)}),heatmapTexture:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_world:new a.Uniform2f(x,u.u_world),u_image:new a.Uniform1i(x,u.u_image),u_color_ramp:new a.Uniform1i(x,u.u_color_ramp),u_opacity:new a.Uniform1f(x,u.u_opacity)}),hillshade:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_image:new a.Uniform1i(x,u.u_image),u_latrange:new a.Uniform2f(x,u.u_latrange),u_light:new a.Uniform2f(x,u.u_light),u_shadow:new a.UniformColor(x,u.u_shadow),u_highlight:new a.UniformColor(x,u.u_highlight),u_accent:new a.UniformColor(x,u.u_accent)}),hillshadePrepare:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_image:new a.Uniform1i(x,u.u_image),u_dimension:new a.Uniform2f(x,u.u_dimension),u_zoom:new a.Uniform1f(x,u.u_zoom),u_unpack:new a.Uniform4f(x,u.u_unpack)}),line:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_ratio:new a.Uniform1f(x,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(x,u.u_units_to_pixels)}),lineGradient:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_ratio:new a.Uniform1f(x,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(x,u.u_units_to_pixels),u_image:new a.Uniform1i(x,u.u_image),u_image_height:new a.Uniform1f(x,u.u_image_height)}),linePattern:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_texsize:new a.Uniform2f(x,u.u_texsize),u_ratio:new a.Uniform1f(x,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_image:new a.Uniform1i(x,u.u_image),u_units_to_pixels:new a.Uniform2f(x,u.u_units_to_pixels),u_scale:new a.Uniform3f(x,u.u_scale),u_fade:new a.Uniform1f(x,u.u_fade)}),lineSDF:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_ratio:new a.Uniform1f(x,u.u_ratio),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(x,u.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(x,u.u_patternscale_a),u_patternscale_b:new a.Uniform2f(x,u.u_patternscale_b),u_sdfgamma:new a.Uniform1f(x,u.u_sdfgamma),u_image:new a.Uniform1i(x,u.u_image),u_tex_y_a:new a.Uniform1f(x,u.u_tex_y_a),u_tex_y_b:new a.Uniform1f(x,u.u_tex_y_b),u_mix:new a.Uniform1f(x,u.u_mix)}),raster:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_tl_parent:new a.Uniform2f(x,u.u_tl_parent),u_scale_parent:new a.Uniform1f(x,u.u_scale_parent),u_buffer_scale:new a.Uniform1f(x,u.u_buffer_scale),u_fade_t:new a.Uniform1f(x,u.u_fade_t),u_opacity:new a.Uniform1f(x,u.u_opacity),u_image0:new a.Uniform1i(x,u.u_image0),u_image1:new a.Uniform1i(x,u.u_image1),u_brightness_low:new a.Uniform1f(x,u.u_brightness_low),u_brightness_high:new a.Uniform1f(x,u.u_brightness_high),u_saturation_factor:new a.Uniform1f(x,u.u_saturation_factor),u_contrast_factor:new a.Uniform1f(x,u.u_contrast_factor),u_spin_weights:new a.Uniform3f(x,u.u_spin_weights)}),symbolIcon:(x,u)=>({u_is_size_zoom_constant:new a.Uniform1i(x,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(x,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(x,u.u_size_t),u_size:new a.Uniform1f(x,u.u_size),u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(x,u.u_pitch),u_rotate_symbol:new a.Uniform1i(x,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(x,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(x,u.u_fade_change),u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(x,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(x,u.u_coord_matrix),u_is_text:new a.Uniform1i(x,u.u_is_text),u_pitch_with_map:new a.Uniform1i(x,u.u_pitch_with_map),u_texsize:new a.Uniform2f(x,u.u_texsize),u_texture:new a.Uniform1i(x,u.u_texture)}),symbolSDF:(x,u)=>({u_is_size_zoom_constant:new a.Uniform1i(x,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(x,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(x,u.u_size_t),u_size:new a.Uniform1f(x,u.u_size),u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(x,u.u_pitch),u_rotate_symbol:new a.Uniform1i(x,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(x,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(x,u.u_fade_change),u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(x,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(x,u.u_coord_matrix),u_is_text:new a.Uniform1i(x,u.u_is_text),u_pitch_with_map:new a.Uniform1i(x,u.u_pitch_with_map),u_texsize:new a.Uniform2f(x,u.u_texsize),u_texture:new a.Uniform1i(x,u.u_texture),u_gamma_scale:new a.Uniform1f(x,u.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(x,u.u_is_halo)}),symbolTextAndIcon:(x,u)=>({u_is_size_zoom_constant:new a.Uniform1i(x,u.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(x,u.u_is_size_feature_constant),u_size_t:new a.Uniform1f(x,u.u_size_t),u_size:new a.Uniform1f(x,u.u_size),u_camera_to_center_distance:new a.Uniform1f(x,u.u_camera_to_center_distance),u_pitch:new a.Uniform1f(x,u.u_pitch),u_rotate_symbol:new a.Uniform1i(x,u.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(x,u.u_aspect_ratio),u_fade_change:new a.Uniform1f(x,u.u_fade_change),u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(x,u.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(x,u.u_coord_matrix),u_is_text:new a.Uniform1i(x,u.u_is_text),u_pitch_with_map:new a.Uniform1i(x,u.u_pitch_with_map),u_texsize:new a.Uniform2f(x,u.u_texsize),u_texsize_icon:new a.Uniform2f(x,u.u_texsize_icon),u_texture:new a.Uniform1i(x,u.u_texture),u_texture_icon:new a.Uniform1i(x,u.u_texture_icon),u_gamma_scale:new a.Uniform1f(x,u.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(x,u.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(x,u.u_is_halo)}),background:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_opacity:new a.Uniform1f(x,u.u_opacity),u_color:new a.UniformColor(x,u.u_color)}),backgroundPattern:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_opacity:new a.Uniform1f(x,u.u_opacity),u_image:new a.Uniform1i(x,u.u_image),u_pattern_tl_a:new a.Uniform2f(x,u.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(x,u.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(x,u.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(x,u.u_pattern_br_b),u_texsize:new a.Uniform2f(x,u.u_texsize),u_mix:new a.Uniform1f(x,u.u_mix),u_pattern_size_a:new a.Uniform2f(x,u.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(x,u.u_pattern_size_b),u_scale_a:new a.Uniform1f(x,u.u_scale_a),u_scale_b:new a.Uniform1f(x,u.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(x,u.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(x,u.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(x,u.u_tile_units_to_pixels)}),terrain:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_texture:new a.Uniform1i(x,u.u_texture)}),terrainDepth:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix)}),terrainCoords:(x,u)=>({u_matrix:new a.UniformMatrix4f(x,u.u_matrix),u_texture:new a.Uniform1i(x,u.u_texture),u_terrain_coords_id:new a.Uniform1f(x,u.u_terrain_coords_id)})};class op{constructor(u,p,b){this.context=u;const S=u.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!b,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const p=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),p.bufferSubData(p.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ap={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class sp{constructor(u,p,b,S){this.length=p.length,this.attributes=b,this.itemSize=p.bytesPerElement,this.dynamicDraw=S,this.context=u;const E=u.gl;this.buffer=E.createBuffer(),u.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,p.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete p.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){if(u.length!==this.length)throw new Error(`Length of new data is ${u.length}, which doesn't match current length of ${this.length}`);const p=this.context.gl;this.bind(),p.bufferSubData(p.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,p){for(let b=0;b<this.attributes.length;b++){const S=p.attributes[this.attributes[b].name];S!==void 0&&u.enableVertexAttribArray(S)}}setVertexAttribPointers(u,p,b){for(let S=0;S<this.attributes.length;S++){const E=this.attributes[S],L=p.attributes[E.name];L!==void 0&&u.vertexAttribPointer(L,E.components,u[ap[E.type]],!1,this.itemSize,E.offset+this.itemSize*(b||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Vr{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class kg extends Vr{getDefault(){return a.Color.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Wb extends Vr{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class Ju extends Vr{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class Qu extends Vr{getDefault(){return[!0,!0,!0,!0]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Rg extends Vr{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class no extends Vr{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class lp extends Vr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const p=this.current;(u.func!==p.func||u.ref!==p.ref||u.mask!==p.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class jh extends Vr{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class Gh extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.STENCIL_TEST):p.disable(p.STENCIL_TEST),this.current=u,this.dirty=!1}}class up extends Vr{getDefault(){return[0,1]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class cp extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.DEPTH_TEST):p.disable(p.DEPTH_TEST),this.current=u,this.dirty=!1}}class Wh extends Vr{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class hp extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.BLEND):p.disable(p.BLEND),this.current=u,this.dirty=!1}}class fp extends Vr{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class qh extends Vr{getDefault(){return a.Color.transparent}set(u){const p=this.current;(u.r!==p.r||u.g!==p.g||u.b!==p.b||u.a!==p.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class zg extends Vr{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class $g extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;u?p.enable(p.CULL_FACE):p.disable(p.CULL_FACE),this.current=u,this.dirty=!1}}class Kl extends Vr{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class qb extends Vr{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}class Xb extends Vr{getDefault(){return null}set(u){(u!==this.current||this.dirty)&&(this.gl.useProgram(u),this.current=u,this.dirty=!1)}}class Zb extends Vr{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class Kb extends Vr{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const p=this.current;(u[0]!==p[0]||u[1]!==p[1]||u[2]!==p[2]||u[3]!==p[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Yb extends Vr{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindFramebuffer(p.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class Jb extends Vr{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindRenderbuffer(p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class dp extends Vr{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindTexture(p.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class Xh extends Vr{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.bindBuffer(p.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class pp extends Vr{getDefault(){return null}set(u){const p=this.gl;p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class mp extends Vr{constructor(u){super(u),this.vao=u.extVertexArrayObject}getDefault(){return null}set(u){this.vao&&(u!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(u),this.current=u,this.dirty=!1)}}class Yl extends Vr{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Bg extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class Fg extends Vr{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const p=this.gl;p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class Zh extends Vr{constructor(u,p){super(u),this.context=u,this.parent=p}getDefault(){return null}}class Ws extends Zh{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Ng extends Zh{set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const p=this.gl;p.framebufferRenderbuffer(p.FRAMEBUFFER,p.DEPTH_ATTACHMENT,p.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Jl{constructor(u,p,b,S){this.context=u,this.width=p,this.height=b;const E=u.gl,L=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Ws(u,L),S&&(this.depthAttachment=new Ng(u,L)),E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const u=this.context.gl,p=this.colorAttachment.get();if(p&&u.deleteTexture(p),this.depthAttachment){const b=this.depthAttachment.get();b&&u.deleteRenderbuffer(b)}u.deleteFramebuffer(this.framebuffer)}}class fn{constructor(u,p,b){this.blendFunction=u,this.blendColor=p,this.mask=b}}fn.Replace=[1,0],fn.disabled=new fn(fn.Replace,a.Color.transparent,[!1,!1,!1,!1]),fn.unblended=new fn(fn.Replace,a.Color.transparent,[!0,!0,!0,!0]),fn.alphaBlended=new fn([1,771],a.Color.transparent,[!0,!0,!0,!0]);class Vg{constructor(u){this.gl=u,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new kg(this),this.clearDepth=new Wb(this),this.clearStencil=new Ju(this),this.colorMask=new Qu(this),this.depthMask=new Rg(this),this.stencilMask=new no(this),this.stencilFunc=new lp(this),this.stencilOp=new jh(this),this.stencilTest=new Gh(this),this.depthRange=new up(this),this.depthTest=new cp(this),this.depthFunc=new Wh(this),this.blend=new hp(this),this.blendFunc=new fp(this),this.blendColor=new qh(this),this.blendEquation=new zg(this),this.cullFace=new $g(this),this.cullFaceSide=new Kl(this),this.frontFace=new qb(this),this.program=new Xb(this),this.activeTexture=new Zb(this),this.viewport=new Kb(this),this.bindFramebuffer=new Yb(this),this.bindRenderbuffer=new Jb(this),this.bindTexture=new dp(this),this.bindVertexBuffer=new Xh(this),this.bindElementBuffer=new pp(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mp(this),this.pixelStoreUnpack=new Yl(this),this.pixelStoreUnpackPremultiplyAlpha=new Bg(this),this.pixelStoreUnpackFlipY=new Fg(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=u.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(u.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=u.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=u.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,p){return new op(this,u,p)}createVertexBuffer(u,p,b){return new sp(this,u,p,b)}createRenderbuffer(u,p,b){const S=this.gl,E=S.createRenderbuffer();return this.bindRenderbuffer.set(E),S.renderbufferStorage(S.RENDERBUFFER,u,p,b),this.bindRenderbuffer.set(null),E}createFramebuffer(u,p,b){return new Jl(this,u,p,b)}clear({color:u,depth:p}){const b=this.gl;let S=0;u&&(S|=b.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),p!==void 0&&(S|=b.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(p),this.depthMask.set(!0)),b.clear(S)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){v(u.blendFunction,fn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Pr{constructor(u,p,b){this.func=u,this.mask=p,this.range=b}}Pr.ReadOnly=!1,Pr.ReadWrite=!0,Pr.disabled=new Pr(519,Pr.ReadOnly,[0,1]);const Ur=7680;class sn{constructor(u,p,b,S,E,L){this.test=u,this.ref=p,this.mask=b,this.fail=S,this.depthFail=E,this.pass=L}}sn.disabled=new sn({func:519,mask:0},0,0,Ur,Ur,Ur);class xn{constructor(u,p,b){this.enable=u,this.mode=p,this.frontFace=b}}let ec;function Ql(x,u,p,b,S,E,L){const $=x.context,B=$.gl,j=x.useProgram("collisionBox"),q=[];let Y=0,ee=0;for(let be=0;be<b.length;be++){const Ue=b[be],Fe=u.getTile(Ue),Je=Fe.getBucket(p);if(!Je)continue;let Qe=Ue.posMatrix;S[0]===0&&S[1]===0||(Qe=x.translatePosMatrix(Ue.posMatrix,Fe,S,E));const ft=L?Je.textCollisionBox:Je.iconCollisionBox,Ke=Je.collisionCircleArray;if(Ke.length>0){const Mt=a.create(),xt=Qe;a.mul(Mt,Je.placementInvProjMatrix,x.transform.glCoordMatrix),a.mul(Mt,Mt,Je.placementViewportMatrix),q.push({circleArray:Ke,circleOffset:ee,transform:xt,invTransform:Mt,coord:Ue}),Y+=Ke.length/4,ee=Y}ft&&j.draw($,B.LINES,Pr.disabled,sn.disabled,x.colorModeForRenderPass(),xn.disabled,Gs(Qe,x.transform,Fe),x.style.terrain&&x.style.terrain.getTerrainData(Ue),p.id,ft.layoutVertexBuffer,ft.indexBuffer,ft.segments,null,x.transform.zoom,null,null,ft.collisionVertexBuffer)}if(!L||!q.length)return;const ge=x.useProgram("collisionCircle"),pe=new a.CollisionCircleLayoutArray;pe.resize(4*Y),pe._trim();let ve=0;for(const be of q)for(let Ue=0;Ue<be.circleArray.length/4;Ue++){const Fe=4*Ue,Je=be.circleArray[Fe+0],Qe=be.circleArray[Fe+1],ft=be.circleArray[Fe+2],Ke=be.circleArray[Fe+3];pe.emplace(ve++,Je,Qe,ft,Ke,0),pe.emplace(ve++,Je,Qe,ft,Ke,1),pe.emplace(ve++,Je,Qe,ft,Ke,2),pe.emplace(ve++,Je,Qe,ft,Ke,3)}(!ec||ec.length<2*Y)&&(ec=function(be){const Ue=2*be,Fe=new a.QuadTriangleArray;Fe.resize(Ue),Fe._trim();for(let Je=0;Je<Ue;Je++){const Qe=6*Je;Fe.uint16[Qe+0]=4*Je+0,Fe.uint16[Qe+1]=4*Je+1,Fe.uint16[Qe+2]=4*Je+2,Fe.uint16[Qe+3]=4*Je+2,Fe.uint16[Qe+4]=4*Je+3,Fe.uint16[Qe+5]=4*Je+0}return Fe}(Y));const Ae=$.createIndexBuffer(ec,!0),De=$.createVertexBuffer(pe,a.collisionCircleLayout.members,!0);for(const be of q){const Ue={u_matrix:be.transform,u_inv_matrix:be.invTransform,u_camera_to_center_distance:($e=x.transform).cameraToCenterDistance,u_viewport_size:[$e.width,$e.height]};ge.draw($,B.TRIANGLES,Pr.disabled,sn.disabled,x.colorModeForRenderPass(),xn.disabled,Ue,x.style.terrain&&x.style.terrain.getTerrainData(be.coord),p.id,De,Ae,a.SegmentVector.simpleSegment(0,2*be.circleOffset,be.circleArray.length,be.circleArray.length/2),null,x.transform.zoom,null,null,null)}var $e;De.destroy(),Ae.destroy()}xn.disabled=new xn(!1,1029,2305),xn.backCCW=new xn(!0,1029,2305);const Qb=a.identity(new Float32Array(16));function ex(x,u,p,b,S,E){const{horizontalAlign:L,verticalAlign:$}=a.getAnchorAlignment(x),B=-(L-.5)*u,j=-($-.5)*p,q=a.evaluateVariableOffset(x,b);return new a.pointGeometry((B/S+q[0])*E,(j/S+q[1])*E)}function Ug(x,u,p,b,S,E,L,$,B,j,q){const Y=x.text.placedSymbolArray,ee=x.text.dynamicLayoutVertexArray,ge=x.icon.dynamicLayoutVertexArray,pe={};ee.clear();for(let ve=0;ve<Y.length;ve++){const Ae=Y.get(ve),De=x.allowVerticalPlacement&&!Ae.placedOrientation,$e=Ae.hidden||!Ae.crossTileID||De?null:b[Ae.crossTileID];if($e){const be=new a.pointGeometry(Ae.anchorX,Ae.anchorY),Ue=dr(be,p?L:E,q),Fe=an(S.cameraToCenterDistance,Ue.signedDistanceFromCamera);let Je=a.evaluateSizeForFeature(x.textSizeData,B,Ae)*Fe/a.ONE_EM;p&&(Je*=x.tilePixelRatio/$);const{width:Qe,height:ft,anchor:Ke,textOffset:Mt,textBoxScale:xt}=$e,Ot=ex(Ke,Qe,ft,Mt,xt,Je),mr=p?dr(be.add(Ot),E,q).point:Ue.point.add(u?Ot.rotate(-S.angle):Ot),br=x.allowVerticalPlacement&&Ae.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Kt=0;Kt<Ae.numGlyphs;Kt++)a.addDynamicAttributes(ee,mr,br);j&&Ae.associatedIconIndex>=0&&(pe[Ae.associatedIconIndex]={shiftedAnchor:mr,angle:br})}else hr(Ae.numGlyphs,ee)}if(j){ge.clear();const ve=x.icon.placedSymbolArray;for(let Ae=0;Ae<ve.length;Ae++){const De=ve.get(Ae);if(De.hidden)hr(De.numGlyphs,ge);else{const $e=pe[Ae];if($e)for(let be=0;be<De.numGlyphs;be++)a.addDynamicAttributes(ge,$e.shiftedAnchor,$e.angle);else hr(De.numGlyphs,ge)}}x.icon.dynamicLayoutVertexBuffer.updateData(ge)}x.text.dynamicLayoutVertexBuffer.updateData(ee)}function tx(x,u,p){return p.iconsInText&&u?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function Kh(x,u,p,b,S,E,L,$,B,j,q,Y){const ee=x.context,ge=ee.gl,pe=x.transform,ve=$==="map",Ae=B==="map",De=$!=="viewport"&&p.layout.get("symbol-placement")!=="point",$e=ve&&!Ae&&!De,be=!p.layout.get("symbol-sort-key").isConstant();let Ue=!1;const Fe=x.depthModeForSublayer(0,Pr.ReadOnly),Je=p.layout.get("text-variable-anchor"),Qe=[];for(const ft of b){const Ke=u.getTile(ft),Mt=Ke.getBucket(p);if(!Mt)continue;const xt=S?Mt.text:Mt.icon;if(!xt||!xt.segments.get().length)continue;const Ot=xt.programConfigurations.get(p.id),mr=S||Mt.sdfIcons,br=S?Mt.textSizeData:Mt.iconSizeData,Kt=Ae||pe.pitch!==0,qr=x.useProgram(tx(mr,S,Mt),Ot),Xr=a.evaluateSizeForZoom(br,pe.zoom),Ir=x.style.terrain&&x.style.terrain.getTerrainData(ft);let kr,Jr,ai,ia,No=[0,0],oa=null;if(S){if(Jr=Ke.glyphAtlasTexture,ai=ge.LINEAR,kr=Ke.glyphAtlasTexture.size,Mt.iconsInText){No=Ke.imageAtlasTexture.size,oa=Ke.imageAtlasTexture;const So=br.kind==="composite"||br.kind==="camera";ia=Kt||x.options.rotating||x.options.zooming||So?ge.LINEAR:ge.NEAREST}}else{const So=p.layout.get("icon-size").constantOr(0)!==1||Mt.iconsNeedLinear;Jr=Ke.imageAtlasTexture,ai=mr||x.options.rotating||x.options.zooming||So||Kt?ge.LINEAR:ge.NEAREST,kr=Ke.imageAtlasTexture.size}const ms=jn(Ke,1,x.transform.zoom),wo=Wr(ft.posMatrix,Ae,ve,x.transform,ms),Ui=yn(ft.posMatrix,Ae,ve,x.transform,ms),ka=Je&&Mt.hasTextData(),of=p.layout.get("icon-text-fit")!=="none"&&ka&&Mt.hasIconData();if(De){const So=x.style.terrain?(Mp,ou)=>x.style.terrain.getElevation(ft,Mp,ou):null,Ks=p.layout.get("text-rotation-alignment")==="map";Hr(Mt,ft.posMatrix,x,S,wo,Ui,Ae,j,Ks,So)}const Jn=x.translatePosMatrix(ft.posMatrix,Ke,E,L),Cr=De||S&&Je||of?Qb:wo,jr=x.translatePosMatrix(Ui,Ke,E,L,!0),si=mr&&p.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let li;li=mr?Mt.iconsInText?Og(br.kind,Xr,$e,Ae,x,Jn,Cr,jr,kr,No):Hh(br.kind,Xr,$e,Ae,x,Jn,Cr,jr,S,kr,!0):np(br.kind,Xr,$e,Ae,x,Jn,Cr,jr,S,kr);const Sn={program:qr,buffers:xt,uniformValues:li,atlasTexture:Jr,atlasTextureIcon:oa,atlasInterpolation:ai,atlasInterpolationIcon:ia,isSDF:mr,hasHalo:si};if(be&&Mt.canOverlap){Ue=!0;const So=xt.segments.get();for(const Ks of So)Qe.push({segments:new a.SegmentVector([Ks]),sortKey:Ks.sortKey,state:Sn,terrainData:Ir})}else Qe.push({segments:xt.segments,sortKey:0,state:Sn,terrainData:Ir})}Ue&&Qe.sort((ft,Ke)=>ft.sortKey-Ke.sortKey);for(const ft of Qe){const Ke=ft.state;if(ee.activeTexture.set(ge.TEXTURE0),Ke.atlasTexture.bind(Ke.atlasInterpolation,ge.CLAMP_TO_EDGE),Ke.atlasTextureIcon&&(ee.activeTexture.set(ge.TEXTURE1),Ke.atlasTextureIcon&&Ke.atlasTextureIcon.bind(Ke.atlasInterpolationIcon,ge.CLAMP_TO_EDGE)),Ke.isSDF){const Mt=Ke.uniformValues;Ke.hasHalo&&(Mt.u_is_halo=1,tc(Ke.buffers,ft.segments,p,x,Ke.program,Fe,q,Y,Mt,ft.terrainData)),Mt.u_is_halo=0}tc(Ke.buffers,ft.segments,p,x,Ke.program,Fe,q,Y,Ke.uniformValues,ft.terrainData)}}function tc(x,u,p,b,S,E,L,$,B,j){const q=b.context;S.draw(q,q.gl.TRIANGLES,E,L,$,xn.disabled,B,j,p.id,x.layoutVertexBuffer,x.indexBuffer,u,p.paint,b.transform.zoom,x.programConfigurations.get(p.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function rc(x,u,p,b,S,E,L){const $=x.context.gl,B=p.paint.get("fill-pattern"),j=B&&B.constantOr(1),q=p.getCrossfadeParameters();let Y,ee,ge,pe,ve;L?(ee=j&&!p.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Y=$.LINES):(ee=j?"fillPattern":"fill",Y=$.TRIANGLES);for(const Ae of b){const De=u.getTile(Ae);if(j&&!De.patternsLoaded())continue;const $e=De.getBucket(p);if(!$e)continue;const be=$e.programConfigurations.get(p.id),Ue=x.useProgram(ee,be),Fe=x.style.terrain&&x.style.terrain.getTerrainData(Ae);j&&(x.context.activeTexture.set($.TEXTURE0),De.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),be.updatePaintBuffers(q));const Je=B.constantOr(null);if(Je&&De.imageAtlas){const Ke=De.imageAtlas,Mt=Ke.patternPositions[Je.to.toString()],xt=Ke.patternPositions[Je.from.toString()];Mt&&xt&&be.setConstantPatternPositions(Mt,xt)}const Qe=Fe?Ae:null,ft=x.translatePosMatrix(Qe?Qe.posMatrix:Ae.posMatrix,De,p.paint.get("fill-translate"),p.paint.get("fill-translate-anchor"));if(L){pe=$e.indexBuffer2,ve=$e.segments2;const Ke=[$.drawingBufferWidth,$.drawingBufferHeight];ge=ee==="fillOutlinePattern"&&j?Ig(ft,x,q,De,Ke):Pg(ft,Ke)}else pe=$e.indexBuffer,ve=$e.segments,ge=j?tp(ft,x,q,De):Fh(ft);Ue.draw(x.context,Y,S,x.stencilModeForClipping(Ae),E,xn.disabled,ge,Fe,p.id,$e.layoutVertexBuffer,pe,ve,p.paint,x.transform.zoom,be)}}function nc(x,u,p,b,S,E,L){const $=x.context,B=$.gl,j=p.paint.get("fill-extrusion-pattern"),q=j.constantOr(1),Y=p.getCrossfadeParameters(),ee=p.paint.get("fill-extrusion-opacity");for(const ge of b){const pe=u.getTile(ge),ve=pe.getBucket(p);if(!ve)continue;const Ae=x.style.terrain&&x.style.terrain.getTerrainData(ge),De=ve.programConfigurations.get(p.id),$e=x.useProgram(q?"fillExtrusionPattern":"fillExtrusion",De);q&&(x.context.activeTexture.set(B.TEXTURE0),pe.imageAtlasTexture.bind(B.LINEAR,B.CLAMP_TO_EDGE),De.updatePaintBuffers(Y));const be=j.constantOr(null);if(be&&pe.imageAtlas){const Qe=pe.imageAtlas,ft=Qe.patternPositions[be.to.toString()],Ke=Qe.patternPositions[be.from.toString()];ft&&Ke&&De.setConstantPatternPositions(ft,Ke)}const Ue=x.translatePosMatrix(ge.posMatrix,pe,p.paint.get("fill-extrusion-translate"),p.paint.get("fill-extrusion-translate-anchor")),Fe=p.paint.get("fill-extrusion-vertical-gradient"),Je=q?Hb(Ue,x,Fe,ee,ge,Y,pe):ep(Ue,x,Fe,ee);$e.draw($,$.gl.TRIANGLES,S,E,L,xn.backCCW,Je,Ae,p.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,p.paint,x.transform.zoom,De,x.style.terrain&&ve.centroidVertexBuffer)}}function vp(x,u,p,b,S,E,L){const $=x.context,B=$.gl,j=p.fbo;if(!j)return;const q=x.useProgram("hillshade"),Y=x.style.terrain&&x.style.terrain.getTerrainData(u);$.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,j.colorAttachment.get()),q.draw($,B.TRIANGLES,S,E,L,xn.disabled,((ee,ge,pe,ve)=>{const Ae=pe.paint.get("hillshade-shadow-color"),De=pe.paint.get("hillshade-highlight-color"),$e=pe.paint.get("hillshade-accent-color");let be=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(be-=ee.transform.angle);const Ue=!ee.options.moving;return{u_matrix:ve?ve.posMatrix:ee.transform.calculatePosMatrix(ge.tileID.toUnwrapped(),Ue),u_image:0,u_latrange:Vh(0,ge.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),be],u_shadow:Ae,u_highlight:De,u_accent:$e}})(x,p,b,Y?u:null),Y,b.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function Hg(x,u,p,b,S,E){const L=x.context,$=L.gl,B=u.dem;if(B&&B.data){const j=B.dim,q=B.stride,Y=B.getPixels();if(L.activeTexture.set($.TEXTURE1),L.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||x.getTileTexture(q),u.demTexture){const ge=u.demTexture;ge.update(Y,{premultiply:!1}),ge.bind($.NEAREST,$.CLAMP_TO_EDGE)}else u.demTexture=new P(L,Y,$.RGBA,{premultiply:!1}),u.demTexture.bind($.NEAREST,$.CLAMP_TO_EDGE);L.activeTexture.set($.TEXTURE0);let ee=u.fbo;if(!ee){const ge=new P(L,{width:j,height:j,data:null},$.RGBA);ge.bind($.LINEAR,$.CLAMP_TO_EDGE),ee=u.fbo=L.createFramebuffer(j,j,!0),ee.colorAttachment.set(ge.texture)}L.bindFramebuffer.set(ee.framebuffer),L.viewport.set([0,0,j,j]),x.useProgram("hillshadePrepare").draw(L,$.TRIANGLES,b,S,E,xn.disabled,((ge,pe)=>{const ve=pe.stride,Ae=a.create();return a.ortho(Ae,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Ae,Ae,[0,-a.EXTENT,0]),{u_matrix:Ae,u_image:1,u_dimension:[ve,ve],u_zoom:ge.overscaledZ,u_unpack:pe.getUnpackVector()}})(u.tileID,B),null,p.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),u.needsHillshadePrepare=!1}}function Yh(x,u,p,b,S,E){const L=b.paint.get("raster-fade-duration");if(!E&&L>0){const $=a.exported.now(),B=($-x.timeAdded)/L,j=u?($-u.timeAdded)/L:-1,q=p.getSource(),Y=S.coveringZoomLevel({tileSize:q.tileSize,roundZoom:q.roundZoom}),ee=!u||Math.abs(u.tileID.overscaledZ-Y)>Math.abs(x.tileID.overscaledZ-Y),ge=ee&&x.refreshedUponExpiration?1:a.clamp(ee?B:1-j,0,1);return x.refreshedUponExpiration&&B>=1&&(x.refreshedUponExpiration=!1),u?{opacity:1,mix:1-ge}:{opacity:ge,mix:0}}return{opacity:1,mix:0}}const Jh=new a.Color(1,0,0,1),Fo=new a.Color(0,1,0,1),jg=new a.Color(0,0,1,1),gp=new a.Color(1,0,1,1),Gg=new a.Color(0,1,1,1);function qs(x,u,p,b){eu(x,0,u+p/2,x.transform.width,p,b)}function ic(x,u,p,b){eu(x,u-p/2,0,p,x.transform.height,b)}function eu(x,u,p,b,S,E){const L=x.context,$=L.gl;$.enable($.SCISSOR_TEST),$.scissor(u*x.pixelRatio,p*x.pixelRatio,b*x.pixelRatio,S*x.pixelRatio),L.clear({color:E}),$.disable($.SCISSOR_TEST)}function rx(x,u,p){const b=x.context,S=b.gl,E=p.posMatrix,L=x.useProgram("debug"),$=Pr.disabled,B=sn.disabled,j=x.colorModeForRenderPass(),q="$debug",Y=x.style.terrain&&x.style.terrain.getTerrainData(p);b.activeTexture.set(S.TEXTURE0),x.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE);const ee=u.getTileByID(p.key).latestRawTileData,ge=Math.floor((ee&&ee.byteLength||0)/1024),pe=u.getTile(p).tileSize,ve=512/Math.min(pe,512)*(p.overscaledZ/x.transform.zoom)*.5;let Ae=p.canonical.toString();p.overscaledZ!==p.canonical.z&&(Ae+=` => ${p.overscaledZ}`),function(De,$e){De.initDebugOverlayCanvas();const be=De.debugOverlayCanvas,Ue=De.context.gl,Fe=De.debugOverlayCanvas.getContext("2d");Fe.clearRect(0,0,be.width,be.height),Fe.shadowColor="white",Fe.shadowBlur=2,Fe.lineWidth=1.5,Fe.strokeStyle="white",Fe.textBaseline="top",Fe.font="bold 36px Open Sans, sans-serif",Fe.fillText($e,5,5),Fe.strokeText($e,5,5),De.debugOverlayTexture.update(be),De.debugOverlayTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE)}(x,`${Ae} ${ge}kB`),L.draw(b,S.TRIANGLES,$,B,fn.alphaBlended,xn.disabled,Zu(E,a.Color.transparent,ve),null,q,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),L.draw(b,S.LINE_STRIP,$,B,j,xn.disabled,Zu(E,a.Color.red),Y,q,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function Qh(x,u,p){const b=x.context,S=b.gl,E=x.colorModeForRenderPass(),L=new Pr(S.LEQUAL,Pr.ReadWrite,x.depthRangeFor3D),$=x.useProgram("terrain"),B=u.getTerrainMesh(),j=u.getTerrainData(p.tileID);b.bindFramebuffer.set(null),b.viewport.set([0,0,x.width,x.height]),b.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,u.getRTTFramebuffer().colorAttachment.get());const q=x.transform.calculatePosMatrix(p.tileID.toUnwrapped());$.draw(b,S.TRIANGLES,L,sn.disabled,E,xn.backCCW,{u_matrix:q,u_texture:0},j,"terrain",B.vertexBuffer,B.indexBuffer,B.segments)}function Wg(x,u,p,b){const S=x.context,E=p.tileSize*u.qualityFactor;p.textures[b]||(p.textures[b]=x.getTileTexture(E)||new P(S,{width:E,height:E,data:null},S.gl.RGBA),p.textures[b].bind(S.gl.LINEAR,S.gl.CLAMP_TO_EDGE),b===0&&u.sourceCache.renderHistory.unshift(p.tileID.key));const L=u.getRTTFramebuffer();L.colorAttachment.set(p.textures[b].texture),S.bindFramebuffer.set(L.framebuffer),S.viewport.set([0,0,E,E])}class qg{constructor(u){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=u,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=u.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const u=this.painter.style,p=u.terrain;for(const b in u.sourceCaches){this._coordsDescendingInv[b]={};const S=u.sourceCaches[b].getVisibleCoordinates();for(const E of S){const L=p.sourceCache.getTerrainCoords(E);for(const $ in L)this._coordsDescendingInv[b][$]||(this._coordsDescendingInv[b][$]=[]),this._coordsDescendingInv[b][$].push(L[$])}}for(const b of u._order){const S=u._layers[b],E=S.source;if(this._renderToTexture[S.type]&&!this._coordsDescendingInvStr[E]){this._coordsDescendingInvStr[E]={};for(const L in this._coordsDescendingInv[E])this._coordsDescendingInvStr[E][L]=this._coordsDescendingInv[E][L].map($=>$.key).sort().join()}}return this._renderableTiles.forEach(b=>{for(const S in this._coordsDescendingInvStr){const E=this._coordsDescendingInvStr[S][b.tileID.key];E&&E!==b.textureCoords[S]&&b.clearTextures(this.painter),p.needsRerender(S,b.tileID)&&b.clearTextures(this.painter)}this._rerender[b.tileID.key]=!b.textures.length}),p.clearRerenderCache(),p.sourceCache.removeOutdated(this.painter),this}renderLayer(u){const p=u.type,b=this.painter,S=b.style._order,E=b.currentLayer,L=E+1===S.length;if(this._renderToTexture[p]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=p,this._stacks[this._stacks.length-1].push(S[E]),!L))return!0;if(this._renderToTexture[this._prevType]||p==="hillshade"||this._renderToTexture[p]&&L){this._prevType=p;const $=this._stacks.length-1,B=this._stacks[$]||[];for(const j of this._renderableTiles){if(Wg(b,b.style.terrain,j,$),this._rerender[j.tileID.key]){b.context.clear({color:a.Color.transparent});for(let q=0;q<B.length;q++){const Y=b.style._layers[B[q]],ee=Y.source?this._coordsDescendingInv[Y.source][j.tileID.key]:[j.tileID];b._renderTileClippingMasks(Y,ee),b.renderLayer(b,b.style.sourceCaches[Y.source],Y,ee),Y.source&&(j.textureCoords[Y.source]=this._coordsDescendingInvStr[Y.source][j.tileID.key])}}Qh(b,b.style.terrain,j)}if(p==="hillshade"){this._stacks.push([S[E]]);for(const j of this._renderableTiles){const q=this._coordsDescendingInv[u.source][j.tileID.key];Wg(b,b.style.terrain,j,this._stacks.length-1),b.context.clear({color:a.Color.transparent}),b._renderTileClippingMasks(u,q),b.renderLayer(b,b.style.sourceCaches[u.source],u,q),Qh(b,b.style.terrain,j)}return!0}return this._renderToTexture[p]}return!1}}const oc={symbol:function(x,u,p,b,S){if(x.renderPass!=="translucent")return;const E=sn.disabled,L=x.colorModeForRenderPass();p.layout.get("text-variable-anchor")&&function($,B,j,q,Y,ee,ge){const pe=B.transform,ve=Y==="map",Ae=ee==="map";for(const De of $){const $e=q.getTile(De),be=$e.getBucket(j);if(!be||!be.text||!be.text.segments.get().length)continue;const Ue=a.evaluateSizeForZoom(be.textSizeData,pe.zoom),Fe=jn($e,1,B.transform.zoom),Je=Wr(De.posMatrix,Ae,ve,B.transform,Fe),Qe=j.layout.get("icon-text-fit")!=="none"&&be.hasIconData();if(Ue){const ft=Math.pow(2,pe.zoom-$e.tileID.overscaledZ);Ug(be,ve,Ae,ge,pe,Je,De.posMatrix,ft,Ue,Qe,B.style.terrain?(Ke,Mt)=>B.style.terrain.getElevation(De,Ke,Mt):null)}}}(b,x,p,u,p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),S),p.paint.get("icon-opacity").constantOr(1)!==0&&Kh(x,u,p,b,!1,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),p.layout.get("icon-rotation-alignment"),p.layout.get("icon-pitch-alignment"),p.layout.get("icon-keep-upright"),E,L),p.paint.get("text-opacity").constantOr(1)!==0&&Kh(x,u,p,b,!0,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),p.layout.get("text-rotation-alignment"),p.layout.get("text-pitch-alignment"),p.layout.get("text-keep-upright"),E,L),u.map.showCollisionBoxes&&(Ql(x,u,p,b,p.paint.get("text-translate"),p.paint.get("text-translate-anchor"),!0),Ql(x,u,p,b,p.paint.get("icon-translate"),p.paint.get("icon-translate-anchor"),!1))},circle:function(x,u,p,b){if(x.renderPass!=="translucent")return;const S=p.paint.get("circle-opacity"),E=p.paint.get("circle-stroke-width"),L=p.paint.get("circle-stroke-opacity"),$=!p.layout.get("circle-sort-key").isConstant();if(S.constantOr(1)===0&&(E.constantOr(1)===0||L.constantOr(1)===0))return;const B=x.context,j=B.gl,q=x.depthModeForSublayer(0,Pr.ReadOnly),Y=sn.disabled,ee=x.colorModeForRenderPass(),ge=[];for(let pe=0;pe<b.length;pe++){const ve=b[pe],Ae=u.getTile(ve),De=Ae.getBucket(p);if(!De)continue;const $e=De.programConfigurations.get(p.id),be=x.useProgram("circle",$e),Ue=De.layoutVertexBuffer,Fe=De.indexBuffer,Je=x.style.terrain&&x.style.terrain.getTerrainData(ve),Qe={programConfiguration:$e,program:be,layoutVertexBuffer:Ue,indexBuffer:Fe,uniformValues:Mg(x,ve,Ae,p),terrainData:Je};if($){const ft=De.segments.get();for(const Ke of ft)ge.push({segments:new a.SegmentVector([Ke]),sortKey:Ke.sortKey,state:Qe})}else ge.push({segments:De.segments,sortKey:0,state:Qe})}$&&ge.sort((pe,ve)=>pe.sortKey-ve.sortKey);for(const pe of ge){const{programConfiguration:ve,program:Ae,layoutVertexBuffer:De,indexBuffer:$e,uniformValues:be,terrainData:Ue}=pe.state;Ae.draw(B,j.TRIANGLES,q,Y,ee,xn.disabled,be,Ue,p.id,De,$e,pe.segments,p.paint,x.transform.zoom,ve)}},heatmap:function(x,u,p,b){if(p.paint.get("heatmap-opacity")!==0)if(x.renderPass==="offscreen"){const S=x.context,E=S.gl,L=sn.disabled,$=new fn([E.ONE,E.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(B,j,q){const Y=B.gl;B.activeTexture.set(Y.TEXTURE1),B.viewport.set([0,0,j.width/4,j.height/4]);let ee=q.heatmapFbo;if(ee)Y.bindTexture(Y.TEXTURE_2D,ee.colorAttachment.get()),B.bindFramebuffer.set(ee.framebuffer);else{const ge=Y.createTexture();Y.bindTexture(Y.TEXTURE_2D,ge),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),ee=q.heatmapFbo=B.createFramebuffer(j.width/4,j.height/4,!1),function(pe,ve,Ae,De){const $e=pe.gl;$e.texImage2D($e.TEXTURE_2D,0,$e.RGBA,ve.width/4,ve.height/4,0,$e.RGBA,pe.extRenderToTextureHalfFloat?pe.extTextureHalfFloat.HALF_FLOAT_OES:$e.UNSIGNED_BYTE,null),De.colorAttachment.set(Ae)}(B,j,ge,ee)}})(S,x,p),S.clear({color:a.Color.transparent});for(let B=0;B<b.length;B++){const j=b[B];if(u.hasRenderableParent(j))continue;const q=u.getTile(j),Y=q.getBucket(p);if(!Y)continue;const ee=Y.programConfigurations.get(p.id),ge=x.useProgram("heatmap",ee),{zoom:pe}=x.transform;ge.draw(S,E.TRIANGLES,Pr.disabled,L,$,xn.disabled,Nh(j.posMatrix,q,pe,p.paint.get("heatmap-intensity")),null,p.id,Y.layoutVertexBuffer,Y.indexBuffer,Y.segments,p.paint,x.transform.zoom,ee)}S.viewport.set([0,0,x.width,x.height])}else x.renderPass==="translucent"&&(x.context.setColorMode(x.colorModeForRenderPass()),function(S,E){const L=S.context,$=L.gl,B=E.heatmapFbo;if(!B)return;L.activeTexture.set($.TEXTURE0),$.bindTexture($.TEXTURE_2D,B.colorAttachment.get()),L.activeTexture.set($.TEXTURE1);let j=E.colorRampTexture;j||(j=E.colorRampTexture=new P(L,E.colorRamp,$.RGBA)),j.bind($.LINEAR,$.CLAMP_TO_EDGE),S.useProgram("heatmapTexture").draw(L,$.TRIANGLES,Pr.disabled,sn.disabled,S.colorModeForRenderPass(),xn.disabled,((q,Y,ee,ge)=>{const pe=a.create();a.ortho(pe,0,q.width,q.height,0,0,1);const ve=q.context.gl;return{u_matrix:pe,u_world:[ve.drawingBufferWidth,ve.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Y.paint.get("heatmap-opacity")}})(S,E),null,E.id,S.viewportBuffer,S.quadTriangleIndexBuffer,S.viewportSegments,E.paint,S.transform.zoom)}(x,p))},line:function(x,u,p,b){if(x.renderPass!=="translucent")return;const S=p.paint.get("line-opacity"),E=p.paint.get("line-width");if(S.constantOr(1)===0||E.constantOr(1)===0)return;const L=x.depthModeForSublayer(0,Pr.ReadOnly),$=x.colorModeForRenderPass(),B=p.paint.get("line-dasharray"),j=p.paint.get("line-pattern"),q=j.constantOr(1),Y=p.paint.get("line-gradient"),ee=p.getCrossfadeParameters(),ge=q?"linePattern":B?"lineSDF":Y?"lineGradient":"line",pe=x.context,ve=pe.gl;let Ae=!0;for(const De of b){const $e=u.getTile(De);if(q&&!$e.patternsLoaded())continue;const be=$e.getBucket(p);if(!be)continue;const Ue=be.programConfigurations.get(p.id),Fe=x.context.program.get(),Je=x.useProgram(ge,Ue),Qe=Ae||Je.program!==Fe,ft=x.style.terrain&&x.style.terrain.getTerrainData(De),Ke=j.constantOr(null);if(Ke&&$e.imageAtlas){const Ot=$e.imageAtlas,mr=Ot.patternPositions[Ke.to.toString()],br=Ot.patternPositions[Ke.from.toString()];mr&&br&&Ue.setConstantPatternPositions(mr,br)}const Mt=ft?De:null,xt=q?Uh(x,$e,p,ee,Mt):B?Ku(x,$e,p,B,ee,Mt):Y?rp(x,$e,p,be.lineClipsArray.length,Mt):Zl(x,$e,p,Mt);if(q)pe.activeTexture.set(ve.TEXTURE0),$e.imageAtlasTexture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE),Ue.updatePaintBuffers(ee);else if(B&&(Qe||x.lineAtlas.dirty))pe.activeTexture.set(ve.TEXTURE0),x.lineAtlas.bind(pe);else if(Y){const Ot=be.gradients[p.id];let mr=Ot.texture;if(p.gradientVersion!==Ot.version){let br=256;if(p.stepInterpolant){const Kt=u.getSource().maxzoom,qr=De.canonical.z===Kt?Math.ceil(1<<x.transform.maxZoom-De.canonical.z):1;br=a.clamp(a.nextPowerOfTwo(be.maxLineLength/a.EXTENT*1024*qr),256,pe.maxTextureSize)}Ot.gradient=a.renderColorRamp({expression:p.gradientExpression(),evaluationKey:"lineProgress",resolution:br,image:Ot.gradient||void 0,clips:be.lineClipsArray}),Ot.texture?Ot.texture.update(Ot.gradient):Ot.texture=new P(pe,Ot.gradient,ve.RGBA),Ot.version=p.gradientVersion,mr=Ot.texture}pe.activeTexture.set(ve.TEXTURE0),mr.bind(p.stepInterpolant?ve.NEAREST:ve.LINEAR,ve.CLAMP_TO_EDGE)}Je.draw(pe,ve.TRIANGLES,L,x.stencilModeForClipping(De),$,xn.disabled,xt,ft,p.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,p.paint,x.transform.zoom,Ue,be.layoutVertexBuffer2),Ae=!1}},fill:function(x,u,p,b){const S=p.paint.get("fill-color"),E=p.paint.get("fill-opacity");if(E.constantOr(1)===0)return;const L=x.colorModeForRenderPass(),$=p.paint.get("fill-pattern"),B=x.opaquePassEnabledForLayer()&&!$.constantOr(1)&&S.constantOr(a.Color.transparent).a===1&&E.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===B){const j=x.depthModeForSublayer(1,x.renderPass==="opaque"?Pr.ReadWrite:Pr.ReadOnly);rc(x,u,p,b,j,L,!1)}if(x.renderPass==="translucent"&&p.paint.get("fill-antialias")){const j=x.depthModeForSublayer(p.getPaintProperty("fill-outline-color")?2:0,Pr.ReadOnly);rc(x,u,p,b,j,L,!0)}},"fill-extrusion":function(x,u,p,b){const S=p.paint.get("fill-extrusion-opacity");if(S!==0&&x.renderPass==="translucent"){const E=new Pr(x.context.gl.LEQUAL,Pr.ReadWrite,x.depthRangeFor3D);if(S!==1||p.paint.get("fill-extrusion-pattern").constantOr(1))nc(x,u,p,b,E,sn.disabled,fn.disabled),nc(x,u,p,b,E,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const L=x.colorModeForRenderPass();nc(x,u,p,b,E,sn.disabled,L)}}},hillshade:function(x,u,p,b){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const S=x.context,E=x.depthModeForSublayer(0,Pr.ReadOnly),L=x.colorModeForRenderPass(),[$,B]=x.renderPass==="translucent"?x.stencilConfigForOverlap(b):[{},b];for(const j of B){const q=u.getTile(j);q.needsHillshadePrepare!==void 0&&q.needsHillshadePrepare&&x.renderPass==="offscreen"?Hg(x,q,p,E,sn.disabled,L):x.renderPass==="translucent"&&vp(x,j,q,p,E,$[j.overscaledZ],L)}S.viewport.set([0,0,x.width,x.height])},raster:function(x,u,p,b){if(x.renderPass!=="translucent"||p.paint.get("raster-opacity")===0||!b.length)return;const S=x.context,E=S.gl,L=u.getSource(),$=x.useProgram("raster"),B=x.colorModeForRenderPass(),[j,q]=L instanceof ht?[{},b]:x.stencilConfigForOverlap(b),Y=q[q.length-1].overscaledZ,ee=!x.options.moving;for(const ge of q){const pe=x.depthModeForSublayer(ge.overscaledZ-Y,p.paint.get("raster-opacity")===1?Pr.ReadWrite:Pr.ReadOnly,E.LESS),ve=u.getTile(ge);ve.registerFadeDuration(p.paint.get("raster-fade-duration"));const Ae=u.findLoadedParent(ge,0),De=Yh(ve,Ae,u,p,x.transform,x.style.terrain);let $e,be;const Ue=p.paint.get("raster-resampling")==="nearest"?E.NEAREST:E.LINEAR;S.activeTexture.set(E.TEXTURE0),ve.texture.bind(Ue,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),S.activeTexture.set(E.TEXTURE1),Ae?(Ae.texture.bind(Ue,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),$e=Math.pow(2,Ae.tileID.overscaledZ-ve.tileID.overscaledZ),be=[ve.tileID.canonical.x*$e%1,ve.tileID.canonical.y*$e%1]):ve.texture.bind(Ue,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST);const Fe=x.style.terrain&&x.style.terrain.getTerrainData(ge),Je=Fe?ge:null,Qe=Je?Je.posMatrix:x.transform.calculatePosMatrix(ge.toUnwrapped(),ee),ft=Dg(Qe,be||[0,0],$e||1,De,p);L instanceof ht?$.draw(S,E.TRIANGLES,pe,sn.disabled,B,xn.disabled,ft,Fe,p.id,L.boundsBuffer,x.quadTriangleIndexBuffer,L.boundsSegments):$.draw(S,E.TRIANGLES,pe,j[ge.overscaledZ],B,xn.disabled,ft,Fe,p.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}},background:function(x,u,p,b){const S=p.paint.get("background-color"),E=p.paint.get("background-opacity");if(E===0)return;const L=x.context,$=L.gl,B=x.transform,j=B.tileSize,q=p.paint.get("background-pattern");if(x.isPatternMissing(q))return;const Y=!q&&S.a===1&&E===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Y)return;const ee=sn.disabled,ge=x.depthModeForSublayer(0,Y==="opaque"?Pr.ReadWrite:Pr.ReadOnly),pe=x.colorModeForRenderPass(),ve=x.useProgram(q?"backgroundPattern":"background"),Ae=b||B.coveringTiles({tileSize:j,terrain:x.style.terrain});q&&(L.activeTexture.set($.TEXTURE0),x.imageManager.bind(x.context));const De=p.getCrossfadeParameters();for(const $e of Ae){const be=b?$e.posMatrix:x.transform.calculatePosMatrix($e.toUnwrapped()),Ue=q?Gb(be,E,x,q,{tileID:$e,tileSize:j},De):jb(be,E,S),Fe=x.style.terrain&&x.style.terrain.getTerrainData($e);ve.draw(L,$.TRIANGLES,ge,ee,pe,xn.disabled,Ue,Fe,p.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}},debug:function(x,u,p){for(let b=0;b<p.length;b++)rx(x,u,p[b])},custom:function(x,u,p){const b=x.context,S=p.implementation;if(x.renderPass==="offscreen"){const E=S.prerender;E&&(x.setCustomLayerDefaults(),b.setColorMode(x.colorModeForRenderPass()),E.call(S,b.gl,x.transform.customLayerMatrix()),b.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),b.setColorMode(x.colorModeForRenderPass()),b.setStencilMode(sn.disabled);const E=S.renderingMode==="3d"?new Pr(x.context.gl.LEQUAL,Pr.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,Pr.ReadOnly);b.setDepthMode(E),S.render(b.gl,x.transform.customLayerMatrix()),b.setDirty(),x.setBaseState(),b.bindFramebuffer.set(null)}}};class yp{constructor(u,p){this.context=new Vg(u),this.transform=p,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.create(),renderTime:0},this.setup(),this.numSublayers=We.maxUnderzooming+We.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new or,this.gpuTimers={}}resize(u,p,b){if(this.width=u*b,this.height=p*b,this.pixelRatio=b,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const u=this.context,p=new a.PosArray;p.emplaceBack(0,0),p.emplaceBack(a.EXTENT,0),p.emplaceBack(0,a.EXTENT),p.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=u.createVertexBuffer(p,Lr.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const b=new a.PosArray;b.emplaceBack(0,0),b.emplaceBack(a.EXTENT,0),b.emplaceBack(0,a.EXTENT),b.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=u.createVertexBuffer(b,Lr.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const S=new a.RasterBoundsArray;S.emplaceBack(0,0,0,0),S.emplaceBack(a.EXTENT,0,a.EXTENT,0),S.emplaceBack(0,a.EXTENT,0,a.EXTENT),S.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=u.createVertexBuffer(S,Ve.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const E=new a.PosArray;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(E,Lr.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const L=new a.LineStripIndexArray;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=u.createIndexBuffer(L);const $=new a.TriangleIndexArray;$.emplaceBack(0,1,2),$.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer($),this.emptyTexture=new P(u,{width:1,height:1,data:new Uint8Array([0,0,0,0])},u.gl.RGBA);const B=this.context.gl;this.stencilClearMode=new sn({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO)}clearStencil(){const u=this.context,p=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const b=a.create();a.ortho(b,0,this.width,this.height,0,0,1),a.scale(b,b,[p.drawingBufferWidth,p.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(u,p.TRIANGLES,Pr.disabled,this.stencilClearMode,fn.disabled,xn.disabled,Xl(b),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(u,p){if(this.currentStencilSource===u.source||!u.isTileClipped()||!p||!p.length)return;this.currentStencilSource=u.source;const b=this.context,S=b.gl;this.nextStencilID+p.length>256&&this.clearStencil(),b.setColorMode(fn.disabled),b.setDepthMode(Pr.disabled);const E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const L of p){const $=this._tileClippingMaskIDs[L.key]=this.nextStencilID++,B=this.style.terrain&&this.style.terrain.getTerrainData(L);E.draw(b,S.TRIANGLES,Pr.disabled,new sn({func:S.ALWAYS,mask:0},$,255,S.KEEP,S.KEEP,S.REPLACE),fn.disabled,xn.disabled,Xl(L.posMatrix),B,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,p=this.context.gl;return new sn({func:p.NOTEQUAL,mask:255},u,255,p.KEEP,p.KEEP,p.REPLACE)}stencilModeForClipping(u){const p=this.context.gl;return new sn({func:p.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,p.KEEP,p.KEEP,p.REPLACE)}stencilConfigForOverlap(u){const p=this.context.gl,b=u.sort((L,$)=>$.overscaledZ-L.overscaledZ),S=b[b.length-1].overscaledZ,E=b[0].overscaledZ-S+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const L={};for(let $=0;$<E;$++)L[$+S]=new sn({func:p.GEQUAL,mask:255},$+this.nextStencilID,255,p.KEEP,p.KEEP,p.REPLACE);return this.nextStencilID+=E,[L,b]}return[{[S]:sn.disabled},b]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new fn([u.CONSTANT_COLOR,u.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?fn.unblended:fn.alphaBlended}depthModeForSublayer(u,p,b){if(!this.opaquePassEnabledForLayer())return Pr.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new Pr(b||this.context.gl.LEQUAL,p,[S,S])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,p){this.style=u,this.options=p,this.lineAtlas=u.lineAtlas,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const b=this.style._order,S=this.style.sourceCaches,E=this.style.terrain&&new qg(this);for(const j in S){const q=S[j];q.used&&q.prepare(this.context)}const L={},$={},B={};for(const j in S){const q=S[j];L[j]=q.getVisibleCoordinates(),$[j]=L[j].slice().reverse(),B[j]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let j=0;j<b.length;j++)if(this.style._layers[b[j]].is3D()){this.opaquePassCutoff=j;break}if(E){this.opaquePassCutoff=0;const j=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!a.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||j.length)&&(a.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(q,Y){const ee=q.context,ge=ee.gl,pe=fn.unblended,ve=new Pr(ge.LEQUAL,Pr.ReadWrite,[0,1]),Ae=Y.getTerrainMesh(),De=Y.sourceCache.getRenderableTiles(),$e=q.useProgram("terrainDepth");ee.bindFramebuffer.set(Y.getFramebuffer("depth").framebuffer),ee.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),ee.clear({color:a.Color.transparent,depth:1});for(const be of De){const Ue=Y.getTerrainData(be.tileID),Fe=q.transform.calculatePosMatrix(be.tileID.toUnwrapped());$e.draw(ee,ge.TRIANGLES,ve,sn.disabled,pe,xn.backCCW,{u_matrix:Fe},Ue,"terrain",Ae.vertexBuffer,Ae.indexBuffer,Ae.segments)}ee.bindFramebuffer.set(null),ee.viewport.set([0,0,q.width,q.height])}(this,this.style.terrain),function(q,Y){const ee=q.context,ge=ee.gl,pe=fn.unblended,ve=new Pr(ge.LEQUAL,Pr.ReadWrite,[0,1]),Ae=Y.getTerrainMesh(),De=Y.getCoordsTexture(),$e=Y.sourceCache.getRenderableTiles(),be=q.useProgram("terrainCoords");ee.bindFramebuffer.set(Y.getFramebuffer("coords").framebuffer),ee.viewport.set([0,0,q.width/devicePixelRatio,q.height/devicePixelRatio]),ee.clear({color:a.Color.transparent,depth:1}),Y.coordsIndex=[];for(const Ue of $e){const Fe=Y.getTerrainData(Ue.tileID);ee.activeTexture.set(ge.TEXTURE0),ge.bindTexture(ge.TEXTURE_2D,De.texture);const Je=q.transform.calculatePosMatrix(Ue.tileID.toUnwrapped());be.draw(ee,ge.TRIANGLES,ve,sn.disabled,pe,xn.backCCW,{u_matrix:Je,u_terrain_coords_id:(255-Y.coordsIndex.length)/255,u_texture:0},Fe,"terrain",Ae.vertexBuffer,Ae.indexBuffer,Ae.segments),Y.coordsIndex.push(Ue.tileID.key)}ee.bindFramebuffer.set(null),ee.viewport.set([0,0,q.width,q.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const j of b){const q=this.style._layers[j];if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const Y=$[q.source];(q.type==="custom"||Y.length)&&this.renderLayer(this,S[q.source],q,Y)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:p.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=p.showOverdrawInspector,this.depthRangeFor3D=[0,1-(u._order.length+2)*this.numSublayers*this.depthEpsilon],!E)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const j=this.style._layers[b[this.currentLayer]],q=S[j.source],Y=L[j.source];this._renderTileClippingMasks(j,Y),this.renderLayer(this,q,j,Y)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const j=this.style._layers[b[this.currentLayer]],q=S[j.source];if(E&&E.renderLayer(j))continue;const Y=(j.type==="symbol"?B:$)[j.source];this._renderTileClippingMasks(j,L[j.source]),this.renderLayer(this,q,j,Y)}if(this.options.showTileBoundaries){let j,q;Object.values(this.style._layers).forEach(Y=>{Y.source&&!Y.isHidden(this.transform.zoom)&&(Y.source!==(q&&q.id)&&(q=this.style.sourceCaches[Y.source]),(!j||j.getSource().maxzoom<q.getSource().maxzoom)&&(j=q))}),j&&oc.debug(this,j,j.getVisibleCoordinates())}this.options.showPadding&&function(j){const q=j.transform.padding;qs(j,j.transform.height-(q.top||0),3,Jh),qs(j,q.bottom||0,3,Fo),ic(j,q.left||0,3,jg),ic(j,j.transform.width-(q.right||0),3,gp);const Y=j.transform.centerPoint;(function(ee,ge,pe,ve){eu(ee,ge-1,pe-10,2,20,ve),eu(ee,ge-10,pe-1,20,2,ve)})(j,Y.x,j.transform.height-Y.y,Gg)}(this),this.context.setDefault()}renderLayer(u,p,b,S){b.isHidden(this.transform.zoom)||(b.type==="background"||b.type==="custom"||(S||[]).length)&&(this.id=b.id,this.gpuTimingStart(b),oc[b.type](u,p,b,S,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(u){if(!this.options.gpuTiming)return;const p=this.context.extTimerQuery;let b=this.gpuTimers[u.id];b||(b=this.gpuTimers[u.id]={calls:0,cpuTime:0,query:p.createQueryEXT()}),b.calls++,p.beginQueryEXT(p.TIME_ELAPSED_EXT,b.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;u.endQueryEXT(u.TIME_ELAPSED_EXT)}collectGpuTimers(){const u=this.gpuTimers;return this.gpuTimers={},u}queryGpuTimers(u){const p={};for(const b in u){const S=u[b],E=this.context.extTimerQuery,L=E.getQueryObjectEXT(S.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(S.query),p[b]=L}return p}translatePosMatrix(u,p,b,S,E){if(!b[0]&&!b[1])return u;const L=E?S==="map"?this.transform.angle:0:S==="viewport"?-this.transform.angle:0;if(L){const j=Math.sin(L),q=Math.cos(L);b=[b[0]*q-b[1]*j,b[0]*j+b[1]*q]}const $=[E?b[0]:jn(p,b[0],this.transform.zoom),E?b[1]:jn(p,b[1],this.transform.zoom),0],B=new Float32Array(16);return a.translate(B,u,$),B}saveTileTexture(u){const p=this._tileTextures[u.size[0]];p?p.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const p=this._tileTextures[u];return p&&p.length>0?p.pop():null}isPatternMissing(u){if(!u)return!1;if(!u.from||!u.to)return!0;const p=this.imageManager.getPattern(u.from.toString()),b=this.imageManager.getPattern(u.to.toString());return!p||!b}useProgram(u,p){this.cache=this.cache||{};const b=u+(p?p.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[b]||(this.cache[b]=new Eg(this.context,u,Xu[u],p,ip[u],this._showOverdrawInspector,this.style.terrain)),this.cache[b]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new P(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class ef{constructor(u,p){this.points=u,this.planes=p}static fromInvProjectionMatrix(u,p,b){const S=Math.pow(2,b),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map($=>{const B=1/($=a.transformMat4([],$,u))[3]/p*S;return a.mul$1($,$,[B,B,1/$[3],B])}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map($=>{const B=a.sub([],E[$[0]],E[$[1]]),j=a.sub([],E[$[2]],E[$[1]]),q=a.normalize([],a.cross([],B,j)),Y=-a.dot(q,E[$[1]]);return q.concat(Y)});return new ef(E,L)}}class ac{constructor(u,p){this.min=u,this.max=p,this.center=a.scale$1([],a.add([],this.min,this.max),.5)}quadrant(u){const p=[u%2==0,u<2],b=a.clone$2(this.min),S=a.clone$2(this.max);for(let E=0;E<p.length;E++)b[E]=p[E]?this.min[E]:this.center[E],S[E]=p[E]?this.center[E]:this.max[E];return S[2]=this.max[2],new ac(b,S)}distanceX(u){return Math.max(Math.min(this.max[0],u[0]),this.min[0])-u[0]}distanceY(u){return Math.max(Math.min(this.max[1],u[1]),this.min[1])-u[1]}intersects(u){const p=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let b=!0;for(let S=0;S<u.planes.length;S++){const E=u.planes[S];let L=0;for(let $=0;$<p.length;$++)a.dot$1(E,p[$])>=0&&L++;if(L===0)return 0;L!==p.length&&(b=!1)}if(b)return 2;for(let S=0;S<3;S++){let E=Number.MAX_VALUE,L=-Number.MAX_VALUE;for(let $=0;$<u.points.length;$++){const B=u.points[$][S]-this.min[S];E=Math.min(E,B),L=Math.max(L,B)}if(L<0||E>this.max[S]-this.min[S])return 0}return 1}}class tu{constructor(u=0,p=0,b=0,S=0){if(isNaN(u)||u<0||isNaN(p)||p<0||isNaN(b)||b<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=p,this.left=b,this.right=S}interpolate(u,p,b){return p.top!=null&&u.top!=null&&(this.top=a.number(u.top,p.top,b)),p.bottom!=null&&u.bottom!=null&&(this.bottom=a.number(u.bottom,p.bottom,b)),p.left!=null&&u.left!=null&&(this.left=a.number(u.left,p.left,b)),p.right!=null&&u.right!=null&&(this.right=a.number(u.right,p.right,b)),this}getCenter(u,p){const b=a.clamp((this.left+u-this.right)/2,0,u),S=a.clamp((this.top+p-this.bottom)/2,0,p);return new a.pointGeometry(b,S)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new tu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class sc{constructor(u,p,b,S,E){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=E===void 0||!!E,this._minZoom=u||0,this._maxZoom=p||22,this._minPitch=b??0,this._maxPitch=S??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new tu,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const u=new sc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return u.tileSize=this.tileSize,u.latRange=this.latRange,u.width=this.width,u.height=this.height,u._center=this._center,u._elevation=this._elevation,u.zoom=this.zoom,u.angle=this.angle,u._fov=this._fov,u._pitch=this._pitch,u._unmodified=this._unmodified,u._edgeInsets=this._edgeInsets.clone(),u._calcMatrices(),u}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(u){const p=-a.wrap(u,-180,180)*Math.PI/180;var b;this.angle!==p&&(this._unmodified=!1,this.angle=p,this._calcMatrices(),this.rotationMatrix=(b=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0),b[0]=1,b[3]=1,b),function(S,E,L){var $=E[0],B=E[1],j=E[2],q=E[3],Y=Math.sin(L),ee=Math.cos(L);S[0]=$*ee+j*Y,S[1]=B*ee+q*Y,S[2]=$*-Y+j*ee,S[3]=B*-Y+q*ee}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const p=a.clamp(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==p&&(this._unmodified=!1,this._pitch=p,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=u/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(u){const p=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==p&&(this._unmodified=!1,this._zoom=p,this.scale=this.zoomScale(p),this.tileZoom=Math.floor(p),this.zoomFraction=p-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(u){u!==this._elevation&&(this._elevation=u,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,p,b){this._unmodified=!1,this._edgeInsets.interpolate(u,p,b),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const p=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,p)}getVisibleUnwrappedCoordinates(u){const p=[new a.UnwrappedTileID(0,u)];if(this._renderWorldCopies){const b=this.pointCoordinate(new a.pointGeometry(0,0)),S=this.pointCoordinate(new a.pointGeometry(this.width,0)),E=this.pointCoordinate(new a.pointGeometry(this.width,this.height)),L=this.pointCoordinate(new a.pointGeometry(0,this.height)),$=Math.floor(Math.min(b.x,S.x,E.x,L.x)),B=Math.floor(Math.max(b.x,S.x,E.x,L.x)),j=1;for(let q=$-j;q<=B+j;q++)q!==0&&p.push(new a.UnwrappedTileID(q,u))}return p}coveringTiles(u){var p,b;let S=this.coveringZoomLevel(u);const E=S;if(u.minzoom!==void 0&&S<u.minzoom)return[];u.maxzoom!==void 0&&S>u.maxzoom&&(S=u.maxzoom);const L=this.pointCoordinate(this.getCameraPoint()),$=a.MercatorCoordinate.fromLngLat(this.center),B=Math.pow(2,S),j=[B*L.x,B*L.y,0],q=[B*$.x,B*$.y,0],Y=ef.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,S);let ee=u.minzoom||0;!u.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ee=S);const ge=u.terrain?2/Math.min(this.tileSize,u.tileSize)*this.tileSize:3,pe=be=>({aabb:new ac([be*B,0,0],[(be+1)*B,B,0]),zoom:0,x:0,y:0,wrap:be,fullyVisible:!1}),ve=[],Ae=[],De=S,$e=u.reparseOverscaled?E:S;if(this._renderWorldCopies)for(let be=1;be<=3;be++)ve.push(pe(-be)),ve.push(pe(be));for(ve.push(pe(0));ve.length>0;){const be=ve.pop(),Ue=be.x,Fe=be.y;let Je=be.fullyVisible;if(!Je){const Ot=be.aabb.intersects(Y);if(Ot===0)continue;Je=Ot===2}const Qe=u.terrain?j:q,ft=be.aabb.distanceX(Qe),Ke=be.aabb.distanceY(Qe),Mt=Math.max(Math.abs(ft),Math.abs(Ke)),xt=ge+(1<<De-be.zoom)-2;if(be.zoom===De||Mt>xt&&be.zoom>=ee){const Ot=De-be.zoom,mr=j[0]-.5-(Ue<<Ot),br=j[1]-.5-(Fe<<Ot);Ae.push({tileID:new a.OverscaledTileID(be.zoom===De?$e:be.zoom,be.wrap,be.zoom,Ue,Fe),distanceSq:a.sqrLen([q[0]-.5-Ue,q[1]-.5-Fe]),tileDistanceToCamera:Math.sqrt(mr*mr+br*br)})}else for(let Ot=0;Ot<4;Ot++){const mr=(Ue<<1)+Ot%2,br=(Fe<<1)+(Ot>>1),Kt=be.zoom+1;let qr=be.aabb.quadrant(Ot);if(u.terrain){const Xr=new a.OverscaledTileID(Kt,be.wrap,Kt,mr,br),Ir=u.terrain.getMinMaxElevation(Xr),kr=(p=Ir.minElevation)!==null&&p!==void 0?p:this.elevation,Jr=(b=Ir.maxElevation)!==null&&b!==void 0?b:this.elevation;qr=new ac([qr.min[0],qr.min[1],kr],[qr.max[0],qr.max[1],Jr])}ve.push({aabb:qr,zoom:Kt,x:mr,y:br,wrap:be.wrap,fullyVisible:Je})}}return Ae.sort((be,Ue)=>be.distanceSq-Ue.distanceSq).map(be=>be.tileID)}resize(u,p){this.width=u,this.height=p,this.pixelsToGLUnits=[2/u,-2/p],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const p=a.clamp(u.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.pointGeometry(a.mercatorXfromLng(u.lng)*this.worldSize,a.mercatorYfromLat(p)*this.worldSize)}unproject(u){return new a.MercatorCoordinate(u.x/this.worldSize,u.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(u){this.freezeElevation||(this.elevation=u?this.getElevation(this._center,u):0)}getElevation(u,p){const b=a.MercatorCoordinate.fromLngLat(u),S=(1<<this.tileZoom)*a.EXTENT,E=b.x*S,L=b.y*S,$=Math.floor(E/a.EXTENT),B=Math.floor(L/a.EXTENT),j=new a.OverscaledTileID(this.tileZoom,0,this.tileZoom,$,B);return p.getElevation(j,E%a.EXTENT,L%a.EXTENT,a.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(u){const p=this.pointLocation(this.centerPoint,u),b=this.getElevation(p,u);if(!(this.elevation-b))return;const S=this.getCameraPosition(),E=a.MercatorCoordinate.fromLngLat(S.lngLat,S.altitude),L=a.MercatorCoordinate.fromLngLat(p,b),$=E.x-L.x,B=E.y-L.y,j=E.z-L.z,q=Math.sqrt($*$+B*B+j*j),Y=this.scaleZoom(this.cameraToCenterDistance/q/this.tileSize);this._elevation=b,this._center=p,this.zoom=Y}setLocationAtPoint(u,p){const b=this.pointCoordinate(p),S=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(u),L=new a.MercatorCoordinate(E.x-(b.x-S.x),E.y-(b.y-S.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(u,p){return p?this.coordinatePoint(this.locationCoordinate(u),this.getElevation(u,p),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(u))}pointLocation(u,p){return this.coordinateLocation(this.pointCoordinate(u,p))}locationCoordinate(u){return a.MercatorCoordinate.fromLngLat(u)}coordinateLocation(u){return u&&u.toLngLat()}pointCoordinate(u,p){if(p){const ee=p.pointCoordinate(u);if(ee!=null)return ee}const b=[u.x,u.y,0,1],S=[u.x,u.y,1,1];a.transformMat4(b,b,this.pixelMatrixInverse),a.transformMat4(S,S,this.pixelMatrixInverse);const E=b[3],L=S[3],$=b[1]/E,B=S[1]/L,j=b[2]/E,q=S[2]/L,Y=j===q?0:(0-j)/(q-j);return new a.MercatorCoordinate(a.number(b[0]/E,S[0]/L,Y)/this.worldSize,a.number($,B,Y)/this.worldSize)}coordinatePoint(u,p=0,b=this.pixelMatrix){const S=[u.x*this.worldSize,u.y*this.worldSize,p,1];return a.transformMat4(S,S,b),new a.pointGeometry(S[0]/S[3],S[1]/S[3])}getBounds(){const u=Math.max(0,this.height/2-this.getHorizon());return new a.LngLatBounds().extend(this.pointLocation(new a.pointGeometry(0,u))).extend(this.pointLocation(new a.pointGeometry(this.width,u))).extend(this.pointLocation(new a.pointGeometry(this.width,this.height))).extend(this.pointLocation(new a.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(u){u?(this.lngRange=[u.getWest(),u.getEast()],this.latRange=[u.getSouth(),u.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(u,p=!1){const b=u.key,S=p?this._alignedPosMatrixCache:this._posMatrixCache;if(S[b])return S[b];const E=u.canonical,L=this.worldSize/this.zoomScale(E.z),$=E.x+Math.pow(2,E.z)*u.wrap,B=a.identity(new Float64Array(16));return a.translate(B,B,[$*L,E.y*L,0]),a.scale(B,B,[L/a.EXTENT,L/a.EXTENT,1]),a.multiply(B,p?this.alignedProjMatrix:this.projMatrix,B),S[b]=new Float32Array(B),S[b]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let u,p,b,S,E=-90,L=90,$=-180,B=180;const j=this.size,q=this._unmodified;if(this.latRange){const ge=this.latRange;E=a.mercatorYfromLat(ge[1])*this.worldSize,L=a.mercatorYfromLat(ge[0])*this.worldSize,u=L-E<j.y?j.y/(L-E):0}if(this.lngRange){const ge=this.lngRange;$=a.wrap(a.mercatorXfromLng(ge[0])*this.worldSize,0,this.worldSize),B=a.wrap(a.mercatorXfromLng(ge[1])*this.worldSize,0,this.worldSize),B<$&&(B+=this.worldSize),p=B-$<j.x?j.x/(B-$):0}const Y=this.point,ee=Math.max(p||0,u||0);if(ee)return this.center=this.unproject(new a.pointGeometry(p?(B+$)/2:Y.x,u?(L+E)/2:Y.y)),this.zoom+=this.scaleZoom(ee),this._unmodified=q,void(this._constraining=!1);if(this.latRange){const ge=Y.y,pe=j.y/2;ge-pe<E&&(S=E+pe),ge+pe>L&&(S=L-pe)}if(this.lngRange){const ge=($+B)/2,pe=a.wrap(Y.x,ge-this.worldSize/2,ge+this.worldSize/2),ve=j.x/2;pe-ve<$&&(b=$+ve),pe+ve>B&&(b=B-ve)}b===void 0&&S===void 0||(this.center=this.unproject(new a.pointGeometry(b!==void 0?b:Y.x,S!==void 0?S:Y.y)).wrap()),this._unmodified=q,this._constraining=!1}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,p=this.point.x,b=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let S=a.identity(new Float64Array(16));a.scale(S,S,[this.width/2,-this.height/2,1]),a.translate(S,S,[1,-1,0]),this.labelPlaneMatrix=S,S=a.identity(new Float64Array(16)),a.scale(S,S,[1,-1,1]),a.translate(S,S,[-1,-1,0]),a.scale(S,S,[2/this.width,2/this.height,1]),this.glCoordMatrix=S,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const E=Math.PI/2+this._pitch,L=this._fov*(.5+u.y/this.height),$=Math.sin(L)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-E-L,.01,Math.PI-.01)),B=this.getHorizon(),j=2*Math.atan(B/this.cameraToCenterDistance)*(.5+u.y/(2*B)),q=Math.sin(j)*this.cameraToSeaLevelDistance/Math.sin(a.clamp(Math.PI-E-j,.01,Math.PI-.01)),Y=Math.cos(Math.PI/2-this._pitch)*$+this.cameraToSeaLevelDistance,ee=Math.cos(Math.PI/2-this._pitch)*q+this.cameraToSeaLevelDistance,ge=1.01*Math.min(Y,ee),pe=this.height/50;S=new Float64Array(16),a.perspective(S,this._fov,this.width/this.height,pe,ge),S[8]=2*-u.x/this.width,S[9]=2*u.y/this.height,a.scale(S,S,[1,-1,1]),a.translate(S,S,[0,0,-this.cameraToCenterDistance]),a.rotateX(S,S,this._pitch),a.rotateZ(S,S,this.angle),a.translate(S,S,[-p,-b,0]),this.mercatorMatrix=a.scale([],S,[this.worldSize,this.worldSize,this.worldSize]),a.scale(S,S,[1,1,this._pixelPerMeter]),this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,S),a.translate(S,S,[0,0,-this.elevation]),this.projMatrix=S,this.invProjMatrix=a.invert([],S),this.pixelMatrix3D=a.multiply(new Float64Array(16),this.labelPlaneMatrix,S);const ve=this.width%2/2,Ae=this.height%2/2,De=Math.cos(this.angle),$e=Math.sin(this.angle),be=p-Math.round(p)+De*ve+$e*Ae,Ue=b-Math.round(b)+De*Ae+$e*ve,Fe=new Float64Array(S);if(a.translate(Fe,Fe,[be>.5?be-1:be,Ue>.5?Ue-1:Ue,0]),this.alignedProjMatrix=Fe,S=a.invert(new Float64Array(16),this.pixelMatrix),!S)throw new Error("failed to invert matrix");this.pixelMatrixInverse=S,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const u=this.pointCoordinate(new a.pointGeometry(0,0)),p=[u.x*this.worldSize,u.y*this.worldSize,0,1];return a.transformMat4(p,p,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.pointGeometry(0,u))}getCameraQueryGeometry(u){const p=this.getCameraPoint();if(u.length===1)return[u[0],p];{let b=p.x,S=p.y,E=p.x,L=p.y;for(const $ of u)b=Math.min(b,$.x),S=Math.min(S,$.y),E=Math.max(E,$.x),L=Math.max(L,$.y);return[new a.pointGeometry(b,S),new a.pointGeometry(E,S),new a.pointGeometry(E,L),new a.pointGeometry(b,L),new a.pointGeometry(b,S)]}}}class Xg{constructor(u){this._hashName=u&&encodeURIComponent(u),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(p,b){let S=!1,E=null;const L=()=>{E=null,S&&(p(),E=setTimeout(L,300),S=!1)};return()=>(S=!0,E||L(),E)}(this._updateHashUnthrottled.bind(this))}addTo(u){return this._map=u,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(u){const p=this._map.getCenter(),b=Math.round(100*this._map.getZoom())/100,S=Math.ceil((b*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,S),L=Math.round(p.lng*E)/E,$=Math.round(p.lat*E)/E,B=this._map.getBearing(),j=this._map.getPitch();let q="";if(q+=u?`/${L}/${$}/${b}`:`${b}/${$}/${L}`,(B||j)&&(q+="/"+Math.round(10*B)/10),j&&(q+=`/${Math.round(j)}`),this._hashName){const Y=this._hashName;let ee=!1;const ge=window.location.hash.slice(1).split("&").map(pe=>{const ve=pe.split("=")[0];return ve===Y?(ee=!0,`${ve}=${q}`):pe}).filter(pe=>pe);return ee||ge.push(`${Y}=${q}`),`#${ge.join("&")}`}return`#${q}`}_getCurrentHash(){const u=window.location.hash.replace("#","");if(this._hashName){let p;return u.split("&").map(b=>b.split("=")).forEach(b=>{b[0]===this._hashName&&(p=b)}),(p&&p[1]||"").split("/")}return u.split("/")}_onHashChange(){const u=this._getCurrentHash();if(u.length>=3&&!u.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:p,pitch:+(u[4]||0)}),!0}return!1}_updateHashUnthrottled(){const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}}}const lc={linearity:.3,easing:a.bezier(0,0,.3,1)},Zg=a.extend({deceleration:2500,maxSpeed:1400},lc),Kg=a.extend({deceleration:20,maxSpeed:1400},lc),Yg=a.extend({deceleration:1e3,maxSpeed:360},lc),ru=a.extend({deceleration:1e3,maxSpeed:90},lc);class Jg{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,p=a.exported.now();for(;u.length>0&&p-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const p={zoom:0,bearing:0,pitch:0,pan:new a.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)p.zoom+=E.zoomDelta||0,p.bearing+=E.bearingDelta||0,p.pitch+=E.pitchDelta||0,E.panDelta&&p.pan._add(E.panDelta),E.around&&(p.around=E.around),E.pinchAround&&(p.pinchAround=E.pinchAround);const b=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(p.pan.mag()){const E=cc(p.pan.mag(),b,a.extend({},Zg,u||{}));S.offset=p.pan.mult(E.amount/p.pan.mag()),S.center=this._map.transform.center,uc(S,E)}if(p.zoom){const E=cc(p.zoom,b,Kg);S.zoom=this._map.transform.zoom+E.amount,uc(S,E)}if(p.bearing){const E=cc(p.bearing,b,Yg);S.bearing=this._map.transform.bearing+a.clamp(E.amount,-179,179),uc(S,E)}if(p.pitch){const E=cc(p.pitch,b,ru);S.pitch=this._map.transform.pitch+E.amount,uc(S,E)}if(S.zoom||S.bearing){const E=p.pinchAround===void 0?p.around:p.pinchAround;S.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),a.extend(S,{noMoveStart:!0})}}function uc(x,u){(!x.duration||x.duration<u.duration)&&(x.duration=u.duration,x.easing=u.easing)}function cc(x,u,p){const{maxSpeed:b,linearity:S,deceleration:E}=p,L=a.clamp(x*S/(u/1e3),-b,b),$=Math.abs(L)/(E*S);return{easing:p.easing,duration:1e3*$,amount:L*($/2)}}class io extends a.Event{constructor(u,p,b,S={}){const E=g.mousePos(p.getCanvasContainer(),b),L=p.unproject(E);super(u,a.extend({point:E,lngLat:L,originalEvent:b},S)),this._defaultPrevented=!1,this.target=p}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class hc extends a.Event{constructor(u,p,b){const S=u==="touchend"?b.changedTouches:b.touches,E=g.touchPos(p.getCanvasContainer(),S),L=E.map(B=>p.unproject(B)),$=E.reduce((B,j,q,Y)=>B.add(j.div(Y.length)),new a.pointGeometry(0,0));super(u,{points:E,point:$,lngLats:L,lngLat:p.unproject($),originalEvent:b}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class oo extends a.Event{constructor(u,p,b){super(u,{originalEvent:b}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class nx{constructor(u,p){this._map=u,this._clickTolerance=p.clickTolerance}reset(){delete this._mousedownPos}wheel(u){return this._firePreventable(new oo(u.type,this._map,u))}mousedown(u,p){return this._mousedownPos=p,this._firePreventable(new io(u.type,this._map,u))}mouseup(u){this._map.fire(new io(u.type,this._map,u))}click(u,p){this._mousedownPos&&this._mousedownPos.dist(p)>=this._clickTolerance||this._map.fire(new io(u.type,this._map,u))}dblclick(u){return this._firePreventable(new io(u.type,this._map,u))}mouseover(u){this._map.fire(new io(u.type,this._map,u))}mouseout(u){this._map.fire(new io(u.type,this._map,u))}touchstart(u){return this._firePreventable(new hc(u.type,this._map,u))}touchmove(u){this._map.fire(new hc(u.type,this._map,u))}touchend(u){this._map.fire(new hc(u.type,this._map,u))}touchcancel(u){this._map.fire(new hc(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class us{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(u){this._map.fire(new io(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new io("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._ignoreContextMenu||this._map.fire(new io(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Qg{constructor(u,p){this._map=u,this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=p.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,p){this.isEnabled()&&u.shiftKey&&u.button===0&&(g.disableDrag(),this._startPos=this._lastPos=p,this._active=!0)}mousemoveWindow(u,p){if(!this._active)return;const b=p;if(this._lastPos.equals(b)||!this._box&&b.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=b,this._box||(this._box=g.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",u));const E=Math.min(S.x,b.x),L=Math.max(S.x,b.x),$=Math.min(S.y,b.y),B=Math.max(S.y,b.y);g.setTransform(this._box,`translate(${E}px,${$}px)`),this._box.style.width=L-E+"px",this._box.style.height=B-$+"px"}mouseupWindow(u,p){if(!this._active||u.button!==0)return;const b=this._startPos,S=p;if(this.reset(),g.suppressClick(),b.x!==S.x||b.y!==S.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:u})),{cameraAnimation:E=>E.fitScreenCoordinates(b,S,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",u)}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(u,p){return this._map.fire(new a.Event(u,{originalEvent:p}))}}function La(x,u){if(x.length!==u.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${u.length}`);const p={};for(let b=0;b<x.length;b++)p[x[b].identifier]=u[b];return p}class fc{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(u,p,b){(this.centroid||b.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=u.timeStamp),b.length===this.numTouches&&(this.centroid=function(S){const E=new a.pointGeometry(0,0);for(const L of S)E._add(L);return E.div(S.length)}(p),this.touches=La(b,p)))}touchmove(u,p,b){if(this.aborted||!this.centroid)return;const S=La(b,p);for(const E in this.touches){const L=this.touches[E],$=S[E];(!$||$.dist(L)>30)&&(this.aborted=!0)}}touchend(u,p,b){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),b.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class _p{constructor(u){this.singleTap=new fc(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(u,p,b){this.singleTap.touchstart(u,p,b)}touchmove(u,p,b){this.singleTap.touchmove(u,p,b)}touchend(u,p,b){const S=this.singleTap.touchend(u,p,b);if(S){const E=u.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(S)<30;if(E&&L||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class ix{constructor(){this._zoomIn=new _p({numTouches:1,numTaps:2}),this._zoomOut=new _p({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,p,b){this._zoomIn.touchstart(u,p,b),this._zoomOut.touchstart(u,p,b)}touchmove(u,p,b){this._zoomIn.touchmove(u,p,b),this._zoomOut.touchmove(u,p,b)}touchend(u,p,b){const S=this._zoomIn.touchend(u,p,b),E=this._zoomOut.touchend(u,p,b);return S?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:L.getZoom()+1,around:L.unproject(S)},{originalEvent:u})}):E?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:L.getZoom()-1,around:L.unproject(E)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const ox={0:1,2:2};class tf{constructor(u){this.reset(),this._clickTolerance=u.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(u,p){return!1}_move(u,p){return{}}mousedown(u,p){if(this._lastPoint)return;const b=g.mouseButton(u);this._correctButton(u,b)&&(this._lastPoint=p,this._eventButton=b)}mousemoveWindow(u,p){const b=this._lastPoint;if(b){if(u.preventDefault(),function(S,E){const L=ox[E];return S.buttons===void 0||(S.buttons&L)!==L}(u,this._eventButton))this.reset();else if(this._moved||!(p.dist(b)<this._clickTolerance))return this._moved=!0,this._lastPoint=p,this._move(b,p)}}mouseupWindow(u){this._lastPoint&&g.mouseButton(u)===this._eventButton&&(this._moved&&g.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dc extends tf{mousedown(u,p){super.mousedown(u,p),this._lastPoint&&(this._active=!0)}_correctButton(u,p){return p===0&&!u.ctrlKey}_move(u,p){return{around:p,panDelta:p.sub(u)}}}class Oa extends tf{_correctButton(u,p){return p===0&&u.ctrlKey||p===2}_move(u,p){const b=.8*(p.x-u.x);if(b)return this._active=!0,{bearingDelta:b}}contextmenu(u){u.preventDefault()}}class $t extends tf{_correctButton(u,p){return p===0&&u.ctrlKey||p===2}_move(u,p){const b=-.5*(p.y-u.y);if(b)return this._active=!0,{pitchDelta:b}}contextmenu(u){u.preventDefault()}}class ey{constructor(u,p){this._minTouches=u.cooperativeGestures?2:1,this._clickTolerance=u.clickTolerance||1,this._map=p,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.pointGeometry(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(u,p,b){return this._calculateTransform(u,p,b)}touchmove(u,p,b){if(this._map._cooperativeGestures&&(this._minTouches===2&&b.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(u,!1,b.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(b.length<this._minTouches))return u.preventDefault(),this._calculateTransform(u,p,b)}touchend(u,p,b){this._calculateTransform(u,p,b),this._active&&b.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,p,b){b.length>0&&(this._active=!0);const S=La(b,p),E=new a.pointGeometry(0,0),L=new a.pointGeometry(0,0);let $=0;for(const j in S){const q=S[j],Y=this._touches[j];Y&&(E._add(q),L._add(q.sub(Y)),$++,S[j]=q)}if(this._touches=S,$<this._minTouches||!L.mag())return;const B=L.div($);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:E.div($),panDelta:B}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xs{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(u){}_move(u,p,b){return{}}touchstart(u,p,b){this._firstTwoTouches||b.length<2||(this._firstTwoTouches=[b[0].identifier,b[1].identifier],this._start([p[0],p[1]]))}touchmove(u,p,b){if(!this._firstTwoTouches)return;u.preventDefault();const[S,E]=this._firstTwoTouches,L=cs(b,p,S),$=cs(b,p,E);if(!L||!$)return;const B=this._aroundCenter?null:L.add($).div(2);return this._move([L,$],B,u)}touchend(u,p,b){if(!this._firstTwoTouches)return;const[S,E]=this._firstTwoTouches,L=cs(b,p,S),$=cs(b,p,E);L&&$||(this._active&&g.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function cs(x,u,p){for(let b=0;b<x.length;b++)if(x[b].identifier===p)return u[b]}function bp(x,u){return Math.log(x/u)/Math.LN2}class Ct extends Xs{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,p){const b=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(bp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:bp(this._distance,b),pinchAround:p}}}function rf(x,u){return 180*x.angleWith(u)/Math.PI}class ax extends Xs{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,p){const b=this._vector;if(this._vector=u[0].sub(u[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:rf(this._vector,b),pinchAround:p}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const p=25/(Math.PI*this._minDiameter)*360,b=rf(u,this._startVector);return Math.abs(b)<p}}function xp(x){return Math.abs(x.y)>Math.abs(x.x)}class wp extends Xs{constructor(u){super(),this._map=u}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(u,p,b){super.touchstart(u,p,b),this._currentTouchCount=b.length}_start(u){this._lastPoints=u,xp(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,p,b){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const S=u[0].sub(this._lastPoints[0]),E=u[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,E,b.timeStamp),this._valid?(this._lastPoints=u,this._active=!0,{pitchDelta:(S.y+E.y)/2*-.5}):void 0}gestureBeginsVertically(u,p,b){if(this._valid!==void 0)return this._valid;const S=u.mag()>=2,E=p.mag()>=2;if(!S&&!E)return;if(!S||!E)return this._firstMove===void 0&&(this._firstMove=b),b-this._firstMove<100&&void 0;const L=u.y>0==p.y>0;return xp(u)&&xp(p)&&L}}const ty={panStep:100,bearingStep:15,pitchStep:10};class ry{constructor(){const u=ty;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let p=0,b=0,S=0,E=0,L=0;switch(u.keyCode){case 61:case 107:case 171:case 187:p=1;break;case 189:case 109:case 173:p=-1;break;case 37:u.shiftKey?b=-1:(u.preventDefault(),E=-1);break;case 39:u.shiftKey?b=1:(u.preventDefault(),E=1);break;case 38:u.shiftKey?S=1:(u.preventDefault(),L=-1);break;case 40:u.shiftKey?S=-1:(u.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(b=0,S=0),{cameraAnimation:$=>{const B=$.getZoom();$.easeTo({duration:300,easeId:"keyboardHandler",easing:sx,zoom:p?Math.round(B)+p*(u.shiftKey?2:1):B,bearing:$.getBearing()+b*this._bearingStep,pitch:$.getPitch()+S*this._pitchStep,offset:[-E*this._panStep,-L*this._panStep],center:$.getCenter()},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function sx(x){return x*(2-x)}const ny=4.000244140625;class Sp{constructor(u,p){this._map=u,this._el=u.getCanvasContainer(),this._handler=p,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=u&&u.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(u){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;u.preventDefault()}let p=u.deltaMode===WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const b=a.exported.now(),S=b-(this._lastWheelEventTime||0);this._lastWheelEventTime=b,p!==0&&p%ny==0?this._type="wheel":p!==0&&Math.abs(p)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=p,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(S*p)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,p+=this._lastValue)),u.shiftKey&&p&&(p/=4),this._type&&(this._lastWheelEvent=u,this._delta-=p,this._active||this._start(u)),u.preventDefault()}_onTimeout(u){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const p=g.mousePos(this._el,u);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(p)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._map.transform;if(this._delta!==0){const $=this._type==="wheel"&&Math.abs(this._delta)>ny?this._wheelZoomRate:this._defaultZoomRate;let B=2/(1+Math.exp(-Math.abs(this._delta*$)));this._delta<0&&B!==0&&(B=1/B);const j=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):u.scale;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(j*B))),this._type==="wheel"&&(this._startZoom=u.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:u.zoom,b=this._startZoom,S=this._easing;let E,L=!1;if(this._type==="wheel"&&b&&S){const $=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),B=S($);E=a.number(b,p,B),$<1?this._frameId||(this._frameId=!0):L=!0}else E=p,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:E-u.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let p=a.ease;if(this._prevEase){const b=this._prevEase,S=(a.exported.now()-b.start)/b.duration,E=b.easing(S+.01)-b.easing(S),L=.27/Math.sqrt(E*E+1e-4)*.01,$=Math.sqrt(.0729-L*L);p=a.bezier(L,$,.25,1)}return this._prevEase={start:a.exported.now(),duration:u,easing:p},p}reset(){this._active=!1}}class Tp{constructor(u,p){this._clickZoom=u,this._tapZoom=p}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Cp{constructor(){this.reset()}reset(){this._active=!1}dblclick(u,p){return u.preventDefault(),{cameraAnimation:b=>{b.easeTo({duration:300,zoom:b.getZoom()+(u.shiftKey?-1:1),around:b.unproject(p)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ep{constructor(){this._tap=new _p({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(u,p,b){this._swipePoint||(this._tapTime&&u.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?b.length>0&&(this._swipePoint=p[0],this._swipeTouch=b[0].identifier):this._tap.touchstart(u,p,b))}touchmove(u,p,b){if(this._tapTime){if(this._swipePoint){if(b[0].identifier!==this._swipeTouch)return;const S=p[0],E=S.y-this._swipePoint.y;return this._swipePoint=S,u.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(u,p,b)}touchend(u,p,b){this._tapTime?this._swipePoint&&b.length===0&&this.reset():this._tap.touchend(u,p,b)&&(this._tapTime=u.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vi{constructor(u,p,b){this._el=u,this._mousePan=p,this._touchPan=b}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class hs{constructor(u,p,b){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=p,this._mousePitch=b}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class iy{constructor(u,p,b,S){this._el=u,this._touchZoom=p,this._touchRotate=b,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const nu=x=>x.zoom||x.drag||x.pitch||x.rotate;class Ap extends a.Event{}function pc(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class oy{constructor(u,p){this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jg(u),this._bearingSnap=p.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(p),a.bindAll(["handleEvent","handleWindowEvent"],this);const b=this._el;this._listeners=[[b,"touchstart",{passive:!0}],[b,"touchmove",{passive:!1}],[b,"touchend",void 0],[b,"touchcancel",void 0],[b,"mousedown",void 0],[b,"mousemove",void 0],[b,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[b,"mouseover",void 0],[b,"mouseout",void 0],[b,"dblclick",void 0],[b,"click",void 0],[b,"keydown",{capture:!1}],[b,"keyup",void 0],[b,"wheel",{passive:!1}],[b,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,E,L]of this._listeners)g.addEventListener(S,E,S===document?this.handleWindowEvent:this.handleEvent,L)}destroy(){for(const[u,p,b]of this._listeners)g.removeEventListener(u,p,u===document?this.handleWindowEvent:this.handleEvent,b)}_addDefaultHandlers(u){const p=this._map,b=p.getCanvasContainer();this._add("mapEvent",new nx(p,u));const S=p.boxZoom=new Qg(p,u);this._add("boxZoom",S);const E=new ix,L=new Cp;p.doubleClickZoom=new Tp(L,E),this._add("tapZoom",E),this._add("clickZoom",L);const $=new Ep;this._add("tapDragZoom",$);const B=p.touchPitch=new wp(p);this._add("touchPitch",B);const j=new Oa(u),q=new $t(u);p.dragRotate=new hs(u,j,q),this._add("mouseRotate",j,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const Y=new dc(u),ee=new ey(u,p);p.dragPan=new Vi(b,Y,ee),this._add("mousePan",Y),this._add("touchPan",ee,["touchZoom","touchRotate"]);const ge=new ax,pe=new Ct;p.touchZoomRotate=new iy(b,pe,ge,$),this._add("touchRotate",ge,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]);const ve=p.scrollZoom=new Sp(p,this);this._add("scrollZoom",ve,["mousePan"]);const Ae=p.keyboard=new ry;this._add("keyboard",Ae),this._add("blockableMapEvent",new us(p));for(const De of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])u.interactive&&u[De]&&p[De].enable(u[De])}_add(u,p,b){this._handlers.push({handlerName:u,handler:p,allowed:b}),this._handlersById[u]=p}stop(u){if(!this._updatingCamera){for(const{handler:p}of this._handlers)p.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!nu(this._eventsInProgress)||this.isZooming()}_blockedByActive(u,p,b){for(const S in u)if(S!==b&&(!p||p.indexOf(S)<0))return!0;return!1}handleWindowEvent(u){this.handleEvent(u,`${u.type}Window`)}_getMapTouches(u){const p=[];for(const b of u)this._el.contains(b.target)&&p.push(b);return p}handleEvent(u,p){if(u.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const b=u.type==="renderFrame"?void 0:u,S={needsRenderFrame:!1},E={},L={},$=u.touches,B=$?this._getMapTouches($):void 0,j=B?g.touchPos(this._el,B):g.mousePos(this._el,u);for(const{handlerName:ee,handler:ge,allowed:pe}of this._handlers){if(!ge.isEnabled())continue;let ve;this._blockedByActive(L,pe,ee)?ge.reset():ge[p||u.type]&&(ve=ge[p||u.type](u,j,B),this.mergeHandlerResult(S,E,ve,ee,b),ve&&ve.needsRenderFrame&&this._triggerRenderFrame()),(ve||ge.isActive())&&(L[ee]=ge)}const q={};for(const ee in this._previousActiveHandlers)L[ee]||(q[ee]=b);this._previousActiveHandlers=L,(Object.keys(q).length||pc(S))&&(this._changes.push([S,E,q]),this._triggerRenderFrame()),(Object.keys(L).length||pc(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Y}=S;Y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Y(this._map))}mergeHandlerResult(u,p,b,S,E){if(!b)return;a.extend(u,b);const L={handlerName:S,originalEvent:b.originalEvent||E};b.zoomDelta!==void 0&&(p.zoom=L),b.panDelta!==void 0&&(p.drag=L),b.pitchDelta!==void 0&&(p.pitch=L),b.bearingDelta!==void 0&&(p.rotate=L)}_applyChanges(){const u={},p={},b={};for(const[S,E,L]of this._changes)S.panDelta&&(u.panDelta=(u.panDelta||new a.pointGeometry(0,0))._add(S.panDelta)),S.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+S.pitchDelta),S.around!==void 0&&(u.around=S.around),S.pinchAround!==void 0&&(u.pinchAround=S.pinchAround),S.noInertia&&(u.noInertia=S.noInertia),a.extend(p,E),a.extend(b,L);this._updateMapTransform(u,p,b),this._changes=[]}_updateMapTransform(u,p,b){const S=this._map,E=S.transform,L=S.style&&S.style.terrain;if(!(pc(u)||L&&this._drag))return this._fireEvents(p,b,!0);let{panDelta:$,zoomDelta:B,bearingDelta:j,pitchDelta:q,around:Y,pinchAround:ee}=u;ee!==void 0&&(Y=ee),S._stop(!0),Y=Y||S.transform.centerPoint;const ge=E.pointLocation($?Y.sub($):Y);j&&(E.bearing+=j),q&&(E.pitch+=q),B&&(E.zoom+=B),L?p.drag&&!this._drag?(this._drag={center:E.centerPoint,lngLat:E.pointLocation(Y),point:Y,handlerName:p.drag.handlerName},S.fire(new a.Event("freezeElevation",{freeze:!0}))):this._drag&&b[this._drag.handlerName]?(S.fire(new a.Event("freezeElevation",{freeze:!1})),this._drag=null):p.drag&&this._drag&&(E.center=E.pointLocation(E.centerPoint.sub($))):E.setLocationAtPoint(ge,Y),this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(p,b,!0)}_fireEvents(u,p,b){const S=nu(this._eventsInProgress),E=nu(u),L={};for(const q in u){const{originalEvent:Y}=u[q];this._eventsInProgress[q]||(L[`${q}start`]=Y),this._eventsInProgress[q]=u[q]}!S&&E&&this._fireEvent("movestart",E.originalEvent);for(const q in L)this._fireEvent(q,L[q]);E&&this._fireEvent("move",E.originalEvent);for(const q in u){const{originalEvent:Y}=u[q];this._fireEvent(q,Y)}const $={};let B;for(const q in this._eventsInProgress){const{handlerName:Y,originalEvent:ee}=this._eventsInProgress[q];this._handlersById[Y].isActive()||(delete this._eventsInProgress[q],B=p[Y]||ee,$[`${q}end`]=B)}for(const q in $)this._fireEvent(q,$[q]);const j=nu(this._eventsInProgress);if(b&&(S||E)&&!j){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Y=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;q?(Y(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:B})):(this._map.fire(new a.Event("moveend",{originalEvent:B})),Y(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(u,p){this._map.fire(new a.Event(u,p?{originalEvent:p}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{delete this._frameId,this.handleEvent(new Ap("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const xo={extend:(x,...u)=>a.extend(x,...u),run(x){x()},logToElement(x,u=!1,p="log"){const b=window.document.getElementById(p);b&&(u&&(b.innerHTML=""),b.innerHTML+=`<br>${x}`)}};class wn extends a.Evented{constructor(u,p){super(),this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=p.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(u,p){return this.jumpTo({center:u},p)}panBy(u,p,b){return u=a.pointGeometry.convert(u).mult(-1),this.panTo(this.transform.center,a.extend({offset:u},p),b)}panTo(u,p,b){return this.easeTo(a.extend({center:u},p),b)}getZoom(){return this.transform.zoom}setZoom(u,p){return this.jumpTo({zoom:u},p),this}zoomTo(u,p,b){return this.easeTo(a.extend({zoom:u},p),b)}zoomIn(u,p){return this.zoomTo(this.getZoom()+1,u,p),this}zoomOut(u,p){return this.zoomTo(this.getZoom()-1,u,p),this}getBearing(){return this.transform.bearing}setBearing(u,p){return this.jumpTo({bearing:u},p),this}getPadding(){return this.transform.padding}setPadding(u,p){return this.jumpTo({padding:u},p),this}rotateTo(u,p,b){return this.easeTo(a.extend({bearing:u},p),b)}resetNorth(u,p){return this.rotateTo(0,a.extend({duration:1e3},u),p),this}resetNorthPitch(u,p){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},u),p),this}snapToNorth(u,p){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,p):this}getPitch(){return this.transform.pitch}setPitch(u,p){return this.jumpTo({pitch:u},p),this}cameraForBounds(u,p){u=a.LngLatBounds.convert(u);const b=p&&p.bearing||0;return this._cameraForBoxAndBearing(u.getNorthWest(),u.getSouthEast(),b,p)}_cameraForBoxAndBearing(u,p,b,S){const E={top:0,bottom:0,right:0,left:0};if(typeof(S=a.extend({padding:E,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding=="number"){const Fe=S.padding;S.padding={top:Fe,bottom:Fe,right:Fe,left:Fe}}S.padding=a.extend(E,S.padding);const L=this.transform,$=L.padding,B=L.project(a.LngLat.convert(u)),j=L.project(a.LngLat.convert(p)),q=B.rotate(-b*Math.PI/180),Y=j.rotate(-b*Math.PI/180),ee=new a.pointGeometry(Math.max(q.x,Y.x),Math.max(q.y,Y.y)),ge=new a.pointGeometry(Math.min(q.x,Y.x),Math.min(q.y,Y.y)),pe=ee.sub(ge),ve=(L.width-($.left+$.right+S.padding.left+S.padding.right))/pe.x,Ae=(L.height-($.top+$.bottom+S.padding.top+S.padding.bottom))/pe.y;if(Ae<0||ve<0)return void a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const De=Math.min(L.scaleZoom(L.scale*Math.min(ve,Ae)),S.maxZoom),$e=a.pointGeometry.convert(S.offset),be=new a.pointGeometry((S.padding.left-S.padding.right)/2,(S.padding.top-S.padding.bottom)/2).rotate(b*Math.PI/180),Ue=$e.add(be).mult(L.scale/L.zoomScale(De));return{center:L.unproject(B.add(j).div(2).sub(Ue)),zoom:De,bearing:b}}fitBounds(u,p,b){return this._fitInternal(this.cameraForBounds(u,p),p,b)}fitScreenCoordinates(u,p,b,S,E){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.pointGeometry.convert(u)),this.transform.pointLocation(a.pointGeometry.convert(p)),b,S),S,E)}_fitInternal(u,p,b){return u?(delete(p=a.extend(u,p)).padding,p.linear?this.easeTo(p,b):this.flyTo(p,b)):this}jumpTo(u,p){this.stop();const b=this.transform;let S=!1,E=!1,L=!1;return"zoom"in u&&b.zoom!==+u.zoom&&(S=!0,b.zoom=+u.zoom),u.center!==void 0&&(b.center=a.LngLat.convert(u.center)),"bearing"in u&&b.bearing!==+u.bearing&&(E=!0,b.bearing=+u.bearing),"pitch"in u&&b.pitch!==+u.pitch&&(L=!0,b.pitch=+u.pitch),u.padding==null||b.isPaddingEqual(u.padding)||(b.padding=u.padding),this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),S&&this.fire(new a.Event("zoomstart",p)).fire(new a.Event("zoom",p)).fire(new a.Event("zoomend",p)),E&&this.fire(new a.Event("rotatestart",p)).fire(new a.Event("rotate",p)).fire(new a.Event("rotateend",p)),L&&this.fire(new a.Event("pitchstart",p)).fire(new a.Event("pitch",p)).fire(new a.Event("pitchend",p)),this.fire(new a.Event("moveend",p))}calculateCameraOptionsFromTo(u,p,b,S=0){const E=a.MercatorCoordinate.fromLngLat(u,p),L=a.MercatorCoordinate.fromLngLat(b,S),$=L.x-E.x,B=L.y-E.y,j=L.z-E.z,q=Math.hypot($,B,j);if(q===0)throw new Error("Can't calculate camera options with same From and To");const Y=Math.hypot($,B),ee=this.transform.scaleZoom(this.transform.cameraToCenterDistance/q/this.transform.tileSize),ge=180*Math.atan2($,-B)/Math.PI;let pe=180*Math.acos(Y/q)/Math.PI;return pe=j<0?90-pe:90+pe,{center:L.toLngLat(),zoom:ee,pitch:pe,bearing:ge}}easeTo(u,p){this._stop(!1,u.easeId),((u=a.extend({offset:[0,0],duration:500,easing:a.ease},u)).animate===!1||!u.essential&&a.exported.prefersReducedMotion)&&(u.duration=0);const b=this.transform,S=this.getZoom(),E=this.getBearing(),L=this.getPitch(),$=this.getPadding(),B="zoom"in u?+u.zoom:S,j="bearing"in u?this._normalizeBearing(u.bearing,E):E,q="pitch"in u?+u.pitch:L,Y="padding"in u?u.padding:b.padding,ee=a.pointGeometry.convert(u.offset);let ge=b.centerPoint.add(ee);const pe=b.pointLocation(ge),ve=a.LngLat.convert(u.center||pe);this._normalizeCenter(ve);const Ae=b.project(pe),De=b.project(ve).sub(Ae),$e=b.zoomScale(B-S);let be,Ue;u.around&&(be=a.LngLat.convert(u.around),Ue=b.locationPoint(be));const Fe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||B!==S,this._rotating=this._rotating||E!==j,this._pitching=this._pitching||q!==L,this._padding=!b.isPaddingEqual(Y),this._easeId=u.easeId,this._prepareEase(p,u.noMoveStart,Fe),this._ease(Je=>{if(this._zooming&&(b.zoom=a.number(S,B,Je)),this._rotating&&(b.bearing=a.number(E,j,Je)),this._pitching&&(b.pitch=a.number(L,q,Je)),this._padding&&(b.interpolatePadding($,Y,Je),ge=b.centerPoint.add(ee)),be)b.setLocationAtPoint(be,Ue);else{const Qe=b.zoomScale(b.zoom-S),ft=B>S?Math.min(2,$e):Math.max(.5,$e),Ke=Math.pow(ft,1-Je),Mt=b.unproject(Ae.add(De.mult(Je*Ke)).mult(Qe));b.setLocationAtPoint(b.renderWorldCopies?Mt.wrap():Mt,ge)}this._fireMoveEvents(p)},Je=>{this._afterEase(p,Je)},u),this}_prepareEase(u,p,b={}){this._moving=!0,this.fire(new a.Event("freezeElevation",{freeze:!0})),p||b.moving||this.fire(new a.Event("movestart",u)),this._zooming&&!b.zooming&&this.fire(new a.Event("zoomstart",u)),this._rotating&&!b.rotating&&this.fire(new a.Event("rotatestart",u)),this._pitching&&!b.pitching&&this.fire(new a.Event("pitchstart",u))}_fireMoveEvents(u){this.fire(new a.Event("move",u)),this._zooming&&this.fire(new a.Event("zoom",u)),this._rotating&&this.fire(new a.Event("rotate",u)),this._pitching&&this.fire(new a.Event("pitch",u))}_afterEase(u,p){if(this._easeId&&p&&this._easeId===p)return;delete this._easeId,this.fire(new a.Event("freezeElevation",{freeze:!1}));const b=this._zooming,S=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,b&&this.fire(new a.Event("zoomend",u)),S&&this.fire(new a.Event("rotateend",u)),E&&this.fire(new a.Event("pitchend",u)),this.fire(new a.Event("moveend",u))}flyTo(u,p){if(!u.essential&&a.exported.prefersReducedMotion){const Kt=a.pick(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Kt,p)}this.stop(),u=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},u);const b=this.transform,S=this.getZoom(),E=this.getBearing(),L=this.getPitch(),$=this.getPadding(),B="zoom"in u?a.clamp(+u.zoom,b.minZoom,b.maxZoom):S,j="bearing"in u?this._normalizeBearing(u.bearing,E):E,q="pitch"in u?+u.pitch:L,Y="padding"in u?u.padding:b.padding,ee=b.zoomScale(B-S),ge=a.pointGeometry.convert(u.offset);let pe=b.centerPoint.add(ge);const ve=b.pointLocation(pe),Ae=a.LngLat.convert(u.center||ve);this._normalizeCenter(Ae);const De=b.project(ve),$e=b.project(Ae).sub(De);let be=u.curve;const Ue=Math.max(b.width,b.height),Fe=Ue/ee,Je=$e.mag();if("minZoom"in u){const Kt=a.clamp(Math.min(u.minZoom,S,B),b.minZoom,b.maxZoom),qr=Ue/b.zoomScale(Kt-S);be=Math.sqrt(qr/Je*2)}const Qe=be*be;function ft(Kt){const qr=(Fe*Fe-Ue*Ue+(Kt?-1:1)*Qe*Qe*Je*Je)/(2*(Kt?Fe:Ue)*Qe*Je);return Math.log(Math.sqrt(qr*qr+1)-qr)}function Ke(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function Mt(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}const xt=ft(0);let Ot=function(Kt){return Mt(xt)/Mt(xt+be*Kt)},mr=function(Kt){return Ue*((Mt(xt)*(Ke(qr=xt+be*Kt)/Mt(qr))-Ke(xt))/Qe)/Je;var qr},br=(ft(1)-xt)/be;if(Math.abs(Je)<1e-6||!isFinite(br)){if(Math.abs(Ue-Fe)<1e-6)return this.easeTo(u,p);const Kt=Fe<Ue?-1:1;br=Math.abs(Math.log(Fe/Ue))/be,mr=function(){return 0},Ot=function(qr){return Math.exp(Kt*be*qr)}}return u.duration="duration"in u?+u.duration:1e3*br/("screenSpeed"in u?+u.screenSpeed/be:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0),this._zooming=!0,this._rotating=E!==j,this._pitching=q!==L,this._padding=!b.isPaddingEqual(Y),this._prepareEase(p,!1),this._ease(Kt=>{const qr=Kt*br,Xr=1/Ot(qr);b.zoom=Kt===1?B:S+b.scaleZoom(Xr),this._rotating&&(b.bearing=a.number(E,j,Kt)),this._pitching&&(b.pitch=a.number(L,q,Kt)),this._padding&&(b.interpolatePadding($,Y,Kt),pe=b.centerPoint.add(ge));const Ir=Kt===1?Ae:b.unproject(De.add($e.mult(mr(qr))).mult(Xr));b.setLocationAtPoint(b.renderWorldCopies?Ir.wrap():Ir,pe),this._fireMoveEvents(p)},()=>this._afterEase(p),u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,p){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const b=this._onEaseEnd;delete this._onEaseEnd,b.call(this,p)}if(!u){const b=this.handlers;b&&b.stop(!1)}return this}_ease(u,p,b){b.animate===!1||b.duration===0?(u(1),p()):(this._easeStart=a.exported.now(),this._easeOptions=b,this._onEaseFrame=u,this._onEaseEnd=p,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const u=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(u)),u<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(u,p){u=a.wrap(u,-180,180);const b=Math.abs(u-p);return Math.abs(u-360-p)<b&&(u-=360),Math.abs(u+360-p)<b&&(u+=360),u}_normalizeCenter(u){const p=this.transform;if(!p.renderWorldCopies||p.lngRange)return;const b=u.lng-p.center.lng;u.lng+=b>180?-360:b<-180?360:0}}class mc{constructor(u={}){this.options=u,a.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(u){return this._map=u,this._compact=this.options&&this.options.compact,this._container=g.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){g.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(u,p){const b=this._map._getUIString(`AttributionControl.${p}`);u.title=b,u.setAttribute("aria-label",b)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(u){!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let u=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=u.concat(this.options.customAttribution.map(S=>typeof S!="string"?"":S)):typeof this.options.customAttribution=="string"&&u.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const p=this._map.style.sourceCaches;for(const S in p){const E=p[S];if(E.used||E.usedForTerrain){const L=E.getSource();L.attribution&&u.indexOf(L.attribution)<0&&u.push(L.attribution)}}u=u.filter(S=>String(S).trim()),u.sort((S,E)=>S.length-E.length),u=u.filter((S,E)=>{for(let L=E+1;L<u.length;L++)if(u[L].indexOf(S)>=0)return!1;return!0});const b=u.join(" | ");b!==this._attribHTML&&(this._attribHTML=b,u.length?(this._innerContainer.innerHTML=b,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class nf{constructor(u={}){this.options=u,a.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(u){this._map=u,this._compact=this.options&&this.options.compact,this._container=g.create("div","maplibregl-ctrl mapboxgl-ctrl");const p=g.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return p.target="_blank",p.rel="noopener nofollow",p.href="https://maplibre.org/",p.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),p.setAttribute("rel","noopener nofollow"),this._container.appendChild(p),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){g.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const u=this._container.children;if(u.length){const p=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact","mapboxgl-compact"):p.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class ay{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const p=++this._id;return this._queue.push({callback:u,id:p,cancelled:!1}),p}remove(u){const p=this._currentlyRunning,b=p?this._queue.concat(p):this._queue;for(const S of b)if(S.id===u)return void(S.cancelled=!0)}run(u=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const p=this._currentlyRunning=this._queue;this._queue=[];for(const b of p)if(!b.cancelled&&(b.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const sy={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},ly={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},lx={showCompass:!0,showZoom:!0,visualizePitch:!1};class ra{constructor(u,p,b=!1){this._clickTolerance=10,this.element=p,this.mouseRotate=new Oa({clickTolerance:u.dragRotate._mouseRotate._clickTolerance}),this.map=u,b&&(this.mousePitch=new $t({clickTolerance:u.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),g.addEventListener(p,"mousedown",this.mousedown),g.addEventListener(p,"touchstart",this.touchstart,{passive:!1}),g.addEventListener(p,"touchmove",this.touchmove),g.addEventListener(p,"touchend",this.touchend),g.addEventListener(p,"touchcancel",this.reset)}down(u,p){this.mouseRotate.mousedown(u,p),this.mousePitch&&this.mousePitch.mousedown(u,p),g.disableDrag()}move(u,p){const b=this.map,S=this.mouseRotate.mousemoveWindow(u,p);if(S&&S.bearingDelta&&b.setBearing(b.getBearing()+S.bearingDelta),this.mousePitch){const E=this.mousePitch.mousemoveWindow(u,p);E&&E.pitchDelta&&b.setPitch(b.getPitch()+E.pitchDelta)}}off(){const u=this.element;g.removeEventListener(u,"mousedown",this.mousedown),g.removeEventListener(u,"touchstart",this.touchstart,{passive:!1}),g.removeEventListener(u,"touchmove",this.touchmove),g.removeEventListener(u,"touchend",this.touchend),g.removeEventListener(u,"touchcancel",this.reset),this.offTemp()}offTemp(){g.enableDrag(),g.removeEventListener(window,"mousemove",this.mousemove),g.removeEventListener(window,"mouseup",this.mouseup)}mousedown(u){this.down(a.extend({},u,{ctrlKey:!0,preventDefault:()=>u.preventDefault()}),g.mousePos(this.element,u)),g.addEventListener(window,"mousemove",this.mousemove),g.addEventListener(window,"mouseup",this.mouseup)}mousemove(u){this.move(u,g.mousePos(this.element,u))}mouseup(u){this.mouseRotate.mouseupWindow(u),this.mousePitch&&this.mousePitch.mouseupWindow(u),this.offTemp()}touchstart(u){u.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=g.touchPos(this.element,u.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>u.preventDefault()},this._startPos))}touchmove(u){u.targetTouches.length!==1?this.reset():(this._lastPos=g.touchPos(this.element,u.targetTouches)[0],this.move({preventDefault:()=>u.preventDefault()},this._lastPos))}touchend(u){u.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function vc(x,u,p){if(x=new a.LngLat(x.lng,x.lat),u){const b=new a.LngLat(x.lng-360,x.lat),S=new a.LngLat(x.lng+360,x.lat),E=p.locationPoint(x).distSqr(u);p.locationPoint(b).distSqr(u)<E?x=b:p.locationPoint(S).distSqr(u)<E&&(x=S)}for(;Math.abs(x.lng-p.center.lng)>180;){const b=p.locationPoint(x);if(b.x>=0&&b.y>=0&&b.x<=p.width&&b.y<=p.height)break;x.lng>p.center.lng?x.lng-=360:x.lng+=360}return x}const jt={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tr(x,u,p){const b=x.classList;for(const S in jt)b.remove(`maplibregl-${p}-anchor-${S}`,`mapboxgl-${p}-anchor-${S}`);b.add(`maplibregl-${p}-anchor-${u}`,`mapboxgl-${p}-anchor-${u}`)}class iu extends a.Evented{constructor(u,p){if(super(),(u instanceof HTMLElement||p)&&(u=a.extend({element:u},p)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment!=="auto"?u.pitchAlignment:this._rotationAlignment,u&&u.element)this._element=u.element,this._offset=a.pointGeometry.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div"),this._element.setAttribute("aria-label","Map marker");const b=g.createNS("http://www.w3.org/2000/svg","svg"),S=41,E=27;b.setAttributeNS(null,"display","block"),b.setAttributeNS(null,"height",`${S}px`),b.setAttributeNS(null,"width",`${E}px`),b.setAttributeNS(null,"viewBox",`0 0 ${E} ${S}`);const L=g.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");const $=g.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill-rule","nonzero");const B=g.createNS("http://www.w3.org/2000/svg","g");B.setAttributeNS(null,"transform","translate(3.0, 29.0)"),B.setAttributeNS(null,"fill","#000000");const j=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const $e of j){const be=g.createNS("http://www.w3.org/2000/svg","ellipse");be.setAttributeNS(null,"opacity","0.04"),be.setAttributeNS(null,"cx","10.5"),be.setAttributeNS(null,"cy","5.80029008"),be.setAttributeNS(null,"rx",$e.rx),be.setAttributeNS(null,"ry",$e.ry),B.appendChild(be)}const q=g.createNS("http://www.w3.org/2000/svg","g");q.setAttributeNS(null,"fill",this._color);const Y=g.createNS("http://www.w3.org/2000/svg","path");Y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),q.appendChild(Y);const ee=g.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"opacity","0.25"),ee.setAttributeNS(null,"fill","#000000");const ge=g.createNS("http://www.w3.org/2000/svg","path");ge.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ee.appendChild(ge);const pe=g.createNS("http://www.w3.org/2000/svg","g");pe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pe.setAttributeNS(null,"fill","#FFFFFF");const ve=g.createNS("http://www.w3.org/2000/svg","g");ve.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ae=g.createNS("http://www.w3.org/2000/svg","circle");Ae.setAttributeNS(null,"fill","#000000"),Ae.setAttributeNS(null,"opacity","0.25"),Ae.setAttributeNS(null,"cx","5.5"),Ae.setAttributeNS(null,"cy","5.5"),Ae.setAttributeNS(null,"r","5.4999962");const De=g.createNS("http://www.w3.org/2000/svg","circle");De.setAttributeNS(null,"fill","#FFFFFF"),De.setAttributeNS(null,"cx","5.5"),De.setAttributeNS(null,"cy","5.5"),De.setAttributeNS(null,"r","5.4999962"),ve.appendChild(Ae),ve.appendChild(De),$.appendChild(B),$.appendChild(q),$.appendChild(ee),$.appendChild(pe),$.appendChild(ve),b.appendChild($),b.setAttributeNS(null,"height",S*this._scale+"px"),b.setAttributeNS(null,"width",E*this._scale+"px"),this._element.appendChild(b),this._offset=a.pointGeometry.convert(u&&u.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",b=>{b.preventDefault()}),this._element.addEventListener("mousedown",b=>{b.preventDefault()}),tr(this._element,this._anchor,"marker"),this._popup=null}addTo(u){return this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._update),u.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=a.LngLat.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const S=Math.sqrt(Math.pow(13.5,2)/2);u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(38.1-13.5+S)],"bottom-right":[-S,-1*(38.1-13.5+S)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(u){const p=u.code,b=u.charCode||u.keyCode;p!=="Space"&&p!=="Enter"&&b!==32&&b!==13||this.togglePopup()}_onMapClick(u){const p=u.originalEvent.target,b=this._element;this._popup&&(p===b||b.contains(p))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const u=this._popup;return u?(u.isOpen()?u.remove():u.addTo(this._map),this):this}_update(u){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=vc(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let p="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?p=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(p=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),g.setTransform(this._element,`${jt[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${p}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const S=this._map.unproject(this._pos),E=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=S.distanceTo(this._lngLat)>20*E?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(u){return this._offset=a.pointGeometry.convert(u),this._update(),this}_onMove(u){if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(u){this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(u){return this._draggable=!!u,this._map&&(u?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u&&u!=="auto"?u:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Pp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let fs,mi=0,ds=!1;const na={maxWidth:100,unit:"metric"};function uy(x,u,p){const b=p&&p.maxWidth||100,S=x._container.clientHeight/2,E=x.unproject([0,S]),L=x.unproject([b,S]),$=E.distanceTo(L);if(p&&p.unit==="imperial"){const B=3.2808*$;B>5280?ps(u,b,B/5280,x._getUIString("ScaleControl.Miles")):ps(u,b,B,x._getUIString("ScaleControl.Feet"))}else p&&p.unit==="nautical"?ps(u,b,$/1852,x._getUIString("ScaleControl.NauticalMiles")):$>=1e3?ps(u,b,$/1e3,x._getUIString("ScaleControl.Kilometers")):ps(u,b,$,x._getUIString("ScaleControl.Meters"))}function ps(x,u,p,b){const S=function(E){const L=Math.pow(10,`${Math.floor(E)}`.length-1);let $=E/L;return $=$>=10?10:$>=5?5:$>=3?3:$>=2?2:$>=1?1:function(B){const j=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*j)/j}($),L*$}(p);x.style.width=u*(S/p)+"px",x.innerHTML=`${S}&nbsp;${b}`}const zn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Gn=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ip(x){if(x){if(typeof x=="number"){const u=Math.round(Math.sqrt(.5*Math.pow(x,2)));return{center:new a.pointGeometry(0,0),top:new a.pointGeometry(0,x),"top-left":new a.pointGeometry(u,u),"top-right":new a.pointGeometry(-u,u),bottom:new a.pointGeometry(0,-x),"bottom-left":new a.pointGeometry(u,-u),"bottom-right":new a.pointGeometry(-u,-u),left:new a.pointGeometry(x,0),right:new a.pointGeometry(-x,0)}}if(x instanceof a.pointGeometry||Array.isArray(x)){const u=a.pointGeometry.convert(x);return{center:u,top:u,"top-left":u,"top-right":u,bottom:u,"bottom-left":u,"bottom-right":u,left:u,right:u}}return{center:a.pointGeometry.convert(x.center||[0,0]),top:a.pointGeometry.convert(x.top||[0,0]),"top-left":a.pointGeometry.convert(x["top-left"]||[0,0]),"top-right":a.pointGeometry.convert(x["top-right"]||[0,0]),bottom:a.pointGeometry.convert(x.bottom||[0,0]),"bottom-left":a.pointGeometry.convert(x["bottom-left"]||[0,0]),"bottom-right":a.pointGeometry.convert(x["bottom-right"]||[0,0]),left:a.pointGeometry.convert(x.left||[0,0]),right:a.pointGeometry.convert(x.right||[0,0])}}return Ip(new a.pointGeometry(0,0))}const Zs={supported:h,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends wn{constructor(x){var u;if(a.PerformanceUtils.mark(a.PerformanceMarkers.create),(x=a.extend({},ly,x)).minZoom!=null&&x.maxZoom!=null&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(x.minPitch!=null&&x.maxPitch!=null&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(x.minPitch!=null&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(x.maxPitch!=null&&x.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new sc(x.minZoom,x.maxZoom,x.minPitch,x.maxPitch,x.renderWorldCopies),{bearingSnap:x.bearingSnap}),this._interactive=x.interactive,this._cooperativeGestures=x.cooperativeGestures,this._maxTileCacheSize=x.maxTileCacheSize,this._failIfMajorPerformanceCaveat=x.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=x.preserveDrawingBuffer,this._antialias=x.antialias,this._trackResize=x.trackResize,this._bearingSnap=x.bearingSnap,this._refreshExpiredTiles=x.refreshExpiredTiles,this._fadeDuration=x.fadeDuration,this._crossSourceCollisions=x.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=x.collectResourceTiming,this._renderTaskQueue=new ay,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},sy,x.locale),this._clickTolerance=x.clickTolerance,this._pixelRatio=(u=x.pixelRatio)!==null&&u!==void 0?u:devicePixelRatio,this._requestManager=new _(x.transformRequest),typeof x.container=="string"){if(this._container=document.getElementById(x.container),!this._container)throw new Error(`Container '${x.container}' not found.`)}else{if(!(x.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(x.maxBounds&&this.setMaxBounds(x.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),typeof window<"u"&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new oy(this,x),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=x.hash&&new Xg(typeof x.hash=="string"&&x.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),x.bounds&&(this.resize(),this.fitBounds(x.bounds,a.extend({},x.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=x.localIdeographFontFamily,x.style&&this.setStyle(x.style,{localIdeographFontFamily:x.localIdeographFontFamily}),x.attributionControl&&this.addControl(new mc({customAttribution:x.customAttribution})),x.maplibreLogo&&this.addControl(new nf,x.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",p=>{this._update(p.dataType==="style"),this.fire(new a.Event(`${p.dataType}data`,p))}),this.on("dataloading",p=>{this.fire(new a.Event(`${p.dataType}dataloading`,p))}),this.on("dataabort",p=>{this.fire(new a.Event("sourcedataabort",p))})}_getMapId(){return this._mapId}addControl(x,u){if(u===void 0&&(u=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const p=x.onAdd(this);this._controls.push(x);const b=this._controlPositions[u];return u.indexOf("bottom")!==-1?b.insertBefore(p,b.firstChild):b.appendChild(p),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(x);return u>-1&&this._controls.splice(u,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,u,p,b){return b==null&&this.style.terrain&&(b=this.transform.getElevation(p,this.style.terrain)),super.calculateCameraOptionsFromTo(x,u,p,b)}resize(x){const u=this._containerDimensions(),p=u[0],b=u[1];this._resizeCanvas(p,b,this.getPixelRatio()),this.transform.resize(p,b),this.painter.resize(p,b,this.getPixelRatio());const S=!this._moving;return S&&(this.stop(),this.fire(new a.Event("movestart",x)).fire(new a.Event("move",x))),this.fire(new a.Event("resize",x)),S&&this.fire(new a.Event("moveend",x)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(x){const[u,p]=this._containerDimensions();this._pixelRatio=x,this._resizeCanvas(u,p,x),this.painter.resize(u,p,x)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(a.LngLatBounds.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}project(x){return this.transform.locationPoint(a.LngLat.convert(x),this.style&&this.style.terrain)}unproject(x){return this.transform.pointLocation(a.pointGeometry.convert(x),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(x,u,p){if(x==="mouseenter"||x==="mouseover"){let b=!1;return{layer:u,listener:p,delegates:{mousemove:E=>{const L=this.getLayer(u)?this.queryRenderedFeatures(E.point,{layers:[u]}):[];L.length?b||(b=!0,p.call(this,new io(x,this,E.originalEvent,{features:L}))):b=!1},mouseout:()=>{b=!1}}}}if(x==="mouseleave"||x==="mouseout"){let b=!1;return{layer:u,listener:p,delegates:{mousemove:L=>{(this.getLayer(u)?this.queryRenderedFeatures(L.point,{layers:[u]}):[]).length?b=!0:b&&(b=!1,p.call(this,new io(x,this,L.originalEvent)))},mouseout:L=>{b&&(b=!1,p.call(this,new io(x,this,L.originalEvent)))}}}}{const b=S=>{const E=this.getLayer(u)?this.queryRenderedFeatures(S.point,{layers:[u]}):[];E.length&&(S.features=E,p.call(this,S),delete S.features)};return{layer:u,listener:p,delegates:{[x]:b}}}}on(x,u,p){if(p===void 0)return super.on(x,u);const b=this._createDelegatedListener(x,u,p);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(b);for(const S in b.delegates)this.on(S,b.delegates[S]);return this}once(x,u,p){if(p===void 0)return super.once(x,u);const b=this._createDelegatedListener(x,u,p);for(const S in b.delegates)this.once(S,b.delegates[S]);return this}off(x,u,p){return p===void 0?super.off(x,u):(this._delegatedListeners&&this._delegatedListeners[x]&&(b=>{const S=this._delegatedListeners[x];for(let E=0;E<S.length;E++){const L=S[E];if(L.layer===u&&L.listener===p){for(const $ in L.delegates)this.off($,L.delegates[$]);return S.splice(E,1),this}}})(),this)}queryRenderedFeatures(x,u){if(!this.style)return[];let p;if(u!==void 0||x===void 0||x instanceof a.pointGeometry||Array.isArray(x)||(u=x,x=void 0),u=u||{},(x=x||[[0,0],[this.transform.width,this.transform.height]])instanceof a.pointGeometry||typeof x[0]=="number")p=[a.pointGeometry.convert(x)];else{const b=a.pointGeometry.convert(x[0]),S=a.pointGeometry.convert(x[1]);p=[b,new a.pointGeometry(S.x,b.y),S,new a.pointGeometry(b.x,S.y),b]}return this.style.queryRenderedFeatures(p,u,this.transform)}querySourceFeatures(x,u){return this.style.querySourceFeatures(x,u)}setStyle(x,u){return(u=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._updateStyle(x,u))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){const u=this._locale[x];if(u==null)throw new Error(`Missing UI string '${x}'`);return u}_updateStyle(x,u){return this.style&&(this.style.setEventedParent(null),this.style._remove()),x?(this.style=new xi(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x):this.style.loadJSON(x),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new xi(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,u){if(typeof x=="string"){const p=this._requestManager.transformRequest(x,a.ResourceType.Style);a.getJSON(p,(b,S)=>{b?this.fire(new a.ErrorEvent(b)):S&&this._updateDiff(S,u)})}else typeof x=="object"&&this._updateDiff(x,u)}_updateDiff(x,u){try{this.style.setState(x)&&this._update(!0)}catch(p){a.warnOnce(`Unable to perform style diff: ${p.message||p.error||p}.  Rebuilding the style from scratch.`),this._updateStyle(x,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")}addSource(x,u){return this._lazyInitEmptyStyle(),this.style.addSource(x,u),this._update(!0)}isSourceLoaded(x){const u=this.style&&this.style.sourceCaches[x];if(u!==void 0)return u.loaded();this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){return this.style.setTerrain(x),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const x=this.style&&this.style.sourceCaches;for(const u in x){const p=x[u]._tiles;for(const b in p){const S=p[b];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}addSourceType(x,u,p){return this._lazyInitEmptyStyle(),this.style.addSourceType(x,u,p)}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,u,{pixelRatio:p=1,sdf:b=!1,stretchX:S,stretchY:E,content:L}={}){if(this._lazyInitEmptyStyle(),u instanceof HTMLImageElement||a.isImageBitmap(u)){const{width:$,height:B,data:j}=a.exported.getImageData(u);this.style.addImage(x,{data:new a.RGBAImage({width:$,height:B},j),pixelRatio:p,stretchX:S,stretchY:E,content:L,sdf:b,version:0})}else{if(u.width===void 0||u.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:$,height:B,data:j}=u,q=u;this.style.addImage(x,{data:new a.RGBAImage({width:$,height:B},new Uint8Array(j)),pixelRatio:p,stretchX:S,stretchY:E,content:L,sdf:b,version:0,userImage:q}),q.onAdd&&q.onAdd(this,x)}}}updateImage(x,u){const p=this.style.getImage(x);if(!p)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const b=u instanceof HTMLImageElement||a.isImageBitmap(u)?a.exported.getImageData(u):u,{width:S,height:E,data:L}=b;if(S===void 0||E===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==p.data.width||E!==p.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const $=!(u instanceof HTMLImageElement||a.isImageBitmap(u));p.data.replace(L,$),this.style.updateImage(x,p)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x,u){a.getImage(this._requestManager.transformRequest(x,a.ResourceType.Image),u)}listImages(){return this.style.listImages()}addLayer(x,u){return this._lazyInitEmptyStyle(),this.style.addLayer(x,u),this._update(!0)}moveLayer(x,u){return this.style.moveLayer(x,u),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}setLayerZoomRange(x,u,p){return this.style.setLayerZoomRange(x,u,p),this._update(!0)}setFilter(x,u,p={}){return this.style.setFilter(x,u,p),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,u,p,b={}){return this.style.setPaintProperty(x,u,p,b),this._update(!0)}getPaintProperty(x,u){return this.style.getPaintProperty(x,u)}setLayoutProperty(x,u,p,b={}){return this.style.setLayoutProperty(x,u,p,b),this._update(!0)}getLayoutProperty(x,u){return this.style.getLayoutProperty(x,u)}setLight(x,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,u),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(x,u){return this.style.setFeatureState(x,u),this._update()}removeFeatureState(x,u){return this.style.removeFeatureState(x,u),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,u=0;return this._container&&(x=this._container.clientWidth||400,u=this._container.clientHeight||300),[x,u]}_setupContainer(){const x=this._container;x.classList.add("maplibregl-map","mapboxgl-map");const u=this._canvasContainer=g.create("div","maplibregl-canvas-container mapboxgl-canvas-container",x);this._interactive&&u.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=g.create("canvas","maplibregl-canvas mapboxgl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const p=this._containerDimensions();this._resizeCanvas(p[0],p[1],this.getPixelRatio());const b=this._controlContainer=g.create("div","maplibregl-control-container mapboxgl-control-container",x),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{S[E]=g.create("div",`maplibregl-ctrl-${E} mapboxgl-ctrl-${E}`,b)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const x=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=g.create("div","maplibregl-cooperative-gesture-screen",x);let u="Control",p=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(p=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use  + scroll to zoom the map",u="Meta"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${p}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,document.addEventListener("keydown",b=>{b.key===u&&(this._metaPress=!0)}),document.addEventListener("keyup",b=>{b.key===u&&(this._metaPress=!1)}),this._canvasContainer.addEventListener("wheel",b=>{this._onCooperativeGesture(b,this._metaPress,1)},!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(x,u,p){this._canvas.width=p*x,this._canvas.height=p*u,this._canvas.style.width=`${x}px`,this._canvas.style.height=`${u}px`}_setupPainter(){const x=a.extend({},h.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),u=this._canvas.getContext("webgl",x)||this._canvas.getContext("experimental-webgl",x);u?(this.painter=new yp(u,this.transform),a.exported$1.testSupport(u)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(x){x.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:x}))}_contextRestored(x){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:x}))}_onMapScroll(x){if(x.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(x,u,p){return!u&&p<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){let u,p=0;const b=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(u=b.createQueryEXT(),b.beginQueryEXT(b.TIME_ELAPSED_EXT,u),p=a.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let S=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const L=this.transform.zoom,$=a.exported.now();this.style.zoomHistory.update(L,$);const B=new a.EvaluationParameters(L,{now:$,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),j=B.crossFadingFactor();j===1&&j===this._crossFadingFactor||(S=!0,this._crossFadingFactor=j),this.style.update(B)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.load),this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||S)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const L=a.exported.now()-p;b.endQueryEXT(b.TIME_ELAPSED_EXT,u),setTimeout(()=>{const $=b.getQueryObjectEXT(u,b.QUERY_RESULT_EXT)/1e6;b.deleteQueryEXT(u),this.fire(new a.Event("gpu-timing-frame",{cpuTime:L,gpuTime:$}))},50)}if(this.listens("gpu-timing-layer")){const L=this.painter.collectGpuTimers();setTimeout(()=>{const $=this.painter.queryGpuTimers(L);this.fire(new a.Event("gpu-timing-layer",{layerTimes:$}))},50)}const E=this._sourcesDirty||this._styleDirty||this._placementDirty;return E||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||E||(this._fullyLoaded=!0,a.PerformanceUtils.mark(a.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const x=this.painter.context.gl.getExtension("WEBGL_lose_context");x&&x.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),g.remove(this._canvasContainer),g.remove(this._controlContainer),this._cooperativeGestures&&g.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),a.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=a.exported.frame(x=>{a.PerformanceUtils.frame(x),this._frame=null,this._render(x)}))}_onWindowOnline(){this._update()}_onWindowResize(x){this._trackResize&&this.resize({originalEvent:x})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}_setCacheLimits(x,u){a.setCacheLimits(x,u)}get version(){return"2.4.0"}},NavigationControl:class{constructor(x){this.options=a.extend({},lx,x),this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",u=>this._map.zoomIn({},{originalEvent:u})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",u=>this._map.zoomOut({},{originalEvent:u})),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",u=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:u}):this._map.resetNorth({},{originalEvent:u})}),this._compassIcon=g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const x=this._map.getZoom(),u=x===this._map.getMaxZoom(),p=x===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())}_rotateCompassArrow(){const x=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=x}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ra(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){g.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,u){const p=g.create("button",x,this._container);return p.type="button",p.addEventListener("click",u),p}_setButtonTitle(x,u){const p=this._map._getUIString(`NavigationControl.${u}`);x.title=p,x.setAttribute("aria-label",p)}},GeolocateControl:class extends a.Evented{constructor(x){super(),this.options=a.extend({},Pp,x),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(x){var u;return this._map=x,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),u=this._setupUI,fs!==void 0?u(fs):window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(p=>{fs=p.state!=="denied",u(fs)}):(fs=!!window.navigator.geolocation,u(fs)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),g.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,mi=0,ds=!1}_isOutOfMapMaxBounds(x){const u=this._map.getMaxBounds(),p=x.coords;return u&&(p.longitude<u.getWest()||p.longitude>u.getEast()||p.latitude<u.getSouth()||p.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(x){if(this._map){if(this._isOutOfMapMaxBounds(x))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",x)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=x,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(x),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(x),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",x)),this._finish()}}_updateCamera(x){const u=new a.LngLat(x.coords.longitude,x.coords.latitude),p=x.coords.accuracy,b=this._map.getBearing(),S=a.extend({bearing:b},this.options.fitBoundsOptions);this._map.fitBounds(u.toBounds(p),S,{geolocateSource:!0})}_updateMarker(x){if(x){const u=new a.LngLat(x.coords.longitude,x.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=x.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const x=this._map._container.clientHeight/2,u=this._map.unproject([0,x]),p=this._map.unproject([1,x]),b=u.distanceTo(p),S=Math.ceil(2*this._accuracy/b);this._circleElement.style.width=`${S}px`,this._circleElement.style.height=`${S}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(x){if(this._map){if(this.options.trackUserLocation)if(x.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(x.code===3&&ds)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",x)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(x){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=g.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",x===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new iu(this._dotElement),this._circleElement=g.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new iu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":mi--,ds=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),mi++,mi>1?(x={maximumAge:6e5,timeout:0},ds=!0):(x=this.options.positionOptions,ds=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:mc,LogoControl:nf,ScaleControl:class{constructor(x){this.options=a.extend({},na,x),a.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){uy(this._map,this._container,this.options)}onAdd(x){return this._map=x,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(x){this.options.unit=x,uy(this._map,this._container,this.options)}},FullscreenControl:class{constructor(x){this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){g.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const x=this._fullscreenButton=g.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(x){this.options=x,a.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(x){return this._map=x,this._container=g.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=g.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),g.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){g.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends a.Evented{constructor(x){super(),this.options=a.extend(Object.create(zn),x),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=a.LngLat.convert(x),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const u=document.createDocumentFragment(),p=document.createElement("body");let b;for(p.innerHTML=x;b=p.firstChild,b;)u.appendChild(b);return this.setDOMContent(u)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=g.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){this._container&&this._container.classList.add(x)}removeClassName(x){this._container&&this._container.classList.remove(x)}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}_createCloseButton(){this.options.closeButton&&(this._closeButton=g.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(x){this._update(x.point)}_onMouseMove(x){this._update(x.point)}_onDrag(x){this._update(x.point)}_update(x){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=g.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(E=>this._container.classList.add(E)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=vc(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!x))return;const u=this._pos=this._trackPointer&&x?x:this._map.project(this._lngLat);let p=this.options.anchor;const b=Ip(this.options.offset);if(!p){const E=this._container.offsetWidth,L=this._container.offsetHeight;let $;$=u.y+b.bottom.y<L?["top"]:u.y>this._map.transform.height-L?["bottom"]:[],u.x<E/2?$.push("left"):u.x>this._map.transform.width-E/2&&$.push("right"),p=$.length===0?"bottom":$.join("-")}const S=u.add(b[p]).round();g.setTransform(this._container,`${jt[p]} translate(${S.x}px,${S.y}px)`),tr(this._container,p,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(Gn);x&&x.focus()}_onClose(){this.remove()}},Marker:iu,Style:xi,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.pointGeometry,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,AJAXError:a.AJAXError,config:a.config,CanvasSource:dt,GeoJSONSource:Be,ImageSource:ht,RasterDEMTileSource:ce,RasterTileSource:ie,VectorTileSource:he,VideoSource:mt,prewarm:function(){Ye().acquire(le)},clearPrewarmedResources:function(){const x=je;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(le),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return ye.workerCount},set workerCount(x){ye.workerCount=x},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(x){a.config.MAX_PARALLEL_IMAGE_REQUESTS=x},clearStorage(x){a.clearTileCache(x)},workerUrl:"",addProtocol(x,u){a.config.REGISTERED_PROTOCOLS[x]=u},removeProtocol(x){delete a.config.REGISTERED_PROTOCOLS[x]}};return xo.extend(Zs,{isSafari:a.isSafari,getPerformanceMetrics:a.PerformanceUtils.getPerformanceMetrics}),Zs});var s=i;return s})})(h9);var tfe=h9.exports;const pu=eE(tfe);const rfe={name:"MyMap",data:()=>({map_style_url:"https://mirrors.sustech.edu.cn/osm-tile/styles/osm-bright/style.json",map_text_colour:"#000000",bus_location_data_api:[],bus_location_data_display:[],bus_plate_hash:{298:{plate:"BDF298"},363:{plate:"BDF363"},8040:{plate:"BDF040"},8147:{plate:"BDF147"},8267:{plate:"BDF267"},8330:{plate:"BDF330"},8335:{plate:"BDF335"},8338:{plate:"BDF338"},8345:{plate:"BDF345"},8365:{plate:"BDF365"},8371:{plate:"BDF371"},8411:{plate:"BDF411"},8421:{plate:"BDF421"},8430:{plate:"BDF430"},8447:{plate:"BDE447"},8458:{plate:"BDF458"},8470:{plate:"BDF470"},8471:{plate:"BDF471"},18447:{plate:"BDF447"}},geojson_line_1:[[113.99739584160139,22.610765716856296],[113.99770244929088,22.610602750604695],[113.99771094950285,22.61059767778233],[113.99771890653385,22.610591789421974],[113.99772624241524,22.61058514322198],[113.99773288526481,22.610577804306548],[113.99773876999119,22.610569844587616],[113.99824514560808,22.609808813574297],[113.998249208217,22.609802159245984],[113.99825274007058,22.60979520864264],[113.99898879543889,22.60819510708253],[113.99899240486543,22.608186143427105],[113.99899513228698,22.608176873246407],[113.99899695223624,22.60816738310082],[113.9989978477194,22.608157761604655],[113.99899781037489,22.60814809859871],[113.99899684055141,22.608138484311375],[113.99876376465981,22.606584405046835],[113.99876186005746,22.60657488398115],[113.99875904105679,22.60656559250995],[113.9987553342348,22.606556618231554],[113.99875077453878,22.606548045753847],[113.9987454049567,22.606539955896604],[113.99840124581259,22.606072409367975],[113.99839530892635,22.606065092796133],[113.9983887097732,22.60605836746942],[113.99838150693964,22.606052293094507],[113.9983737643716,22.606046923598996],[113.99836555080671,22.606042306652647],[113.99835693916405,22.60603848324417],[113.99834800589677,22.606035487317342],[113.99774294809698,22.605863822610463],[113.99773312637,22.605861563911226],[113.99772312717697,22.605860305268262],[113.99771305207776,22.60586005946536],[113.99770300340316,22.605860828999095],[113.99769308321561,22.605862606053456],[113.9976833922725,22.605865372579256],[113.996462081496,22.60628164325351],[113.99540699384544,22.60655007340282],[113.99537688636465,22.60638436471066],[113.99537457846512,22.606374521317747],[113.99537128843397,22.606364961271755],[113.99536704990152,22.60635578229431],[113.99536190619351,22.606347078211808],[113.99535590988829,22.606338937996323],[113.99534912227939,22.606331444856142],[113.99534161274892,22.60632467538524],[113.99533345805837,22.60631869878032],[113.995324741564,22.606313576133513],[113.99531555236477,22.60630935980789],[113.99491868014185,22.60615102642152],[113.99446803578164,22.605922922486105],[113.993628105381,22.605432281601264],[113.99361436378835,22.60541624974317],[113.99361283376653,22.605399929510398],[113.99403523011212,22.604697356220907],[113.99427914343141,22.604297776694622],[113.99454570612934,22.60407119840138],[113.99455101208882,22.604066349285663],[113.99481121659123,22.60381079129223],[113.99481565952753,22.603806137576637],[113.99515576701069,22.603426136652367],[113.99549648383878,22.60304833084697],[113.99570726599393,22.60298417975627],[113.99623267681147,22.60298349183956],[113.99686127008054,22.603078201644227],[113.99770971150042,22.60339811537432],[113.9977201426685,22.603401409146592],[113.99773087118898,22.603403543871796],[113.99774176868631,22.603404494006192],[113.99787229266123,22.603408704456996],[113.99788215074415,22.603408536156227],[113.9978919443383,22.60340739789566],[113.99790157824009,22.603405300740327],[113.99791095879819,22.603402265076713],[113.9979199948241,22.603398320414538],[113.9979285984785,22.60339350509991],[113.99793668612513,22.60338786594256],[113.99794417914393,22.60338145776082],[113.9980199672584,22.603309880097154],[113.99802683618526,22.603302715227613],[113.99803296099675,22.603294904709315],[113.99803828135273,22.603286525489548],[113.99804274483841,22.603277660118295],[113.9980463074806,22.603268395934986],[113.99804893418107,22.603258824208055],[113.99810024403767,22.60302739683338],[113.99810134953593,22.603021608404344],[113.99816665521513,22.602614977726315],[113.99835030416712,22.60216721735362],[113.99856193554633,22.601842951121434],[113.99880470491176,22.601545730488308],[113.99881031760918,22.601538156502247],[113.99881519216395,22.60153008765145],[113.99881928525701,22.6015215956419],[113.99882256051407,22.601512755940064],[113.99882498882864,22.601503647102295],[113.9988265486209,22.601494350076678],[113.99882722602932,22.60148494748368],[113.9988344317295,22.601194082723367],[113.99895072783376,22.600790214181995],[113.99965135994073,22.60015739690114],[113.9997487439255,22.600094924156195],[113.99975662585287,22.600089311655786],[113.99976392845348,22.6000829636668],[113.99977058335678,22.600075939622243],[113.99977652825628,22.600068305284697],[113.99978170749289,22.600060132130594],[113.99978607257604,22.600051496681044],[113.99978958263767,22.600042479785387],[113.99979220481484,22.60003316586426],[113.99979391455744,22.600023642119194],[113.99979469585801,22.60001399771619],[113.99979454140164,22.600004322950916],[113.9997934526344,22.599994708403305],[113.9997914397499,22.5999852440895],[113.99978852159374,22.599976018619078],[113.99978472548715,22.599967118365456],[113.99978008697113,22.5999586266572],[113.99977464947378,22.599950622997884],[113.99976846390364,22.599943182321713],[113.99976158817306,22.599936374291982],[113.99975408665603,22.59993026264882],[113.99974602958545,22.59992490461245],[113.99973749239562,22.59992035034746],[113.9997285550159,22.599916642493127],[113.99931433242868,22.59976784741106],[113.9988527029684,22.59945117882353],[113.99885252734994,22.599451058627373],[113.99811209682619,22.59894545191823],[113.99660435988763,22.59725046170577],[113.9966030867808,22.597249057512315],[113.99536067582889,22.595904550009735],[113.9953541984203,22.59589815108709],[113.99534716583669,22.59589236785265],[113.99533963638028,22.595887248251184],[113.99460302843119,22.595434010528884],[113.99459456469982,22.595429350779234],[113.99458569078772,22.595425529562213],[113.9945764895311,22.59542258254812],[113.99456704682186,22.595420537246756],[113.99455745080581,22.59541941275059],[113.99454779105987,22.59541921955658],[113.99453815775585,22.59541995946815],[113.99452864081873,22.59542162557837],[113.99451932908723,22.595424202334442],[113.9945103094845,22.595427665682845],[113.99450166620676,22.59543198329392],[113.99449347993728,22.59543711486362],[113.99448582709327,22.59544301248976],[113.99447877911251,22.595449621119172],[113.99447240178651,22.59545687906161],[113.99446675464631,22.595464718565623],[113.99446189040688,22.595473066451],[113.99420385593578,22.595969591352997],[113.99382768199821,22.59595993652297],[113.9938169603822,22.59596023674876],[113.99380633259398,22.59596168357378],[113.99379592089899,22.59596426035329],[113.99378584507669,22.595967937443213],[113.99321594303598,22.596211295714554],[113.99320787618828,22.59621517605677],[113.99320018866534,22.59621976224022],[113.99319294206812,22.596225017515316],[113.9931861944644,22.596230899770962],[113.99265363550316,22.596738860232236],[113.99200633643709,22.59716671060916],[113.99157366427197,22.5971462468509],[113.99090478252046,22.5969456920235],[113.99089489978897,22.59694326928491],[113.99088482201618,22.596941863390235],[113.9908746535454,22.596941488895837],[113.99086449965898,22.596942149679155],[113.99039476525739,22.596996829390125],[113.99038484213679,22.596998494112995],[113.99037513653565,22.597001147588333],[113.99036574671312,22.59700476295245],[113.99035676773141,22.597009303603546],[113.99034829049342,22.59701472357223],[113.99034040082233,22.597020967986946],[113.99033317859293,22.597027973629473],[113.99032669692278,22.59703566957495],[113.99032102143205,22.597043977909916],[113.99031620957922,22.597052814521092],[113.9903123100793,22.597062089946967],[113.99030936241067,22.59707171028347],[113.99020088374516,22.59750194984639],[113.99019873660492,22.597513104722935],[113.99019786842672,22.597524431141103],[113.99019829041364,22.59753578294312],[113.99030139387085,22.59862956838946],[113.99030286538937,22.59863964935582],[113.9903053549666,22.598649528285655],[113.99030883676294,22.59865910264432],[113.99048378356784,22.59907317753902],[113.99048795907763,22.599081866470787],[113.99049295183752,22.59909011297101],[113.99049871544861,22.599097840402962],[113.99050519634824,22.599104976953754],[113.99051233430787,22.599111456301692],[113.99052006299269,22.59911721823263],[113.99075599101839,22.599276010611053],[113.99076619844251,22.59928203412041],[113.99126127611241,22.599535900836155],[113.9917686585336,22.6000105337692],[113.99191211157755,22.60053218120178],[113.99183362959826,22.601016496848214],[113.99144872111891,22.60153952301182],[113.99077751816642,22.602118998056795],[113.99045237812743,22.602377905865616],[113.9904454049912,22.602384007276413],[113.99043902651476,22.60239072790739],[113.9904332974585,22.6023980100607],[113.99025180113084,22.60265210491943],[113.99024623928223,22.60266080939295],[113.99024160504972,22.60267004118088],[113.99023794788148,22.602679701778165],[113.99023530680027,22.60268968810428],[113.99010219314502,22.60332391993846]],geojson_line_2:[[113.9914596783045,22.59960492109923],[113.9918969233072,22.59993661748595],[113.9920105698998,22.6005318195689],[113.9919172423369,22.60102266627295],[113.9917196221943,22.601431625928],[113.9915262747645,22.601612498395962],[113.99204584987558,22.60262745159568],[113.99233952276445,22.60296808489611],[113.99279885728298,22.603280910653833],[113.99298710913483,22.60350336409337],[113.99385306765333,22.603677155592816],[113.99419945106074,22.60426804504929],[113.99386414857948,22.604784676421257],[113.9934784038899,22.60548092977822],[113.995278497141,22.60640224097063],[113.9953277666447,22.60667341560261],[113.9964905851169,22.6063775771138],[113.9977156537446,22.60596002561628],[113.9983207115444,22.60613169032316],[113.9986648706885,22.60659923685179],[113.9988979465801,22.60815331611633],[113.9981618912118,22.60975341767644],[113.9976555155949,22.61051444868976],[113.9973489079054,22.61067741494136]],bldg_geojson:{},gate_geojson:{},stations_geojson:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[113.9902,22.60336]},properties:{name:" COE"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99153,22.599643]},properties:{name:" Research Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.990399,22.597132]},properties:{name:" Gate7"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.992403,22.597011]},properties:{name:" Administration Building"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.994898,22.59569]},properties:{name:"1 Gate1"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.99939,22.599893]},properties:{name:"3 Gate3"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998329,22.601975]},properties:{name:" Guest Houses"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997811,22.603325]},properties:{name:" Faculty Cafteria"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995981,22.60293]},properties:{name:" C.Health.Center"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.993824,22.604854]},properties:{name:" Stu. Dormitories"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.995238,22.606518]},properties:{name:" Lychee Hill"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.996732,22.606278]},properties:{name:" Chuang Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.998372,22.606102]},properties:{name:" Hui Yuan"}},{type:"Feature",geometry:{type:"Point",coordinates:[113.997473,22.610667]},properties:{name:" Joy Highland"}}]},bus_marker_arr:[],map:[],time_difference:0,timer:{}}),async created(){const e=await Ko.get("https://bus.sustcra.com/geojson/sustech_bldg.json");this.bldg_geojson=e.data;const t=await Ko.get("https://bus.sustcra.com/geojson/sustech_gate.json");this.gate_geojson=t.data,console.log("Fetch geojson of sustech complete")},methods:{async fetch_bus(){const e=await Ko.get("https://bus.sustcra.com/api/v2/monitor_osm/");this.bus_location_data_api=e.data;const t=new Date;console.log("bus location data fetched at "+parseInt(t.getTime()/1e3)),typeof this.bus_location_data_api[0].time_mt<"u"&&(this.time_difference=parseInt(t.getTime()/1e3-this.bus_location_data_api[0].time_mt),console.log("The clock drift is "+this.time_difference+" seconds")),this.update_location()},update_location:function(){this.display_data=[],this.bus_marker_arr.forEach(o=>o.remove());let e;for(e=0;e<this.bus_location_data_api.length;e++)if(parseInt(new Date().getTime()/1e3)-this.bus_location_data_api[e].time_mt<300){var t=document.createElement("div");t.className="marker",t.style.backgroundImage="url(https://bus.sustcra.com/img/bus-uphill.png)",t.style.width="28px",t.style.height="28px",t.style.backgroundSize="cover";var r=document.createElement("div");r.className="marker",r.style.backgroundImage="url(https://bus.sustcra.com/img/bus-downhill.png)",r.style.width="28px",r.style.height="28px",r.style.backgroundSize="cover";var n=document.createElement("div");if(n.className="marker",n.style.backgroundImage="url(https://bus.sustcra.com/bus-top-view.png)",n.style.width="35px",n.style.height="35px",n.style.backgroundSize="cover",this.bus_location_data_api[e].route_dir===0)var i=new pu.Marker(t).setLngLat([this.bus_location_data_api[e].lng,this.bus_location_data_api[e].lat]).setPopup(new pu.Popup({offset:20}).setHTML('<p class="car-plate">Plate: <b>'+this.bus_location_data_api[e].id+"</b></p><p>Speed: <b>"+this.bus_location_data_api[e].speed+"km/h</b></p><p>Line: <b>"+this.bus_location_data_api[e].route_code+"</b></p>")).addTo(this.map);else var i=new pu.Marker(r).setLngLat([this.bus_location_data_api[e].lng,this.bus_location_data_api[e].lat]).setPopup(new pu.Popup({offset:20}).setHTML('<p class="car-plate">Plate: <b>'+this.bus_location_data_api[e].id+"</b></p><p>Speed: <b>"+this.bus_location_data_api[e].speed+"km/h</b></p><p>Line: <b>"+this.bus_location_data_api[e].route_code+"</b></p>")).addTo(this.map);this.bus_marker_arr.push(i)}},async refresh(){await this.fetch_bus()}},async mounted(){const e={lng:113.99373,lat:22.60308,zoom:14},t={bus_location_data:this.bus_location_data,geojson_line_1:this.geojson_line_1,geojson_line_2:this.geojson_line_2},r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches,await r&&(console.log("dark mode enabled."),this.map_text_colour="#FFFFFF",this.map_style_url="https://mirrors.sustech.edu.cn/osm-tile/styles/osm-blue/style.json"),this.map=new pu.Map({container:this.$refs.myMap,style:this.map_style_url,center:[e.lng,e.lat],zoom:e.zoom});var n=new pu.NavigationControl;this.map.addControl(n,"top-left"),this.map.addControl(new pu.FullscreenControl,"top-left"),this.map.addControl(new pu.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0})),this.map.on("load",()=>{this.map.addSource("line1",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_1}}}),this.map.addSource("line2",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t.geojson_line_2}}}),this.map.addLayer({id:"line1",type:"line",source:"line1",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#f7911d","line-width":3}}),this.map.addLayer({id:"line2",type:"line",source:"line2",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#29abe2","line-width":3}}),this.map.loadImage("https://bus.sustcra.com/station_icon.png",(i,o)=>{if(i)throw i;this.map.addImage("bus-station",o),this.map.loadImage("https://bus.sustcra.com/bldg_icon.png",(s,a)=>{this.map.addImage("bldg-icon",a)}),this.map.loadImage("https://bus.sustcra.com/gate_icon.png",(s,a)=>{this.map.addImage("gate-icon",a)}),this.map.addSource("stations",{type:"geojson",data:this.stations_geojson}),this.map.addSource("bldgs",{type:"geojson",data:this.bldg_geojson}),this.map.addSource("gates",{type:"geojson",data:this.gate_geojson}),this.map.addLayer({id:"bus-station",type:"symbol",source:"stations",layout:{"icon-size":.075,"icon-image":"bus-station","text-field":["get","name"],"text-size":10,"text-offset":[0,1.25],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"bldgs",type:"symbol",source:"bldgs",layout:{"icon-size":.02,"icon-image":"bldg-icon","text-field":["get","name"],"text-size":9,"text-offset":[0,.3],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]}),this.map.addLayer({id:"gates",type:"symbol",source:"gates",layout:{"icon-size":.05,"icon-image":"gate-icon","text-field":["get","name"],"text-size":10,"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":this.map_text_colour},filter:["==","$type","Point"]})})}),await this.fetch_bus(),this.timer=setInterval(()=>{this.refresh()},5e3)},async unmounted(){clearInterval(this.timer)}},nfe={class:"map-container",ref:"myMap"};function ife(e,t,r,n,i,o){return _t(),Wt(Tr,null,[fr("div",nfe,null,512),fr("span",null,"Time drift: "+Qr(e.time_difference)+" sec.",1)],64)}const ofe=Kr(rfe,[["render",ife],["__scopeId","data-v-adc1822d"],["__file","RealtimeMap.vue"]]),afe={name:"weather-span",data:()=>({text:""}),mounted(){this.load_weather()},methods:{load_weather(){Ko.get("https://api.sustech.online/weather").then(e=>{this.text=e.data.msg})}}},sfe={id:"weather-container"},lfe={id:"weather"};function ufe(e,t,r,n,i,o){return _t(),Wt("div",sfe,[fr("span",lfe,Qr(e.text),1)])}const cfe=Kr(afe,[["render",ufe],["__file","weather-span.vue"]]);var Xi=63710088e-1,aA={centimeters:Xi*100,centimetres:Xi*100,degrees:Xi/111325,feet:Xi*3.28084,inches:Xi*39.37,kilometers:Xi/1e3,kilometres:Xi/1e3,meters:Xi,metres:Xi,miles:Xi/1609.344,millimeters:Xi*1e3,millimetres:Xi*1e3,nauticalmiles:Xi/1852,radians:1,yards:Xi*1.0936},hfe={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Xi,yards:1.0936133},fT={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Pa(e,t,r){r===void 0&&(r={});var n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function ffe(e,t,r){switch(e){case"Point":return Yi(t).geometry;case"LineString":return wa(t).geometry;case"Polygon":return sA(t).geometry;case"MultiPoint":return p9(t).geometry;case"MultiLineString":return d9(t).geometry;case"MultiPolygon":return m9(t).geometry;default:throw new Error(e+" is invalid")}}function Yi(e,t,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n1(e[0])||!n1(e[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:e};return Pa(n,t,r)}function dfe(e,t,r){return r===void 0&&(r={}),Eh(e.map(function(n){return Yi(n,t)}),r)}function sA(e,t,r){r===void 0&&(r={});for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:e};return Pa(a,t,r)}function pfe(e,t,r){return r===void 0&&(r={}),Eh(e.map(function(n){return sA(n,t)}),r)}function wa(e,t,r){if(r===void 0&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return Pa(n,t,r)}function mfe(e,t,r){return r===void 0&&(r={}),Eh(e.map(function(n){return wa(n,t)}),r)}function Eh(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function d9(e,t,r){r===void 0&&(r={});var n={type:"MultiLineString",coordinates:e};return Pa(n,t,r)}function p9(e,t,r){r===void 0&&(r={});var n={type:"MultiPoint",coordinates:e};return Pa(n,t,r)}function m9(e,t,r){r===void 0&&(r={});var n={type:"MultiPolygon",coordinates:e};return Pa(n,t,r)}function vfe(e,t,r){r===void 0&&(r={});var n={type:"GeometryCollection",geometries:e};return Pa(n,t,r)}function gfe(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function lA(e,t){t===void 0&&(t="kilometers");var r=aA[t];if(!r)throw new Error(t+" units is invalid");return e*r}function gb(e,t){t===void 0&&(t="kilometers");var r=aA[t];if(!r)throw new Error(t+" units is invalid");return e/r}function yfe(e,t){return Rv(gb(e,t))}function _fe(e){var t=e%360;return t<0&&(t+=360),t}function Rv(e){var t=e%(2*Math.PI);return t*180/Math.PI}function Sa(e){var t=e%360;return t*Math.PI/180}function bfe(e,t,r){if(t===void 0&&(t="kilometers"),r===void 0&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return lA(gb(e,t),r)}function xfe(e,t,r){if(t===void 0&&(t="meters"),r===void 0&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=fT[t];if(!n)throw new Error("invalid original units");var i=fT[r];if(!i)throw new Error("invalid final units");return e/n*i}function n1(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function uA(e){return!!e&&e.constructor===Object}function wfe(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!n1(t))throw new Error("bbox must only contain numbers")})}function Sfe(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const Tfe=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:fT,bearingToAzimuth:_fe,convertArea:xfe,convertLength:bfe,degreesToRadians:Sa,earthRadius:Xi,factors:aA,feature:Pa,featureCollection:Eh,geometry:ffe,geometryCollection:vfe,isNumber:n1,isObject:uA,lengthToDegrees:yfe,lengthToRadians:gb,lineString:wa,lineStrings:mfe,multiLineString:d9,multiPoint:p9,multiPolygon:m9,point:Yi,points:dfe,polygon:sA,polygons:pfe,radiansToDegrees:Rv,radiansToLength:lA,round:gfe,unitsFactors:hfe,validateBBox:wfe,validateId:Sfe},Symbol.toStringTag,{value:"Module"}));function jd(e,t,r){if(e!==null)for(var n,i,o,s,a,h,d,m=0,v=0,g,_=e.type,T=_==="FeatureCollection",P=_==="Feature",M=T?e.features.length:1,I=0;I<M;I++){d=T?e.features[I].geometry:P?e.geometry:e,g=d?d.type==="GeometryCollection":!1,a=g?d.geometries.length:1;for(var D=0;D<a;D++){var O=0,z=0;if(s=g?d.geometries[D]:d,s!==null){h=s.coordinates;var F=s.type;switch(m=r&&(F==="Polygon"||F==="MultiPolygon")?1:0,F){case null:break;case"Point":if(t(h,v,I,O,z)===!1)return!1;v++,O++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(t(h[n],v,I,O,z)===!1)return!1;v++,F==="MultiPoint"&&O++}F==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(i=0;i<h[n].length-m;i++){if(t(h[n][i],v,I,O,z)===!1)return!1;v++}F==="MultiLineString"&&O++,F==="Polygon"&&z++}F==="Polygon"&&O++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(z=0,i=0;i<h[n].length;i++){for(o=0;o<h[n][i].length-m;o++){if(t(h[n][i][o],v,I,O,z)===!1)return!1;v++}z++}O++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(jd(s.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Cfe(e,t,r,n){var i=r;return jd(e,function(o,s,a,h,d){s===0&&r===void 0?i=o:i=t(i,o,s,a,h,d)},n),i}function v9(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&t(e.features[r].properties,r)!==!1;r++);break;case"Feature":t(e.properties,0);break}}function Efe(e,t,r){var n=r;return v9(e,function(i,o){o===0&&r===void 0?n=i:n=t(n,i,o)}),n}function zv(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function Afe(e,t,r){var n=r;return zv(e,function(i,o){o===0&&r===void 0?n=i:n=t(n,i,o)}),n}function Pfe(e){var t=[];return jd(e,function(r){t.push(r)}),t}function cA(e,t){var r,n,i,o,s,a,h,d,m,v,g=0,_=e.type==="FeatureCollection",T=e.type==="Feature",P=_?e.features.length:1;for(r=0;r<P;r++){for(a=_?e.features[r].geometry:T?e.geometry:e,d=_?e.features[r].properties:T?e.properties:{},m=_?e.features[r].bbox:T?e.bbox:void 0,v=_?e.features[r].id:T?e.id:void 0,h=a?a.type==="GeometryCollection":!1,s=h?a.geometries.length:1,i=0;i<s;i++){if(o=h?a.geometries[i]:a,o===null){if(t(null,g,d,m,v)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,g,d,m,v)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(t(o.geometries[n],g,d,m,v)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Ife(e,t,r){var n=r;return cA(e,function(i,o,s,a,h){o===0&&r===void 0?n=i:n=t(n,i,o,s,a,h)}),n}function Gd(e,t){cA(e,function(r,n,i,o,s){var a=r===null?null:r.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return t(Pa(r,i,{bbox:o,id:s}),n,0)===!1?!1:void 0}var h;switch(a){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon";break}for(var d=0;d<r.coordinates.length;d++){var m=r.coordinates[d],v={type:h,coordinates:m};if(t(Pa(v,i),n,d)===!1)return!1}})}function Mfe(e,t,r){var n=r;return Gd(e,function(i,o,s){o===0&&s===0&&r===void 0?n=i:n=t(n,i,o,s)}),n}function g9(e,t){Gd(e,function(r,n,i){var o=0;if(r.geometry){var s=r.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var a,h=0,d=0,m=0;if(jd(r,function(v,g,_,T,P){if(a===void 0||n>h||T>d||P>m){a=v,h=n,d=T,m=P,o=0;return}var M=wa([a,v],r.properties);if(t(M,n,i,P,o)===!1)return!1;o++,a=v})===!1)return!1}}})}function y9(e,t,r){var n=r,i=!1;return g9(e,function(o,s,a,h,d){i===!1&&r===void 0?n=o:n=t(n,o,s,a,h,d),i=!0}),n}function _9(e,t){if(!e)throw new Error("geojson is required");Gd(e,function(r,n,i){if(r.geometry!==null){var o=r.geometry.type,s=r.geometry.coordinates;switch(o){case"LineString":if(t(r,n,i,0,0)===!1)return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(t(wa(s[a],r.properties),n,i,a)===!1)return!1;break}}})}function Dfe(e,t,r){var n=r;return _9(e,function(i,o,s,a){o===0&&r===void 0?n=i:n=t(n,i,o,s,a)}),n}function Lfe(e,t){if(t=t||{},!uA(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,a=e.features[r].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var h=a.coordinates;switch(a.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=h.length+o-1),wa([h[o],h[o+1]],s,t);case"Polygon":return i<0&&(i=h.length+i),o<0&&(o=h[i].length+o-1),wa([h[i][o],h[i][o+1]],s,t);case"MultiLineString":return n<0&&(n=h.length+n),o<0&&(o=h[n].length+o-1),wa([h[n][o],h[n][o+1]],s,t);case"MultiPolygon":return n<0&&(n=h.length+n),i<0&&(i=h[n].length+i),o<0&&(o=h[n][i].length-o-1),wa([h[n][i][o],h[n][i][o+1]],s,t)}throw new Error("geojson is invalid")}function Ofe(e,t){if(t=t||{},!uA(t))throw new Error("options is invalid");var r=t.featureIndex||0,n=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":r<0&&(r=e.features.length+r),s=s||e.features[r].properties,a=e.features[r].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var h=a.coordinates;switch(a.type){case"Point":return Yi(h,s,t);case"MultiPoint":return n<0&&(n=h.length+n),Yi(h[n],s,t);case"LineString":return o<0&&(o=h.length+o),Yi(h[o],s,t);case"Polygon":return i<0&&(i=h.length+i),o<0&&(o=h[i].length+o),Yi(h[i][o],s,t);case"MultiLineString":return n<0&&(n=h.length+n),o<0&&(o=h[n].length+o),Yi(h[n][o],s,t);case"MultiPolygon":return n<0&&(n=h.length+n),i<0&&(i=h[n].length+i),o<0&&(o=h[n][i].length-o),Yi(h[n][i][o],s,t)}throw new Error("geojson is invalid")}const kfe=Object.freeze(Object.defineProperty({__proto__:null,coordAll:Pfe,coordEach:jd,coordReduce:Cfe,featureEach:zv,featureReduce:Afe,findPoint:Ofe,findSegment:Lfe,flattenEach:Gd,flattenReduce:Mfe,geomEach:cA,geomReduce:Ife,lineEach:_9,lineReduce:Dfe,propEach:v9,propReduce:Efe,segmentEach:g9,segmentReduce:y9},Symbol.toStringTag,{value:"Module"}));function dT(e){var t=[1/0,1/0,-1/0,-1/0];return jd(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}dT.default=dT;const Rfe=Object.freeze(Object.defineProperty({__proto__:null,default:dT},Symbol.toStringTag,{value:"Module"}));function $v(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Pd(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ah(e,t,r){r===void 0&&(r={});var n=$v(e),i=$v(t),o=Sa(i[1]-n[1]),s=Sa(i[0]-n[0]),a=Sa(n[1]),h=Sa(i[1]),d=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(h);return lA(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),r.units)}function zfe(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return b9(e);case"FeatureCollection":return $fe(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return hA(e);default:throw new Error("unknown GeoJSON type")}}function b9(e){var t={type:"Feature"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:t[r]=e[r]}}),t.properties=x9(e.properties),t.geometry=hA(e.geometry),t}function x9(e){var t={};return e&&Object.keys(e).forEach(function(r){var n=e[r];typeof n=="object"?n===null?t[r]=null:Array.isArray(n)?t[r]=n.map(function(i){return i}):t[r]=x9(n):t[r]=n}),t}function $fe(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(r){switch(r){case"type":case"features":return;default:t[r]=e[r]}}),t.features=e.features.map(function(r){return b9(r)}),t}function hA(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(r){return hA(r)}),t):(t.coordinates=w9(e.coordinates),t)}function w9(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(r){return w9(r)})}function uO(e,t,r,n){n===void 0&&(n={});var i=$v(e),o=Sa(i[0]),s=Sa(i[1]),a=Sa(r),h=gb(t,n.units),d=Math.asin(Math.sin(s)*Math.cos(h)+Math.cos(s)*Math.sin(h)*Math.cos(a)),m=o+Math.atan2(Math.sin(a)*Math.sin(h)*Math.cos(s),Math.cos(h)-Math.sin(s)*Math.sin(d)),v=Rv(m),g=Rv(d);return Yi([v,g],n.properties)}function S9(e,t,r){if(r===void 0&&(r={}),r.final===!0)return Bfe(e,t);var n=$v(e),i=$v(t),o=Sa(n[0]),s=Sa(i[0]),a=Sa(n[1]),h=Sa(i[1]),d=Math.sin(s-o)*Math.cos(h),m=Math.cos(a)*Math.sin(h)-Math.sin(a)*Math.cos(h)*Math.cos(s-o);return Rv(Math.atan2(d,m))}function Bfe(e,t){var r=S9(t,e);return r=(r+180)%360,r}function cO(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var r,n=1/0,i=0;return zv(t,function(o,s){var a=ah(e,o);a<n&&(i=s,n=a)}),r=zfe(t.features[i]),r.properties.featureIndex=i,r.properties.distanceToPoint=n,r}function hO(e){if(!e)throw new Error("geojson is required");var t=[];return Gd(e,function(r){Ffe(r,t)}),Eh(t)}function Ffe(e,t){var r=[],n=e.geometry;if(n!==null){switch(n.type){case"Polygon":r=Pd(n);break;case"LineString":r=[Pd(n)]}r.forEach(function(i){var o=Nfe(i,e.properties);o.forEach(function(s){s.id=t.length,t.push(s)})})}}function Nfe(e,t){var r=[];return e.reduce(function(n,i){var o=wa([n,i],t);return o.bbox=Vfe(n,i),r.push(o),i}),r}function Vfe(e,t){var r=e[0],n=e[1],i=t[0],o=t[1],s=r<i?r:i,a=n<o?n:o,h=r>i?r:i,d=n>o?n:o;return[s,a,h,d]}var fA={exports:{}},T9={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(rz,function(){function r(D,O,z,F,N){(function H(U,J,K,ne,ae){for(;ne>K;){if(ne-K>600){var he=ne-K+1,ie=J-K+1,de=Math.log(he),ce=.5*Math.exp(2*de/3),Be=.5*Math.sqrt(de*ce*(he-ce)/he)*(ie-he/2<0?-1:1),Ve=Math.max(K,Math.floor(J-ie*ce/he+Be)),ht=Math.min(ne,Math.floor(J+(he-ie)*ce/he+Be));H(U,J,Ve,ht,ae)}var mt=U[J],dt=K,vt=ne;for(n(U,K,J),ae(U[ne],mt)>0&&n(U,K,ne);dt<vt;){for(n(U,dt,vt),dt++,vt--;ae(U[dt],mt)<0;)dt++;for(;ae(U[vt],mt)>0;)vt--}ae(U[K],mt)===0?n(U,K,vt):n(U,++vt,ne),vt<=J&&(K=vt+1),J<=vt&&(ne=vt-1)}})(D,O,z||0,F||D.length-1,N||i)}function n(D,O,z){var F=D[O];D[O]=D[z],D[z]=F}function i(D,O){return D<O?-1:D>O?1:0}var o=function(D){D===void 0&&(D=9),this._maxEntries=Math.max(4,D),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(D,O,z){if(!z)return O.indexOf(D);for(var F=0;F<O.length;F++)if(z(D,O[F]))return F;return-1}function a(D,O){h(D,0,D.children.length,O,D)}function h(D,O,z,F,N){N||(N=M(null)),N.minX=1/0,N.minY=1/0,N.maxX=-1/0,N.maxY=-1/0;for(var H=O;H<z;H++){var U=D.children[H];d(N,D.leaf?F(U):U)}return N}function d(D,O){return D.minX=Math.min(D.minX,O.minX),D.minY=Math.min(D.minY,O.minY),D.maxX=Math.max(D.maxX,O.maxX),D.maxY=Math.max(D.maxY,O.maxY),D}function m(D,O){return D.minX-O.minX}function v(D,O){return D.minY-O.minY}function g(D){return(D.maxX-D.minX)*(D.maxY-D.minY)}function _(D){return D.maxX-D.minX+(D.maxY-D.minY)}function T(D,O){return D.minX<=O.minX&&D.minY<=O.minY&&O.maxX<=D.maxX&&O.maxY<=D.maxY}function P(D,O){return O.minX<=D.maxX&&O.minY<=D.maxY&&O.maxX>=D.minX&&O.maxY>=D.minY}function M(D){return{children:D,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function I(D,O,z,F,N){for(var H=[O,z];H.length;)if(!((z=H.pop())-(O=H.pop())<=F)){var U=O+Math.ceil((z-O)/F/2)*F;r(D,U,O,z,N),H.push(O,U,U,z)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(D){var O=this.data,z=[];if(!P(D,O))return z;for(var F=this.toBBox,N=[];O;){for(var H=0;H<O.children.length;H++){var U=O.children[H],J=O.leaf?F(U):U;P(D,J)&&(O.leaf?z.push(U):T(D,J)?this._all(U,z):N.push(U))}O=N.pop()}return z},o.prototype.collides=function(D){var O=this.data;if(!P(D,O))return!1;for(var z=[];O;){for(var F=0;F<O.children.length;F++){var N=O.children[F],H=O.leaf?this.toBBox(N):N;if(P(D,H)){if(O.leaf||T(D,H))return!0;z.push(N)}}O=z.pop()}return!1},o.prototype.load=function(D){if(!D||!D.length)return this;if(D.length<this._minEntries){for(var O=0;O<D.length;O++)this.insert(D[O]);return this}var z=this._build(D.slice(),0,D.length-1,0);if(this.data.children.length)if(this.data.height===z.height)this._splitRoot(this.data,z);else{if(this.data.height<z.height){var F=this.data;this.data=z,z=F}this._insert(z,this.data.height-z.height-1,!0)}else this.data=z;return this},o.prototype.insert=function(D){return D&&this._insert(D,this.data.height-1),this},o.prototype.clear=function(){return this.data=M([]),this},o.prototype.remove=function(D,O){if(!D)return this;for(var z,F,N,H=this.data,U=this.toBBox(D),J=[],K=[];H||J.length;){if(H||(H=J.pop(),F=J[J.length-1],z=K.pop(),N=!0),H.leaf){var ne=s(D,H.children,O);if(ne!==-1)return H.children.splice(ne,1),J.push(H),this._condense(J),this}N||H.leaf||!T(H,U)?F?(z++,H=F.children[z],N=!1):H=null:(J.push(H),K.push(z),z=0,F=H,H=H.children[0])}return this},o.prototype.toBBox=function(D){return D},o.prototype.compareMinX=function(D,O){return D.minX-O.minX},o.prototype.compareMinY=function(D,O){return D.minY-O.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(D){return this.data=D,this},o.prototype._all=function(D,O){for(var z=[];D;)D.leaf?O.push.apply(O,D.children):z.push.apply(z,D.children),D=z.pop();return O},o.prototype._build=function(D,O,z,F){var N,H=z-O+1,U=this._maxEntries;if(H<=U)return a(N=M(D.slice(O,z+1)),this.toBBox),N;F||(F=Math.ceil(Math.log(H)/Math.log(U)),U=Math.ceil(H/Math.pow(U,F-1))),(N=M([])).leaf=!1,N.height=F;var J=Math.ceil(H/U),K=J*Math.ceil(Math.sqrt(U));I(D,O,z,K,this.compareMinX);for(var ne=O;ne<=z;ne+=K){var ae=Math.min(ne+K-1,z);I(D,ne,ae,J,this.compareMinY);for(var he=ne;he<=ae;he+=J){var ie=Math.min(he+J-1,ae);N.children.push(this._build(D,he,ie,F-1))}}return a(N,this.toBBox),N},o.prototype._chooseSubtree=function(D,O,z,F){for(;F.push(O),!O.leaf&&F.length-1!==z;){for(var N=1/0,H=1/0,U=void 0,J=0;J<O.children.length;J++){var K=O.children[J],ne=g(K),ae=(he=D,ie=K,(Math.max(ie.maxX,he.maxX)-Math.min(ie.minX,he.minX))*(Math.max(ie.maxY,he.maxY)-Math.min(ie.minY,he.minY))-ne);ae<H?(H=ae,N=ne<N?ne:N,U=K):ae===H&&ne<N&&(N=ne,U=K)}O=U||O.children[0]}var he,ie;return O},o.prototype._insert=function(D,O,z){var F=z?D:this.toBBox(D),N=[],H=this._chooseSubtree(F,this.data,O,N);for(H.children.push(D),d(H,F);O>=0&&N[O].children.length>this._maxEntries;)this._split(N,O),O--;this._adjustParentBBoxes(F,N,O)},o.prototype._split=function(D,O){var z=D[O],F=z.children.length,N=this._minEntries;this._chooseSplitAxis(z,N,F);var H=this._chooseSplitIndex(z,N,F),U=M(z.children.splice(H,z.children.length-H));U.height=z.height,U.leaf=z.leaf,a(z,this.toBBox),a(U,this.toBBox),O?D[O-1].children.push(U):this._splitRoot(z,U)},o.prototype._splitRoot=function(D,O){this.data=M([D,O]),this.data.height=D.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(D,O,z){for(var F,N,H,U,J,K,ne,ae=1/0,he=1/0,ie=O;ie<=z-O;ie++){var de=h(D,0,ie,this.toBBox),ce=h(D,ie,z,this.toBBox),Be=(N=de,H=ce,U=void 0,J=void 0,K=void 0,ne=void 0,U=Math.max(N.minX,H.minX),J=Math.max(N.minY,H.minY),K=Math.min(N.maxX,H.maxX),ne=Math.min(N.maxY,H.maxY),Math.max(0,K-U)*Math.max(0,ne-J)),Ve=g(de)+g(ce);Be<ae?(ae=Be,F=ie,he=Ve<he?Ve:he):Be===ae&&Ve<he&&(he=Ve,F=ie)}return F||z-O},o.prototype._chooseSplitAxis=function(D,O,z){var F=D.leaf?this.compareMinX:m,N=D.leaf?this.compareMinY:v;this._allDistMargin(D,O,z,F)<this._allDistMargin(D,O,z,N)&&D.children.sort(F)},o.prototype._allDistMargin=function(D,O,z,F){D.children.sort(F);for(var N=this.toBBox,H=h(D,0,O,N),U=h(D,z-O,z,N),J=_(H)+_(U),K=O;K<z-O;K++){var ne=D.children[K];d(H,D.leaf?N(ne):ne),J+=_(H)}for(var ae=z-O-1;ae>=O;ae--){var he=D.children[ae];d(U,D.leaf?N(he):he),J+=_(U)}return J},o.prototype._adjustParentBBoxes=function(D,O,z){for(var F=z;F>=0;F--)d(O[F],D)},o.prototype._condense=function(D){for(var O=D.length-1,z=void 0;O>=0;O--)D[O].children.length===0?O>0?(z=D[O-1].children).splice(z.indexOf(D[O]),1):this.clear():a(D[O],this.toBBox)},o})})(T9);var Ufe=T9.exports;const Hfe=tE(Tfe),jfe=tE(kfe),Gfe=tE(Rfe);var ys=Ufe,C9=Hfe,E9=jfe,Sf=Gfe.default,Wfe=E9.featureEach;E9.coordEach;C9.polygon;var fO=C9.featureCollection;function A9(e){var t=new ys(e);return t.insert=function(r){if(r.type!=="Feature")throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:Sf(r),ys.prototype.insert.call(this,r)},t.load=function(r){var n=[];return Array.isArray(r)?r.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Sf(i),n.push(i)}):Wfe(r,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Sf(i),n.push(i)}),ys.prototype.load.call(this,n)},t.remove=function(r,n){if(r.type!=="Feature")throw new Error("invalid feature");return r.bbox=r.bbox?r.bbox:Sf(r),ys.prototype.remove.call(this,r,n)},t.clear=function(){return ys.prototype.clear.call(this)},t.search=function(r){var n=ys.prototype.search.call(this,this.toBBox(r));return fO(n)},t.collides=function(r){return ys.prototype.collides.call(this,this.toBBox(r))},t.all=function(){var r=ys.prototype.all.call(this);return fO(r)},t.toJSON=function(){return ys.prototype.toJSON.call(this)},t.fromJSON=function(r){return ys.prototype.fromJSON.call(this,r)},t.toBBox=function(r){var n;if(r.bbox)n=r.bbox;else if(Array.isArray(r)&&r.length===4)n=r;else if(Array.isArray(r)&&r.length===6)n=[r[0],r[1],r[3],r[4]];else if(r.type==="Feature")n=Sf(r);else if(r.type==="FeatureCollection")n=Sf(r);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},t}fA.exports=A9;fA.exports.default=A9;var qfe=fA.exports;const Xfe=eE(qfe);function Zfe(e,t){var r={},n=[];if(e.type==="LineString"&&(e=Pa(e)),t.type==="LineString"&&(t=Pa(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=dO(e,t);return i&&n.push(i),Eh(n)}var o=Xfe();return o.load(hO(t)),zv(hO(e),function(s){zv(o.search(s),function(a){var h=dO(s,a);if(h){var d=Pd(h).join(",");r[d]||(r[d]=!0,n.push(h))}})}),Eh(n)}function dO(e,t){var r=Pd(e),n=Pd(t);if(r.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],s=r[1][0],a=r[1][1],h=n[0][0],d=n[0][1],m=n[1][0],v=n[1][1],g=(v-d)*(s-i)-(m-h)*(a-o),_=(m-h)*(o-d)-(v-d)*(i-h),T=(s-i)*(o-d)-(a-o)*(i-h);if(g===0)return null;var P=_/g,M=T/g;if(P>=0&&P<=1&&M>=0&&M<=1){var I=i+P*(s-i),D=o+P*(a-o);return Yi([I,D])}return null}function ll(e,t,r){r===void 0&&(r={});var n=Yi([1/0,1/0],{dist:1/0}),i=0;return Gd(e,function(o){for(var s=Pd(o),a=0;a<s.length-1;a++){var h=Yi(s[a]);h.properties.dist=ah(t,h,r);var d=Yi(s[a+1]);d.properties.dist=ah(t,d,r);var m=ah(h,d,r),v=Math.max(h.properties.dist,d.properties.dist),g=S9(h,d),_=uO(t,v,g+90,r),T=uO(t,v,g-90,r),P=Zfe(wa([_.geometry.coordinates,T.geometry.coordinates]),wa([h.geometry.coordinates,d.geometry.coordinates])),M=null;P.features.length>0&&(M=P.features[0],M.properties.dist=ah(t,M,r),M.properties.location=i+ah(h,M,r)),h.properties.dist<n.properties.dist&&(n=h,n.properties.index=a,n.properties.location=i),d.properties.dist<n.properties.dist&&(n=d,n.properties.index=a+1,n.properties.location=i+m),M&&M.properties.dist<n.properties.dist&&(n=M,n.properties.index=a),i+=m}}),n}function ul(e,t){return t===void 0&&(t={}),y9(e,function(r,n){var i=n.geometry.coordinates;return r+ah(i[0],i[1],t)},0)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pT=function(e,t){return pT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},pT(e,t)};function Ut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Kfe=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),Yfe=function(){function e(){this.browser=new Kfe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Jc=new Yfe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Jc.wxa=!0,Jc.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Jc.worker=!0:typeof navigator>"u"?(Jc.node=!0,Jc.svgSupported=!0):Jfe(navigator.userAgent,Jc);function Jfe(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),o=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),o&&(r.edge=!0,r.version=o[1],r.newEdge=+o[1].split(".")[0]>18),s&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var a=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in a||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}const Rr=Jc;var dA=12,P9="sans-serif",ju=dA+"px "+P9,Qfe=20,ede=100,tde="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function rde(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-Qfe)/ede;t[n]=i}return t}var nde=rde(tde),vg={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=vg.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||ju),e.measureText(r);r=r||"",n=n||ju;var o=/(\d+)px/.exec(n),s=o&&+o[1]||dA,a=0;if(n.indexOf("mono")>=0)a=s*r.length;else for(var h=0;h<r.length;h++){var d=nde[r[h]];a+=d==null?s:d*s}return{width:a}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},I9=Wd(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),M9=Wd(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),gg=Object.prototype.toString,yb=Array.prototype,ide=yb.forEach,ode=yb.filter,pA=yb.slice,ade=yb.map,pO=function(){}.constructor,s_=pO?pO.prototype:null,mA="__proto__",sde=2311;function D9(){return sde++}function L9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function Gr(e){if(e==null||typeof e!="object")return e;var t=e,r=gg.call(e);if(r==="[object Array]"){if(!Qm(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=Gr(e[n])}}else if(M9[r]){if(!Qm(e)){var o=e.constructor;if(o.from)t=o.from(e);else{t=new o(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!I9[r]&&!Qm(e)&&!i1(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==mA&&(t[s]=Gr(e[s]))}return t}function Nn(e,t,r){if(!pr(t)||!pr(e))return r?Gr(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==mA){var i=e[n],o=t[n];pr(o)&&pr(i)&&!Zt(o)&&!Zt(i)&&!i1(o)&&!i1(i)&&!mO(o)&&!mO(i)&&!Qm(o)&&!Qm(i)?Nn(i,o,r):(r||!(n in e))&&(e[n]=Gr(t[n]))}return e}function lde(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Nn(r,e[n],t);return r}function Dt(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==mA&&(e[r]=t[r]);return e}function Dn(e,t,r){for(var n=en(t),i=0;i<n.length;i++){var o=n[i];(r?t[o]!=null:e[o]==null)&&(e[o]=t[o])}return e}function vn(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function ude(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function as(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var o=n[i];o!=="constructor"&&(r?t[o]!=null:e[o]==null)&&(e[o]=t[o])}else Dn(e,t,r)}function $o(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function Me(e,t,r){if(e&&t)if(e.forEach&&e.forEach===ide)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(r,e[o],o,e)}function ur(e,t,r){if(!e)return[];if(!t)return gA(e);if(e.map&&e.map===ade)return e.map(t,r);for(var n=[],i=0,o=e.length;i<o;i++)n.push(t.call(r,e[i],i,e));return n}function Wd(e,t,r,n){if(e&&t){for(var i=0,o=e.length;i<o;i++)r=t.call(n,r,e[i],i,e);return r}}function Ji(e,t,r){if(!e)return[];if(!t)return gA(e);if(e.filter&&e.filter===ode)return e.filter(t,r);for(var n=[],i=0,o=e.length;i<o;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function en(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function cde(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(pA.call(arguments)))}}var Xn=s_&&wr(s_.bind)?s_.call.bind(s_.bind):cde;function Ai(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(pA.call(arguments)))}}function Zt(e){return Array.isArray?Array.isArray(e):gg.call(e)==="[object Array]"}function wr(e){return typeof e=="function"}function lr(e){return typeof e=="string"}function mT(e){return gg.call(e)==="[object String]"}function Zn(e){return typeof e=="number"}function pr(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function mO(e){return!!I9[gg.call(e)]}function ea(e){return!!M9[gg.call(e)]}function i1(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function vA(e){return e.colorStops!=null}function o1(e){return e!==e}function Id(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function zr(e,t){return e??t}function l0(e,t,r){return e??t??r}function gA(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return pA.apply(e,t)}function O9(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function ts(e,t){if(!e)throw new Error(t)}function Ms(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var k9="__ec_primitive__";function vT(e){e[k9]=!0}function Qm(e){return e[k9]}var hde=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return en(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),R9=typeof Map=="function";function fde(){return R9?new Map:new hde}var dde=function(){function e(t){var r=Zt(t);this.data=fde();var n=this;t instanceof e?t.each(i):t&&Me(t,i);function i(o,s){r?n.set(o,s):n.set(s,o)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return R9?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Br(e){return new dde(e)}function gT(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function _b(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&Dt(r,t),r}function Md(e,t){return e.hasOwnProperty(t)}function _o(){}var u0=180/Math.PI;function qd(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function pde(e){return[e[0],e[1]]}function vO(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function z9(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function mde(e){return Math.sqrt(vde(e))}function vde(e){return e[0]*e[0]+e[1]*e[1]}function qw(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function yA(e,t){var r=mde(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function yT(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Gf=yT;function gde(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var od=gde;function Ca(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Wf(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function qf(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var Tf=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),yde=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Tf(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,o=n-this._x,s=i-this._y;this._x=n,this._y=i,r.drift(o,s,t),this.handler.dispatchToElement(new Tf(r,t),"drag",t.event);var a=this.handler.findHover(n,i,r).target,h=this._dropTarget;this._dropTarget=a,r!==a&&(h&&a!==h&&this.handler.dispatchToElement(new Tf(h,t),"dragleave",t.event),a&&a!==h&&this.handler.dispatchToElement(new Tf(a,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Tf(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Tf(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}();const _de=yde;var bde=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),o[t]||(o[t]=[]);for(var a=0;a<o[t].length;a++)if(o[t][a].h===n)return this;var h={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},d=o[t].length-1,m=o[t][d];return m&&m.callAtLast?o[t].splice(d,0,h):o[t].push(h),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],o=0,s=n[t].length;o<s;o++)n[t][o].h!==r&&i.push(n[t][o]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=r.length,a=i.length,h=0;h<a;h++){var d=i[h];if(!(o&&o.filter&&d.query!=null&&!o.filter(t,d.query)))switch(s){case 0:d.h.call(d.ctx);break;case 1:d.h.call(d.ctx,r[0]);break;case 2:d.h.call(d.ctx,r[0],r[1]);break;default:d.h.apply(d.ctx,r);break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var s=r.length,a=r[s-1],h=i.length,d=0;d<h;d++){var m=i[d];if(!(o&&o.filter&&m.query!=null&&!o.filter(t,m.query)))switch(s){case 0:m.h.call(a);break;case 1:m.h.call(a,r[0]);break;case 2:m.h.call(a,r[0],r[1]);break;default:m.h.apply(a,r.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(t),this},e}();const Fl=bde;var xde=Math.log(2);function _T(e,t,r,n,i,o){var s=n+"-"+i,a=e.length;if(o.hasOwnProperty(s))return o[s];if(t===1){var h=Math.round(Math.log((1<<a)-1&~i)/xde);return e[r][h]}for(var d=n|1<<r,m=r+1;n&1<<m;)m++;for(var v=0,g=0,_=0;g<a;g++){var T=1<<g;T&i||(v+=(_%2?-1:1)*e[r][g]*_T(e,t-1,m,d,i|T,o),_++)}return o[s]=v,v}function gO(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=_T(r,8,0,0,0,n);if(i!==0){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)o[a]==null&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*_T(r,7,s===0?1:0,1<<s,1<<a,n)/i*t[s];return function(h,d,m){var v=d*o[6]+m*o[7]+1;h[0]=(d*o[0]+m*o[1]+o[2])/v,h[1]=(d*o[3]+m*o[4]+o[5])/v}}}var yO="___zrEVENTSAVED",Xw=[];function wde(e,t,r,n,i){return bT(Xw,t,n,i,!0)&&bT(e,r,Xw[0],Xw[1])}function bT(e,t,r,n,i){if(t.getBoundingClientRect&&Rr.domSupported&&!$9(t)){var o=t[yO]||(t[yO]={}),s=Sde(t,o),a=Tde(s,o,i);if(a)return a(e,r,n),!0}return!1}function Sde(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,h=o%2,d=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[h]+":0",i[d]+":0",n[1-h]+":auto",i[1-d]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function Tde(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],o=t.srcCoords,s=[],a=[],h=!0,d=0;d<4;d++){var m=e[d].getBoundingClientRect(),v=2*d,g=m.left,_=m.top;s.push(g,_),h=h&&o&&g===o[v]&&_===o[v+1],a.push(e[d].offsetLeft,e[d].offsetTop)}return h&&i?i:(t.srcCoords=s,t[n]=r?gO(a,s):gO(s,a))}function $9(e){return e.nodeName.toUpperCase()==="CANVAS"}var Cde=/([&<>"'])/g,Ede={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Yo(e){return e==null?"":(e+"").replace(Cde,function(t,r){return Ede[r]})}var Ade=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Zw=[],Pde=Rr.browser.firefox&&+Rr.browser.version.split(".")[0]<39;function xT(e,t,r,n){return r=r||{},n?_O(e,t,r):Pde&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):_O(e,t,r),r}function _O(e,t,r){if(Rr.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if($9(e)){var o=e.getBoundingClientRect();r.zrX=n-o.left,r.zrY=i-o.top;return}else if(bT(Zw,e,n,i)){r.zrX=Zw[0],r.zrY=Zw[1];return}}r.zrX=r.zrY=0}function _A(e){return e||window.event}function ma(e,t,r){if(t=_A(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&xT(e,s,t,r)}else{xT(e,t,t,r);var o=Ide(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return t.which==null&&a!==void 0&&Ade.test(t.type)&&(t.which=a&1?1:a&2?3:a&4?2:0),t}function Ide(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),o=n>0?-1:n<0?1:r>0?-1:1;return 3*i*o}function Mde(e,t,r,n){e.addEventListener(t,r,n)}function Dde(e,t,r,n){e.removeEventListener(t,r,n)}var B9=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0},Lde=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var o={points:[],touches:[],target:r,event:t},s=0,a=i.length;s<a;s++){var h=i[s],d=xT(n,h,{});o.points.push([d.zrX,d.zrY]),o.touches.push(h)}this._track.push(o)}},e.prototype._recognize=function(t){for(var r in Kw)if(Kw.hasOwnProperty(r)){var n=Kw[r](this._track,t);if(n)return n}},e}();function bO(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function Ode(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Kw={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var o=bO(n)/bO(i);!isFinite(o)&&(o=1),t.pinchScale=o;var s=Ode(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function Bv(){return[1,0,0,1,0,0]}function bA(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function kde(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function ad(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],o=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],a=t[0]*r[4]+t[2]*r[5]+t[4],h=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=h,e}function wT(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function xA(e,t,r){var n=t[0],i=t[2],o=t[4],s=t[1],a=t[3],h=t[5],d=Math.sin(r),m=Math.cos(r);return e[0]=n*m+s*d,e[1]=-n*d+s*m,e[2]=i*m+a*d,e[3]=-i*d+m*a,e[4]=m*o+d*h,e[5]=m*h-d*o,e}function Rde(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function wA(e,t){var r=t[0],n=t[2],i=t[4],o=t[1],s=t[3],a=t[5],h=r*s-o*n;return h?(h=1/h,e[0]=s*h,e[1]=-o*h,e[2]=-n*h,e[3]=r*h,e[4]=(n*a-s*i)*h,e[5]=(o*i-r*a)*h,e):null}var zde=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var o=1-i;t.x=o*r.x+i*n.x,t.y=o*r.y+i*n.y},e}();const Cn=zde;var l_=Math.min,u_=Math.max,Ac=new Cn,Pc=new Cn,Ic=new Cn,Mc=new Cn,am=new Cn,sm=new Cn,$de=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=l_(t.x,this.x),n=l_(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=u_(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=u_(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,o=Bv();return wT(o,o,[-r.x,-r.y]),Rde(o,o,[n,i]),wT(o,o,[t.x,t.y]),o},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,o=n.x+n.width,s=n.y,a=n.y+n.height,h=t.x,d=t.x+t.width,m=t.y,v=t.y+t.height,g=!(o<h||d<i||a<m||v<s);if(r){var _=1/0,T=0,P=Math.abs(o-h),M=Math.abs(d-i),I=Math.abs(a-m),D=Math.abs(v-s),O=Math.min(P,M),z=Math.min(I,D);o<h||d<i?O>T&&(T=O,P<M?Cn.set(sm,-P,0):Cn.set(sm,M,0)):O<_&&(_=O,P<M?Cn.set(am,P,0):Cn.set(am,-M,0)),a<m||v<s?z>T&&(T=z,I<D?Cn.set(sm,0,-I):Cn.set(sm,0,D)):O<_&&(_=O,I<D?Cn.set(am,0,I):Cn.set(am,0,-D))}return r&&Cn.copy(r,g?am:sm),g},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],o=n[3],s=n[4],a=n[5];t.x=r.x*i+s,t.y=r.y*o+a,t.width=r.width*i,t.height=r.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Ac.x=Ic.x=r.x,Ac.y=Mc.y=r.y,Pc.x=Mc.x=r.x+r.width,Pc.y=Ic.y=r.y+r.height,Ac.transform(n),Mc.transform(n),Pc.transform(n),Ic.transform(n),t.x=l_(Ac.x,Pc.x,Ic.x,Mc.x),t.y=l_(Ac.y,Pc.y,Ic.y,Mc.y);var h=u_(Ac.x,Pc.x,Ic.x,Mc.x),d=u_(Ac.y,Pc.y,Ic.y,Mc.y);t.width=h-t.x,t.height=d-t.y},e}();const gn=$de;var F9="silent";function Bde(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Fde}}function Fde(){B9(this.event)}var Nde=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(Fl),lm=function(){function e(t,r){this.x=t,this.y=r}return e}(),Vde=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Yw=new gn(0,0,0,0),N9=function(e){Ut(t,e);function t(r,n,i,o,s){var a=e.call(this)||this;return a._hovered=new lm(0,0),a.storage=r,a.painter=n,a.painterRoot=o,a._pointerSize=s,i=i||new Nde,a.proxy=null,a.setHandlerProxy(i),a._draggingMgr=new _de(a),a}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(Me(Vde,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,o=V9(this,n,i),s=this._hovered,a=s.target;a&&!a.__zr&&(s=this.findHover(s.x,s.y),a=s.target);var h=this._hovered=o?new lm(n,i):this.findHover(n,i),d=h.target,m=this.proxy;m.setCursor&&m.setCursor(d?d.cursor:"default"),a&&d!==a&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(h,"mousemove",r),d&&d!==a&&this.dispatchToElement(h,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new lm(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var o=r.target;if(!(o&&o.silent)){for(var s="on"+n,a=Bde(n,r,i);o&&(o[s]&&(a.cancelBubble=!!o[s].call(o,a)),o.trigger(n,a),o=o.__hostTarget?o.__hostTarget:o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(n,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[s]=="function"&&h[s].call(h,a),h.trigger&&h.trigger(n,a)}))}},t.prototype.findHover=function(r,n,i){var o=this.storage.getDisplayList(),s=new lm(r,n);if(xO(o,s,r,n,i),this._pointerSize&&!s.target){for(var a=[],h=this._pointerSize,d=h/2,m=new gn(r-d,n-d,h,h),v=o.length-1;v>=0;v--){var g=o[v];g!==i&&!g.ignore&&!g.ignoreCoarsePointer&&(!g.parent||!g.parent.ignoreCoarsePointer)&&(Yw.copy(g.getBoundingRect()),g.transform&&Yw.applyTransform(g.transform),Yw.intersect(m)&&a.push(g))}if(a.length)for(var _=4,T=Math.PI/12,P=Math.PI*2,M=0;M<d;M+=_)for(var I=0;I<P;I+=T){var D=r+M*Math.cos(I),O=n+M*Math.sin(I);if(xO(a,s,D,O,i),s.target)return s}}return s},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new Lde);var i=this._gestureMgr;n==="start"&&i.clear();var o=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),o){var s=o.type;r.gestureEvent=s;var a=new lm;a.target=o.target,this.dispatchToElement(a,s,o.event)}},t}(Fl);Me(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){N9.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=V9(this,r,n),o,s;if((e!=="mouseup"||!i)&&(o=this.findHover(r,n),s=o.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||Gf(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,e,t)}});function Ude(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var s=n.getClipPath();if(s&&!s.contain(t,r))return!1;n.silent&&(i=!0)}var a=n.__hostTarget;n=a||n.parent}return i?F9:!0}return!1}function xO(e,t,r,n,i){for(var o=e.length-1;o>=0;o--){var s=e[o],a=void 0;if(s!==i&&!s.ignore&&(a=Ude(s,r,n))&&(!t.topTarget&&(t.topTarget=s),a!==F9)){t.target=s;break}}}function V9(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}const Hde=N9;var U9=32,um=7;function jde(e){for(var t=0;e>=U9;)t|=e&1,e>>=1;return e+t}function wO(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;Gde(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function Gde(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function SO(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var o=e[n],s=t,a=n,h;s<a;)h=s+a>>>1,i(o,e[h])<0?a=h:s=h+1;var d=n-s;switch(d){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;d>0;)e[s+d]=e[s+d-1],d--}e[s]=o}}function Jw(e,t,r,n,i,o){var s=0,a=0,h=1;if(o(e,t[r+i])>0){for(a=n-i;h<a&&o(e,t[r+i+h])>0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a),s+=i,h+=i}else{for(a=i+1;h<a&&o(e,t[r+i-h])<=0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a);var d=s;s=i-h,h=i-d}for(s++;s<h;){var m=s+(h-s>>>1);o(e,t[r+m])>0?s=m+1:h=m}return h}function Qw(e,t,r,n,i,o){var s=0,a=0,h=1;if(o(e,t[r+i])<0){for(a=i+1;h<a&&o(e,t[r+i-h])<0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a);var d=s;s=i-h,h=i-d}else{for(a=n-i;h<a&&o(e,t[r+i+h])>=0;)s=h,h=(h<<1)+1,h<=0&&(h=a);h>a&&(h=a),s+=i,h+=i}for(s++;s<h;){var m=s+(h-s>>>1);o(e,t[r+m])<0?h=m:s=m+1}return h}function Wde(e,t){var r=um,n,i,o=0;e.length;var s=[];n=[],i=[];function a(_,T){n[o]=_,i[o]=T,o+=1}function h(){for(;o>1;){var _=o-2;if(_>=1&&i[_-1]<=i[_]+i[_+1]||_>=2&&i[_-2]<=i[_]+i[_-1])i[_-1]<i[_+1]&&_--;else if(i[_]>i[_+1])break;m(_)}}function d(){for(;o>1;){var _=o-2;_>0&&i[_-1]<i[_+1]&&_--,m(_)}}function m(_){var T=n[_],P=i[_],M=n[_+1],I=i[_+1];i[_]=P+I,_===o-3&&(n[_+1]=n[_+2],i[_+1]=i[_+2]),o--;var D=Qw(e[M],e,T,P,0,t);T+=D,P-=D,P!==0&&(I=Jw(e[T+P-1],e,M,I,I-1,t),I!==0&&(P<=I?v(T,P,M,I):g(T,P,M,I)))}function v(_,T,P,M){var I=0;for(I=0;I<T;I++)s[I]=e[_+I];var D=0,O=P,z=_;if(e[z++]=e[O++],--M===0){for(I=0;I<T;I++)e[z+I]=s[D+I];return}if(T===1){for(I=0;I<M;I++)e[z+I]=e[O+I];e[z+M]=s[D];return}for(var F=r,N,H,U;;){N=0,H=0,U=!1;do if(t(e[O],s[D])<0){if(e[z++]=e[O++],H++,N=0,--M===0){U=!0;break}}else if(e[z++]=s[D++],N++,H=0,--T===1){U=!0;break}while((N|H)<F);if(U)break;do{if(N=Qw(e[O],s,D,T,0,t),N!==0){for(I=0;I<N;I++)e[z+I]=s[D+I];if(z+=N,D+=N,T-=N,T<=1){U=!0;break}}if(e[z++]=e[O++],--M===0){U=!0;break}if(H=Jw(s[D],e,O,M,0,t),H!==0){for(I=0;I<H;I++)e[z+I]=e[O+I];if(z+=H,O+=H,M-=H,M===0){U=!0;break}}if(e[z++]=s[D++],--T===1){U=!0;break}F--}while(N>=um||H>=um);if(U)break;F<0&&(F=0),F+=2}if(r=F,r<1&&(r=1),T===1){for(I=0;I<M;I++)e[z+I]=e[O+I];e[z+M]=s[D]}else{if(T===0)throw new Error;for(I=0;I<T;I++)e[z+I]=s[D+I]}}function g(_,T,P,M){var I=0;for(I=0;I<M;I++)s[I]=e[P+I];var D=_+T-1,O=M-1,z=P+M-1,F=0,N=0;if(e[z--]=e[D--],--T===0){for(F=z-(M-1),I=0;I<M;I++)e[F+I]=s[I];return}if(M===1){for(z-=T,D-=T,N=z+1,F=D+1,I=T-1;I>=0;I--)e[N+I]=e[F+I];e[z]=s[O];return}for(var H=r;;){var U=0,J=0,K=!1;do if(t(s[O],e[D])<0){if(e[z--]=e[D--],U++,J=0,--T===0){K=!0;break}}else if(e[z--]=s[O--],J++,U=0,--M===1){K=!0;break}while((U|J)<H);if(K)break;do{if(U=T-Qw(s[O],e,_,T,T-1,t),U!==0){for(z-=U,D-=U,T-=U,N=z+1,F=D+1,I=U-1;I>=0;I--)e[N+I]=e[F+I];if(T===0){K=!0;break}}if(e[z--]=s[O--],--M===1){K=!0;break}if(J=M-Jw(e[D],s,0,M,M-1,t),J!==0){for(z-=J,O-=J,M-=J,N=z+1,F=O+1,I=0;I<J;I++)e[N+I]=s[F+I];if(M<=1){K=!0;break}}if(e[z--]=e[D--],--T===0){K=!0;break}H--}while(U>=um||J>=um);if(K)break;H<0&&(H=0),H+=2}if(r=H,r<1&&(r=1),M===1){for(z-=T,D-=T,N=z+1,F=D+1,I=T-1;I>=0;I--)e[N+I]=e[F+I];e[z]=s[O]}else{if(M===0)throw new Error;for(F=z-(M-1),I=0;I<M;I++)e[F+I]=s[I]}}return{mergeRuns:h,forceMergeRuns:d,pushRun:a}}function c0(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var o=0;if(i<U9){o=wO(e,r,n,t),SO(e,r,n,r+o,t);return}var s=Wde(e,t),a=jde(i);do{if(o=wO(e,r,n,t),o<a){var h=i;h>a&&(h=a),SO(e,r,r+h,r+o,t),o=h}s.pushRun(r,o),s.mergeRuns(),i-=o,r+=o}while(i!==0);s.forceMergeRuns()}}var As=1,Mm=2,Bf=4,TO=!1;function e2(){TO||(TO=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function CO(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var qde=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=CO}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,o=r.length;i<o;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,c0(n,CO)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var o=i,s=t;o;)o.parent=s,o.updateTransform(),r.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),h=0;h<a.length;h++){var d=a[h];t.__dirty&&(d.__dirty|=As),this._updateAndAddDisplayable(d,r,n)}t.__dirty=0}else{var m=t;r&&r.length?m.__clipPaths=r:m.__clipPaths&&m.__clipPaths.length>0&&(m.__clipPaths=[]),isNaN(m.z)&&(e2(),m.z=0),isNaN(m.z2)&&(e2(),m.z2=0),isNaN(m.zlevel)&&(e2(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var v=t.getDecalElement&&t.getDecalElement();v&&this._updateAndAddDisplayable(v,r,n);var g=t.getTextGuideLine();g&&this._updateAndAddDisplayable(g,r,n);var _=t.getTextContent();_&&this._updateAndAddDisplayable(_,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=vn(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const Xde=qde;var H9;H9=Rr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const EO=H9;var h0={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-h0.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?h0.bounceIn(e*2)*.5:h0.bounceOut(e*2-1)*.5+.5}};const j9=h0;var c_=Math.pow,Fu=Math.sqrt,a1=1e-8,G9=1e-4,AO=Fu(3),h_=1/3,Ps=qd(),ya=qd(),sd=qd();function Du(e){return e>-a1&&e<a1}function W9(e){return e>a1||e<-a1}function Oi(e,t,r,n,i){var o=1-i;return o*o*(o*e+3*i*t)+i*i*(i*n+3*o*r)}function PO(e,t,r,n,i){var o=1-i;return 3*(((t-e)*o+2*(r-t)*i)*o+(n-r)*i*i)}function q9(e,t,r,n,i,o){var s=n+3*(t-r)-e,a=3*(r-t*2+e),h=3*(t-e),d=e-i,m=a*a-3*s*h,v=a*h-9*s*d,g=h*h-3*a*d,_=0;if(Du(m)&&Du(v))if(Du(a))o[0]=0;else{var T=-h/a;T>=0&&T<=1&&(o[_++]=T)}else{var P=v*v-4*m*g;if(Du(P)){var M=v/m,T=-a/s+M,I=-M/2;T>=0&&T<=1&&(o[_++]=T),I>=0&&I<=1&&(o[_++]=I)}else if(P>0){var D=Fu(P),O=m*a+1.5*s*(-v+D),z=m*a+1.5*s*(-v-D);O<0?O=-c_(-O,h_):O=c_(O,h_),z<0?z=-c_(-z,h_):z=c_(z,h_);var T=(-a-(O+z))/(3*s);T>=0&&T<=1&&(o[_++]=T)}else{var F=(2*m*a-3*s*v)/(2*Fu(m*m*m)),N=Math.acos(F)/3,H=Fu(m),U=Math.cos(N),T=(-a-2*H*U)/(3*s),I=(-a+H*(U+AO*Math.sin(N)))/(3*s),J=(-a+H*(U-AO*Math.sin(N)))/(3*s);T>=0&&T<=1&&(o[_++]=T),I>=0&&I<=1&&(o[_++]=I),J>=0&&J<=1&&(o[_++]=J)}}return _}function X9(e,t,r,n,i){var o=6*r-12*t+6*e,s=9*t+3*n-3*e-9*r,a=3*t-3*e,h=0;if(Du(s)){if(W9(o)){var d=-a/o;d>=0&&d<=1&&(i[h++]=d)}}else{var m=o*o-4*s*a;if(Du(m))i[0]=-o/(2*s);else if(m>0){var v=Fu(m),d=(-o+v)/(2*s),g=(-o-v)/(2*s);d>=0&&d<=1&&(i[h++]=d),g>=0&&g<=1&&(i[h++]=g)}}return h}function s1(e,t,r,n,i,o){var s=(t-e)*i+e,a=(r-t)*i+t,h=(n-r)*i+r,d=(a-s)*i+s,m=(h-a)*i+a,v=(m-d)*i+d;o[0]=e,o[1]=s,o[2]=d,o[3]=v,o[4]=v,o[5]=m,o[6]=h,o[7]=n}function Zde(e,t,r,n,i,o,s,a,h,d,m){var v,g=.005,_=1/0,T,P,M,I;Ps[0]=h,Ps[1]=d;for(var D=0;D<1;D+=.05)ya[0]=Oi(e,r,i,s,D),ya[1]=Oi(t,n,o,a,D),M=od(Ps,ya),M<_&&(v=D,_=M);_=1/0;for(var O=0;O<32&&!(g<G9);O++)T=v-g,P=v+g,ya[0]=Oi(e,r,i,s,T),ya[1]=Oi(t,n,o,a,T),M=od(ya,Ps),T>=0&&M<_?(v=T,_=M):(sd[0]=Oi(e,r,i,s,P),sd[1]=Oi(t,n,o,a,P),I=od(sd,Ps),P<=1&&I<_?(v=P,_=I):g*=.5);return m&&(m[0]=Oi(e,r,i,s,v),m[1]=Oi(t,n,o,a,v)),Fu(_)}function Kde(e,t,r,n,i,o,s,a,h){for(var d=e,m=t,v=0,g=1/h,_=1;_<=h;_++){var T=_*g,P=Oi(e,r,i,s,T),M=Oi(t,n,o,a,T),I=P-d,D=M-m;v+=Math.sqrt(I*I+D*D),d=P,m=M}return v}function ki(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function ST(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function Yde(e,t,r,n,i){var o=e-2*t+r,s=2*(t-e),a=e-n,h=0;if(Du(o)){if(W9(s)){var d=-a/s;d>=0&&d<=1&&(i[h++]=d)}}else{var m=s*s-4*o*a;if(Du(m)){var d=-s/(2*o);d>=0&&d<=1&&(i[h++]=d)}else if(m>0){var v=Fu(m),d=(-s+v)/(2*o),g=(-s-v)/(2*o);d>=0&&d<=1&&(i[h++]=d),g>=0&&g<=1&&(i[h++]=g)}}return h}function Z9(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function l1(e,t,r,n,i){var o=(t-e)*n+e,s=(r-t)*n+t,a=(s-o)*n+o;i[0]=e,i[1]=o,i[2]=a,i[3]=a,i[4]=s,i[5]=r}function Jde(e,t,r,n,i,o,s,a,h){var d,m=.005,v=1/0;Ps[0]=s,Ps[1]=a;for(var g=0;g<1;g+=.05){ya[0]=ki(e,r,i,g),ya[1]=ki(t,n,o,g);var _=od(Ps,ya);_<v&&(d=g,v=_)}v=1/0;for(var T=0;T<32&&!(m<G9);T++){var P=d-m,M=d+m;ya[0]=ki(e,r,i,P),ya[1]=ki(t,n,o,P);var _=od(ya,Ps);if(P>=0&&_<v)d=P,v=_;else{sd[0]=ki(e,r,i,M),sd[1]=ki(t,n,o,M);var I=od(sd,Ps);M<=1&&I<v?(d=M,v=I):m*=.5}}return h&&(h[0]=ki(e,r,i,d),h[1]=ki(t,n,o,d)),Fu(v)}function Qde(e,t,r,n,i,o,s){for(var a=e,h=t,d=0,m=1/s,v=1;v<=s;v++){var g=v*m,_=ki(e,r,i,g),T=ki(t,n,o,g),P=_-a,M=T-h;d+=Math.sqrt(P*P+M*M),a=_,h=T}return d}var epe=/cubic-bezier\(([0-9,\.e ]+)\)/;function SA(e){var t=e&&epe.exec(e);if(t){var r=t[1].split(","),n=+Ms(r[0]),i=+Ms(r[1]),o=+Ms(r[2]),s=+Ms(r[3]);if(isNaN(n+i+o+s))return;var a=[];return function(h){return h<=0?0:h>=1?1:q9(0,n,o,1,h,a)&&Oi(0,i,s,1,a[0])}}}var tpe=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||_o,this.ondestroy=t.ondestroy||_o,this.onrestart=t.onrestart||_o,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,o=i/n;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,a=s?s(o):o;if(this.onframe(a),o===1)if(this.loop){var h=i%n;this._startTime=t-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=wr(t)?t:j9[t]||SA(t)},e}();const rpe=tpe;var K9=function(){function e(t){this.value=t}return e}(),npe=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new K9(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),ipe=function(){function e(t){this._list=new npe,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,o=null;if(i[t]==null){var s=n.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var h=n.head;n.remove(h),delete i[h.key],o=h.value,this._lastRemovedEntry=h}a?a.value=r:a=new K9(r),a.key=t,n.insertEntry(a),i[t]=a}return o},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const yg=ipe;var IO={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ev(e){return e=Math.round(e),e<0?0:e>255?255:e}function MO(e){return e<0?0:e>1?1:e}function t2(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?ev(parseFloat(t)/100*255):ev(parseInt(t,10))}function tv(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?MO(parseFloat(t)/100):MO(parseFloat(t))}function r2(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function da(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function TT(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var Y9=new yg(20),f_=null;function Cf(e,t){f_&&TT(f_,t),f_=Y9.put(e,f_||t.slice())}function gh(e,t){if(e){t=t||[];var r=Y9.get(e);if(r)return TT(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in IO)return TT(t,IO[n]),Cf(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(n.slice(1,4),16);if(!(o>=0&&o<=4095)){da(t,0,0,0,1);return}return da(t,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Cf(e,t),t}else if(i===7||i===9){var o=parseInt(n.slice(1,7),16);if(!(o>=0&&o<=16777215)){da(t,0,0,0,1);return}return da(t,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(n.slice(7),16)/255:1),Cf(e,t),t}return}var s=n.indexOf("("),a=n.indexOf(")");if(s!==-1&&a+1===i){var h=n.substr(0,s),d=n.substr(s+1,a-(s+1)).split(","),m=1;switch(h){case"rgba":if(d.length!==4)return d.length===3?da(t,+d[0],+d[1],+d[2],1):da(t,0,0,0,1);m=tv(d.pop());case"rgb":if(d.length>=3)return da(t,t2(d[0]),t2(d[1]),t2(d[2]),d.length===3?m:tv(d[3])),Cf(e,t),t;da(t,0,0,0,1);return;case"hsla":if(d.length!==4){da(t,0,0,0,1);return}return d[3]=tv(d[3]),DO(d,t),Cf(e,t),t;case"hsl":if(d.length!==3){da(t,0,0,0,1);return}return DO(d,t),Cf(e,t),t;default:return}}da(t,0,0,0,1)}}function DO(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=tv(e[1]),i=tv(e[2]),o=i<=.5?i*(n+1):i+n-i*n,s=i*2-o;return t=t||[],da(t,ev(r2(s,o,r+1/3)*255),ev(r2(s,o,r)*255),ev(r2(s,o,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function LO(e,t){var r=gh(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return J9(r,r.length===4?"rgba":"rgb")}}function J9(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function u1(e,t){var r=gh(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var c1=Math.round;function Fv(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=gh(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var OO=1e-4;function Lu(e){return e<OO&&e>-OO}function d_(e){return c1(e*1e3)/1e3}function CT(e){return c1(e*1e4)/1e4}function ope(e){return"matrix("+d_(e[0])+","+d_(e[1])+","+d_(e[2])+","+d_(e[3])+","+CT(e[4])+","+CT(e[5])+")"}var ape={left:"start",right:"end",center:"middle",middle:"middle"};function spe(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function lpe(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function upe(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function Q9(e){return e&&!!e.image}function cpe(e){return e&&!!e.svgElement}function TA(e){return Q9(e)||cpe(e)}function e8(e){return e.type==="linear"}function t8(e){return e.type==="radial"}function r8(e){return e&&(e.type==="linear"||e.type==="radial")}function bb(e){return"url(#"+e+")"}function n8(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function i8(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*u0,i=zr(e.scaleX,1),o=zr(e.scaleY,1),s=e.skewX||0,a=e.skewY||0,h=[];return(t||r)&&h.push("translate("+t+"px,"+r+"px)"),n&&h.push("rotate("+n+")"),(i!==1||o!==1)&&h.push("scale("+i+","+o+")"),(s||a)&&h.push("skew("+c1(s*u0)+"deg, "+c1(a*u0)+"deg)"),h.join(" ")}var hpe=function(){return Rr.hasGlobalWindow&&wr(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),ET=Array.prototype.slice;function vl(e,t,r){return(t-e)*r+e}function n2(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=vl(t[o],r[o],n);return e}function fpe(e,t,r,n){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=vl(t[s][a],r[s][a],n)}return e}function p_(e,t,r,n){for(var i=t.length,o=0;o<i;o++)e[o]=t[o]+r[o]*n;return e}function kO(e,t,r,n){for(var i=t.length,o=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var a=0;a<o;a++)e[s][a]=t[s][a]+r[s][a]*n}return e}function dpe(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,o=Math.min(r,n),s=i[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(r,n);a++)i.push({offset:s.offset,color:s.color.slice()})}function ppe(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var o=n.length,s=i.length;if(o!==s){var a=o>s;if(a)n.length=s;else for(var h=o;h<s;h++)n.push(r===1?i[h]:ET.call(i[h]))}for(var d=n[0]&&n[0].length,h=0;h<n.length;h++)if(r===1)isNaN(n[h])&&(n[h]=i[h]);else for(var m=0;m<d;m++)isNaN(n[h][m])&&(n[h][m]=i[h][m])}}function f0(e){if($o(e)){var t=e.length;if($o(e[0])){for(var r=[],n=0;n<t;n++)r.push(ET.call(e[n]));return r}return ET.call(e)}return e}function d0(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function mpe(e){return $o(e&&e[0])?2:1}var m_=0,p0=1,o8=2,Dm=3,AT=4,PT=5,RO=6;function zO(e){return e===AT||e===PT}function v_(e){return e===p0||e===o8}var cm=[0,0,0,0],vpe=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,o=i.length,s=!1,a=RO,h=r;if($o(r)){var d=mpe(r);a=d,(d===1&&!Zn(r[0])||d===2&&!Zn(r[0][0]))&&(s=!0)}else if(Zn(r)&&!o1(r))a=m_;else if(lr(r))if(!isNaN(+r))a=m_;else{var m=gh(r);m&&(h=m,a=Dm)}else if(vA(r)){var v=Dt({},h);v.colorStops=ur(r.colorStops,function(_){return{offset:_.offset,color:gh(_.color)}}),e8(r)?a=AT:t8(r)&&(a=PT),h=v}o===0?this.valType=a:(a!==this.valType||a===RO)&&(s=!0),this.discrete=this.discrete||s;var g={time:t,value:h,rawValue:r,percent:0};return n&&(g.easing=n,g.easingFunc=wr(n)?n:j9[n]||SA(n)),i.push(g),g},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(P,M){return P.time-M.time});for(var i=this.valType,o=n.length,s=n[o-1],a=this.discrete,h=v_(i),d=zO(i),m=0;m<o;m++){var v=n[m],g=v.value,_=s.value;v.percent=v.time/t,a||(h&&m!==o-1?ppe(g,_,i):d&&dpe(g.colorStops,_.colorStops))}if(!a&&i!==PT&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var T=n[0].value,m=0;m<o;m++)i===m_?n[m].additiveValue=n[m].value-T:i===Dm?n[m].additiveValue=p_([],n[m].value,T,-1):v_(i)&&(n[m].additiveValue=i===p0?p_([],n[m].value,T,-1):kO([],n[m].value,T,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",o=this.valType,s=this.keyframes,a=s.length,h=this.propName,d=o===Dm,m,v=this._lastFr,g=Math.min,_,T;if(a===1)_=T=s[0];else{if(r<0)m=0;else if(r<this._lastFrP){var P=g(v+1,a-1);for(m=P;m>=0&&!(s[m].percent<=r);m--);m=g(m,a-2)}else{for(m=v;m<a&&!(s[m].percent>r);m++);m=g(m-1,a-2)}T=s[m+1],_=s[m]}if(_&&T){this._lastFr=m,this._lastFrP=r;var M=T.percent-_.percent,I=M===0?1:g((r-_.percent)/M,1);T.easingFunc&&(I=T.easingFunc(I));var D=n?this._additiveValue:d?cm:t[h];if((v_(o)||d)&&!D&&(D=this._additiveValue=[]),this.discrete)t[h]=I<1?_.rawValue:T.rawValue;else if(v_(o))o===p0?n2(D,_[i],T[i],I):fpe(D,_[i],T[i],I);else if(zO(o)){var O=_[i],z=T[i],F=o===AT;t[h]={type:F?"linear":"radial",x:vl(O.x,z.x,I),y:vl(O.y,z.y,I),colorStops:ur(O.colorStops,function(H,U){var J=z.colorStops[U];return{offset:vl(H.offset,J.offset,I),color:d0(n2([],H.color,J.color,I))}}),global:z.global},F?(t[h].x2=vl(O.x2,z.x2,I),t[h].y2=vl(O.y2,z.y2,I)):t[h].r=vl(O.r,z.r,I)}else if(d)n2(D,_[i],T[i],I),n||(t[h]=d0(D));else{var N=vl(_[i],T[i],I);n?this._additiveValue=N:t[h]=N}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===m_?t[n]=t[n]+i:r===Dm?(gh(t[n],cm),p_(cm,cm,i,1),t[n]=d0(cm)):r===p0?p_(t[n],t[n],i,1):r===o8&&kO(t[n],t[n],i,1)},e}(),gpe=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){L9("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,en(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var o=this._tracks,s=0;s<n.length;s++){var a=n[s],h=o[a];if(!h){h=o[a]=new vpe(a);var d=void 0,m=this._getAdditiveTrack(a);if(m){var v=m.keyframes,g=v[v.length-1];d=g&&g.value,m.valType===Dm&&d&&(d=d0(d))}else d=this._target[a];if(d==null)continue;t>0&&h.addKeyframe(0,f0(d),i),this._trackKeys.push(a)}h.addKeyframe(t,f0(r[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var o=n[i].getTrack(t);o&&(r=o)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],a=this._tracks[s],h=this._getAdditiveTrack(s),d=a.keyframes,m=d.length;if(a.prepare(i,h),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var v=d[m-1];v&&(r._target[a.propName]=v.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var g=new rpe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(_){r._started=2;var T=r._additiveAnimators;if(T){for(var P=!1,M=0;M<T.length;M++)if(T[M]._clip){P=!0;break}P||(r._additiveAnimators=null)}for(var M=0;M<n.length;M++)n[M].step(r._target,_);var I=r._onframeCbs;if(I)for(var M=0;M<I.length;M++)I[M](r._target,_)},ondestroy:function(){r._doneCallback()}});this._clip=g,this.animation&&this.animation.addClip(g),t&&g.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return ur(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var s=n[t[o]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var a=!0,o=0;o<i.length;o++)if(!n[i[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var o=r[i],s=this._tracks[o];if(!(!s||s.isFinished())){var a=s.keyframes,h=a[n?0:a.length-1];h&&(t[o]=f0(h.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||en(t);for(var n=0;n<r.length;n++){var i=r[n],o=this._tracks[i];if(o){var s=o.keyframes;if(s.length>1){var a=s.pop();o.addKeyframe(a.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},e}();const CA=gpe;function Xf(){return new Date().getTime()}var ype=function(e){Ut(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=Xf()-this._pausedTime,i=n-this._time,o=this._head;o;){var s=o.next,a=o.step(n,i);a&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(EO(n),!r._paused&&r.update())}EO(n)},t.prototype.start=function(){this._running||(this._time=Xf(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Xf(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Xf()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new CA(r,n.loop);return this.addAnimator(i),i},t}(Fl);const _pe=ype;var bpe=300,i2=Rr.domSupported,o2=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=ur(e,function(i){var o=i.replace("mouse","pointer");return r.hasOwnProperty(o)?o:i});return{mouse:e,touch:t,pointer:n}}(),$O={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},BO=!1;function IT(e){var t=e.pointerType;return t==="pen"||t==="touch"}function xpe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function a2(e){e&&(e.zrByTouch=!0)}function wpe(e,t){return ma(e.dom,new Spe(e,t),!0)}function a8(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var Spe=function(){function e(t,r){this.stopPropagation=_o,this.stopImmediatePropagation=_o,this.preventDefault=_o,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),Ga={mousedown:function(e){e=ma(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=ma(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=ma(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=ma(this.dom,e);var t=e.toElement||e.relatedTarget;a8(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){BO=!0,e=ma(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){BO||(e=ma(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=ma(this.dom,e),a2(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Ga.mousemove.call(this,e),Ga.mousedown.call(this,e)},touchmove:function(e){e=ma(this.dom,e),a2(e),this.handler.processGesture(e,"change"),Ga.mousemove.call(this,e)},touchend:function(e){e=ma(this.dom,e),a2(e),this.handler.processGesture(e,"end"),Ga.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<bpe&&Ga.click.call(this,e)},pointerdown:function(e){Ga.mousedown.call(this,e)},pointermove:function(e){IT(e)||Ga.mousemove.call(this,e)},pointerup:function(e){Ga.mouseup.call(this,e)},pointerout:function(e){IT(e)||Ga.mouseout.call(this,e)}};Me(["click","dblclick","contextmenu"],function(e){Ga[e]=function(t){t=ma(this.dom,t),this.trigger(e,t)}});var MT={pointermove:function(e){IT(e)||MT.mousemove.call(this,e)},pointerup:function(e){MT.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Tpe(e,t){var r=t.domHandlers;Rr.pointerEventsSupported?Me(o2.pointer,function(n){m0(t,n,function(i){r[n].call(e,i)})}):(Rr.touchEventsSupported&&Me(o2.touch,function(n){m0(t,n,function(i){r[n].call(e,i),xpe(t)})}),Me(o2.mouse,function(n){m0(t,n,function(i){i=_A(i),t.touching||r[n].call(e,i)})}))}function Cpe(e,t){Rr.pointerEventsSupported?Me($O.pointer,r):Rr.touchEventsSupported||Me($O.mouse,r);function r(n){function i(o){o=_A(o),a8(e,o.target)||(o=wpe(e,o),t.domHandlers[n].call(e,o))}m0(t,n,i,{capture:!0})}}function m0(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,Mde(e.domTarget,t,r,n)}function s2(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&Dde(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var FO=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),Epe=function(e){Ut(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new FO(r,Ga),i2&&(i._globalHandlerScope=new FO(document,MT)),Tpe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){s2(this._localHandlerScope),i2&&s2(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,i2&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?Cpe(this,n):s2(n)}},t}(Fl);const Ape=Epe;var s8=1;Rr.hasGlobalWindow&&(s8=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var NO=s8,DT=.4,LT="#333",OT="#ccc",Ppe="#eee",VO=bA,UO=5e-5;function Dc(e){return e>UO||e<-UO}var Lc=[],Ef=[],l2=Bv(),u2=Math.abs,Ipe=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Dc(this.rotation)||Dc(this.x)||Dc(this.y)||Dc(this.scaleX-1)||Dc(this.scaleY-1)||Dc(this.skewX)||Dc(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&VO(n);return}n=n||Bv(),r?this.getLocalTransform(n):VO(n),t&&(r?ad(n,t,n):kde(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Lc);var n=Lc[0]<0?-1:1,i=Lc[1]<0?-1:1,o=((Lc[0]-n)*r+n)/Lc[0]||0,s=((Lc[1]-i)*r+i)/Lc[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Bv(),wA(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(o),r=Math.sqrt(r),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(ad(Ef,t.invTransform,r),r=Ef);var n=this.originX,i=this.originY;(n||i)&&(l2[4]=n,l2[5]=i,ad(Ef,r,l2),Ef[4]-=n,Ef[5]-=i,r=Ef),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&Ca(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&Ca(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&u2(t[0]-1)>1e-10&&u2(t[3]-1)>1e-10?Math.sqrt(u2(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){l8(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,o=t.scaleX,s=t.scaleY,a=t.anchorX,h=t.anchorY,d=t.rotation||0,m=t.x,v=t.y,g=t.skewX?Math.tan(t.skewX):0,_=t.skewY?Math.tan(-t.skewY):0;if(n||i||a||h){var T=n+a,P=i+h;r[4]=-T*o-g*P*s,r[5]=-P*s-_*T*o}else r[4]=r[5]=0;return r[0]=o,r[3]=s,r[1]=_*o,r[2]=g*s,d&&xA(r,r,d),r[4]+=n+m,r[5]+=i+v,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Nv=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function l8(e,t){for(var r=0;r<Nv.length;r++){var n=Nv[r];e[n]=t[n]}}const EA=Ipe;var HO={};function Jo(e,t){t=t||ju;var r=HO[t];r||(r=HO[t]=new yg(500));var n=r.get(e);return n==null&&(n=vg.measureText(e,t).width,r.put(e,n)),n}function jO(e,t,r,n){var i=Jo(e,t),o=xb(t),s=Lm(0,i,r),a=Ff(0,o,n),h=new gn(s,a,i,o);return h}function AA(e,t,r,n){var i=((e||"")+"").split(`
`),o=i.length;if(o===1)return jO(i[0],t,r,n);for(var s=new gn(0,0,0,0),a=0;a<i.length;a++){var h=jO(i[a],t,r,n);a===0?s.copy(h):s.union(h)}return s}function Lm(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Ff(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function xb(e){return Jo("",e)}function Ah(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function u8(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,o=r.height,s=r.width,a=o/2,h=r.x,d=r.y,m="left",v="top";if(n instanceof Array)h+=Ah(n[0],r.width),d+=Ah(n[1],r.height),m=null,v=null;else switch(n){case"left":h-=i,d+=a,m="right",v="middle";break;case"right":h+=i+s,d+=a,v="middle";break;case"top":h+=s/2,d-=i,m="center",v="bottom";break;case"bottom":h+=s/2,d+=o+i,m="center";break;case"inside":h+=s/2,d+=a,m="center",v="middle";break;case"insideLeft":h+=i,d+=a,v="middle";break;case"insideRight":h+=s-i,d+=a,m="right",v="middle";break;case"insideTop":h+=s/2,d+=i,m="center";break;case"insideBottom":h+=s/2,d+=o-i,m="center",v="bottom";break;case"insideTopLeft":h+=i,d+=i;break;case"insideTopRight":h+=s-i,d+=i,m="right";break;case"insideBottomLeft":h+=i,d+=o-i,v="bottom";break;case"insideBottomRight":h+=s-i,d+=o-i,m="right",v="bottom";break}return e=e||{},e.x=h,e.y=d,e.align=m,e.verticalAlign=v,e}var c2="__zr_normal__",h2=Nv.concat(["ignore"]),Mpe=Wd(Nv,function(e,t){return e[t]=!0,e},{ignore:!1}),Af={},Dpe=new gn(0,0,0,0),PA=function(){function e(t){this.id=D9(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,o=r.innerTransformable,s=void 0,a=void 0,h=!1;o.parent=i?this:null;var d=!1;if(o.copyTransform(r),n.position!=null){var m=Dpe;n.layoutRect?m.copy(n.layoutRect):m.copy(this.getBoundingRect()),i||m.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Af,n,m):u8(Af,n,m),o.x=Af.x,o.y=Af.y,s=Af.align,a=Af.verticalAlign;var v=n.origin;if(v&&n.rotation!=null){var g=void 0,_=void 0;v==="center"?(g=m.width*.5,_=m.height*.5):(g=Ah(v[0],m.width),_=Ah(v[1],m.height)),d=!0,o.originX=-o.x+g+(i?0:m.x),o.originY=-o.y+_+(i?0:m.y)}}n.rotation!=null&&(o.rotation=n.rotation);var T=n.offset;T&&(o.x+=T[0],o.y+=T[1],d||(o.originX=-T[0],o.originY=-T[1]));var P=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,M=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),I=void 0,D=void 0,O=void 0;P&&this.canBeInsideText()?(I=n.insideFill,D=n.insideStroke,(I==null||I==="auto")&&(I=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(I),O=!0)):(I=n.outsideFill,D=n.outsideStroke,(I==null||I==="auto")&&(I=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(I),O=!0)),I=I||"#000",(I!==M.fill||D!==M.stroke||O!==M.autoStroke||s!==M.align||a!==M.verticalAlign)&&(h=!0,M.fill=I,M.stroke=D,M.autoStroke=O,M.align=s,M.verticalAlign=a,r.setDefaultTextStyle(M)),r.__dirty|=As,h&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?OT:LT},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&gh(r);n||(n=[255,255,255,1]);for(var i=n[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(o?0:255)*(1-i);return n[3]=1,J9(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},Dt(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(pr(t))for(var n=t,i=en(n),o=0;o<i.length;o++){var s=i[o];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==c2)){var s=i.targetName,a=s?r[s]:r;i.saveTo(a)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,h2)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var o=n[i];t[o]!=null&&!(o in r)&&(r[o]=this[o])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(c2,!1,t)},e.prototype.useState=function(t,r,n,i){var o=t===c2,s=this.hasState();if(!(!s&&o)){var a=this.currentStates,h=this.stateTransition;if(!(vn(a,t)>=0&&(r||a.length===1))){var d;if(this.stateProxy&&!o&&(d=this.stateProxy(t)),d||(d=this.states&&this.states[t]),!d&&!o){L9("State "+t+" not exists.");return}o||this.saveCurrentToNormalState(d);var m=!!(d&&d.hoverLayer||i);m&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,d,this._normalState,r,!n&&!this.__inHover&&h&&h.duration>0,h);var v=this._textContent,g=this._textGuide;return v&&v.useState(t,r,n,m),g&&g.useState(t,r,n,m),o?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~As),d}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],o=this.currentStates,s=t.length,a=s===o.length;if(a){for(var h=0;h<s;h++)if(t[h]!==o[h]){a=!1;break}}if(a)return;for(var h=0;h<s;h++){var d=t[h],m=void 0;this.stateProxy&&(m=this.stateProxy(d,t)),m||(m=this.states[d]),m&&i.push(m)}var v=i[s-1],g=!!(v&&v.hoverLayer||n);g&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(i),T=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(t.join(","),_,this._normalState,!1,!r&&!this.__inHover&&T&&T.duration>0,T);var P=this._textContent,M=this._textGuide;P&&P.useStates(t,r,g),M&&M.useStates(t,r,g),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~As)}},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=vn(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),o=vn(i,t),s=vn(i,r)>=0;o>=0?s?i.splice(o,1):i[o]=r:n&&!s&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var o=t[i];Dt(r,o),o.textConfig&&(n=n||{},Dt(n,o.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,o,s){var a=!(r&&i);r&&r.textConfig?(this.textConfig=Dt({},i?this.textConfig:n.textConfig),Dt(this.textConfig,r.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var h={},d=!1,m=0;m<h2.length;m++){var v=h2[m],g=o&&Mpe[v];r&&r[v]!=null?g?(d=!0,h[v]=r[v]):this[v]=r[v]:a&&n[v]!=null&&(g?(d=!0,h[v]=n[v]):this[v]=n[v])}if(!o)for(var m=0;m<this.animators.length;m++){var _=this.animators[m],T=_.targetName;_.getLoop()||_.__changeFinalValue(T?(r||n)[T]:r||n)}d&&this._transitionState(t,h,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new EA,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Dt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=As;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,o=new CA(i,r,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var o=i.animators,s=vn(o,t);s>=0&&o.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,o=[],s=0;s<i;s++){var a=n[s];!t||t===a.scope?a.stop(r):o.push(a)}return this.animators=o,this},e.prototype.animateTo=function(t,r,n){f2(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){f2(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var o=f2(this,r,n,i),s=0;s<o.length;s++)o[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=As;function r(n,i,o,s){Object.defineProperty(t,n,{get:function(){if(!this[i]){var h=this[i]=[];a(this,h)}return this[i]},set:function(h){this[o]=h[0],this[s]=h[1],this[i]=h,a(this,h)}});function a(h,d){Object.defineProperty(d,0,{get:function(){return h[o]},set:function(m){h[o]=m}}),Object.defineProperty(d,1,{get:function(){return h[s]},set:function(m){h[s]=m}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();as(PA,Fl);as(PA,EA);function f2(e,t,r,n,i){r=r||{};var o=[];c8(e,"",e,t,r,n,o,i);var s=o.length,a=!1,h=r.done,d=r.aborted,m=function(){a=!0,s--,s<=0&&(a?h&&h():d&&d())},v=function(){s--,s<=0&&(a?h&&h():d&&d())};s||h&&h(),o.length>0&&r.during&&o[0].during(function(T,P){r.during(P)});for(var g=0;g<o.length;g++){var _=o[g];m&&_.done(m),v&&_.aborted(v),r.force&&_.duration(r.duration),_.start(r.easing)}return o}function d2(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function Lpe(e){return $o(e[0])}function Ope(e,t,r){if($o(t[r]))if($o(e[r])||(e[r]=[]),ea(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),d2(e[r],t[r],n))}else{var i=t[r],o=e[r],s=i.length;if(Lpe(i))for(var a=i[0].length,h=0;h<s;h++)o[h]?d2(o[h],i[h],a):o[h]=Array.prototype.slice.call(i[h]);else d2(o,i,s);o.length=i.length}else e[r]=t[r]}function kpe(e,t){return e===t||$o(e)&&$o(t)&&Rpe(e,t)}function Rpe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function c8(e,t,r,n,i,o,s,a){for(var h=en(n),d=i.duration,m=i.delay,v=i.additive,g=i.setToFinal,_=!pr(o),T=e.animators,P=[],M=0;M<h.length;M++){var I=h[M],D=n[I];if(D!=null&&r[I]!=null&&(_||o[I]))if(pr(D)&&!$o(D)&&!vA(D)){if(t){a||(r[I]=D,e.updateDuringAnimation(t));continue}c8(e,I,r[I],D,i,o&&o[I],s,a)}else P.push(I);else a||(r[I]=D,e.updateDuringAnimation(t),P.push(I))}var O=P.length;if(!v&&O)for(var z=0;z<T.length;z++){var F=T[z];if(F.targetName===t){var N=F.stopTracks(P);if(N){var H=vn(T,F);T.splice(H,1)}}}if(i.force||(P=Ji(P,function(ne){return!kpe(n[ne],r[ne])}),O=P.length),O>0||i.force&&!s.length){var U=void 0,J=void 0,K=void 0;if(a){J={},g&&(U={});for(var z=0;z<O;z++){var I=P[z];J[I]=r[I],g?U[I]=n[I]:r[I]=n[I]}}else if(g){K={};for(var z=0;z<O;z++){var I=P[z];K[I]=f0(r[I]),Ope(r,n,I)}}var F=new CA(r,!1,!1,v?Ji(T,function(ae){return ae.targetName===t}):null);F.targetName=t,i.scope&&(F.scope=i.scope),g&&U&&F.whenWithKeys(0,U,P),K&&F.whenWithKeys(0,K,P),F.whenWithKeys(d??500,a?J:n,P).delay(m||0),e.addAnimator(F,t),s.push(F)}}const h8=PA;var f8=function(e){Ut(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,o=i.indexOf(n);o>=0&&(i.splice(o,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=vn(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,o=i[n];if(r&&r!==this&&r.parent!==this&&r!==o){i[n]=r,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,o=vn(i,r);return o<0?this:(i.splice(o,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var o=r[i];n&&o.removeSelfFromZr(n),o.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,o=0;o<i.length;o++){var s=i[o];r.call(n,s,o)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var o=this._children[i],s=r.call(n,o);o.isGroup&&!s&&o.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new gn(0,0,0,0),i=r||this._children,o=[],s=null,a=0;a<i.length;a++){var h=i[a];if(!(h.ignore||h.invisible)){var d=h.getBoundingRect(),m=h.getLocalTransform(o);m?(gn.applyTransform(n,d,m),s=s||n.clone(),s.union(n)):(s=s||d.clone(),s.union(d))}}return s||n},t}(h8);f8.prototype.type="group";const Fi=f8;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var v0={},d8={};function zpe(e){delete d8[e]}function $pe(e){if(!e)return!1;if(typeof e=="string")return u1(e,1)<DT;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=u1(t[i].color,1);return r/=n,r<DT}return!1}var Bpe=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var o=new Xde,s=n.renderer||"canvas";v0[s]||(s=en(v0)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var a=new v0[s](r,o,n,t),h=n.ssr||a.ssrOnly;this.storage=o,this.painter=a;var d=!Rr.node&&!Rr.worker&&!h?new Ape(a.getViewportRoot(),a.root):null,m=n.useCoarsePointer,v=m==null||m==="auto"?Rr.touchEventsSupported:!!m,g=44,_;v&&(_=zr(n.pointerSize,g)),this.handler=new Hde(o,a,d,a.root,_),this.animation=new _pe({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return e.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh()},e.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=$pe(t)},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},e.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},e.prototype.flush=function(){this._flush(!1)},e.prototype._flush=function(t){var r,n=Xf();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=Xf();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},e.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},e.prototype.clearAnimation=function(){this.animation.clear()},e.prototype.getWidth=function(){return this.painter.getWidth()},e.prototype.getHeight=function(){return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this.handler.off(t,r)},e.prototype.trigger=function(t,r){this.handler.trigger(t,r)},e.prototype.clear=function(){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof Fi&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},e.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,zpe(this.id)},e}();function GO(e,t){var r=new Bpe(D9(),e,t);return d8[r.id]=r,r}function Fpe(e,t){v0[e]=t}var WO=1e-4,p8=20;function Npe(e){return e.replace(/^\s+|\s+$/g,"")}function qO(e,t,r,n){var i=t[0],o=t[1],s=r[0],a=r[1],h=o-i,d=a-s;if(h===0)return d===0?s:(s+a)/2;if(n)if(h>0){if(e<=i)return s;if(e>=o)return a}else{if(e>=i)return s;if(e<=o)return a}else{if(e===i)return s;if(e===o)return a}return(e-i)/h*d+s}function Ri(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return lr(e)?Npe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function _i(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),p8),e=(+e).toFixed(t),r?e:+e}function Dd(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return Vpe(e)}function Vpe(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,o=t.indexOf("."),s=o<0?0:i-1-o;return Math.max(0,s-n)}function Upe(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),o=Math.round(r(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-i+o,0),20);return isFinite(s)?s:20}function Hpe(e,t){var r=Math.max(Dd(e),Dd(t)),n=e+t;return r>p8?n:_i(n,r)}function m8(e){var t=Math.PI*2;return(e%t+t)%t}function h1(e){return e>-WO&&e<WO}var jpe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Il(e){if(e instanceof Date)return e;if(lr(e)){var t=jpe.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function Gpe(e){return Math.pow(10,IA(e))}function IA(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function v8(e,t){var r=IA(e),n=Math.pow(10,r),i=e/n,o;return t?i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10:i<1?o=1:i<2?o=2:i<3?o=3:i<5?o=5:o=10,e=o*n,r>=-20?+e.toFixed(r<0?-r:0):e}function f1(e){var t=parseFloat(e);return t==e&&(t!==0||!lr(e)||e.indexOf("x")<=0)?t:NaN}function Wpe(e){return!isNaN(f1(e))}function g8(){return Math.round(Math.random()*9)}function y8(e,t){return t===0?e:y8(t,e%t)}function XO(e,t){return e==null?t:t==null?e:e*t/y8(e,t)}function Po(e){throw new Error(e)}var _8="series\0",qpe="\0_ec_\0";function bo(e){return e instanceof Array?e:e==null?[]:[e]}function kT(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var o=r[n];!e.emphasis[t].hasOwnProperty(o)&&e[t].hasOwnProperty(o)&&(e.emphasis[t][o]=e[t][o])}}}var ZO=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function _g(e){return pr(e)&&!Zt(e)&&!(e instanceof Date)?e.value:e}function Xpe(e){return pr(e)&&!(e instanceof Array)}function Zpe(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",o=r==="replaceAll";e=e||[],t=(t||[]).slice();var s=Br();Me(t,function(h,d){if(!pr(h)){t[d]=null;return}});var a=Kpe(e,s,r);return(n||i)&&Ype(a,e,s,t),n&&Jpe(a,t),n||i?Qpe(a,t,i):o&&eme(a,t),tme(a),a}function Kpe(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var o=e[i];o&&o.id!=null&&t.set(o.id,i),n.push({existing:r==="replaceMerge"||Vv(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return n}function Ype(e,t,r,n){Me(n,function(i,o){if(!(!i||i.id==null)){var s=rv(i.id),a=r.get(s);if(a!=null){var h=e[a];ts(!h.newOption,'Duplicated option on id "'+s+'".'),h.newOption=i,h.existing=t[a],n[o]=null}}})}function Jpe(e,t){Me(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var o=e[i].existing;if(!e[i].newOption&&o&&(o.id==null||r.id==null)&&!Vv(r)&&!Vv(o)&&b8("name",o,r)){e[i].newOption=r,t[n]=null;return}}})}function Qpe(e,t,r){Me(t,function(n){if(n){for(var i,o=0;(i=e[o])&&(i.newOption||Vv(i.existing)||i.existing&&n.id!=null&&!b8("id",n,i.existing));)o++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),o++}})}function eme(e,t){Me(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function tme(e){var t=Br();Me(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),Me(e,function(r){var n=r.newOption;ts(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),Me(e,function(r,n){var i=r.existing,o=r.newOption,s=r.keyInfo;if(pr(o)){if(s.name=o.name!=null?rv(o.name):i?i.name:_8+n,i)s.id=rv(i.id);else if(o.id!=null)s.id=rv(o.id);else{var a=0;do s.id="\0"+s.name+"\0"+a++;while(t.get(s.id))}t.set(s.id,r)}})}function b8(e,t,r){var n=ks(t[e],null),i=ks(r[e],null);return n!=null&&i!=null&&n===i}function rv(e){return ks(e,"")}function ks(e,t){return e==null?t:lr(e)?e:Zn(e)||mT(e)?e+"":t}function x8(e){var t=e.name;return!!(t&&t.indexOf(_8))}function Vv(e){return e&&e.id!=null&&rv(e.id).indexOf(qpe)===0}function rme(e,t,r){Me(e,function(n){var i=n.newOption;pr(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=nme(t,i,n.existing,r))})}function nme(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function bg(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Zt(t.dataIndex)?ur(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Zt(t.name)?ur(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function ni(){var e="__ec_inner_"+ime++;return function(t){return t[e]||(t[e]={})}}var ime=g8();function p2(e,t,r){var n=MA(t,r),i=n.mainTypeSpecified,o=n.queryOptionMap,s=n.others,a=s,h=r?r.defaultMainType:null;return!i&&h&&o.set(h,{}),o.each(function(d,m){var v=xg(e,m,d,{useDefault:h===m,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});a[m+"Models"]=v.models,a[m+"Model"]=v.models[0]}),a}function MA(e,t){var r;if(lr(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=Br(),o={},s=!1;return Me(r,function(a,h){if(h==="dataIndex"||h==="dataIndexInside"){o[h]=a;return}var d=h.match(/^(\w+)(Index|Id|Name)$/)||[],m=d[1],v=(d[2]||"").toLowerCase();if(!(!m||!v||t&&t.includeMainTypes&&vn(t.includeMainTypes,m)<0)){s=s||!!m;var g=i.get(m)||i.set(m,{});g[v]=a}}),{mainTypeSpecified:s,queryOptionMap:i,others:o}}var Ya={useDefault:!0,enableAll:!1,enableNone:!1};function xg(e,t,r,n){n=n||Ya;var i=r.index,o=r.id,s=r.name,a={models:null,specified:i!=null||o!=null||s!=null};if(!a.specified){var h=void 0;return a.models=n.useDefault&&(h=e.getComponent(t))?[h]:[],a}return i==="none"||i===!1?(ts(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):(i==="all"&&(ts(n.enableAll,'`"all"` is not a valid value on index option.'),i=o=s=null),a.models=e.queryComponents({mainType:t,index:i,id:o,name:s}),a)}function w8(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function ome(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function ame(e){return e==="auto"?Rr.domSupported?"html":"richText":e||"html"}var sme=".",Oc="___EC__COMPONENT__CONTAINER___",S8="___EC__EXTENDED_CLASS___";function Ds(e){var t={main:"",sub:""};if(e){var r=e.split(sme);t.main=r[0]||"",t.sub=r[1]||""}return t}function lme(e){ts(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function ume(e){return!!(e&&e[S8])}function DA(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return cme(n)?i=function(o){Ut(s,o);function s(){return o.apply(this,arguments)||this}return s}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},ude(i,this)),Dt(i.prototype,r),i[S8]=!0,i.extend=this.extend,i.superCall=dme,i.superApply=pme,i.superClass=n,i}}function cme(e){return wr(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function T8(e,t){e.extend=t.extend}var hme=Math.round(Math.random()*10);function fme(e){var t=["__\0is_clz",hme++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function dme(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function pme(e,t,r){return this.superClass.prototype[t].apply(e,r)}function wb(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){lme(i),n.prototype.type=i;var o=Ds(i);if(!o.sub)t[o.main]=n;else if(o.sub!==Oc){var s=r(o);s[o.sub]=n}}return n},e.getClass=function(n,i,o){var s=t[n];if(s&&s[Oc]&&(s=i?s[i]:null),o&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},e.getClassesByMainType=function(n){var i=Ds(n),o=[],s=t[i.main];return s&&s[Oc]?Me(s,function(a,h){h!==Oc&&o.push(a)}):o.push(s),o},e.hasClass=function(n){var i=Ds(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return Me(t,function(i,o){n.push(o)}),n},e.hasSubTypes=function(n){var i=Ds(n),o=t[i.main];return o&&o[Oc]};function r(n){var i=t[n.main];return(!i||!i[Oc])&&(i=t[n.main]={},i[Oc]=!0),i}}function Uv(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,o){for(var s={},a=0;a<e.length;a++){var h=e[a][1];if(!(i&&vn(i,h)>=0||o&&vn(o,h)<0)){var d=n.getShallow(h,t);d!=null&&(s[e[a][0]]=d)}}return s}}var mme=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],vme=Uv(mme),gme=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return vme(this,t,r)},e}(),RT=new yg(50);function yme(e){if(typeof e=="string"){var t=RT.get(e);return t&&t.image}else return e}function LA(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var o=RT.get(e),s={hostEl:r,cb:n,cbPayload:i};return o?(t=o.image,!Sb(t)&&o.pending.push(s)):(t=vg.loadImage(e,KO,KO),t.__zrImageSrc=e,RT.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function KO(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function Sb(e){return e&&e.width&&e.height}var m2=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function _me(e,t,r,n,i){if(!t)return"";var o=(e+"").split(`
`);i=C8(t,r,n,i);for(var s=0,a=o.length;s<a;s++)o[s]=E8(o[s],i);return o.join(`
`)}function C8(e,t,r,n){n=n||{};var i=Dt({},n);i.font=t,r=zr(r,"..."),i.maxIterations=zr(n.maxIterations,2);var o=i.minChar=zr(n.minChar,0);i.cnCharWidth=Jo("",t);var s=i.ascCharWidth=Jo("a",t);i.placeholder=zr(n.placeholder,"");for(var a=e=Math.max(0,e-1),h=0;h<o&&a>=s;h++)a-=s;var d=Jo(r,t);return d>a&&(r="",d=0),a=e-d,i.ellipsis=r,i.ellipsisWidth=d,i.contentWidth=a,i.containerWidth=e,i}function E8(e,t){var r=t.containerWidth,n=t.font,i=t.contentWidth;if(!r)return"";var o=Jo(e,n);if(o<=r)return e;for(var s=0;;s++){if(o<=i||s>=t.maxIterations){e+=t.ellipsis;break}var a=s===0?bme(e,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,a),o=Jo(e,n)}return e===""&&(e=t.placeholder),e}function bme(e,t,r,n){for(var i=0,o=0,s=e.length;o<s&&i<t;o++){var a=e.charCodeAt(o);i+=0<=a&&a<=127?r:n}return o}function xme(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,o=r==="truncate",s=xb(i),a=zr(t.lineHeight,s),h=!!t.backgroundColor,d=t.lineOverflow==="truncate",m=t.width,v;m!=null&&(r==="break"||r==="breakAll")?v=e?A8(e,t.font,m,r==="breakAll",0).lines:[]:v=e?e.split(`
`):[];var g=v.length*a,_=zr(t.height,g);if(g>_&&d){var T=Math.floor(_/a);v=v.slice(0,T)}if(e&&o&&m!=null)for(var P=C8(m,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),M=0;M<v.length;M++)v[M]=E8(v[M],P);for(var I=_,D=0,M=0;M<v.length;M++)D=Math.max(Jo(v[M],i),D);m==null&&(m=D);var O=D;return n&&(I+=n[0]+n[2],O+=n[1]+n[3],m+=n[1]+n[3]),h&&(O=m),{lines:v,height:_,outerWidth:O,outerHeight:I,lineHeight:a,calculatedLineHeight:s,contentWidth:D,contentHeight:g,width:m}}var wme=function(){function e(){}return e}(),YO=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),Sme=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function Tme(e,t){var r=new Sme;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,o=t.overflow,s=(o==="break"||o==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:o==="breakAll"}:null,a=m2.lastIndex=0,h;(h=m2.exec(e))!=null;){var d=h.index;d>a&&v2(r,e.substring(a,d),t,s),v2(r,h[2],t,s,h[1]),a=m2.lastIndex}a<e.length&&v2(r,e.substring(a,e.length),t,s);var m=[],v=0,g=0,_=t.padding,T=o==="truncate",P=t.lineOverflow==="truncate";function M(Ve,ht,mt){Ve.width=ht,Ve.lineHeight=mt,v+=mt,g=Math.max(g,ht)}e:for(var I=0;I<r.lines.length;I++){for(var D=r.lines[I],O=0,z=0,F=0;F<D.tokens.length;F++){var N=D.tokens[F],H=N.styleName&&t.rich[N.styleName]||{},U=N.textPadding=H.padding,J=U?U[1]+U[3]:0,K=N.font=H.font||t.font;N.contentHeight=xb(K);var ne=zr(H.height,N.contentHeight);if(N.innerHeight=ne,U&&(ne+=U[0]+U[2]),N.height=ne,N.lineHeight=l0(H.lineHeight,t.lineHeight,ne),N.align=H&&H.align||t.align,N.verticalAlign=H&&H.verticalAlign||"middle",P&&i!=null&&v+N.lineHeight>i){F>0?(D.tokens=D.tokens.slice(0,F),M(D,z,O),r.lines=r.lines.slice(0,I+1)):r.lines=r.lines.slice(0,I);break e}var ae=H.width,he=ae==null||ae==="auto";if(typeof ae=="string"&&ae.charAt(ae.length-1)==="%")N.percentWidth=ae,m.push(N),N.contentWidth=Jo(N.text,K);else{if(he){var ie=H.backgroundColor,de=ie&&ie.image;de&&(de=yme(de),Sb(de)&&(N.width=Math.max(N.width,de.width*ne/de.height)))}var ce=T&&n!=null?n-z:null;ce!=null&&ce<N.width?!he||ce<J?(N.text="",N.width=N.contentWidth=0):(N.text=_me(N.text,ce-J,K,t.ellipsis,{minChar:t.truncateMinChar}),N.width=N.contentWidth=Jo(N.text,K)):N.contentWidth=Jo(N.text,K)}N.width+=J,z+=N.width,H&&(O=Math.max(O,N.lineHeight))}M(D,z,O)}r.outerWidth=r.width=zr(n,g),r.outerHeight=r.height=zr(i,v),r.contentHeight=v,r.contentWidth=g,_&&(r.outerWidth+=_[1]+_[3],r.outerHeight+=_[0]+_[2]);for(var I=0;I<m.length;I++){var N=m[I],Be=N.percentWidth;N.width=parseInt(Be,10)/100*r.width}return r}function v2(e,t,r,n,i){var o=t==="",s=i&&r.rich[i]||{},a=e.lines,h=s.font||r.font,d=!1,m,v;if(n){var g=s.padding,_=g?g[1]+g[3]:0;if(s.width!=null&&s.width!=="auto"){var T=Ah(s.width,n.width)+_;a.length>0&&T+n.accumWidth>n.width&&(m=t.split(`
`),d=!0),n.accumWidth=T}else{var P=A8(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=P.accumWidth+_,v=P.linesWidths,m=P.lines}}else m=t.split(`
`);for(var M=0;M<m.length;M++){var I=m[M],D=new wme;if(D.styleName=i,D.text=I,D.isLineHolder=!I&&!o,typeof s.width=="number"?D.width=s.width:D.width=v?v[M]:Jo(I,h),!M&&!d){var O=(a[a.length-1]||(a[0]=new YO)).tokens,z=O.length;z===1&&O[0].isLineHolder?O[0]=D:(I||!z||o)&&O.push(D)}else a.push(new YO([D]))}}function Cme(e){var t=e.charCodeAt(0);return t>=33&&t<=383}var Eme=Wd(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function Ame(e){return Cme(e)?!!Eme[e]:!0}function A8(e,t,r,n,i){for(var o=[],s=[],a="",h="",d=0,m=0,v=0;v<e.length;v++){var g=e.charAt(v);if(g===`
`){h&&(a+=h,m+=d),o.push(a),s.push(m),a="",h="",d=0,m=0;continue}var _=Jo(g,t),T=n?!1:!Ame(g);if(o.length?m+_>r:i+m+_>r){m?(a||h)&&(T?(a||(a=h,h="",d=0,m=d),o.push(a),s.push(m-d),h+=g,d+=_,a="",m=d):(h&&(a+=h,h="",d=0),o.push(a),s.push(m),a=g,m=_)):T?(o.push(h),s.push(d),h=g,d=_):(o.push(g),s.push(_));continue}m+=_,T?(h+=g,d+=_):(h&&(a+=h,h="",d=0),a+=g)}return!o.length&&!a&&(a=e,h="",d=0),h&&(a+=h),a&&(o.push(a),s.push(m)),o.length===1&&(m+=i),{accumWidth:m,lines:o,linesWidths:s}}var zT="__zr_style_"+Math.round(Math.random()*10),yh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Tb={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};yh[zT]=!0;var JO=["z","z2","invisible"],Pme=["invisible"],Ime=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=en(r),i=0;i<n.length;i++){var o=n[i];o==="style"?this.useStyle(r[o]):e.prototype.attrKV.call(this,o,r[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Mme(this,r,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1}if(o&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();return o.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,a=o.shadowOffsetX||0,h=o.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new gn(0,0,0,0)),n?gn.applyTransform(r,i,n):r.copy(i),(s||a||h)&&(r.width+=s*2+Math.abs(a),r.height+=s*2+Math.abs(h),r.x=Math.min(r.x,r.x+a-s),r.y=Math.min(r.y,r.y+h-s));var d=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-d),r.y=Math.floor(r.y-d),r.width=Math.ceil(r.width+1+d*2),r.height=Math.ceil(r.height+1+d*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new gn(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Dt(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Mm,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Mm)},t.prototype.styleUpdated=function(){this.__dirty&=~Mm},t.prototype.createStyle=function(r){return _b(yh,r)},t.prototype.useStyle=function(r){r[zT]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[zT]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,JO)},t.prototype._applyStateObj=function(r,n,i,o,s,a){e.prototype._applyStateObj.call(this,r,n,i,o,s,a);var h=!(n&&o),d;if(n&&n.style?s?o?d=n.style:(d=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(d,n.style)):(d=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(d,n.style)):h&&(d=i.style),d)if(s){var m=this.style;if(this.style=this.createStyle(h?{}:m),h)for(var v=en(m),g=0;g<v.length;g++){var _=v[g];_ in d&&(d[_]=d[_],this.style[_]=m[_])}for(var T=en(d),g=0;g<T.length;g++){var _=T[g];this.style[_]=this.style[_]}this._transitionState(r,{style:d},a,this.getAnimationStyleProps())}else this.useStyle(d);for(var P=this.__inHover?Pme:JO,g=0;g<P.length;g++){var _=P[g];n&&n[_]!=null?this[_]=n[_]:h&&i[_]!=null&&(this[_]=i[_])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var s=r[o];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return Dt(r,n),r},t.prototype.getAnimationStyleProps=function(){return Tb},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=As|Mm}(),t}(h8),g2=new gn(0,0,0,0),y2=new gn(0,0,0,0);function Mme(e,t,r){return g2.copy(e.getBoundingRect()),e.transform&&g2.applyTransform(e.transform),y2.width=t,y2.height=r,!g2.intersect(y2)}const wg=Ime;var _a=Math.min,ba=Math.max,_2=Math.sin,b2=Math.cos,kc=Math.PI*2,g_=qd(),y_=qd(),__=qd();function QO(e,t,r,n,i,o){i[0]=_a(e,r),i[1]=_a(t,n),o[0]=ba(e,r),o[1]=ba(t,n)}var e3=[],t3=[];function Dme(e,t,r,n,i,o,s,a,h,d){var m=X9,v=Oi,g=m(e,r,i,s,e3);h[0]=1/0,h[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var _=0;_<g;_++){var T=v(e,r,i,s,e3[_]);h[0]=_a(T,h[0]),d[0]=ba(T,d[0])}g=m(t,n,o,a,t3);for(var _=0;_<g;_++){var P=v(t,n,o,a,t3[_]);h[1]=_a(P,h[1]),d[1]=ba(P,d[1])}h[0]=_a(e,h[0]),d[0]=ba(e,d[0]),h[0]=_a(s,h[0]),d[0]=ba(s,d[0]),h[1]=_a(t,h[1]),d[1]=ba(t,d[1]),h[1]=_a(a,h[1]),d[1]=ba(a,d[1])}function Lme(e,t,r,n,i,o,s,a){var h=Z9,d=ki,m=ba(_a(h(e,r,i),1),0),v=ba(_a(h(t,n,o),1),0),g=d(e,r,i,m),_=d(t,n,o,v);s[0]=_a(e,i,g),s[1]=_a(t,o,_),a[0]=ba(e,i,g),a[1]=ba(t,o,_)}function Ome(e,t,r,n,i,o,s,a,h){var d=Wf,m=qf,v=Math.abs(i-o);if(v%kc<1e-4&&v>1e-4){a[0]=e-r,a[1]=t-n,h[0]=e+r,h[1]=t+n;return}if(g_[0]=b2(i)*r+e,g_[1]=_2(i)*n+t,y_[0]=b2(o)*r+e,y_[1]=_2(o)*n+t,d(a,g_,y_),m(h,g_,y_),i=i%kc,i<0&&(i=i+kc),o=o%kc,o<0&&(o=o+kc),i>o&&!s?o+=kc:i<o&&s&&(i+=kc),s){var g=o;o=i,i=g}for(var _=0;_<o;_+=Math.PI/2)_>i&&(__[0]=b2(_)*r+e,__[1]=_2(_)*n+t,d(a,__,a),m(h,__,h))}var on={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Rc=[],zc=[],_s=[],mu=[],bs=[],xs=[],x2=Math.min,w2=Math.max,$c=Math.cos,Bc=Math.sin,cl=Math.abs,$T=Math.PI,xu=$T*2,S2=typeof Float32Array<"u",hm=[];function T2(e){var t=Math.round(e/$T*1e8)/1e8;return t%2*$T}function kme(e,t){var r=T2(e[0]);r<0&&(r+=xu);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=xu?i=r+xu:t&&r-i>=xu?i=r-xu:!t&&r>i?i=r+(xu-T2(r-i)):t&&r<i&&(i=r-(xu-T2(i-r))),e[0]=r,e[1]=i}var Rme=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=cl(n/NO/t)||0,this._uy=cl(n/NO/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(on.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=cl(t-this._xi),i=cl(r-this._yi),o=n>this._ux||i>this._uy;if(this.addData(on.L,t,r),this._ctx&&o&&this._ctx.lineTo(t,r),o)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){return this._drawPendingPt(),this.addData(on.C,t,r,n,i,o,s),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,o,s),this._xi=o,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(on.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,o,s){this._drawPendingPt(),hm[0]=i,hm[1]=o,kme(hm,s),i=hm[0],o=hm[1];var a=o-i;return this.addData(on.A,t,r,n,n,i,a,0,s?0:1),this._ctx&&this._ctx.arc(t,r,n,i,o,s),this._xi=$c(o)*n+t,this._yi=Bc(o)*n+r,this},e.prototype.arcTo=function(t,r,n,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,o),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(on.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(on.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&S2&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,o=0;o<r;o++)n+=t[o].len();S2&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var o=0;o<r;o++)for(var s=t[o].data,a=0;a<s.length;a++)this.data[i++]=s[a];this._len=i},e.prototype.addData=function(t,r,n,i,o,s,a,h,d){if(this._saveData){var m=this.data;this._len+arguments.length>m.length&&(this._expandData(),m=this.data);for(var v=0;v<arguments.length;v++)m[this._len++]=arguments[v]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,S2&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){_s[0]=_s[1]=bs[0]=bs[1]=Number.MAX_VALUE,mu[0]=mu[1]=xs[0]=xs[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,o=0,s;for(s=0;s<this._len;){var a=t[s++],h=s===1;switch(h&&(r=t[s],n=t[s+1],i=r,o=n),a){case on.M:r=i=t[s++],n=o=t[s++],bs[0]=i,bs[1]=o,xs[0]=i,xs[1]=o;break;case on.L:QO(r,n,t[s],t[s+1],bs,xs),r=t[s++],n=t[s++];break;case on.C:Dme(r,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],bs,xs),r=t[s++],n=t[s++];break;case on.Q:Lme(r,n,t[s++],t[s++],t[s],t[s+1],bs,xs),r=t[s++],n=t[s++];break;case on.A:var d=t[s++],m=t[s++],v=t[s++],g=t[s++],_=t[s++],T=t[s++]+_;s+=1;var P=!t[s++];h&&(i=$c(_)*v+d,o=Bc(_)*g+m),Ome(d,m,v,g,_,T,P,bs,xs),r=$c(T)*v+d,n=Bc(T)*g+m;break;case on.R:i=r=t[s++],o=n=t[s++];var M=t[s++],I=t[s++];QO(i,o,i+M,o+I,bs,xs);break;case on.Z:r=i,n=o;break}Wf(_s,_s,bs),qf(mu,mu,xs)}return s===0&&(_s[0]=_s[1]=mu[0]=mu[1]=0),new gn(_s[0],_s[1],mu[0]-_s[0],mu[1]-_s[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,o=0,s=0,a=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var d=this._pathSegLen,m=0,v=0,g=0;g<r;){var _=t[g++],T=g===1;T&&(o=t[g],s=t[g+1],a=o,h=s);var P=-1;switch(_){case on.M:o=a=t[g++],s=h=t[g++];break;case on.L:{var M=t[g++],I=t[g++],D=M-o,O=I-s;(cl(D)>n||cl(O)>i||g===r-1)&&(P=Math.sqrt(D*D+O*O),o=M,s=I);break}case on.C:{var z=t[g++],F=t[g++],M=t[g++],I=t[g++],N=t[g++],H=t[g++];P=Kde(o,s,z,F,M,I,N,H,10),o=N,s=H;break}case on.Q:{var z=t[g++],F=t[g++],M=t[g++],I=t[g++];P=Qde(o,s,z,F,M,I,10),o=M,s=I;break}case on.A:var U=t[g++],J=t[g++],K=t[g++],ne=t[g++],ae=t[g++],he=t[g++],ie=he+ae;g+=1,t[g++],T&&(a=$c(ae)*K+U,h=Bc(ae)*ne+J),P=w2(K,ne)*x2(xu,Math.abs(he)),o=$c(ie)*K+U,s=Bc(ie)*ne+J;break;case on.R:{a=o=t[g++],h=s=t[g++];var de=t[g++],ce=t[g++];P=de*2+ce*2;break}case on.Z:{var D=a-o,O=h-s;P=Math.sqrt(D*D+O*O),o=a,s=h;break}}P>=0&&(d[v++]=P,m+=P)}return this._pathLen=m,m},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,o=this._uy,s=this._len,a,h,d,m,v,g,_=r<1,T,P,M=0,I=0,D,O=0,z,F;if(!(_&&(this._pathSegLen||this._calculateLength(),T=this._pathSegLen,P=this._pathLen,D=r*P,!D)))e:for(var N=0;N<s;){var H=n[N++],U=N===1;switch(U&&(d=n[N],m=n[N+1],a=d,h=m),H!==on.L&&O>0&&(t.lineTo(z,F),O=0),H){case on.M:a=d=n[N++],h=m=n[N++],t.moveTo(d,m);break;case on.L:{v=n[N++],g=n[N++];var J=cl(v-d),K=cl(g-m);if(J>i||K>o){if(_){var ne=T[I++];if(M+ne>D){var ae=(D-M)/ne;t.lineTo(d*(1-ae)+v*ae,m*(1-ae)+g*ae);break e}M+=ne}t.lineTo(v,g),d=v,m=g,O=0}else{var he=J*J+K*K;he>O&&(z=v,F=g,O=he)}break}case on.C:{var ie=n[N++],de=n[N++],ce=n[N++],Be=n[N++],Ve=n[N++],ht=n[N++];if(_){var ne=T[I++];if(M+ne>D){var ae=(D-M)/ne;s1(d,ie,ce,Ve,ae,Rc),s1(m,de,Be,ht,ae,zc),t.bezierCurveTo(Rc[1],zc[1],Rc[2],zc[2],Rc[3],zc[3]);break e}M+=ne}t.bezierCurveTo(ie,de,ce,Be,Ve,ht),d=Ve,m=ht;break}case on.Q:{var ie=n[N++],de=n[N++],ce=n[N++],Be=n[N++];if(_){var ne=T[I++];if(M+ne>D){var ae=(D-M)/ne;l1(d,ie,ce,ae,Rc),l1(m,de,Be,ae,zc),t.quadraticCurveTo(Rc[1],zc[1],Rc[2],zc[2]);break e}M+=ne}t.quadraticCurveTo(ie,de,ce,Be),d=ce,m=Be;break}case on.A:var mt=n[N++],dt=n[N++],vt=n[N++],Jt=n[N++],ar=n[N++],nr=n[N++],st=n[N++],ze=!n[N++],et=vt>Jt?vt:Jt,We=cl(vt-Jt)>.001,ut=ar+nr,ct=!1;if(_){var ne=T[I++];M+ne>D&&(ut=ar+nr*(D-M)/ne,ct=!0),M+=ne}if(We&&t.ellipse?t.ellipse(mt,dt,vt,Jt,st,ar,ut,ze):t.arc(mt,dt,et,ar,ut,ze),ct)break e;U&&(a=$c(ar)*vt+mt,h=Bc(ar)*Jt+dt),d=$c(ut)*vt+mt,m=Bc(ut)*Jt+dt;break;case on.R:a=d=n[N],h=m=n[N+1],v=n[N++],g=n[N++];var le=n[N++],ye=n[N++];if(_){var ne=T[I++];if(M+ne>D){var Ee=D-M;t.moveTo(v,g),t.lineTo(v+x2(Ee,le),g),Ee-=le,Ee>0&&t.lineTo(v+le,g+x2(Ee,ye)),Ee-=ye,Ee>0&&t.lineTo(v+w2(le-Ee,0),g+ye),Ee-=le,Ee>0&&t.lineTo(v,g+w2(ye-Ee,0));break e}M+=ne}t.rect(v,g,le,ye);break;case on.Z:if(_){var ne=T[I++];if(M+ne>D){var ae=(D-M)/ne;t.lineTo(d*(1-ae)+a*ae,m*(1-ae)+h*ae);break e}M+=ne}t.closePath(),d=a,m=h}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=on,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();const Ph=Rme;function Au(e,t,r,n,i,o,s){if(i===0)return!1;var a=i,h=0,d=e;if(s>t+a&&s>n+a||s<t-a&&s<n-a||o>e+a&&o>r+a||o<e-a&&o<r-a)return!1;if(e!==r)h=(t-n)/(e-r),d=(e*n-r*t)/(e-r);else return Math.abs(o-e)<=a/2;var m=h*o-s+d,v=m*m/(h*h+1);return v<=a/2*a/2}function zme(e,t,r,n,i,o,s,a,h,d,m){if(h===0)return!1;var v=h;if(m>t+v&&m>n+v&&m>o+v&&m>a+v||m<t-v&&m<n-v&&m<o-v&&m<a-v||d>e+v&&d>r+v&&d>i+v&&d>s+v||d<e-v&&d<r-v&&d<i-v&&d<s-v)return!1;var g=Zde(e,t,r,n,i,o,s,a,d,m,null);return g<=v/2}function P8(e,t,r,n,i,o,s,a,h){if(s===0)return!1;var d=s;if(h>t+d&&h>n+d&&h>o+d||h<t-d&&h<n-d&&h<o-d||a>e+d&&a>r+d&&a>i+d||a<e-d&&a<r-d&&a<i-d)return!1;var m=Jde(e,t,r,n,i,o,a,h,null);return m<=d/2}var r3=Math.PI*2;function b_(e){return e%=r3,e<0&&(e+=r3),e}var fm=Math.PI*2;function $me(e,t,r,n,i,o,s,a,h){if(s===0)return!1;var d=s;a-=e,h-=t;var m=Math.sqrt(a*a+h*h);if(m-d>r||m+d<r)return!1;if(Math.abs(n-i)%fm<1e-4)return!0;if(o){var v=n;n=b_(i),i=b_(v)}else n=b_(n),i=b_(i);n>i&&(i+=fm);var g=Math.atan2(h,a);return g<0&&(g+=fm),g>=n&&g<=i||g+fm>=n&&g+fm<=i}function Fc(e,t,r,n,i,o){if(o>t&&o>n||o<t&&o<n||n===t)return 0;var s=(o-t)/(n-t),a=n<t?1:-1;(s===1||s===0)&&(a=n<t?.5:-.5);var h=s*(r-e)+e;return h===i?1/0:h>i?a:0}var vu=Ph.CMD,Nc=Math.PI*2,Bme=1e-4;function Fme(e,t){return Math.abs(e-t)<Bme}var po=[-1,-1,-1],ga=[-1,-1];function Nme(){var e=ga[0];ga[0]=ga[1],ga[1]=e}function Vme(e,t,r,n,i,o,s,a,h,d){if(d>t&&d>n&&d>o&&d>a||d<t&&d<n&&d<o&&d<a)return 0;var m=q9(t,n,o,a,d,po);if(m===0)return 0;for(var v=0,g=-1,_=void 0,T=void 0,P=0;P<m;P++){var M=po[P],I=M===0||M===1?.5:1,D=Oi(e,r,i,s,M);D<h||(g<0&&(g=X9(t,n,o,a,ga),ga[1]<ga[0]&&g>1&&Nme(),_=Oi(t,n,o,a,ga[0]),g>1&&(T=Oi(t,n,o,a,ga[1]))),g===2?M<ga[0]?v+=_<t?I:-I:M<ga[1]?v+=T<_?I:-I:v+=a<T?I:-I:M<ga[0]?v+=_<t?I:-I:v+=a<_?I:-I)}return v}function Ume(e,t,r,n,i,o,s,a){if(a>t&&a>n&&a>o||a<t&&a<n&&a<o)return 0;var h=Yde(t,n,o,a,po);if(h===0)return 0;var d=Z9(t,n,o);if(d>=0&&d<=1){for(var m=0,v=ki(t,n,o,d),g=0;g<h;g++){var _=po[g]===0||po[g]===1?.5:1,T=ki(e,r,i,po[g]);T<s||(po[g]<d?m+=v<t?_:-_:m+=o<v?_:-_)}return m}else{var _=po[0]===0||po[0]===1?.5:1,T=ki(e,r,i,po[0]);return T<s?0:o<t?_:-_}}function Hme(e,t,r,n,i,o,s,a){if(a-=t,a>r||a<-r)return 0;var h=Math.sqrt(r*r-a*a);po[0]=-h,po[1]=h;var d=Math.abs(n-i);if(d<1e-4)return 0;if(d>=Nc-1e-4){n=0,i=Nc;var m=o?1:-1;return s>=po[0]+e&&s<=po[1]+e?m:0}if(n>i){var v=n;n=i,i=v}n<0&&(n+=Nc,i+=Nc);for(var g=0,_=0;_<2;_++){var T=po[_];if(T+e>s){var P=Math.atan2(a,T),m=o?1:-1;P<0&&(P=Nc+P),(P>=n&&P<=i||P+Nc>=n&&P+Nc<=i)&&(P>Math.PI/2&&P<Math.PI*1.5&&(m=-m),g+=m)}}return g}function I8(e,t,r,n,i){for(var o=e.data,s=e.len(),a=0,h=0,d=0,m=0,v=0,g,_,T=0;T<s;){var P=o[T++],M=T===1;switch(P===vu.M&&T>1&&(r||(a+=Fc(h,d,m,v,n,i))),M&&(h=o[T],d=o[T+1],m=h,v=d),P){case vu.M:m=o[T++],v=o[T++],h=m,d=v;break;case vu.L:if(r){if(Au(h,d,o[T],o[T+1],t,n,i))return!0}else a+=Fc(h,d,o[T],o[T+1],n,i)||0;h=o[T++],d=o[T++];break;case vu.C:if(r){if(zme(h,d,o[T++],o[T++],o[T++],o[T++],o[T],o[T+1],t,n,i))return!0}else a+=Vme(h,d,o[T++],o[T++],o[T++],o[T++],o[T],o[T+1],n,i)||0;h=o[T++],d=o[T++];break;case vu.Q:if(r){if(P8(h,d,o[T++],o[T++],o[T],o[T+1],t,n,i))return!0}else a+=Ume(h,d,o[T++],o[T++],o[T],o[T+1],n,i)||0;h=o[T++],d=o[T++];break;case vu.A:var I=o[T++],D=o[T++],O=o[T++],z=o[T++],F=o[T++],N=o[T++];T+=1;var H=!!(1-o[T++]);g=Math.cos(F)*O+I,_=Math.sin(F)*z+D,M?(m=g,v=_):a+=Fc(h,d,g,_,n,i);var U=(n-I)*z/O+I;if(r){if($me(I,D,z,F,F+N,H,t,U,i))return!0}else a+=Hme(I,D,z,F,F+N,H,U,i);h=Math.cos(F+N)*O+I,d=Math.sin(F+N)*z+D;break;case vu.R:m=h=o[T++],v=d=o[T++];var J=o[T++],K=o[T++];if(g=m+J,_=v+K,r){if(Au(m,v,g,v,t,n,i)||Au(g,v,g,_,t,n,i)||Au(g,_,m,_,t,n,i)||Au(m,_,m,v,t,n,i))return!0}else a+=Fc(g,v,g,_,n,i),a+=Fc(m,_,m,v,n,i);break;case vu.Z:if(r){if(Au(h,d,m,v,t,n,i))return!0}else a+=Fc(h,d,m,v,n,i);h=m,d=v;break}}return!r&&!Fme(d,v)&&(a+=Fc(h,d,m,v,n,i)||0),a!==0}function jme(e,t,r){return I8(e,0,!1,t,r)}function Gme(e,t,r,n){return I8(e,t,!0,r,n)}var d1=Dn({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},yh),Wme={style:Dn({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Tb.style)},C2=Nv.concat(["invisible","culling","z","z2","zlevel","parent"]),qme=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(h){r.buildPath(h,r.shape)}),i.silent=!0;var o=i.style;for(var s in n)o[s]!==n[s]&&(o[s]=n[s]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var a=0;a<C2.length;++a)i[C2[a]]=this[C2[a]];i.__dirty|=As}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=en(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<n.length;o++){var s=n[o],a=r[s];s==="style"?this.style?Dt(this.style,a):this.useStyle(a):s==="shape"?Dt(this.shape,a):e.prototype.attrKV.call(this,s,a)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(lr(r)){var n=u1(r,0);return n>.5?LT:n>.2?Ppe:OT}else if(r)return OT}return LT},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(lr(n)){var i=this.__zr,o=!!(i&&i.isDarkMode()),s=u1(r,0)<DT;if(o===s)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Bf},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Ph(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&Bf)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){a.copy(r);var h=n.strokeNoScale?this.getLineScale():1,d=n.lineWidth;if(!this.hasFill()){var m=this.strokeContainThreshold;d=Math.max(d,m??4)}h>1e-10&&(a.width+=d/h,a.height+=d/h,a.x-=d/h/2,a.y-=d/h/2)}return a}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect(),s=this.style;if(r=i[0],n=i[1],o.contain(r,n)){var a=this.path;if(this.hasStroke()){var h=s.lineWidth,d=s.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),Gme(a,h/d,r,n)))return!0}if(this.hasFill())return jme(a,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Bf,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Dt(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Bf)},t.prototype.createStyle=function(r){return _b(d1,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Dt({},this.shape))},t.prototype._applyStateObj=function(r,n,i,o,s,a){e.prototype._applyStateObj.call(this,r,n,i,o,s,a);var h=!(n&&o),d;if(n&&n.shape?s?o?d=n.shape:(d=Dt({},i.shape),Dt(d,n.shape)):(d=Dt({},o?this.shape:i.shape),Dt(d,n.shape)):h&&(d=i.shape),d)if(s){this.shape=Dt({},this.shape);for(var m={},v=en(d),g=0;g<v.length;g++){var _=v[g];typeof d[_]=="object"?this.shape[_]=d[_]:m[_]=d[_]}this._transitionState(r,{shape:m},a)}else this.shape=d,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,o=0;o<r.length;o++){var s=r[o];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return Wme},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(o){Ut(s,o);function s(a){var h=o.call(this,a)||this;return r.init&&r.init.call(h,a),h}return s.prototype.getDefaultStyle=function(){return Gr(r.style)},s.prototype.getDefaultShape=function(){return Gr(r.shape)},s}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=As|Mm|Bf}(),t}(wg);const hn=qme;var Xme=Dn({strokeFirst:!0,font:ju,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},d1),M8=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return _b(Xme,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=AA(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var o=r.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(wg);M8.prototype.type="tspan";const p1=M8;var Zme=Dn({x:0,y:0},yh),Kme={style:Dn({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Tb.style)};function Yme(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var D8=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return _b(Zme,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var o=Yme(n.image)?n.image:this.__image;if(!o)return 0;var s=r==="width"?"height":"width",a=n[s];return a==null?o[r]:o[r]/o[s]*a},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Kme},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new gn(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(wg);D8.prototype.type="image";const Nl=D8;function Jme(e,t){var r=t.x,n=t.y,i=t.width,o=t.height,s=t.r,a,h,d,m;i<0&&(r=r+i,i=-i),o<0&&(n=n+o,o=-o),typeof s=="number"?a=h=d=m=s:s instanceof Array?s.length===1?a=h=d=m=s[0]:s.length===2?(a=d=s[0],h=m=s[1]):s.length===3?(a=s[0],h=m=s[1],d=s[2]):(a=s[0],h=s[1],d=s[2],m=s[3]):a=h=d=m=0;var v;a+h>i&&(v=a+h,a*=i/v,h*=i/v),d+m>i&&(v=d+m,d*=i/v,m*=i/v),h+d>o&&(v=h+d,h*=o/v,d*=o/v),a+m>o&&(v=a+m,a*=o/v,m*=o/v),e.moveTo(r+a,n),e.lineTo(r+i-h,n),h!==0&&e.arc(r+i-h,n+h,h,-Math.PI/2,0),e.lineTo(r+i,n+o-d),d!==0&&e.arc(r+i-d,n+o-d,d,0,Math.PI/2),e.lineTo(r+m,n+o),m!==0&&e.arc(r+m,n+o-m,m,Math.PI/2,Math.PI),e.lineTo(r,n+a),a!==0&&e.arc(r+a,n+a,a,Math.PI,Math.PI*1.5)}var Zf=Math.round;function L8(e,t,r){if(t){var n=t.x1,i=t.x2,o=t.y1,s=t.y2;e.x1=n,e.x2=i,e.y1=o,e.y2=s;var a=r&&r.lineWidth;return a&&(Zf(n*2)===Zf(i*2)&&(e.x1=e.x2=hh(n,a,!0)),Zf(o*2)===Zf(s*2)&&(e.y1=e.y2=hh(o,a,!0))),e}}function O8(e,t,r){if(t){var n=t.x,i=t.y,o=t.width,s=t.height;e.x=n,e.y=i,e.width=o,e.height=s;var a=r&&r.lineWidth;return a&&(e.x=hh(n,a,!0),e.y=hh(i,a,!0),e.width=Math.max(hh(n+o,a,!1)-e.x,o===0?0:1),e.height=Math.max(hh(i+s,a,!1)-e.y,s===0?0:1)),e}}function hh(e,t,r){if(!t)return e;var n=Zf(e*2);return(n+Zf(t))%2===0?n/2:(n+(r?1:-1))/2}var Qme=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),eve={},k8=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Qme},t.prototype.buildPath=function(r,n){var i,o,s,a;if(this.subPixelOptimize){var h=O8(eve,n,this.style);i=h.x,o=h.y,s=h.width,a=h.height,h.r=n.r,n=h}else i=n.x,o=n.y,s=n.width,a=n.height;n.r?Jme(r,n):r.rect(i,o,s,a)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(hn);k8.prototype.type="rect";const Lo=k8;var n3={fill:"#000"},i3=2,tve={style:Dn({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Tb.style)},R8=function(e){Ut(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=n3,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,ive(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new gn(0,0,0,0),n=this._children,i=[],o=null,s=0;s<n.length;s++){var a=n[s],h=a.getBoundingRect(),d=a.getLocalTransform(i);d?(r.copy(h),r.applyTransform(d),o=o||r.clone(),o.union(r)):(o=o||h.clone(),o.union(h))}this._rect=o||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||n3},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,o=r.rich||i&&{};return Dt(r,n),i&&o?(this._mergeRich(o,i),r.rich=o):o&&(r.rich=o),r},t.prototype._mergeRich=function(r,n){for(var i=en(n),o=0;o<i.length;o++){var s=i[o];r[s]=r[s]||{},Dt(r[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return tve},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||ju,i=r.padding,o=h3(r),s=xme(o,r),a=E2(r),h=!!r.backgroundColor,d=s.outerHeight,m=s.outerWidth,v=s.contentWidth,g=s.lines,_=s.lineHeight,T=this._defaultStyle,P=r.x||0,M=r.y||0,I=r.align||T.align||"left",D=r.verticalAlign||T.verticalAlign||"top",O=P,z=Ff(M,s.contentHeight,D);if(a||i){var F=Lm(P,m,I),N=Ff(M,d,D);a&&this._renderBackground(r,r,F,N,m,d)}z+=_/2,i&&(O=c3(P,I,i),D==="top"?z+=i[0]:D==="bottom"&&(z-=i[2]));for(var H=0,U=!1,J=u3("fill"in r?r.fill:(U=!0,T.fill)),K=l3("stroke"in r?r.stroke:!h&&(!T.autoStroke||U)?(H=i3,T.stroke):null),ne=r.textShadowBlur>0,ae=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),he=s.calculatedLineHeight,ie=0;ie<g.length;ie++){var de=this._getOrCreateChild(p1),ce=de.createStyle();de.useStyle(ce),ce.text=g[ie],ce.x=O,ce.y=z,I&&(ce.textAlign=I),ce.textBaseline="middle",ce.opacity=r.opacity,ce.strokeFirst=!0,ne&&(ce.shadowBlur=r.textShadowBlur||0,ce.shadowColor=r.textShadowColor||"transparent",ce.shadowOffsetX=r.textShadowOffsetX||0,ce.shadowOffsetY=r.textShadowOffsetY||0),ce.stroke=K,ce.fill=J,K&&(ce.lineWidth=r.lineWidth||H,ce.lineDash=r.lineDash,ce.lineDashOffset=r.lineDashOffset||0),ce.font=n,a3(ce,r),z+=_,ae&&de.setBoundingRect(new gn(Lm(ce.x,r.width,ce.textAlign),Ff(ce.y,he,ce.textBaseline),v,he))}},t.prototype._updateRichTexts=function(){var r=this.style,n=h3(r),i=Tme(n,r),o=i.width,s=i.outerWidth,a=i.outerHeight,h=r.padding,d=r.x||0,m=r.y||0,v=this._defaultStyle,g=r.align||v.align,_=r.verticalAlign||v.verticalAlign,T=Lm(d,s,g),P=Ff(m,a,_),M=T,I=P;h&&(M+=h[3],I+=h[0]);var D=M+o;E2(r)&&this._renderBackground(r,r,T,P,s,a);for(var O=!!r.backgroundColor,z=0;z<i.lines.length;z++){for(var F=i.lines[z],N=F.tokens,H=N.length,U=F.lineHeight,J=F.width,K=0,ne=M,ae=D,he=H-1,ie=void 0;K<H&&(ie=N[K],!ie.align||ie.align==="left");)this._placeToken(ie,r,U,I,ne,"left",O),J-=ie.width,ne+=ie.width,K++;for(;he>=0&&(ie=N[he],ie.align==="right");)this._placeToken(ie,r,U,I,ae,"right",O),J-=ie.width,ae-=ie.width,he--;for(ne+=(o-(ne-M)-(D-ae)-J)/2;K<=he;)ie=N[K],this._placeToken(ie,r,U,I,ne+ie.width/2,"center",O),ne+=ie.width,K++;I+=U}},t.prototype._placeToken=function(r,n,i,o,s,a,h){var d=n.rich[r.styleName]||{};d.text=r.text;var m=r.verticalAlign,v=o+i/2;m==="top"?v=o+r.height/2:m==="bottom"&&(v=o+i-r.height/2);var g=!r.isLineHolder&&E2(d);g&&this._renderBackground(d,n,a==="right"?s-r.width:a==="center"?s-r.width/2:s,v-r.height/2,r.width,r.height);var _=!!d.backgroundColor,T=r.textPadding;T&&(s=c3(s,a,T),v-=r.height/2-T[0]-r.innerHeight/2);var P=this._getOrCreateChild(p1),M=P.createStyle();P.useStyle(M);var I=this._defaultStyle,D=!1,O=0,z=u3("fill"in d?d.fill:"fill"in n?n.fill:(D=!0,I.fill)),F=l3("stroke"in d?d.stroke:"stroke"in n?n.stroke:!_&&!h&&(!I.autoStroke||D)?(O=i3,I.stroke):null),N=d.textShadowBlur>0||n.textShadowBlur>0;M.text=r.text,M.x=s,M.y=v,N&&(M.shadowBlur=d.textShadowBlur||n.textShadowBlur||0,M.shadowColor=d.textShadowColor||n.textShadowColor||"transparent",M.shadowOffsetX=d.textShadowOffsetX||n.textShadowOffsetX||0,M.shadowOffsetY=d.textShadowOffsetY||n.textShadowOffsetY||0),M.textAlign=a,M.textBaseline="middle",M.font=r.font||ju,M.opacity=l0(d.opacity,n.opacity,1),a3(M,d),F&&(M.lineWidth=l0(d.lineWidth,n.lineWidth,O),M.lineDash=zr(d.lineDash,n.lineDash),M.lineDashOffset=n.lineDashOffset||0,M.stroke=F),z&&(M.fill=z);var H=r.contentWidth,U=r.contentHeight;P.setBoundingRect(new gn(Lm(M.x,H,M.textAlign),Ff(M.y,U,M.textBaseline),H,U))},t.prototype._renderBackground=function(r,n,i,o,s,a){var h=r.backgroundColor,d=r.borderWidth,m=r.borderColor,v=h&&h.image,g=h&&!v,_=r.borderRadius,T=this,P,M;if(g||r.lineHeight||d&&m){P=this._getOrCreateChild(Lo),P.useStyle(P.createStyle()),P.style.fill=null;var I=P.shape;I.x=i,I.y=o,I.width=s,I.height=a,I.r=_,P.dirtyShape()}if(g){var D=P.style;D.fill=h||null,D.fillOpacity=zr(r.fillOpacity,1)}else if(v){M=this._getOrCreateChild(Nl),M.onload=function(){T.dirtyStyle()};var O=M.style;O.image=h.image,O.x=i,O.y=o,O.width=s,O.height=a}if(d&&m){var D=P.style;D.lineWidth=d,D.stroke=m,D.strokeOpacity=zr(r.strokeOpacity,1),D.lineDash=r.borderDash,D.lineDashOffset=r.borderDashOffset||0,P.strokeContainThreshold=0,P.hasFill()&&P.hasStroke()&&(D.strokeFirst=!0,D.lineWidth*=2)}var z=(P||M).style;z.shadowBlur=r.shadowBlur||0,z.shadowColor=r.shadowColor||"transparent",z.shadowOffsetX=r.shadowOffsetX||0,z.shadowOffsetY=r.shadowOffsetY||0,z.opacity=l0(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return $8(r)&&(n=[r.fontStyle,r.fontWeight,z8(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Ms(n)||r.textFont||r.font},t}(wg),rve={left:!0,right:1,center:1},nve={top:1,bottom:1,middle:1},o3=["fontStyle","fontWeight","fontSize","fontFamily"];function z8(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?dA+"px":e+"px"}function a3(e,t){for(var r=0;r<o3.length;r++){var n=o3[r],i=t[n];i!=null&&(e[n]=i)}}function $8(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function ive(e){return s3(e),Me(e.rich,s3),e}function s3(e){if(e){e.font=R8.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||rve[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||nve[r]?r:"top";var n=e.padding;n&&(e.padding=O9(e.padding))}}function l3(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function u3(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function c3(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function h3(e){var t=e.text;return t!=null&&(t+=""),t}function E2(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const rs=R8;var Pn=ni(),ove=function(e,t,r,n){if(n){var i=Pn(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,n.type==="group"&&n.traverse(function(o){var s=Pn(o);s.seriesIndex=e,s.dataIndex=r,s.dataType=t})}},f3=1,d3={},B8=ni(),OA=ni(),F8=0,kA=1,RA=2,Ns=["emphasis","blur","select"],p3=["normal","emphasis","blur","select"],ave=10,sve=9,_h="highlight",g0="downplay",nv="select",y0="unselect",iv="toggleSelect";function Pf(e){return e!=null&&e!=="none"}var m3=new yg(100);function v3(e){if(lr(e)){var t=m3.get(e);return t||(t=LO(e,-.1),m3.put(e,t)),t}else if(vA(e)){var r=Dt({},e);return r.colorStops=ur(e.colorStops,function(n){return{offset:n.offset,color:LO(n.color,-.1)}}),r}return e}function Cb(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function N8(e){Cb(e,"emphasis",RA)}function V8(e){e.hoverState===RA&&Cb(e,"normal",F8)}function zA(e){Cb(e,"blur",kA)}function U8(e){e.hoverState===kA&&Cb(e,"normal",F8)}function lve(e){e.selected=!0}function uve(e){e.selected=!1}function g3(e,t,r){t(e,r)}function Vl(e,t,r){g3(e,t,r),e.isGroup&&e.traverse(function(n){g3(n,t,r)})}function cve(e,t,r,n){for(var i=e.style,o={},s=0;s<t.length;s++){var a=t[s],h=i[a];o[a]=h??(n&&n[a])}for(var s=0;s<e.animators.length;s++){var d=e.animators[s];d.__fromStateTransition&&d.__fromStateTransition.indexOf(r)<0&&d.targetName==="style"&&d.saveTo(o,t)}return o}function hve(e,t,r,n){var i=r&&vn(r,"select")>=0,o=!1;if(e instanceof hn){var s=B8(e),a=i&&s.selectFill||s.normalFill,h=i&&s.selectStroke||s.normalStroke;if(Pf(a)||Pf(h)){n=n||{};var d=n.style||{};d.fill==="inherit"?(o=!0,n=Dt({},n),d=Dt({},d),d.fill=a):!Pf(d.fill)&&Pf(a)?(o=!0,n=Dt({},n),d=Dt({},d),d.fill=v3(a)):!Pf(d.stroke)&&Pf(h)&&(o||(n=Dt({},n),d=Dt({},d)),d.stroke=v3(h)),n.style=d}}if(n&&n.z2==null){o||(n=Dt({},n));var m=e.z2EmphasisLift;n.z2=e.z2+(m??ave)}return n}function fve(e,t,r){if(r&&r.z2==null){r=Dt({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??sve)}return r}function dve(e,t,r){var n=vn(e.currentStates,t)>=0,i=e.style.opacity,o=n?null:cve(e,["opacity"],t,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=Dt({},r),s=Dt({opacity:n?i:o.opacity*.1},s),r.style=s),r}function A2(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return hve(this,e,t,r);if(e==="blur")return dve(this,e,r);if(e==="select")return fve(this,e,r)}return r}function pve(e){e.stateProxy=A2;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=A2),r&&(r.stateProxy=A2)}function y3(e,t){!W8(e,t)&&!e.__highByOuter&&Vl(e,N8)}function _3(e,t){!W8(e,t)&&!e.__highByOuter&&Vl(e,V8)}function Hv(e,t){e.__highByOuter|=1<<(t||0),Vl(e,N8)}function jv(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Vl(e,V8)}function H8(e){Vl(e,zA)}function $A(e){Vl(e,U8)}function j8(e){Vl(e,lve)}function G8(e){Vl(e,uve)}function W8(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function q8(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,o){var s=OA(o),a=i==="series",h=a?e.getViewOfSeriesModel(o):e.getViewOfComponentModel(o);!a&&n.push(h),s.isBlured&&(h.group.traverse(function(d){U8(d)}),a&&r.push(o)),s.isBlured=!1}),Me(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function BT(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function o(d,m){for(var v=0;v<m.length;v++){var g=d.getItemGraphicEl(m[v]);g&&$A(g)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),a=s.coordinateSystem;a&&a.master&&(a=a.master);var h=[];i.eachSeries(function(d){var m=s===d,v=d.coordinateSystem;v&&v.master&&(v=v.master);var g=v&&a?v===a:m;if(!(r==="series"&&!m||r==="coordinateSystem"&&!g||t==="series"&&m)){var _=n.getViewOfSeriesModel(d);if(_.group.traverse(function(M){zA(M)}),$o(t))o(d.getData(),t);else if(pr(t))for(var T=en(t),P=0;P<T.length;P++)o(d.getData(T[P]),t[T[P]]);h.push(d),OA(d).isBlured=!0}}),i.eachComponent(function(d,m){if(d!=="series"){var v=n.getViewOfComponentModel(m);v&&v.toggleBlurSeries&&v.toggleBlurSeries(h,!0,i)}})}}function FT(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){OA(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(o){zA(o)})}}}function mve(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var o=bg(i,t);o=(Zt(o)?o[0]:o)||0;var s=i.getItemGraphicEl(o);if(!s)for(var a=i.count(),h=0;!s&&h<a;)s=i.getItemGraphicEl(h++);if(s){var d=Pn(s);BT(n,d.focus,d.blurScope,r)}else{var m=e.get(["emphasis","focus"]),v=e.get(["emphasis","blurScope"]);m!=null&&BT(n,m,v,r)}}}function BA(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var o=n.getModel().getComponent(e,t);if(!o)return i;var s=n.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return i;for(var a=s.findHighDownDispatchers(r),h,d=0;d<a.length;d++)if(Pn(a[d]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:a}}function vve(e,t,r){var n=Pn(e),i=BA(n.componentMainType,n.componentIndex,n.componentHighDownName,r),o=i.dispatchers,s=i.focusSelf;o?(s&&FT(n.componentMainType,n.componentIndex,r),Me(o,function(a){return y3(a,t)})):(BT(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&FT(n.componentMainType,n.componentIndex,r),y3(e,t))}function gve(e,t,r){q8(r);var n=Pn(e),i=BA(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?Me(i,function(o){return _3(o,t)}):_3(e,t)}function yve(e,t,r){if(VT(t)){var n=t.dataType,i=e.getData(n),o=bg(i,t);Zt(o)||(o=[o]),e[t.type===iv?"toggleSelect":t.type===nv?"select":"unselect"](o,n)}}function b3(e){var t=e.getAllData();Me(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(o,s){e.isSelected(s,i)?j8(o):G8(o)})})}function _ve(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();Me(n,function(i){i.data;var o=i.type,s=r.getSelectedDataIndices();if(s.length>0){var a={dataIndex:s,seriesIndex:r.seriesIndex};o!=null&&(a.dataType=o),t.push(a)}})}),t}function bve(e,t,r){X8(e,!0),Vl(e,pve),wve(e,t,r)}function xve(e){X8(e,!1)}function FA(e,t,r,n){n?xve(e):bve(e,t,r)}function wve(e,t,r){var n=Pn(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}function X8(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function NT(e){return!!(e&&e.__highDownDispatcher)}function Sve(e){var t=d3[e];return t==null&&f3<=32&&(t=d3[e]=f3++),t}function VT(e){var t=e.type;return t===nv||t===y0||t===iv}function x3(e){var t=e.type;return t===_h||t===g0}function Tve(e){var t=B8(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var If=Ph.CMD,Cve=[[],[],[]],w3=Math.sqrt,Eve=Math.atan2;function Ave(e,t){if(t){var r=e.data,n=e.len(),i,o,s,a,h,d,m=If.M,v=If.C,g=If.L,_=If.R,T=If.A,P=If.Q;for(s=0,a=0;s<n;){switch(i=r[s++],a=s,o=0,i){case m:o=1;break;case g:o=1;break;case v:o=3;break;case P:o=2;break;case T:var M=t[4],I=t[5],D=w3(t[0]*t[0]+t[1]*t[1]),O=w3(t[2]*t[2]+t[3]*t[3]),z=Eve(-t[1]/O,t[0]/D);r[s]*=D,r[s++]+=M,r[s]*=O,r[s++]+=I,r[s++]*=D,r[s++]*=O,r[s++]+=z,r[s++]+=z,s+=2,a=s;break;case _:d[0]=r[s++],d[1]=r[s++],Ca(d,d,t),r[a++]=d[0],r[a++]=d[1],d[0]+=r[s++],d[1]+=r[s++],Ca(d,d,t),r[a++]=d[0],r[a++]=d[1]}for(h=0;h<o;h++){var F=Cve[h];F[0]=r[s++],F[1]=r[s++],Ca(F,F,t),r[a++]=F[0],r[a++]=F[1]}}e.increaseVersion()}}var P2=Math.sqrt,x_=Math.sin,w_=Math.cos,dm=Math.PI;function S3(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function UT(e,t){return(e[0]*t[0]+e[1]*t[1])/(S3(e)*S3(t))}function T3(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(UT(e,t))}function C3(e,t,r,n,i,o,s,a,h,d,m){var v=h*(dm/180),g=w_(v)*(e-r)/2+x_(v)*(t-n)/2,_=-1*x_(v)*(e-r)/2+w_(v)*(t-n)/2,T=g*g/(s*s)+_*_/(a*a);T>1&&(s*=P2(T),a*=P2(T));var P=(i===o?-1:1)*P2((s*s*(a*a)-s*s*(_*_)-a*a*(g*g))/(s*s*(_*_)+a*a*(g*g)))||0,M=P*s*_/a,I=P*-a*g/s,D=(e+r)/2+w_(v)*M-x_(v)*I,O=(t+n)/2+x_(v)*M+w_(v)*I,z=T3([1,0],[(g-M)/s,(_-I)/a]),F=[(g-M)/s,(_-I)/a],N=[(-1*g-M)/s,(-1*_-I)/a],H=T3(F,N);if(UT(F,N)<=-1&&(H=dm),UT(F,N)>=1&&(H=0),H<0){var U=Math.round(H/dm*1e6)/1e6;H=dm*2+U%2*dm}m.addData(d,D,O,s,a,z,H,v,o)}var Pve=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Ive=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Mve(e){var t=new Ph;if(!e)return t;var r=0,n=0,i=r,o=n,s,a=Ph.CMD,h=e.match(Pve);if(!h)return t;for(var d=0;d<h.length;d++){for(var m=h[d],v=m.charAt(0),g=void 0,_=m.match(Ive)||[],T=_.length,P=0;P<T;P++)_[P]=parseFloat(_[P]);for(var M=0;M<T;){var I=void 0,D=void 0,O=void 0,z=void 0,F=void 0,N=void 0,H=void 0,U=r,J=n,K=void 0,ne=void 0;switch(v){case"l":r+=_[M++],n+=_[M++],g=a.L,t.addData(g,r,n);break;case"L":r=_[M++],n=_[M++],g=a.L,t.addData(g,r,n);break;case"m":r+=_[M++],n+=_[M++],g=a.M,t.addData(g,r,n),i=r,o=n,v="l";break;case"M":r=_[M++],n=_[M++],g=a.M,t.addData(g,r,n),i=r,o=n,v="L";break;case"h":r+=_[M++],g=a.L,t.addData(g,r,n);break;case"H":r=_[M++],g=a.L,t.addData(g,r,n);break;case"v":n+=_[M++],g=a.L,t.addData(g,r,n);break;case"V":n=_[M++],g=a.L,t.addData(g,r,n);break;case"C":g=a.C,t.addData(g,_[M++],_[M++],_[M++],_[M++],_[M++],_[M++]),r=_[M-2],n=_[M-1];break;case"c":g=a.C,t.addData(g,_[M++]+r,_[M++]+n,_[M++]+r,_[M++]+n,_[M++]+r,_[M++]+n),r+=_[M-2],n+=_[M-1];break;case"S":I=r,D=n,K=t.len(),ne=t.data,s===a.C&&(I+=r-ne[K-4],D+=n-ne[K-3]),g=a.C,U=_[M++],J=_[M++],r=_[M++],n=_[M++],t.addData(g,I,D,U,J,r,n);break;case"s":I=r,D=n,K=t.len(),ne=t.data,s===a.C&&(I+=r-ne[K-4],D+=n-ne[K-3]),g=a.C,U=r+_[M++],J=n+_[M++],r+=_[M++],n+=_[M++],t.addData(g,I,D,U,J,r,n);break;case"Q":U=_[M++],J=_[M++],r=_[M++],n=_[M++],g=a.Q,t.addData(g,U,J,r,n);break;case"q":U=_[M++]+r,J=_[M++]+n,r+=_[M++],n+=_[M++],g=a.Q,t.addData(g,U,J,r,n);break;case"T":I=r,D=n,K=t.len(),ne=t.data,s===a.Q&&(I+=r-ne[K-4],D+=n-ne[K-3]),r=_[M++],n=_[M++],g=a.Q,t.addData(g,I,D,r,n);break;case"t":I=r,D=n,K=t.len(),ne=t.data,s===a.Q&&(I+=r-ne[K-4],D+=n-ne[K-3]),r+=_[M++],n+=_[M++],g=a.Q,t.addData(g,I,D,r,n);break;case"A":O=_[M++],z=_[M++],F=_[M++],N=_[M++],H=_[M++],U=r,J=n,r=_[M++],n=_[M++],g=a.A,C3(U,J,r,n,N,H,O,z,F,g,t);break;case"a":O=_[M++],z=_[M++],F=_[M++],N=_[M++],H=_[M++],U=r,J=n,r+=_[M++],n+=_[M++],g=a.A,C3(U,J,r,n,N,H,O,z,F,g,t);break}}(v==="z"||v==="Z")&&(g=a.Z,t.addData(g),r=i,n=o),s=g}return t.toStatic(),t}var Z8=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(hn);function K8(e){return e.setData!=null}function Y8(e,t){var r=Mve(e),n=Dt({},t);return n.buildPath=function(i){if(K8(i)){i.setData(r.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;r.rebuildPath(o,1)}},n.applyTransform=function(i){Ave(r,i),this.dirtyShape()},n}function Dve(e,t){return new Z8(Y8(e,t))}function Lve(e,t){var r=Y8(e,t),n=function(i){Ut(o,i);function o(s){var a=i.call(this,s)||this;return a.applyTransform=r.applyTransform,a.buildPath=r.buildPath,a}return o}(Z8);return n}function Ove(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var o=e[i];r.push(o.getUpdatedPathProxy(!0))}var s=new hn(t);return s.createPathProxy(),s.buildPath=function(a){if(K8(a)){a.appendPath(r);var h=a.getContext();h&&a.rebuildPath(h,1)}},s}var kve=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),J8=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new kve},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(hn);J8.prototype.type="circle";const NA=J8;var Rve=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),Q8=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Rve},t.prototype.buildPath=function(r,n){var i=.5522848,o=n.cx,s=n.cy,a=n.rx,h=n.ry,d=a*i,m=h*i;r.moveTo(o-a,s),r.bezierCurveTo(o-a,s-m,o-d,s-h,o,s-h),r.bezierCurveTo(o+d,s-h,o+a,s-m,o+a,s),r.bezierCurveTo(o+a,s+m,o+d,s+h,o,s+h),r.bezierCurveTo(o-d,s+h,o-a,s+m,o-a,s),r.closePath()},t}(hn);Q8.prototype.type="ellipse";const eF=Q8;var tF=Math.PI,I2=tF*2,Vc=Math.sin,Mf=Math.cos,zve=Math.acos,Wi=Math.atan2,E3=Math.abs,ov=Math.sqrt,Om=Math.max,ws=Math.min,Ha=1e-4;function $ve(e,t,r,n,i,o,s,a){var h=r-e,d=n-t,m=s-i,v=a-o,g=v*h-m*d;if(!(g*g<Ha))return g=(m*(t-o)-v*(e-i))/g,[e+g*h,t+g*d]}function S_(e,t,r,n,i,o,s){var a=e-r,h=t-n,d=(s?o:-o)/ov(a*a+h*h),m=d*h,v=-d*a,g=e+m,_=t+v,T=r+m,P=n+v,M=(g+T)/2,I=(_+P)/2,D=T-g,O=P-_,z=D*D+O*O,F=i-o,N=g*P-T*_,H=(O<0?-1:1)*ov(Om(0,F*F*z-N*N)),U=(N*O-D*H)/z,J=(-N*D-O*H)/z,K=(N*O+D*H)/z,ne=(-N*D+O*H)/z,ae=U-M,he=J-I,ie=K-M,de=ne-I;return ae*ae+he*he>ie*ie+de*de&&(U=K,J=ne),{cx:U,cy:J,x0:-m,y0:-v,x1:U*(i/F-1),y1:J*(i/F-1)}}function Bve(e){var t;if(Zt(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function Fve(e,t){var r,n=Om(t.r,0),i=Om(t.r0||0,0),o=n>0,s=i>0;if(!(!o&&!s)){if(o||(n=i,i=0),i>n){var a=n;n=i,i=a}var h=t.startAngle,d=t.endAngle;if(!(isNaN(h)||isNaN(d))){var m=t.cx,v=t.cy,g=!!t.clockwise,_=E3(d-h),T=_>I2&&_%I2;if(T>Ha&&(_=T),!(n>Ha))e.moveTo(m,v);else if(_>I2-Ha)e.moveTo(m+n*Mf(h),v+n*Vc(h)),e.arc(m,v,n,h,d,!g),i>Ha&&(e.moveTo(m+i*Mf(d),v+i*Vc(d)),e.arc(m,v,i,d,h,g));else{var P=void 0,M=void 0,I=void 0,D=void 0,O=void 0,z=void 0,F=void 0,N=void 0,H=void 0,U=void 0,J=void 0,K=void 0,ne=void 0,ae=void 0,he=void 0,ie=void 0,de=n*Mf(h),ce=n*Vc(h),Be=i*Mf(d),Ve=i*Vc(d),ht=_>Ha;if(ht){var mt=t.cornerRadius;mt&&(r=Bve(mt),P=r[0],M=r[1],I=r[2],D=r[3]);var dt=E3(n-i)/2;if(O=ws(dt,I),z=ws(dt,D),F=ws(dt,P),N=ws(dt,M),J=H=Om(O,z),K=U=Om(F,N),(H>Ha||U>Ha)&&(ne=n*Mf(d),ae=n*Vc(d),he=i*Mf(h),ie=i*Vc(h),_<tF)){var vt=$ve(de,ce,he,ie,ne,ae,Be,Ve);if(vt){var Jt=de-vt[0],ar=ce-vt[1],nr=ne-vt[0],st=ae-vt[1],ze=1/Vc(zve((Jt*nr+ar*st)/(ov(Jt*Jt+ar*ar)*ov(nr*nr+st*st)))/2),et=ov(vt[0]*vt[0]+vt[1]*vt[1]);J=ws(H,(n-et)/(ze+1)),K=ws(U,(i-et)/(ze-1))}}}if(!ht)e.moveTo(m+de,v+ce);else if(J>Ha){var We=ws(I,J),ut=ws(D,J),ct=S_(he,ie,de,ce,n,We,g),le=S_(ne,ae,Be,Ve,n,ut,g);e.moveTo(m+ct.cx+ct.x0,v+ct.cy+ct.y0),J<H&&We===ut?e.arc(m+ct.cx,v+ct.cy,J,Wi(ct.y0,ct.x0),Wi(le.y0,le.x0),!g):(We>0&&e.arc(m+ct.cx,v+ct.cy,We,Wi(ct.y0,ct.x0),Wi(ct.y1,ct.x1),!g),e.arc(m,v,n,Wi(ct.cy+ct.y1,ct.cx+ct.x1),Wi(le.cy+le.y1,le.cx+le.x1),!g),ut>0&&e.arc(m+le.cx,v+le.cy,ut,Wi(le.y1,le.x1),Wi(le.y0,le.x0),!g))}else e.moveTo(m+de,v+ce),e.arc(m,v,n,h,d,!g);if(!(i>Ha)||!ht)e.lineTo(m+Be,v+Ve);else if(K>Ha){var We=ws(P,K),ut=ws(M,K),ct=S_(Be,Ve,ne,ae,i,-ut,g),le=S_(de,ce,he,ie,i,-We,g);e.lineTo(m+ct.cx+ct.x0,v+ct.cy+ct.y0),K<U&&We===ut?e.arc(m+ct.cx,v+ct.cy,K,Wi(ct.y0,ct.x0),Wi(le.y0,le.x0),!g):(ut>0&&e.arc(m+ct.cx,v+ct.cy,ut,Wi(ct.y0,ct.x0),Wi(ct.y1,ct.x1),!g),e.arc(m,v,i,Wi(ct.cy+ct.y1,ct.cx+ct.x1),Wi(le.cy+le.y1,le.cx+le.x1),g),We>0&&e.arc(m+le.cx,v+le.cy,We,Wi(le.y1,le.x1),Wi(le.y0,le.x0),!g))}else e.lineTo(m+Be,v+Ve),e.arc(m,v,i,d,h,g)}e.closePath()}}}var Nve=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),rF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Nve},t.prototype.buildPath=function(r,n){Fve(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(hn);rF.prototype.type="sector";const VA=rF;var Vve=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),nF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Vve},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,s=Math.PI*2;r.moveTo(i+n.r,o),r.arc(i,o,n.r,0,s,!1),r.moveTo(i+n.r0,o),r.arc(i,o,n.r0,0,s,!0)},t}(hn);nF.prototype.type="ring";const iF=nF;function Uve(e,t,r,n){var i=[],o=[],s=[],a=[],h,d,m,v;if(n){m=[1/0,1/0],v=[-1/0,-1/0];for(var g=0,_=e.length;g<_;g++)Wf(m,m,e[g]),qf(v,v,e[g]);Wf(m,m,n[0]),qf(v,v,n[1])}for(var g=0,_=e.length;g<_;g++){var T=e[g];if(r)h=e[g?g-1:_-1],d=e[(g+1)%_];else if(g===0||g===_-1){i.push(pde(e[g]));continue}else h=e[g-1],d=e[g+1];z9(o,d,h),qw(o,o,t);var P=yT(T,h),M=yT(T,d),I=P+M;I!==0&&(P/=I,M/=I),qw(s,o,-P),qw(a,o,M);var D=vO([],T,s),O=vO([],T,a);n&&(qf(D,D,m),Wf(D,D,v),qf(O,O,m),Wf(O,O,v)),i.push(D),i.push(O)}return r&&i.push(i.shift()),i}function oF(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var o=Uve(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,a=0;a<(r?s:s-1);a++){var h=o[a*2],d=o[a*2+1],m=i[(a+1)%s];e.bezierCurveTo(h[0],h[1],d[0],d[1],m[0],m[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var a=1,v=i.length;a<v;a++)e.lineTo(i[a][0],i[a][1])}r&&e.closePath()}}var Hve=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),aF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Hve},t.prototype.buildPath=function(r,n){oF(r,n,!0)},t}(hn);aF.prototype.type="polygon";const sF=aF;var jve=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),lF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new jve},t.prototype.buildPath=function(r,n){oF(r,n,!1)},t}(hn);lF.prototype.type="polyline";const UA=lF;var Gve={},Wve=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),uF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Wve},t.prototype.buildPath=function(r,n){var i,o,s,a;if(this.subPixelOptimize){var h=L8(Gve,n,this.style);i=h.x1,o=h.y1,s=h.x2,a=h.y2}else i=n.x1,o=n.y1,s=n.x2,a=n.y2;var d=n.percent;d!==0&&(r.moveTo(i,o),d<1&&(s=i*(1-d)+s*d,a=o*(1-d)+a*d),r.lineTo(s,a))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(hn);uF.prototype.type="line";const Gu=uF;var Co=[],qve=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function A3(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?PO:Oi)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?PO:Oi)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?ST:ki)(e.x1,e.cpx1,e.x2,t),(r?ST:ki)(e.y1,e.cpy1,e.y2,t)]}var cF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new qve},t.prototype.buildPath=function(r,n){var i=n.x1,o=n.y1,s=n.x2,a=n.y2,h=n.cpx1,d=n.cpy1,m=n.cpx2,v=n.cpy2,g=n.percent;g!==0&&(r.moveTo(i,o),m==null||v==null?(g<1&&(l1(i,h,s,g,Co),h=Co[1],s=Co[2],l1(o,d,a,g,Co),d=Co[1],a=Co[2]),r.quadraticCurveTo(h,d,s,a)):(g<1&&(s1(i,h,m,s,g,Co),h=Co[1],m=Co[2],s=Co[3],s1(o,d,v,a,g,Co),d=Co[1],v=Co[2],a=Co[3]),r.bezierCurveTo(h,d,m,v,s,a)))},t.prototype.pointAt=function(r){return A3(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=A3(this.shape,r,!0);return yA(n,n)},t}(hn);cF.prototype.type="bezier-curve";const HA=cF;var Xve=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),hF=function(e){Ut(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Xve},t.prototype.buildPath=function(r,n){var i=n.cx,o=n.cy,s=Math.max(n.r,0),a=n.startAngle,h=n.endAngle,d=n.clockwise,m=Math.cos(a),v=Math.sin(a);r.moveTo(m*s+i,v*s+o),r.arc(i,o,s,a,h,!d)},t}(hn);hF.prototype.type="arc";const jA=hF;var Zve=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],o=0;o<i.length;o++)i[o].buildPath(r,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),hn.prototype.getBoundingRect.call(this)},t}(hn);const fF=Zve;var Kve=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}();const dF=Kve;var Yve=function(e){Ut(t,e);function t(r,n,i,o,s,a){var h=e.call(this,s)||this;return h.x=r??0,h.y=n??0,h.x2=i??1,h.y2=o??0,h.type="linear",h.global=a||!1,h}return t}(dF);const Jve=Yve;var Qve=function(e){Ut(t,e);function t(r,n,i,o,s){var a=e.call(this,o)||this;return a.x=r??.5,a.y=n??.5,a.r=i??.5,a.type="radial",a.global=s||!1,a}return t}(dF);const ege=Qve;var Uc=[0,0],Hc=[0,0],T_=new Cn,C_=new Cn,tge=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Cn;for(var n=0;n<2;n++)this._axes[n]=new Cn;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,o=t.x,s=t.y,a=o+t.width,h=s+t.height;if(n[0].set(o,s),n[1].set(a,s),n[2].set(a,h),n[3].set(o,h),r)for(var d=0;d<4;d++)n[d].transform(r);Cn.sub(i[0],n[1],n[0]),Cn.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var d=0;d<2;d++)this._origin[d]=i[d].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return T_.set(1/0,1/0),C_.set(0,0),!this._intersectCheckOneSide(this,t,T_,C_,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,T_,C_,i,-1)&&(n=!1,i)||i||Cn.copy(r,n?T_:C_),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,o,s){for(var a=!0,h=0;h<2;h++){var d=this._axes[h];if(this._getProjMinMaxOnAxis(h,t._corners,Uc),this._getProjMinMaxOnAxis(h,r._corners,Hc),Uc[1]<Hc[0]||Uc[0]>Hc[1]){if(a=!1,o)return a;var m=Math.abs(Hc[0]-Uc[1]),v=Math.abs(Uc[0]-Hc[1]);Math.min(m,v)>i.len()&&(m<v?Cn.scale(i,d,-m*s):Cn.scale(i,d,v*s))}else if(n){var m=Math.abs(Hc[0]-Uc[1]),v=Math.abs(Uc[0]-Hc[1]);Math.min(m,v)<n.len()&&(m<v?Cn.scale(n,d,m*s):Cn.scale(n,d,-v*s))}}return a},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],o=this._origin,s=r[0].dot(i)+o[t],a=s,h=s,d=1;d<r.length;d++){var m=r[d].dot(i)+o[t];a=Math.min(m,a),h=Math.max(m,h)}n[0]=a,n[1]=h},e}();const m1=tge;var rge=[],nge=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new gn(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(rge)),r.union(o)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var a=this._displayables[s];if(a.contain(r,n))return!0}return!1},t}(wg);const ige=nge;var oge=ni();function age(e,t,r,n,i){var o;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();o=s&&s.animation}var a=t&&t.isAnimationEnabled(),h=e==="update";if(a){var d=void 0,m=void 0,v=void 0;n?(d=zr(n.duration,200),m=zr(n.easing,"cubicOut"),v=0):(d=t.getShallow(h?"animationDurationUpdate":"animationDuration"),m=t.getShallow(h?"animationEasingUpdate":"animationEasing"),v=t.getShallow(h?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(d=o.duration),o.easing!=null&&(m=o.easing),o.delay!=null&&(v=o.delay)),wr(v)&&(v=v(r,i)),wr(d)&&(d=d(r));var g={duration:d||0,delay:v,easing:m};return g}else return null}function GA(e,t,r,n,i,o,s){var a=!1,h;wr(i)?(s=o,o=i,i=null):pr(i)&&(o=i.cb,s=i.during,a=i.isFrom,h=i.removeOpt,i=i.dataIndex);var d=e==="leave";d||t.stopAnimation("leave");var m=age(e,n,i,d?h||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(m&&m.duration>0){var v=m.duration,g=m.delay,_=m.easing,T={duration:v,delay:g||0,easing:_,done:o,force:!!o||!!s,setToFinal:!d,scope:e,during:s};a?t.animateFrom(r,T):t.animateTo(r,T)}else t.stopAnimation(),!a&&t.attr(r),s&&s(1),o&&o()}function zh(e,t,r,n,i,o){GA("update",e,t,r,n,i,o)}function Sg(e,t,r,n,i,o){GA("enter",e,t,r,n,i,o)}function av(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function v1(e,t,r,n,i,o){av(e)||GA("leave",e,t,r,n,i,o)}function P3(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),v1(e,{style:{opacity:0}},t,r,n)}function sge(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||P3(i,t,r,n)}):P3(e,t,r,n)}function lge(e){oge(e).oldStyle=e.style}var g1=Math.max,y1=Math.min,HT={};function uge(e){return hn.extend(e)}var cge=Lve;function hge(e,t){return cge(e,t)}function ss(e,t){HT[e]=t}function fge(e){if(HT.hasOwnProperty(e))return HT[e]}function WA(e,t,r,n){var i=Dve(e,t);return r&&(n==="center"&&(r=mF(r,i.getBoundingRect())),vF(i,r)),i}function pF(e,t,r){var n=new Nl({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var o={width:i.width,height:i.height};n.setStyle(mF(t,o))}}});return n}function mF(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var o=e.x+e.width/2,s=e.y+e.height/2;return{x:o-n/2,y:s-i/2,width:n,height:i}}var dge=Ove;function vF(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function Gv(e,t){return L8(e,e,{lineWidth:t}),e}function pge(e){return O8(e.shape,e.shape,e.style),e}var mge=hh;function vge(e,t){for(var r=bA([]);e&&e!==t;)ad(r,e.getLocalTransform(),r),e=e.parent;return r}function qA(e,t,r){return t&&!$o(t)&&(t=EA.getLocalTransform(t)),r&&(t=wA([],t)),Ca([],e,t)}function gge(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),o=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return o=qA(o,t,r),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function I3(e){return!e.isGroup}function yge(e){return e.shape!=null}function gF(e,t,r){if(!e||!t)return;function n(s){var a={};return s.traverse(function(h){I3(h)&&h.anid&&(a[h.anid]=h)}),a}function i(s){var a={x:s.x,y:s.y,rotation:s.rotation};return yge(s)&&(a.shape=Dt({},s.shape)),a}var o=n(e);t.traverse(function(s){if(I3(s)&&s.anid){var a=o[s.anid];if(a){var h=i(s);s.attr(i(a)),zh(s,h,r,Pn(s).dataIndex)}}})}function _ge(e,t){return ur(e,function(r){var n=r[0];n=g1(n,t.x),n=y1(n,t.x+t.width);var i=r[1];return i=g1(i,t.y),i=y1(i,t.y+t.height),[n,i]})}function bge(e,t){var r=g1(e.x,t.x),n=y1(e.x+e.width,t.x+t.width),i=g1(e.y,t.y),o=y1(e.y+e.height,t.y+t.height);if(n>=r&&o>=i)return{x:r,y:i,width:n-r,height:o-i}}function yF(e,t,r){var n=Dt({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),Dn(i,r),new Nl(n)):WA(e.replace("path://",""),n,r,"center")}function xge(e,t,r,n,i){for(var o=0,s=i[i.length-1];o<i.length;o++){var a=i[o];if(_F(e,t,r,n,a[0],a[1],s[0],s[1]))return!0;s=a}}function _F(e,t,r,n,i,o,s,a){var h=r-e,d=n-t,m=s-i,v=a-o,g=M2(m,v,h,d);if(wge(g))return!1;var _=e-i,T=t-o,P=M2(_,T,h,d)/g;if(P<0||P>1)return!1;var M=M2(_,T,m,v)/g;return!(M<0||M>1)}function M2(e,t,r,n){return e*n-r*t}function wge(e){return e<=1e-6&&e>=-1e-6}function bF(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=lr(t)?{formatter:t}:t,o=r.mainType,s=r.componentIndex,a={componentType:o,name:n,$vars:["name"]};a[o+"Index"]=s;var h=e.formatterParamsExtra;h&&Me(en(h),function(m){Md(a,m)||(a[m]=h[m],a.$vars.push(m))});var d=Pn(e.el);d.componentMainType=o,d.componentIndex=s,d.tooltipConfig={name:n,option:Dn({content:n,formatterParams:a},i)}}function M3(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function Eb(e,t){if(e)if(Zt(e))for(var r=0;r<e.length;r++)M3(e[r],t);else M3(e,t)}ss("circle",NA);ss("ellipse",eF);ss("sector",VA);ss("ring",iF);ss("polygon",sF);ss("polyline",UA);ss("rect",Lo);ss("line",Gu);ss("bezierCurve",HA);ss("arc",jA);const Sge=Object.freeze(Object.defineProperty({__proto__:null,Arc:jA,BezierCurve:HA,BoundingRect:gn,Circle:NA,CompoundPath:fF,Ellipse:eF,Group:Fi,Image:Nl,IncrementalDisplayable:ige,Line:Gu,LinearGradient:Jve,OrientedBoundingRect:m1,Path:hn,Point:Cn,Polygon:sF,Polyline:UA,RadialGradient:ege,Rect:Lo,Ring:iF,Sector:VA,Text:rs,applyTransform:qA,clipPointsByRect:_ge,clipRectByRect:bge,createIcon:yF,extendPath:hge,extendShape:uge,getShapeClass:fge,getTransform:vge,groupTransition:gF,initProps:Sg,isElementRemoved:av,lineLineIntersect:_F,linePolygonIntersect:xge,makeImage:pF,makePath:WA,mergePath:dge,registerShape:ss,removeElement:v1,removeElementWithFadeOut:sge,resizePath:vF,setTooltipConfig:bF,subPixelOptimize:mge,subPixelOptimizeLine:Gv,subPixelOptimizeRect:pge,transformDirection:gge,traverseElements:Eb,updateProps:zh},Symbol.toStringTag,{value:"Module"}));var Ab={};function Tge(e,t){for(var r=0;r<Ns.length;r++){var n=Ns[r],i=t[n],o=e.ensureState(n);o.style=o.style||{},o.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function D3(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,o=e.labelDimIndex,s=t.normal,a;n&&(a=n.getFormattedLabel(i,"normal",null,o,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),a==null&&(a=wr(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var h={normal:a},d=0;d<Ns.length;d++){var m=Ns[d],v=t[m];h[m]=zr(n?n.getFormattedLabel(i,m,null,o,v&&v.get("formatter")):null,a)}return h}function xF(e,t,r,n){r=r||Ab;for(var i=e instanceof rs,o=!1,s=0;s<p3.length;s++){var a=t[p3[s]];if(a&&a.getShallow("show")){o=!0;break}}var h=i?e:e.getTextContent();if(o){i||(h||(h=new rs,e.setTextContent(h)),e.stateProxy&&(h.stateProxy=e.stateProxy));var d=D3(r,t),m=t.normal,v=!!m.getShallow("show"),g=Ih(m,n&&n.normal,r,!1,!i);g.text=d.normal,i||e.setTextConfig(L3(m,r,!1));for(var s=0;s<Ns.length;s++){var _=Ns[s],a=t[_];if(a){var T=h.ensureState(_),P=!!zr(a.getShallow("show"),v);if(P!==v&&(T.ignore=!P),T.style=Ih(a,n&&n[_],r,!0,!i),T.style.text=d[_],!i){var M=e.ensureState(_);M.textConfig=L3(a,r,!0)}}}h.silent=!!m.getShallow("silent"),h.style.x!=null&&(g.x=h.style.x),h.style.y!=null&&(g.y=h.style.y),h.ignore=!v,h.useStyle(g),h.dirty(),r.enableTextSetter&&(Pge(h).setLabelText=function(I){var D=D3(r,t,I);Tge(h,D)})}else h&&(h.ignore=!0);e.dirty()}function Pb(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Ns.length;n++){var i=Ns[n];r[i]=e.getModel([i,t])}return r}function Ih(e,t,r,n,i){var o={};return Cge(o,e,r,n,i),t&&Dt(o,t),o}function L3(e,t,r){t=t||{};var n={},i,o=e.getShallow("rotate"),s=zr(e.getShallow("distance"),r?null:5),a=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),a!=null&&(n.offset=a),o!=null&&(o*=Math.PI/180,n.rotation=o),s!=null&&(n.distance=s),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function Cge(e,t,r,n,i){r=r||Ab;var o=t.ecModel,s=o&&o.option.textStyle,a=Ege(t),h;if(a){h={};for(var d in a)if(a.hasOwnProperty(d)){var m=t.getModel(["rich",d]);z3(h[d]={},m,s,r,n,i,!1,!0)}}h&&(e.rich=h);var v=t.get("overflow");v&&(e.overflow=v);var g=t.get("minMargin");g!=null&&(e.margin=g),z3(e,t,s,r,n,i,!0,!1)}function Ege(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Ab).rich;if(r){t=t||{};for(var n=en(r),i=0;i<n.length;i++){var o=n[i];t[o]=1}}e=e.parentModel}return t}var O3=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],k3=["align","lineHeight","width","height","tag","verticalAlign"],R3=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function z3(e,t,r,n,i,o,s,a){r=!i&&r||Ab;var h=n&&n.inheritColor,d=t.getShallow("color"),m=t.getShallow("textBorderColor"),v=zr(t.getShallow("opacity"),r.opacity);(d==="inherit"||d==="auto")&&(h?d=h:d=null),(m==="inherit"||m==="auto")&&(h?m=h:m=null),o||(d=d||r.color,m=m||r.textBorderColor),d!=null&&(e.fill=d),m!=null&&(e.stroke=m);var g=zr(t.getShallow("textBorderWidth"),r.textBorderWidth);g!=null&&(e.lineWidth=g);var _=zr(t.getShallow("textBorderType"),r.textBorderType);_!=null&&(e.lineDash=_);var T=zr(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);T!=null&&(e.lineDashOffset=T),!i&&v==null&&!a&&(v=n&&n.defaultOpacity),v!=null&&(e.opacity=v),!i&&!o&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var P=0;P<O3.length;P++){var M=O3[P],I=zr(t.getShallow(M),r[M]);I!=null&&(e[M]=I)}for(var P=0;P<k3.length;P++){var M=k3[P],I=t.getShallow(M);I!=null&&(e[M]=I)}if(e.verticalAlign==null){var D=t.getShallow("baseline");D!=null&&(e.verticalAlign=D)}if(!s||!n.disableBox){for(var P=0;P<R3.length;P++){var M=R3[P],I=t.getShallow(M);I!=null&&(e[M]=I)}var O=t.getShallow("borderType");O!=null&&(e.borderDash=O),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&h&&(e.backgroundColor=h),(e.borderColor==="auto"||e.borderColor==="inherit")&&h&&(e.borderColor=h)}}function Age(e,t){var r=t&&t.getModel("textStyle");return Ms([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Pge=ni(),Ige=["textStyle","color"],D2=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],L2=new rs,Mge=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(Ige):null)},e.prototype.getFont=function(){return Age({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<D2.length;n++)r[D2[n]]=this.getShallow(D2[n]);return L2.useStyle(r),L2.update(),L2.getBoundingRect()},e}();const Dge=Mge;var wF=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Lge=Uv(wF),Oge=function(){function e(){}return e.prototype.getLineStyle=function(t){return Lge(this,t)},e}(),SF=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],kge=Uv(SF),Rge=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return kge(this,t,r)},e}(),$h=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Nn(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,o=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(o,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(Gr(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Rr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();DA($h);fme($h);as($h,Oge);as($h,Rge);as($h,gme);as($h,Dge);const yo=$h;var zge=Math.round(Math.random()*10);function Ib(e){return[e||"",zge++].join("_")}function $ge(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=Ds(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var o=Ds(r).main;e.hasSubTypes(r)&&t[o]&&(i=t[o](n))}return i}}function Bge(e,t){e.topologicalTravel=function(o,s,a,h){if(!o.length)return;var d=r(s),m=d.graph,v=d.noEntryList,g={};for(Me(o,function(D){g[D]=!0});v.length;){var _=v.pop(),T=m[_],P=!!g[_];P&&(a.call(h,_,T.originalDeps.slice()),delete g[_]),Me(T.successor,P?I:M)}Me(g,function(){var D="";throw new Error(D)});function M(D){m[D].entryCount--,m[D].entryCount===0&&v.push(D)}function I(D){g[D]=!0,M(D)}};function r(o){var s={},a=[];return Me(o,function(h){var d=n(s,h),m=d.originalDeps=t(h),v=i(m,o);d.entryCount=v.length,d.entryCount===0&&a.push(h),Me(v,function(g){vn(d.predecessor,g)<0&&d.predecessor.push(g);var _=n(s,g);vn(_.successor,g)<0&&_.successor.push(h)})}),{graph:s,noEntryList:a}}function n(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function i(o,s){var a=[];return Me(o,function(h){vn(s,h)>=0&&a.push(h)}),a}}const Fge={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Nge={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var _1="ZH",XA="EN",Wv=XA,_0={},ZA={},TF=Rr.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(_1)>-1?_1:Wv}():Wv;function CF(e,t){e=e.toUpperCase(),ZA[e]=new yo(t),_0[e]=t}function Vge(e){if(lr(e)){var t=_0[e.toUpperCase()]||{};return e===_1||e===XA?Gr(t):Nn(Gr(t),Gr(_0[Wv]),!1)}else return Nn(Gr(e),Gr(_0[Wv]),!1)}function Uge(e){return ZA[e]}function Hge(){return ZA[Wv]}CF(XA,Fge);CF(_1,Nge);var KA=1e3,YA=KA*60,sv=YA*60,xa=sv*24,$3=xa*365,km={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},E_="{yyyy}-{MM}-{dd}",B3={year:"{yyyy}",month:"{yyyy}-{MM}",day:E_,hour:E_+" "+km.hour,minute:E_+" "+km.minute,second:E_+" "+km.second,millisecond:km.none},O2=["year","month","day","hour","minute","second","millisecond"],EF=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function jc(e,t){return e+="","0000".substr(0,t-e.length)+e}function ld(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function jge(e){return e===ld(e)}function Gge(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Mb(e,t,r,n){var i=Il(e),o=i[JA(r)](),s=i[ud(r)]()+1,a=Math.floor((s-1)/3)+1,h=i[Db(r)](),d=i["get"+(r?"UTC":"")+"Day"](),m=i[qv(r)](),v=(m-1)%12+1,g=i[Lb(r)](),_=i[Ob(r)](),T=i[kb(r)](),P=n instanceof yo?n:Uge(n||TF)||Hge(),M=P.getModel("time"),I=M.get("month"),D=M.get("monthAbbr"),O=M.get("dayOfWeek"),z=M.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,a+"").replace(/{MMMM}/g,I[s-1]).replace(/{MMM}/g,D[s-1]).replace(/{MM}/g,jc(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,jc(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,O[d]).replace(/{ee}/g,z[d]).replace(/{e}/g,d+"").replace(/{HH}/g,jc(m,2)).replace(/{H}/g,m+"").replace(/{hh}/g,jc(v+"",2)).replace(/{h}/g,v+"").replace(/{mm}/g,jc(g,2)).replace(/{m}/g,g+"").replace(/{ss}/g,jc(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,jc(T,3)).replace(/{S}/g,T+"")}function Wge(e,t,r,n,i){var o=null;if(lr(r))o=r;else if(wr(r))o=r(e.value,t,{level:e.level});else{var s=Dt({},km);if(e.level>0)for(var a=0;a<O2.length;++a)s[O2[a]]="{primary|"+s[O2[a]]+"}";var h=r?r.inherit===!1?r:Dn(r,s):s,d=AF(e.value,i);if(h[d])o=h[d];else if(h.inherit){for(var m=EF.indexOf(d),a=m-1;a>=0;--a)if(h[d]){o=h[d];break}o=o||s.none}if(Zt(o)){var v=e.level==null?0:e.level>=0?e.level:o.length+e.level;v=Math.min(v,o.length-1),o=o[v]}}return Mb(new Date(e.value),o,i,n)}function AF(e,t){var r=Il(e),n=r[ud(t)]()+1,i=r[Db(t)](),o=r[qv(t)](),s=r[Lb(t)](),a=r[Ob(t)](),h=r[kb(t)](),d=h===0,m=d&&a===0,v=m&&s===0,g=v&&o===0,_=g&&i===1,T=_&&n===1;return T?"year":_?"month":g?"day":v?"hour":m?"minute":d?"second":"millisecond"}function F3(e,t,r){var n=Zn(e)?Il(e):e;switch(t=t||AF(e,r),t){case"year":return n[JA(r)]();case"half-year":return n[ud(r)]()>=6?1:0;case"quarter":return Math.floor((n[ud(r)]()+1)/4);case"month":return n[ud(r)]();case"day":return n[Db(r)]();case"half-day":return n[qv(r)]()/24;case"hour":return n[qv(r)]();case"minute":return n[Lb(r)]();case"second":return n[Ob(r)]();case"millisecond":return n[kb(r)]()}}function JA(e){return e?"getUTCFullYear":"getFullYear"}function ud(e){return e?"getUTCMonth":"getMonth"}function Db(e){return e?"getUTCDate":"getDate"}function qv(e){return e?"getUTCHours":"getHours"}function Lb(e){return e?"getUTCMinutes":"getMinutes"}function Ob(e){return e?"getUTCSeconds":"getSeconds"}function kb(e){return e?"getUTCMilliseconds":"getMilliseconds"}function qge(e){return e?"setUTCFullYear":"setFullYear"}function PF(e){return e?"setUTCMonth":"setMonth"}function IF(e){return e?"setUTCDate":"setDate"}function MF(e){return e?"setUTCHours":"setHours"}function DF(e){return e?"setUTCMinutes":"setMinutes"}function LF(e){return e?"setUTCSeconds":"setSeconds"}function OF(e){return e?"setUTCMilliseconds":"setMilliseconds"}function kF(e){if(!Wpe(e))return lr(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function RF(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var QA=O9;function jT(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(m){return m&&Ms(m)?m:"-"}function o(m){return!!(m!=null&&!isNaN(m)&&isFinite(m))}var s=t==="time",a=e instanceof Date;if(s||a){var h=s?Il(e):e;if(isNaN(+h)){if(a)return"-"}else return Mb(h,n,r)}if(t==="ordinal")return mT(e)?i(e):Zn(e)&&o(e)?e+"":"-";var d=f1(e);return o(d)?kF(d):mT(e)?i(e):typeof e=="boolean"?e+"":"-"}var N3=["a","b","c","d","e","f","g"],k2=function(e,t){return"{"+e+(t??"")+"}"};function zF(e,t,r){Zt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var s=N3[o];e=e.replace(k2(s),k2(s,0))}for(var a=0;a<n;a++)for(var h=0;h<i.length;h++){var d=t[a][i[h]];e=e.replace(k2(N3[h],a),r?Yo(d):d)}return e}function Xge(e,t){var r=lr(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var o=r.renderMode||"html";if(!n)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Yo(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Yo(n)+";"+(t||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Xv(e,t){return t=t||"transparent",lr(e)?e:pr(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function V3(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var b0=Me,Zge=["left","right","top","bottom","width","height"],A_=[["width","left","right"],["height","top","bottom"]];function $F(e,t,r,n,i){var o=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var a=0;t.eachChild(function(h,d){var m=h.getBoundingRect(),v=t.childAt(d+1),g=v&&v.getBoundingRect(),_,T;if(e==="horizontal"){var P=m.width+(g?-g.x+m.x:0);_=o+P,_>n||h.newline?(o=0,_=P,s+=a+r,a=m.height):a=Math.max(a,m.height)}else{var M=m.height+(g?-g.y+m.y:0);T=s+M,T>i||h.newline?(o+=a+r,s=0,T=M,a=m.width):a=Math.max(a,m.width)}h.newline||(h.x=o,h.y=s,h.markRedraw(),e==="horizontal"?o=_+r:s=T+r)})}Ai($F,"vertical");Ai($F,"horizontal");function eP(e,t,r){r=QA(r||0);var n=t.width,i=t.height,o=Ri(e.left,n),s=Ri(e.top,i),a=Ri(e.right,n),h=Ri(e.bottom,i),d=Ri(e.width,n),m=Ri(e.height,i),v=r[2]+r[0],g=r[1]+r[3],_=e.aspect;switch(isNaN(d)&&(d=n-a-g-o),isNaN(m)&&(m=i-h-v-s),_!=null&&(isNaN(d)&&isNaN(m)&&(_>n/i?d=n*.8:m=i*.8),isNaN(d)&&(d=_*m),isNaN(m)&&(m=d/_)),isNaN(o)&&(o=n-a-d-g),isNaN(s)&&(s=i-h-m-v),e.left||e.right){case"center":o=n/2-d/2-r[3];break;case"right":o=n-d-g;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-m/2-r[0];break;case"bottom":s=i-m-v;break}o=o||0,s=s||0,isNaN(d)&&(d=n-g-o-(a||0)),isNaN(m)&&(m=i-v-s-(h||0));var T=new gn(o+r[3],s+r[0],d,m);return T.margin=r,T}function Zv(e){var t=e.layoutMode||e.constructor.layoutMode;return pr(t)?t:t?{type:t}:null}function Kv(e,t,r){var n=r&&r.ignoreSize;!Zt(n)&&(n=[n,n]);var i=s(A_[0],0),o=s(A_[1],1);d(A_[0],e,i),d(A_[1],e,o);function s(m,v){var g={},_=0,T={},P=0,M=2;if(b0(m,function(O){T[O]=e[O]}),b0(m,function(O){a(t,O)&&(g[O]=T[O]=t[O]),h(g,O)&&_++,h(T,O)&&P++}),n[v])return h(t,m[1])?T[m[2]]=null:h(t,m[2])&&(T[m[1]]=null),T;if(P===M||!_)return T;if(_>=M)return g;for(var I=0;I<m.length;I++){var D=m[I];if(!a(g,D)&&a(e,D)){g[D]=e[D];break}}return g}function a(m,v){return m.hasOwnProperty(v)}function h(m,v){return m[v]!=null&&m[v]!=="auto"}function d(m,v,g){b0(m,function(_){v[_]=g[_]})}}function tP(e){return Kge({},e)}function Kge(e,t){return t&&e&&b0(Zge,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var Yge=ni(),Xd=function(e){Ut(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.uid=Ib("ec_cpt_model"),o}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Zv(this),o=i?tP(r):{},s=n.getTheme();Nn(r,s.get(this.mainType)),Nn(r,this.getDefaultOption()),i&&Kv(r,o,i)},t.prototype.mergeOption=function(r,n){Nn(this.option,r,!0);var i=Zv(this);i&&Kv(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!ume(r))return r.defaultOption;var n=Yge(this);if(!n.defaultOption){for(var i=[],o=r;o;){var s=o.prototype.defaultOption;s&&i.push(s),o=o.superClass}for(var a={},h=i.length-1;h>=0;h--)a=Nn(a,i[h],!0);n.defaultOption=a}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",o=r+"Id";return xg(this.ecModel,r,{index:this.get(i,!0),id:this.get(o,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(yo);T8(Xd,yo);wb(Xd);$ge(Xd);Bge(Xd,Jge);function Jge(e){var t=[];return Me(Xd.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=ur(t,function(r){return Ds(r).main}),e!=="dataset"&&vn(t,"dataset")<=0&&t.unshift("dataset"),t}const Bn=Xd;var BF="";typeof navigator<"u"&&(BF=navigator.platform||"");var Df="rgba(0, 0, 0, 0.2)";const Qge={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Df,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Df,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Df,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Df,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Df,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Df,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:BF.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var FF=Br(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Ma="original",Bo="arrayRows",Vs="objectRows",Ul="keyedColumns",Nu="typedArray",NF="unknown",Tl="column",Zd="row",Xo={Must:1,Might:2,Not:3},VF=ni();function eye(e){VF(e).datasetMap=Br()}function tye(e,t,r){var n={},i=UF(t);if(!i||!e)return n;var o=[],s=[],a=t.ecModel,h=VF(a).datasetMap,d=i.uid+"_"+r.seriesLayoutBy,m,v;e=e.slice(),Me(e,function(P,M){var I=pr(P)?P:e[M]={name:P};I.type==="ordinal"&&m==null&&(m=M,v=T(I)),n[I.name]=[]});var g=h.get(d)||h.set(d,{categoryWayDim:v,valueWayDim:0});Me(e,function(P,M){var I=P.name,D=T(P);if(m==null){var O=g.valueWayDim;_(n[I],O,D),_(s,O,D),g.valueWayDim+=D}else if(m===M)_(n[I],0,D),_(o,0,D);else{var O=g.categoryWayDim;_(n[I],O,D),_(s,O,D),g.categoryWayDim+=D}});function _(P,M,I){for(var D=0;D<I;D++)P.push(M+D)}function T(P){var M=P.dimsDef;return M?M.length:1}return o.length&&(n.itemName=o),s.length&&(n.seriesName=s),n}function UF(e){var t=e.get("data",!0);if(!t)return xg(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Ya).models[0]}function rye(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:xg(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Ya).models}function HF(e,t){return nye(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function nye(e,t,r,n,i,o){var s,a=5;if(ea(e))return Xo.Not;var h,d;if(n){var m=n[o];pr(m)?(h=m.name,d=m.type):lr(m)&&(h=m)}if(d!=null)return d==="ordinal"?Xo.Must:Xo.Not;if(t===Bo){var v=e;if(r===Zd){for(var g=v[o],_=0;_<(g||[]).length&&_<a;_++)if((s=z(g[i+_]))!=null)return s}else for(var _=0;_<v.length&&_<a;_++){var T=v[i+_];if(T&&(s=z(T[o]))!=null)return s}}else if(t===Vs){var P=e;if(!h)return Xo.Not;for(var _=0;_<P.length&&_<a;_++){var M=P[_];if(M&&(s=z(M[h]))!=null)return s}}else if(t===Ul){var I=e;if(!h)return Xo.Not;var g=I[h];if(!g||ea(g))return Xo.Not;for(var _=0;_<g.length&&_<a;_++)if((s=z(g[_]))!=null)return s}else if(t===Ma)for(var D=e,_=0;_<D.length&&_<a;_++){var M=D[_],O=_g(M);if(!Zt(O))return Xo.Not;if((s=z(O[o]))!=null)return s}function z(F){var N=lr(F);if(F!=null&&isFinite(F)&&F!=="")return N?Xo.Might:Xo.Not;if(N&&F!=="-")return Xo.Must}return Xo.Not}var iye=Br();function oye(e,t,r){var n=iye.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var U3=ni();ni();var rP=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=bo(this.get("color",!0)),o=this.get("colorLayer",!0);return sye(this,U3,i,o,t,r,n)},e.prototype.clearColorPalette=function(){lye(this,U3)},e}();function aye(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function sye(e,t,r,n,i,o,s){o=o||e;var a=t(o),h=a.paletteIdx||0,d=a.paletteNameMap=a.paletteNameMap||{};if(d.hasOwnProperty(i))return d[i];var m=s==null||!n?r:aye(n,s);if(m=m||r,!(!m||!m.length)){var v=m[h];return i&&(d[i]=v),a.paletteIdx=(h+1)%m.length,v}}function lye(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var P_,pm,H3,j3="\0_ec_inner",uye=1,jF=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,o,s,a){o=o||{},this.option=null,this._theme=new yo(o),this._locale=new yo(s),this._optionManager=a},t.prototype.setOption=function(r,n,i){var o=q3(n);this._optionManager.setOption(r,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(r,n){return this._resetOption(r,q3(n))},t.prototype._resetOption=function(r,n){var i=!1,o=this._optionManager;if(!r||r==="recreate"){var s=o.mountOption(r==="recreate");!this.option||r==="recreate"?H3(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var a=o.getTimelineOption(this);a&&(i=!0,this._mergeOption(a,n))}if(!r||r==="recreate"||r==="media"){var h=o.getMediaOption(this);h.length&&Me(h,function(d){i=!0,this._mergeOption(d,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,o=this._componentsMap,s=this._componentsCount,a=[],h=Br(),d=n&&n.replaceMergeMainTypeMap;eye(this),Me(r,function(v,g){v!=null&&(Bn.hasClass(g)?g&&(a.push(g),h.set(g,!0)):i[g]=i[g]==null?Gr(v):Nn(i[g],v,!0))}),d&&d.each(function(v,g){Bn.hasClass(g)&&!h.get(g)&&(a.push(g),h.set(g,!0))}),Bn.topologicalTravel(a,Bn.getAllClassMainTypes(),m,this);function m(v){var g=oye(this,v,bo(r[v])),_=o.get(v),T=_?d&&d.get(v)?"replaceMerge":"normalMerge":"replaceAll",P=Zpe(_,g,T);rme(P,v,Bn),i[v]=null,o.set(v,null),s.set(v,0);var M=[],I=[],D=0,O;Me(P,function(z,F){var N=z.existing,H=z.newOption;if(!H)N&&(N.mergeOption({},this),N.optionUpdated({},!1));else{var U=v==="series",J=Bn.getClass(v,z.keyInfo.subType,!U);if(!J)return;if(v==="tooltip"){if(O)return;O=!0}if(N&&N.constructor===J)N.name=z.keyInfo.name,N.mergeOption(H,this),N.optionUpdated(H,!1);else{var K=Dt({componentIndex:F},z.keyInfo);N=new J(H,this,this,K),Dt(N,K),z.brandNew&&(N.__requireNewView=!0),N.init(H,this,this),N.optionUpdated(null,!0)}}N?(M.push(N.option),I.push(N),D++):(M.push(void 0),I.push(void 0))},this),i[v]=M,o.set(v,I),s.set(v,D),v==="series"&&P_(this)}this._seriesIndices||P_(this)},t.prototype.getOption=function(){var r=Gr(this.option);return Me(r,function(n,i){if(Bn.hasClass(i)){for(var o=bo(n),s=o.length,a=!1,h=s-1;h>=0;h--)o[h]&&!Vv(o[h])?a=!0:(o[h]=null,!a&&s--);o.length=s,r[i]=o}}),delete r[j3],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var o=i[n||0];if(o)return o;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,o=r.id,s=r.name,a=this._componentsMap.get(n);if(!a||!a.length)return[];var h;return i!=null?(h=[],Me(bo(i),function(d){a[d]&&h.push(a[d])})):o!=null?h=G3("id",o,a):s!=null?h=G3("name",s,a):h=Ji(a,function(d){return!!d}),W3(h,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,o=a(n),s=o?this.queryComponents(o):Ji(this._componentsMap.get(i),function(d){return!!d});return h(W3(s,r));function a(d){var m=i+"Index",v=i+"Id",g=i+"Name";return d&&(d[m]!=null||d[v]!=null||d[g]!=null)?{mainType:i,index:d[m],id:d[v],name:d[g]}:null}function h(d){return r.filter?Ji(d,r.filter):d}},t.prototype.eachComponent=function(r,n,i){var o=this._componentsMap;if(wr(r)){var s=n,a=r;o.each(function(v,g){for(var _=0;v&&_<v.length;_++){var T=v[_];T&&a.call(s,g,T,T.componentIndex)}})}else for(var h=lr(r)?o.get(r):pr(r)?this.findComponents(r):null,d=0;h&&d<h.length;d++){var m=h[d];m&&n.call(i,m,m.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=ks(r,null);return Ji(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return Ji(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return Ji(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){pm(this),Me(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];r.call(n,o,i)},this)},t.prototype.eachRawSeries=function(r,n){Me(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){pm(this),Me(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===r&&n.call(i,s,o)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return Me(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return pm(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){pm(this);var i=[];Me(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];r.call(n,s,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=Br(i)},t.prototype.restoreData=function(r){P_(this);var n=this._componentsMap,i=[];n.each(function(o,s){Bn.hasClass(s)&&i.push(s)}),Bn.topologicalTravel(i,Bn.getAllClassMainTypes(),function(o){Me(n.get(o),function(s){s&&(o!=="series"||!cye(s,r))&&s.restoreData()})})},t.internalField=function(){P_=function(r){var n=r._seriesIndices=[];Me(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=Br(n)},pm=function(r){},H3=function(r,n){r.option={},r.option[j3]=uye,r._componentsMap=Br({series:[]}),r._componentsCount=Br();var i=n.aria;pr(i)&&i.enabled==null&&(i.enabled=!0),hye(n,r._theme.option),Nn(n,Qge,!1),r._mergeOption(n,null)}}(),t}(yo);function cye(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function hye(e,t){var r=e.color&&!e.colorLayer;Me(t,function(n,i){i==="colorLayer"&&r||Bn.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Nn(e[i],n,!1):Gr(n):e[i]==null&&(e[i]=n))})}function G3(e,t,r){if(Zt(t)){var n=Br();return Me(t,function(o){if(o!=null){var s=ks(o,null);s!=null&&n.set(o,!0)}}),Ji(r,function(o){return o&&n.get(o[e])})}else{var i=ks(t,null);return Ji(r,function(o){return o&&i!=null&&o[e]===i})}}function W3(e,t){return t.hasOwnProperty("subType")?Ji(e,function(r){return r&&r.subType===t.subType}):e}function q3(e){var t=Br();return e&&Me(bo(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}as(jF,rP);const GF=jF;var fye=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],dye=function(){function e(t){Me(fye,function(r){this[r]=Xn(t[r],t)},this)}return e}();const WF=dye;var R2={},pye=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];Me(R2,function(i,o){var s=i.create(t,r);n=n.concat(s||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){Me(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){R2[t]=r},e.get=function(t){return R2[t]},e}();const nP=pye;var mye=/^(min|max)?(.+)$/,vye=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(Me(bo(t.series),function(s){s&&s.data&&ea(s.data)&&vT(s.data)}),Me(bo(t.dataset),function(s){s&&s.source&&ea(s.source)&&vT(s.source)})),t=Gr(t);var i=this._optionBackup,o=gye(t,r,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],Gr(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=Gr(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,s=[],a=[];if(!i.length&&!o)return a;for(var h=0,d=i.length;h<d;h++)yye(i[h].query,r,n)&&s.push(h);return!s.length&&o&&(s=[-1]),s.length&&!bye(s,this._currentMediaIndices)&&(a=ur(s,function(m){return Gr(m===-1?o.option:i[m].option)})),this._currentMediaIndices=s,a},e}();function gye(e,t,r){var n=[],i,o,s=e.baseOption,a=e.timeline,h=e.options,d=e.media,m=!!e.media,v=!!(h||a||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=a)):((v||m)&&(e.options=e.media=null),o=e),m&&Zt(d)&&Me(d,function(_){_&&_.option&&(_.query?n.push(_):i||(i=_))}),g(o),Me(h,function(_){return g(_)}),Me(n,function(_){return g(_.option)});function g(_){Me(t,function(T){T(_,r)})}return{baseOption:o,timelineOptions:h||[],mediaDefault:i,mediaList:n}}function yye(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return Me(e,function(o,s){var a=s.match(mye);if(!(!a||!a[1]||!a[2])){var h=a[1],d=a[2].toLowerCase();_ye(n[d],o,h)||(i=!1)}}),i}function _ye(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function bye(e,t){return e.join(",")===t.join(",")}const xye=vye;var Na=Me,Yv=pr,X3=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function z2(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=X3.length;r<n;r++){var i=X3[r],o=t.normal,s=t.emphasis;o&&o[i]&&(e[i]=e[i]||{},e[i].normal?Nn(e[i].normal,o[i]):e[i].normal=o[i],o[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?Nn(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function Ki(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,Dn(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Rm(e){Ki(e,"itemStyle"),Ki(e,"lineStyle"),Ki(e,"areaStyle"),Ki(e,"label"),Ki(e,"labelLine"),Ki(e,"upperLabel"),Ki(e,"edgeLabel")}function ti(e,t){var r=Yv(e)&&e[t],n=Yv(r)&&r.textStyle;if(n)for(var i=0,o=ZO.length;i<o;i++){var s=ZO[i];n.hasOwnProperty(s)&&(r[s]=n[s])}}function va(e){e&&(Rm(e),ti(e,"label"),e.emphasis&&ti(e.emphasis,"label"))}function wye(e){if(Yv(e)){z2(e),Rm(e),ti(e,"label"),ti(e,"upperLabel"),ti(e,"edgeLabel"),e.emphasis&&(ti(e.emphasis,"label"),ti(e.emphasis,"upperLabel"),ti(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(z2(t),va(t));var r=e.markLine;r&&(z2(r),va(r));var n=e.markArea;n&&va(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var o=e.links||e.edges;if(o&&!ea(o))for(var s=0;s<o.length;s++)va(o[s]);Me(e.categories,function(d){Rm(d)})}if(i&&!ea(i))for(var s=0;s<i.length;s++)va(i[s]);if(t=e.markPoint,t&&t.data)for(var a=t.data,s=0;s<a.length;s++)va(a[s]);if(r=e.markLine,r&&r.data)for(var h=r.data,s=0;s<h.length;s++)Zt(h[s])?(va(h[s][0]),va(h[s][1])):va(h[s]);e.type==="gauge"?(ti(e,"axisLabel"),ti(e,"title"),ti(e,"detail")):e.type==="treemap"?(Ki(e.breadcrumb,"itemStyle"),Me(e.levels,function(d){Rm(d)})):e.type==="tree"&&Rm(e.leaves)}}function hl(e){return Zt(e)?e:e?[e]:[]}function Z3(e){return(Zt(e)?e[0]:e)||{}}function Sye(e,t){Na(hl(e.series),function(n){Yv(n)&&wye(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Na(r,function(n){Na(hl(e[n]),function(i){i&&(ti(i,"axisLabel"),ti(i.axisPointer,"label"))})}),Na(hl(e.parallel),function(n){var i=n&&n.parallelAxisDefault;ti(i,"axisLabel"),ti(i&&i.axisPointer,"label")}),Na(hl(e.calendar),function(n){Ki(n,"itemStyle"),ti(n,"dayLabel"),ti(n,"monthLabel"),ti(n,"yearLabel")}),Na(hl(e.radar),function(n){ti(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Na(hl(e.geo),function(n){Yv(n)&&(va(n),Na(hl(n.regions),function(i){va(i)}))}),Na(hl(e.timeline),function(n){va(n),Ki(n,"label"),Ki(n,"itemStyle"),Ki(n,"controlStyle",!0);var i=n.data;Zt(i)&&Me(i,function(o){pr(o)&&(Ki(o,"label"),Ki(o,"itemStyle"))})}),Na(hl(e.toolbox),function(n){Ki(n,"iconStyle"),Na(n.feature,function(i){Ki(i,"iconStyle")})}),ti(Z3(e.axisPointer),"label"),ti(Z3(e.tooltip).axisPointer,"label")}function Tye(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function Cye(e,t,r,n){for(var i=t.split(","),o=e,s,a=0;a<i.length-1;a++)s=i[a],o[s]==null&&(o[s]={}),o=o[s];(n||o[i[a]]==null)&&(o[i[a]]=r)}function K3(e){e&&Me(Eye,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Eye=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Aye=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],$2=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function mm(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<$2.length;r++){var n=$2[r][1],i=$2[r][0];t[n]!=null&&(t[i]=t[n])}}function Y3(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function J3(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function Pye(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function qF(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&qF(e[r].children,t)}function XF(e,t){Sye(e,t),e.series=bo(e.series),Me(e.series,function(r){if(pr(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),Y3(r.label);var i=r.data;if(i&&!ea(i))for(var o=0;o<i.length;o++)Y3(i[o]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var s=Tye(r,"pointer.color");s!=null&&Cye(r,"itemStyle.color",s)}else if(n==="bar"){mm(r),mm(r.backgroundStyle),mm(r.emphasis);var i=r.data;if(i&&!ea(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(mm(i[o]),mm(i[o]&&i[o].emphasis))}else if(n==="sunburst"){var a=r.highlightPolicy;a&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=a)),J3(r),qF(r.data,J3)}else n==="graph"||n==="sankey"?Pye(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&Dn(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),K3(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Me(Aye,function(r){var n=e[r];n&&(Zt(n)||(n=[n]),Me(n,function(i){K3(i)}))})}function Iye(e){var t=Br();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),o=r.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(Mye)}function Mye(e){Me(e,function(t,r){var n=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],s=t.data,a=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(d,m,v){var g=s.get(t.stackedDimension,v);if(isNaN(g))return i;var _,T;a?T=s.getRawIndex(v):_=s.get(t.stackedByDimension,v);for(var P=NaN,M=r-1;M>=0;M--){var I=e[M];if(a||(T=I.data.rawIndexOf(I.stackedByDimension,_)),T>=0){var D=I.data.getByRawIndex(I.stackResultDimension,T);if(h==="all"||h==="positive"&&D>0||h==="negative"&&D<0||h==="samesign"&&g>=0&&D>0||h==="samesign"&&g<=0&&D<0){g=Hpe(g,D),P=D;break}}}return n[0]=g,n[1]=P,n})})}var Rb=function(){function e(t){this.data=t.data||(t.sourceFormat===Ul?{}:[]),this.sourceFormat=t.sourceFormat||NF,this.seriesLayoutBy=t.seriesLayoutBy||Tl,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&HF(this,n)===Xo.Must&&(i.type="ordinal")}}return e}();function iP(e){return e instanceof Rb}function GT(e,t,r){r=r||ZF(e);var n=t.seriesLayoutBy,i=Lye(e,r,n,t.sourceHeader,t.dimensions),o=new Rb({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Gr(t)});return o}function oP(e){return new Rb({data:e,sourceFormat:ea(e)?Nu:Ma})}function Dye(e){return new Rb({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Gr(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function ZF(e){var t=NF;if(ea(e))t=Nu;else if(Zt(e)){e.length===0&&(t=Bo);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(Zt(i)){t=Bo;break}else if(pr(i)){t=Vs;break}}}}else if(pr(e)){for(var o in e)if(Md(e,o)&&$o(e[o])){t=Ul;break}}return t}function Lye(e,t,r,n,i){var o,s;if(!e)return{dimensionsDefine:Q3(i),startIndex:s,dimensionsDetectedCount:o};if(t===Bo){var a=e;n==="auto"||n==null?ek(function(d){d!=null&&d!=="-"&&(lr(d)?s==null&&(s=1):s=0)},r,a,10):s=Zn(n)?n:n?1:0,!i&&s===1&&(i=[],ek(function(d,m){i[m]=d!=null?d+"":""},r,a,1/0)),o=i?i.length:r===Zd?a.length:a[0]?a[0].length:null}else if(t===Vs)i||(i=Oye(e));else if(t===Ul)i||(i=[],Me(e,function(d,m){i.push(m)}));else if(t===Ma){var h=_g(e[0]);o=Zt(h)&&h.length||1}return{startIndex:s,dimensionsDefine:Q3(i),dimensionsDetectedCount:o}}function Oye(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r){var n=[];return Me(r,function(i,o){n.push(o)}),n}}function Q3(e){if(e){var t=Br();return ur(e,function(r,n){r=pr(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function ek(e,t,r,n){if(t===Zd)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var o=r[0]||[],i=0;i<o.length&&i<n;i++)e(o[i],i)}function KF(e){var t=e.sourceFormat;return t===Vs||t===Ul}var Gc,Wc,qc,tk,rk,YF=function(){function e(t,r){var n=iP(t)?t:oP(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Nu&&(this._offset=0,this._dimSize=r,this._data=i),rk(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;rk=function(s,a,h){var d=h.sourceFormat,m=h.seriesLayoutBy,v=h.startIndex,g=h.dimensionsDefine,_=tk[aP(d,m)];if(Dt(s,_),d===Nu)s.getItem=r,s.count=i,s.fillStorage=n;else{var T=JF(d,m);s.getItem=Xn(T,null,a,v,g);var P=QF(d,m);s.count=Xn(P,null,a,v,g)}};var r=function(s,a){s=s-this._offset,a=a||[];for(var h=this._data,d=this._dimSize,m=d*s,v=0;v<d;v++)a[v]=h[m+v];return a},n=function(s,a,h,d){for(var m=this._data,v=this._dimSize,g=0;g<v;g++){for(var _=d[g],T=_[0]==null?1/0:_[0],P=_[1]==null?-1/0:_[1],M=a-s,I=h[g],D=0;D<M;D++){var O=m[D*v+g];I[s+D]=O,O<T&&(T=O),O>P&&(P=O)}_[0]=T,_[1]=P}},i=function(){return this._data?this._data.length/this._dimSize:0};tk=(t={},t[Bo+"_"+Tl]={pure:!0,appendData:o},t[Bo+"_"+Zd]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Vs]={pure:!0,appendData:o},t[Ul]={pure:!0,appendData:function(s){var a=this._data;Me(s,function(h,d){for(var m=a[d]||(a[d]=[]),v=0;v<(h||[]).length;v++)m.push(h[v])})}},t[Ma]={appendData:o},t[Nu]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(s){for(var a=0;a<s.length;a++)this._data.push(s[a])}}(),e}(),nk=function(e,t,r,n){return e[n]},kye=(Gc={},Gc[Bo+"_"+Tl]=function(e,t,r,n){return e[n+t]},Gc[Bo+"_"+Zd]=function(e,t,r,n,i){n+=t;for(var o=i||[],s=e,a=0;a<s.length;a++){var h=s[a];o[a]=h?h[n]:null}return o},Gc[Vs]=nk,Gc[Ul]=function(e,t,r,n,i){for(var o=i||[],s=0;s<r.length;s++){var a=r[s].name,h=e[a];o[s]=h?h[n]:null}return o},Gc[Ma]=nk,Gc);function JF(e,t){var r=kye[aP(e,t)];return r}var ik=function(e,t,r){return e.length},Rye=(Wc={},Wc[Bo+"_"+Tl]=function(e,t,r){return Math.max(0,e.length-t)},Wc[Bo+"_"+Zd]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},Wc[Vs]=ik,Wc[Ul]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},Wc[Ma]=ik,Wc);function QF(e,t){var r=Rye[aP(e,t)];return r}var B2=function(e,t,r){return e[t]},zye=(qc={},qc[Bo]=B2,qc[Vs]=function(e,t,r){return e[r]},qc[Ul]=B2,qc[Ma]=function(e,t,r){var n=_g(e);return n instanceof Array?n[t]:n},qc[Nu]=B2,qc);function eN(e){var t=zye[e];return t}function aP(e,t){return e===Bo?e+"_"+t:e}function Ld(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),o=i.getSource().sourceFormat;if(r!=null){var s=e.getDimensionIndex(r),a=i.getDimensionProperty(s);return eN(o)(n,s,a)}else{var h=n;return o===Ma&&(h=_g(n)),h}}}}var $ye=/\{@(.+?)\}/g,tN=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),o=n.getRawIndex(t),s=n.getName(t),a=n.getRawDataItem(t),h=n.getItemVisual(t,"style"),d=h&&h[n.getItemVisual(t,"drawType")||"fill"],m=h&&h.stroke,v=this.mainType,g=v==="series",_=n.userOutput&&n.userOutput.get();return{componentType:v,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:s,dataIndex:o,data:a,dataType:r,value:i,color:d,borderColor:m,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,o,s){r=r||"normal";var a=this.getData(n),h=this.getDataParams(t,n);if(s&&(h.value=s.interpolatedValue),i!=null&&Zt(h.value)&&(h.value=h.value[i]),!o){var d=a.getItemModel(t);o=d.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(wr(o))return h.status=r,h.dimensionIndex=i,o(h);if(lr(o)){var m=zF(o,h);return m.replace($ye,function(v,g){var _=g.length,T=g;T.charAt(0)==="["&&T.charAt(_-1)==="]"&&(T=+T.slice(1,_-1));var P=Ld(a,t,T);if(s&&Zt(s.interpolatedValue)){var M=a.getDimensionIndex(T);M>=0&&(P=s.interpolatedValue[M])}return P!=null?P+"":""})}},e.prototype.getRawValue=function(t,r){return Ld(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function ok(e){var t,r;return pr(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function lv(e){return new Bye(e)}var Bye=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!n&&(o=this._plan(this.context));var s=m(this._modBy),a=this._modDataCount||0,h=m(t&&t.modBy),d=t&&t.modDataCount||0;(s!==h||a!==d)&&(o="reset");function m(D){return!(D>=1)&&(D=1),D}var v;(this._dirty||o==="reset")&&(this._dirty=!1,v=this._doReset(n)),this._modBy=h,this._modDataCount=d;var g=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,T=Math.min(g!=null?this._dueIndex+g:1/0,this._dueEnd);if(!n&&(v||_<T)){var P=this._progress;if(Zt(P))for(var M=0;M<P.length;M++)this._doProgress(P[M],_,T,h,d);else this._doProgress(P,_,T,h,d)}this._dueIndex=T;var I=this._settedOutputEnd!=null?this._settedOutputEnd:T;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,o){ak.reset(r,n,i,o),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:ak.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Zt(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),ak=function(){var e,t,r,n,i,o={reset:function(h,d,m,v){t=h,e=d,r=m,n=v,i=Math.ceil(n/r),o.next=r>1&&n>0?a:s}};return o;function s(){return t<e?t++:null}function a(){var h=t%i*r+Math.ceil(t/i),d=t>=e?null:h<n?h:t;return t++,d}}();function cd(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!Zn(e)&&e!=null&&e!=="-"&&(e=+Il(e)),e==null||e===""?NaN:+e)}Br({number:function(e){return parseFloat(e)},time:function(e){return+Il(e)},trim:function(e){return lr(e)?Ms(e):e}});var Fye=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=Zn(t)?t:f1(t),i=Zn(r)?r:f1(r),o=isNaN(n),s=isNaN(i);if(o&&(n=this._incomparable),s&&(i=this._incomparable),o&&s){var a=lr(t),h=lr(r);a&&(n=h?t:0),h&&(i=a?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),Nye=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return cd(t,r)},e}();function Vye(e,t){var r=new Nye,n=e.data,i=r.sourceFormat=e.sourceFormat,o=e.startIndex,s="";e.seriesLayoutBy!==Tl&&Po(s);var a=[],h={},d=e.dimensionsDefine;if(d)Me(d,function(P,M){var I=P.name,D={index:M,name:I,displayName:P.displayName};if(a.push(D),I!=null){var O="";Md(h,I)&&Po(O),h[I]=D}});else for(var m=0;m<e.dimensionsDetectedCount;m++)a.push({index:m});var v=JF(i,Tl);t.__isBuiltIn&&(r.getRawDataItem=function(P){return v(n,o,a,P)},r.getRawData=Xn(Uye,null,e)),r.cloneRawData=Xn(Hye,null,e);var g=QF(i,Tl);r.count=Xn(g,null,n,o,a);var _=eN(i);r.retrieveValue=function(P,M){var I=v(n,o,a,P);return T(I,M)};var T=r.retrieveValueFromItem=function(P,M){if(P!=null){var I=a[M];if(I)return _(P,M,I.name)}};return r.getDimensionInfo=Xn(jye,null,a,h),r.cloneAllDimensionInfo=Xn(Gye,null,a),r}function Uye(e){var t=e.sourceFormat;if(!sP(t)){var r="";Po(r)}return e.data}function Hye(e){var t=e.sourceFormat,r=e.data;if(!sP(t)){var n="";Po(n)}if(t===Bo){for(var i=[],o=0,s=r.length;o<s;o++)i.push(r[o].slice());return i}else if(t===Vs){for(var i=[],o=0,s=r.length;o<s;o++)i.push(Dt({},r[o]));return i}}function jye(e,t,r){if(r!=null){if(Zn(r)||!isNaN(r)&&!Md(t,r))return e[r];if(Md(t,r))return t[r]}}function Gye(e){return Gr(e)}var rN=Br();function Wye(e){e=Gr(e);var t=e.type,r="";t||Po(r);var n=t.split(":");n.length!==2&&Po(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,rN.set(t,e)}function qye(e,t,r){var n=bo(e),i=n.length,o="";i||Po(o);for(var s=0,a=i;s<a;s++){var h=n[s];t=Xye(h,t),s!==a-1&&(t.length=Math.max(t.length,1))}return t}function Xye(e,t,r,n){var i="";t.length||Po(i),pr(e)||Po(i);var o=e.type,s=rN.get(o);s||Po(i);var a=ur(t,function(d){return Vye(d,s)}),h=bo(s.transform({upstream:a[0],upstreamList:a,config:Gr(e.config)}));return ur(h,function(d,m){var v="";pr(d)||Po(v),d.data||Po(v);var g=ZF(d.data);sP(g)||Po(v);var _,T=t[0];if(T&&m===0&&!d.dimensions){var P=T.startIndex;P&&(d.data=T.data.slice(0,P).concat(d.data)),_={seriesLayoutBy:Tl,sourceHeader:P,dimensions:T.metaRawOption.dimensions}}else _={seriesLayoutBy:Tl,sourceHeader:0,dimensions:d.dimensions};return GT(d.data,_,null)})}function sP(e){return e===Bo||e===Vs}var zb="undefined",Zye=typeof Uint32Array===zb?Array:Uint32Array,Kye=typeof Uint16Array===zb?Array:Uint16Array,nN=typeof Int32Array===zb?Array:Int32Array,sk=typeof Float64Array===zb?Array:Float64Array,iN={float:sk,int:nN,ordinal:Array,number:Array,time:sk},F2;function vm(e){return e>65535?Zye:Kye}function Lf(){return[1/0,-1/0]}function Yye(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function lk(e,t,r,n,i){var o=iN[r||"float"];if(i){var s=e[t],a=s&&s.length;if(a!==n){for(var h=new o(n),d=0;d<a;d++)h[d]=s[d];e[t]=h}}else e[t]=new o(n)}var WT=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Br()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=F2[i.sourceFormat];this._dimValueGetter=n||o,this._rawExtent=[],KF(i),this._dimensions=ur(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,o=n.get(t);if(o!=null){if(i[o].type===r)return o}else o=i.length;return i[o]={type:r},n.set(t,o),this._chunks[o]=new iN[r||"float"](this._rawCount),this._rawExtent[o]=Lf(),o},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,s=i.ordinalOffset||0,a=n.length;s===0&&(o[t]=Lf());for(var h=o[t],d=s;d<a;d++){var m=n[d]=r.parseAndCollect(n[d]);isNaN(m)||(h[0]=Math.min(m,h[0]),h[1]=Math.max(m,h[1]))}i.ordinalMeta=r,i.ordinalOffset=a,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,o=i.length,s=this._rawExtent,a=this.count(),h=a+Math.max(t.length,r||0),d=0;d<o;d++){var m=i[d];lk(n,d,m.type,h,!0)}for(var v=[],g=a;g<h;g++)for(var _=g-a,T=0;T<o;T++){var m=i[T],P=F2.arrayRows.call(this,t[_]||v,m.property,_,T);n[T][g]=P;var M=s[T];P<M[0]&&(M[0]=P),P>M[1]&&(M[1]=P)}return this._rawCount=this._count=h,{start:a,end:h}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,o=this._chunks,s=this._dimensions,a=s.length,h=this._rawExtent,d=ur(s,function(D){return D.property}),m=0;m<a;m++){var v=s[m];h[m]||(h[m]=Lf()),lk(o,m,v.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,o,h);else for(var g=[],_=t;_<r;_++){g=i.getItem(_,g);for(var T=0;T<a;T++){var P=o[T],M=this._dimValueGetter(g,d[T],_,T);P[_]=M;var I=h[T];M<I[0]&&(I[0]=M),M>I[1]&&(I[1]=M)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;for(var o=0,s=i.length;o<s;o++)n.push(this.get(i[o],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,o=this.count();i<o;i++){var s=this.get(t,i);isNaN(s)||(n+=s)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(o){isNaN(o)||r.push(o)});var n=r.sort(function(o,s){return o-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,o=this._count-1;i<=o;){var s=(i+o)/2|0;if(r[s]<t)i=s+1;else if(r[s]>t)o=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,o=i[t],s=[];if(!o)return s;n==null&&(n=1/0);for(var a=1/0,h=-1,d=0,m=0,v=this.count();m<v;m++){var g=this.getRawIndex(m),_=r-o[g],T=Math.abs(_);T<=n&&((T<a||T===a&&_>=0&&h<0)&&(a=T,h=_,d=0),_===h&&(s[d++]=m))}return s.length=d,s},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var o=0;o<i;o++)t[o]=r[o]}else t=new n(r.buffer,0,i)}else{var n=vm(this._rawCount);t=new n(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),o=vm(n._rawCount),s=new o(i),a=[],h=t.length,d=0,m=t[0],v=n._chunks,g=0;g<i;g++){var _=void 0,T=n.getRawIndex(g);if(h===0)_=r(g);else if(h===1){var P=v[m][T];_=r(P,g)}else{for(var M=0;M<h;M++)a[M]=v[t[M]][T];a[M]=g,_=r.apply(null,a)}_&&(s[d++]=T)}return d<i&&(n._indices=s),n._count=d,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=en(t),o=i.length;if(!o)return this;var s=r.count(),a=vm(r._rawCount),h=new a(s),d=0,m=i[0],v=t[m][0],g=t[m][1],_=r._chunks,T=!1;if(!r._indices){var P=0;if(o===1){for(var M=_[i[0]],I=0;I<n;I++){var D=M[I];(D>=v&&D<=g||isNaN(D))&&(h[d++]=P),P++}T=!0}else if(o===2){for(var M=_[i[0]],O=_[i[1]],z=t[i[1]][0],F=t[i[1]][1],I=0;I<n;I++){var D=M[I],N=O[I];(D>=v&&D<=g||isNaN(D))&&(N>=z&&N<=F||isNaN(N))&&(h[d++]=P),P++}T=!0}}if(!T)if(o===1)for(var I=0;I<s;I++){var H=r.getRawIndex(I),D=_[i[0]][H];(D>=v&&D<=g||isNaN(D))&&(h[d++]=H)}else for(var I=0;I<s;I++){for(var U=!0,H=r.getRawIndex(I),J=0;J<o;J++){var K=i[J],D=_[K][H];(D<t[K][0]||D>t[K][1])&&(U=!1)}U&&(h[d++]=r.getRawIndex(I))}return d<s&&(r._indices=h),r._count=d,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,o=[],s=r.length,a=t.count(),h=[],d=t._rawExtent,m=0;m<r.length;m++)d[r[m]]=Lf();for(var v=0;v<a;v++){for(var g=t.getRawIndex(v),_=0;_<s;_++)h[_]=i[r[_]][g];h[s]=v;var T=n&&n.apply(null,h);if(T!=null){typeof T!="object"&&(o[0]=T,T=o);for(var m=0;m<T.length;m++){var P=r[m],M=T[m],I=d[P],D=i[P];D&&(D[g]=M),M<I[0]&&(I[0]=M),M>I[1]&&(I[1]=M)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,o=i[t],s=this.count(),a=0,h=Math.floor(1/r),d=this.getRawIndex(0),m,v,g,_=new(vm(this._rawCount))(Math.min((Math.ceil(s/h)+2)*2,s));_[a++]=d;for(var T=1;T<s-1;T+=h){for(var P=Math.min(T+h,s-1),M=Math.min(T+h*2,s),I=(M+P)/2,D=0,O=P;O<M;O++){var z=this.getRawIndex(O),F=o[z];isNaN(F)||(D+=F)}D/=M-P;var N=T,H=Math.min(T+h,s),U=T-1,J=o[d];m=-1,g=N;for(var K=-1,ne=0,O=N;O<H;O++){var z=this.getRawIndex(O),F=o[z];if(isNaN(F)){ne++,K<0&&(K=z);continue}v=Math.abs((U-I)*(F-J)-(U-O)*(D-J)),v>m&&(m=v,g=z)}ne>0&&ne<H-N&&(_[a++]=Math.min(K,g),g=Math.max(K,g)),_[a++]=g,d=g}return _[a++]=this.getRawIndex(s-1),n._count=a,n._indices=_,n.getRawIndex=this._getRawIdx,n},e.prototype.downSample=function(t,r,n,i){for(var o=this.clone([t],!0),s=o._chunks,a=[],h=Math.floor(1/r),d=s[t],m=this.count(),v=o._rawExtent[t]=Lf(),g=new(vm(this._rawCount))(Math.ceil(m/h)),_=0,T=0;T<m;T+=h){h>m-T&&(h=m-T,a.length=h);for(var P=0;P<h;P++){var M=this.getRawIndex(T+P);a[P]=d[M]}var I=n(a),D=this.getRawIndex(Math.min(T+i(a,I)||0,m-1));d[D]=I,I<v[0]&&(v[0]=I),I>v[1]&&(v[1]=I),g[_++]=D}return o._count=_,o._indices=g,o._updateGetRawIdx(),o},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,o=0,s=this.count();o<s;o++){var a=this.getRawIndex(o);switch(n){case 0:r(o);break;case 1:r(i[t[0]][a],o);break;case 2:r(i[t[0]][a],i[t[1]][a],o);break;default:for(var h=0,d=[];h<n;h++)d[h]=i[t[h]][a];d[h]=o,r.apply(null,d)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=Lf();if(!r)return n;var i=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var a=s[0],h=s[1],d=0;d<i;d++){var m=this.getRawIndex(d),v=r[m];v<a&&(a=v),v>h&&(h=v)}return s=[a,h],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,o=0;o<i.length;o++)n.push(i[o][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,o=t&&Wd(t,function(a,h){return a[h]=!0,a},{});if(o)for(var s=0;s<i.length;s++)n._chunks[s]=o[s]?Yye(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Gr(this._extent),t._rawExtent=Gr(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,i,o){return cd(r[o],this._dimensions[o])}F2={arrayRows:t,objectRows:function(r,n,i,o){return cd(r[n],this._dimensions[o])},keyedColumns:t,original:function(r,n,i,o){var s=r&&(r.value==null?r:r.value);return cd(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(r,n,i,o){return r[o]}}}(),e}(),Jye=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,o;if(I_(t)){var s=t,a=void 0,h=void 0,d=void 0;if(n){var m=r[0];m.prepareSource(),d=m.getSource(),a=d.data,h=d.sourceFormat,o=[m._getVersionSign()]}else a=s.get("data",!0),h=ea(a)?Nu:Ma,o=[];var v=this._getSourceMetaRawOption()||{},g=d&&d.metaRawOption||{},_=zr(v.seriesLayoutBy,g.seriesLayoutBy)||null,T=zr(v.sourceHeader,g.sourceHeader),P=zr(v.dimensions,g.dimensions),M=_!==g.seriesLayoutBy||!!T!=!!g.sourceHeader||P;i=M?[GT(a,{seriesLayoutBy:_,sourceHeader:T,dimensions:P},h)]:[]}else{var I=t;if(n){var D=this._applyTransform(r);i=D.sourceList,o=D.upstreamSignList}else{var O=I.get("source",!0);i=[GT(O,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var o="";t.length!==1&&uk(o)}var s,a=[],h=[];return Me(t,function(d){d.prepareSource();var m=d.getSource(i||0),v="";i!=null&&!m&&uk(v),a.push(m),h.push(d._getVersionSign())}),n?s=qye(n,a,{datasetIndex:r.componentIndex}):i!=null&&(s=[Dye(a[0])]),{sourceList:s,upstreamSignList:h}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,o=this._storeList,s=o[i];s||(s=o[i]={});var a=s[n];if(!a){var h=this._getUpstreamSourceManagers()[0];I_(this._sourceHost)&&h?a=h._innerGetDataStore(t,r,n):(a=new WT,a.initData(new YF(r,t.length),t)),s[n]=a}return a},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(I_(t)){var r=UF(t);return r?[r.getSourceManager()]:[]}else return ur(rye(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(I_(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;r=o.get("seriesLayoutBy",!0),n=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e}();function I_(e){return e.mainType==="series"}function uk(e){throw new Error(e)}var oN="line-height:1";function aN(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",o=e.color||"#464646",s=e.fontSize||14,a=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Yo(n+"")+"px;color:"+Yo(r)+";font-weight:"+Yo(i+""),valueStyle:"font-size:"+Yo(s+"")+"px;color:"+Yo(o)+";font-weight:"+Yo(a+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var Qye=[0,10,20,30],e_e=["",`
`,`

`,`


`];function Wu(e,t){return t.type=e,t}function qT(e){return e.type==="section"}function sN(e){return qT(e)?t_e:r_e}function lN(e){if(qT(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return Me(e.blocks,function(i){var o=lN(i);o>=t&&(t=o+ +(n&&(!o||qT(i)&&!i.noHeader)))}),t}return 0}function t_e(e,t,r,n){var i=t.noHeader,o=n_e(lN(t)),s=[],a=t.blocks||[];ts(!a||Zt(a)),a=a||[];var h=e.orderMode;if(t.sortBlocks&&h){a=a.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(Md(d,h)){var m=new Fye(d[h],null);a.sort(function(T,P){return m.evaluate(T.sortParam,P.sortParam)})}else h==="seriesDesc"&&a.reverse()}Me(a,function(T,P){var M=t.valueFormatter,I=sN(T)(M?Dt(Dt({},e),{valueFormatter:M}):e,T,P>0?o.html:0,n);I!=null&&s.push(I)});var v=e.renderMode==="richText"?s.join(o.richText):XT(s.join(""),i?r:o.html);if(i)return v;var g=jT(t.header,"ordinal",e.useUTC),_=aN(n,e.renderMode).nameStyle;return e.renderMode==="richText"?uN(e,g,_)+o.richText+v:XT('<div style="'+_+";"+oN+';">'+Yo(g)+"</div>"+v,r)}function r_e(e,t,r,n){var i=e.renderMode,o=t.noName,s=t.noValue,a=!t.markerType,h=t.name,d=e.useUTC,m=t.valueFormatter||e.valueFormatter||function(z){return z=Zt(z)?z:[z],ur(z,function(F,N){return jT(F,Zt(_)?_[N]:_,d)})};if(!(o&&s)){var v=a?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),g=o?"":jT(h,"ordinal",d),_=t.valueType,T=s?[]:m(t.value),P=!a||!o,M=!a&&o,I=aN(n,i),D=I.nameStyle,O=I.valueStyle;return i==="richText"?(a?"":v)+(o?"":uN(e,g,D))+(s?"":a_e(e,T,P,M,O)):XT((a?"":v)+(o?"":i_e(g,!a,D))+(s?"":o_e(T,P,M,O)),r)}}function ck(e,t,r,n,i,o){if(e){var s=sN(e),a={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(a,e,0,o)}}function n_e(e){return{html:Qye[e],richText:e_e[e]}}function XT(e,t){var r='<div style="clear:both"></div>',n="margin: "+t+"px 0 0";return'<div style="'+n+";"+oN+';">'+e+r+"</div>"}function i_e(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+Yo(e)+"</span>"}function o_e(e,t,r,n){var i=r?"10px":"20px",o=t?"float:right;margin-left:"+i:"";return e=Zt(e)?e:[e],'<span style="'+o+";"+n+'">'+ur(e,function(s){return Yo(s)}).join("&nbsp;&nbsp;")+"</span>"}function uN(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function a_e(e,t,r,n,i){var o=[i],s=n?10:20;return r&&o.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Zt(t)?t.join("  "):t,o)}function s_e(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return Xv(n)}function cN(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var N2=function(){function e(){this.richTextStyles={},this._nextStyleNameId=g8()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,o=Xge({color:r,type:t,renderMode:n,markerId:i});return lr(o)?o:(this.richTextStyles[i]=o.style,o.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};Zt(r)?Me(r,function(o){return Dt(n,o)}):Dt(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e}();function l_e(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),s=o.length,a=t.getRawValue(r),h=Zt(a),d=s_e(t,r),m,v,g,_;if(s>1||h&&!s){var T=u_e(a,t,r,o,d);m=T.inlineValues,v=T.inlineValueTypes,g=T.blocks,_=T.inlineValues[0]}else if(s){var P=i.getDimensionInfo(o[0]);_=m=Ld(i,r,o[0]),v=P.type}else _=m=h?a[0]:a;var M=x8(t),I=M&&t.name||"",D=i.getName(r),O=n?I:D;return Wu("section",{header:I,noHeader:n||!M,sortParam:_,blocks:[Wu("nameValue",{markerType:"item",markerColor:d,name:O,noName:!Ms(O),value:m,valueType:v})].concat(g||[])})}function u_e(e,t,r,n,i){var o=t.getData(),s=Wd(e,function(v,g,_){var T=o.getDimensionInfo(_);return v=v||T&&T.tooltip!==!1&&T.displayName!=null},!1),a=[],h=[],d=[];n.length?Me(n,function(v){m(Ld(o,r,v),v)}):Me(e,m);function m(v,g){var _=o.getDimensionInfo(g);!_||_.otherDims.tooltip===!1||(s?d.push(Wu("nameValue",{markerType:"subItem",markerColor:i,name:_.displayName,value:v,valueType:_.type})):(a.push(v),h.push(_.type)))}return{inlineValues:a,inlineValueTypes:h,blocks:d}}var gu=ni();function M_(e,t){return e.getName(t)||e.getId(t)}var c_e="__universalTransitionEnabled",$b=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=lv({count:f_e,reset:d_e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var o=gu(this).sourceManager=new Jye(this);o.prepareSource();var s=this.getInitialData(r,i);fk(s,this),this.dataTask.context.data=s,gu(this).dataBeforeProcessed=s,hk(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=Zv(this),o=i?tP(r):{},s=this.subType;Bn.hasClass(s)&&(s+="Series"),Nn(r,n.getTheme().get(this.subType)),Nn(r,this.getDefaultOption()),kT(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Kv(r,o,i)},t.prototype.mergeOption=function(r,n){r=Nn(this.option,r,!0),this.fillDataTextStyle(r.data);var i=Zv(this);i&&Kv(this.option,r,i);var o=gu(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(r,n);fk(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,gu(this).dataBeforeProcessed=s,hk(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(r){if(r&&!ea(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&kT(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=ZT(this);if(n){var i=n.context.data;return r==null?i:i.getLinkedData(r)}else return gu(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=ZT(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}gu(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Br(r)},t.prototype.getSourceManager=function(){return gu(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return gu(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return l_e({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Rr.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var o=this.ecModel,s=rP.prototype.getColorFromPalette.call(this,r,n,i);return s||(s=o.getColorFromPalette(r,n,i)),s},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,s=this.getData(n);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var a=0;a<r.length;a++){var h=r[a],d=M_(s,h);i[d]=!1,this._selectedDataIndicesMap[d]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],o=0;o<r.length;o++)i[0]=r[o],this.isSelected(r[o],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=en(r),i=[],o=0;o<n.length;o++){var s=r[n[o]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(n);return(i==="all"||i[M_(o,r)])&&!o.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[c_e])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,o,s=this.option,a=s.selectedMode,h=n.length;if(!(!a||!h)){if(a==="series")s.selectedMap="all";else if(a==="multiple"){pr(s.selectedMap)||(s.selectedMap={});for(var d=s.selectedMap,m=0;m<h;m++){var v=n[m],g=M_(r,v);d[g]=!0,this._selectedDataIndicesMap[g]=r.getRawIndex(v)}}else if(a==="single"||a===!0){var _=n[h-1],g=M_(r,_);s.selectedMap=(i={},i[g]=!0,i),this._selectedDataIndicesMap=(o={},o[g]=r.getRawIndex(_),o)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var o=r.getRawDataItem(i);o&&o.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return Bn.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(Bn);as($b,tN);as($b,rP);T8($b,Bn);function hk(e){var t=e.name;x8(e)||(e.name=h_e(e)||t)}function h_e(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return Me(r,function(i){var o=t.getDimensionInfo(i);o.displayName&&n.push(o.displayName)}),n.join(" ")}function f_e(e){return e.model.getRawData().count()}function d_e(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),p_e}function p_e(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function fk(e,t){Me(gT(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,Ai(m_e,t))})}function m_e(e,t){var r=ZT(e);return r&&r.setOutputEnd((t||this).count()),t}function ZT(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}const Od=$b;var lP=function(){function e(){this.group=new Fi,this.uid=Ib("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();DA(lP);wb(lP);const Ml=lP;function uP(){var e=ni();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,o=!!r.progressiveRender,s=r.large=!!(n&&n.large),a=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||o!==a)&&"reset"}}var hN=ni(),v_e=uP(),cP=function(){function e(){this.group=new Fi,this.uid=Ib("viewChart"),this.renderTask=lv({plan:g_e,reset:y_e}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&pk(o,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var o=t.getData(i&&i.dataType);o&&pk(o,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){Eb(this.group,t)},e.markUpdateMethod=function(t,r){hN(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function dk(e,t,r){e&&NT(e)&&(t==="emphasis"?Hv:jv)(e,r)}function pk(e,t,r){var n=bg(e,t),i=t&&t.highlightKey!=null?Sve(t.highlightKey):null;n!=null?Me(bo(n),function(o){dk(e.getItemGraphicEl(o),r,i)}):e.eachItemGraphicEl(function(o){dk(o,r,i)})}DA(cP);wb(cP);function g_e(e){return v_e(e.model)}function y_e(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,o=t.pipelineContext.progressiveRender,s=e.view,a=i&&hN(i).updateMethod,h=o?"incrementalPrepareRender":a&&s[a]?a:"render";return h!=="render"&&s[h](t,r,n,i),__e[h]}var __e={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const bh=cP;var b1="\0__throttleOriginMethod",mk="\0__throttleRate",vk="\0__throttleType";function hP(e,t,r){var n,i=0,o=0,s=null,a,h,d,m;t=t||0;function v(){o=new Date().getTime(),s=null,e.apply(h,d||[])}var g=function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];n=new Date().getTime(),h=this,d=_;var P=m||t,M=m||r;m=null,a=n-(M?i:o)-P,clearTimeout(s),M?s=setTimeout(v,P):a>=0?v():s=setTimeout(v,-a),i=n};return g.clear=function(){s&&(clearTimeout(s),s=null)},g.debounceNextCall=function(_){m=_},g}function fN(e,t,r,n){var i=e[t];if(i){var o=i[b1]||i,s=i[vk],a=i[mk];if(a!==r||s!==n){if(r==null||!n)return e[t]=o;i=e[t]=hP(o,r,n==="debounce"),i[b1]=o,i[vk]=n,i[mk]=r}return i}}function KT(e,t){var r=e[t];r&&r[b1]&&(r.clear&&r.clear(),e[t]=r[b1])}var gk=ni(),yk={itemStyle:Uv(SF,!0),lineStyle:Uv(wF,!0)},b_e={lineStyle:"stroke",itemStyle:"fill"};function dN(e,t){var r=e.visualStyleMapper||yk[t];return r||(console.warn("Unknown style type '"+t+"'."),yk.itemStyle)}function pN(e,t){var r=e.visualDrawType||b_e[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var x_e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),o=dN(e,n),s=o(i),a=i.getShallow("decal");a&&(r.setVisual("decal",a),a.dirty=!0);var h=pN(e,n),d=s[h],m=wr(d)?d:null,v=s.fill==="auto"||s.stroke==="auto";if(!s[h]||m||v){var g=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[h]||(s[h]=g,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||wr(s.fill)?g:s.fill,s.stroke=s.stroke==="auto"||wr(s.stroke)?g:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",h),!t.isSeriesFiltered(e)&&m)return r.setVisual("colorFromPalette",!1),{dataEach:function(_,T){var P=e.getDataParams(T),M=Dt({},s);M[h]=m(P),_.setItemVisual(T,"style",M)}}}},gm=new yo,w_e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=dN(e,n),o=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,a){var h=s.getRawDataItem(a);if(h&&h[n]){gm.option=h[n];var d=i(gm),m=s.ensureUniqueItemVisual(a,"style");Dt(m,d),gm.option.decal&&(s.setItemVisual(a,"decal",gm.option.decal),gm.option.decal.dirty=!0),o in d&&s.setItemVisual(a,"colorFromPalette",!1)}}:null}}}},S_e={performRawSeries:!0,overallReset:function(e){var t=Br();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,o=t.get(i);o||(o={},t.set(i,o)),gk(r).scope=o}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},o=r.getData(),s=gk(r).scope,a=r.visualStyleAccessPath||"itemStyle",h=pN(r,a);o.each(function(d){var m=o.getRawIndex(d);i[m]=d}),n.each(function(d){var m=i[d],v=o.getItemVisual(m,"colorFromPalette");if(v){var g=o.ensureUniqueItemVisual(m,"style"),_=n.getName(d)||d+"",T=n.count();g[h]=r.getColorFromPalette(_,s,T)}})}})}},D_=Math.PI;function T_e(e,t){t=t||{},Dn(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Fi,n=new Lo({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new rs({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new Lo({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(o);var s;return t.showSpinner&&(s=new jA({shape:{startAngle:-D_/2,endAngle:-D_/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:D_*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:D_*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var a=i.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,d=(e.getWidth()-h*2-(t.showSpinner&&a?10:0)-a)/2-(t.showSpinner&&a?0:5+a/2)+(t.showSpinner?0:a/2)+(a?0:h),m=e.getHeight()/2;t.showSpinner&&s.setShape({cx:d,cy:m}),o.setShape({x:d-h,y:m-h,width:h*2,height:h*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var C_e=function(){function e(t,r,n,i){this._stageTaskMap=Br(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,o=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=o?n.step:null,a=i&&i.modDataCount,h=a!=null?Math.ceil(a/s):null;return{step:s,modBy:h,modDataCount:a}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),o=i.count(),s=n.progressiveEnabled&&r.incrementalPrepareRender&&o>=n.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),h=t.get("progressiveChunkMode")==="mod"?o:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:h,large:a}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Br();t.eachSeries(function(i){var o=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;Me(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{}),s="";ts(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,o,r,n),i.overallReset&&this._createOverallStageTask(i,o,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var o=t.renderTask,s=o.context;s.model=r,s.ecModel=n,s.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(r,o)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var o=!1,s=this;Me(t,function(h,d){if(!(i.visualType&&i.visualType!==h.visualType)){var m=s._stageTaskMap.get(h.uid),v=m.seriesTaskMap,g=m.overallTask;if(g){var _,T=g.agentStubMap;T.each(function(M){a(i,M)&&(M.dirty(),_=!0)}),_&&g.dirty(),s.updatePayload(g,n);var P=s.getPerformArgs(g,i.block);T.each(function(M){M.perform(P)}),g.perform(P)&&(o=!0)}else v&&v.each(function(M,I){a(i,M)&&M.dirty();var D=s.getPerformArgs(M,i.block);D.skip=!h.performRawSeries&&r.isSeriesFiltered(M.context.model),s.updatePayload(M,n),M.perform(D)&&(o=!0)})}});function a(h,d){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(d.__pipeline.id))}this.unfinished=o||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var o=this,s=r.seriesTaskMap,a=r.seriesTaskMap=Br(),h=t.seriesType,d=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(m):h?n.eachRawSeriesByType(h,m):d&&d(n,i).each(m);function m(v){var g=v.uid,_=a.set(g,s&&s.get(g)||lv({plan:M_e,reset:D_e,count:O_e}));_.context={model:v,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(v,_)}},e.prototype._createOverallStageTask=function(t,r,n,i){var o=this,s=r.overallTask=r.overallTask||lv({reset:E_e});s.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:o};var a=s.agentStubMap,h=s.agentStubMap=Br(),d=t.seriesType,m=t.getTargetSeries,v=!0,g=!1,_="";ts(!t.createOnAllSeries,_),d?n.eachRawSeriesByType(d,T):m?m(n,i).each(T):(v=!1,Me(n.getSeries(),T));function T(P){var M=P.uid,I=h.set(M,a&&a.get(M)||(g=!0,lv({reset:A_e,onDirty:I_e})));I.context={model:P,overallProgress:v},I.agent=s,I.__block=v,o._pipe(P,I)}g&&s.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return wr(t)&&(t={overallReset:t,seriesType:k_e(t)}),t.uid=Ib("stageHandler"),r&&(t.visualType=r),t},e}();function E_e(e){e.overallReset(e.ecModel,e.api,e.payload)}function A_e(e){return e.overallProgress&&P_e}function P_e(){this.agent.dirty(),this.getDownstream().dirty()}function I_e(){this.agent&&this.agent.dirty()}function M_e(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function D_e(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=bo(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?ur(t,function(r,n){return mN(n)}):L_e}var L_e=mN(0);function mN(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(n,o);else i&&i.progress&&i.progress(t,n)}}function O_e(e){return e.data.count()}function k_e(e){x1=null;try{e(Jv,vN)}catch{}return x1}var Jv={},vN={},x1;gN(Jv,GF);gN(vN,WF);Jv.eachSeriesByType=Jv.eachRawSeriesByType=function(e){x1=e};Jv.eachComponent=function(e){e.mainType==="series"&&e.subType&&(x1=e.subType)};function gN(e,t){for(var r in t.prototype)e[r]=_o}const yN=C_e;var _k=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const R_e={color:_k,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],_k]};var fo="#B9B8CE",bk="#100C2A",L_=function(){return{axisLine:{lineStyle:{color:fo}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},xk=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],_N={darkMode:!0,color:xk,backgroundColor:bk,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:fo}},textStyle:{color:fo},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:fo}},dataZoom:{borderColor:"#71708A",textStyle:{color:fo},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:fo}},timeline:{lineStyle:{color:fo},label:{color:fo},controlStyle:{color:fo,borderColor:fo}},calendar:{itemStyle:{color:bk},dayLabel:{color:fo},monthLabel:{color:fo},yearLabel:{color:fo}},timeAxis:L_(),logAxis:L_(),valueAxis:L_(),categoryAxis:L_(),line:{symbol:"circle"},graph:{color:xk},gauge:{title:{color:fo},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:fo},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};_N.categoryAxis.splitLine.show=!1;const z_e=_N;var $_e=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(lr(t)){var o=Ds(t);r.mainType=o.main||null,r.subType=o.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};Me(t,function(h,d){for(var m=!1,v=0;v<s.length;v++){var g=s[v],_=d.lastIndexOf(g);if(_>0&&_===d.length-g.length){var T=d.slice(0,_);T!=="data"&&(r.mainType=T,r[g.toLowerCase()]=h,m=!0)}}a.hasOwnProperty(d)&&(n[d]=h,m=!0),m||(i[d]=h)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,o=n.packedEvent,s=n.model,a=n.view;if(!s||!a)return!0;var h=r.cptQuery,d=r.dataQuery;return m(h,s,"mainType")&&m(h,s,"subType")&&m(h,s,"index","componentIndex")&&m(h,s,"name")&&m(h,s,"id")&&m(d,o,"name")&&m(d,o,"dataIndex")&&m(d,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,r.otherQuery,i,o));function m(v,g,_,T){return v[_]==null||g[T||_]===v[_]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),YT=["symbol","symbolSize","symbolRotate","symbolOffset"],wk=YT.concat(["symbolKeepAspect"]),B_e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},o=!1,s=0;s<YT.length;s++){var a=YT[s],h=e.get(a);wr(h)?(o=!0,i[a]=h):n[a]=h}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(Dt({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var d=en(i);function m(v,g){for(var _=e.getRawValue(g),T=e.getDataParams(g),P=0;P<d.length;P++){var M=d[P];v.setItemVisual(g,M,i[M](_,T))}}return{dataEach:o?m:null}}},F_e={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,o){for(var s=i.getItemModel(o),a=0;a<wk.length;a++){var h=wk[a],d=s.getShallow(h,!0);d!=null&&i.setItemVisual(o,h,d)}}return{dataEach:r.hasItemOption?n:null}}};function N_e(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function bN(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Of(e,t,r,n,i){var o=e+t;r.isSilent(o)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var a=s.seriesIndex,h=s.option.selectedMap,d=i.selected,m=0;m<d.length;m++)if(d[m].seriesIndex===a){var v=s.getData(),g=bg(v,i.fromActionPayload);r.trigger(o,{type:o,seriesId:s.id,name:Zt(g)?v.getName(g[0]):v.getName(g),selected:lr(h)?h:Dt({},h)})}})}function V_e(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Of("map","selectchanged",t,i,n),Of("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Of("map","selected",t,i,n),Of("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Of("map","unselected",t,i,n),Of("pie","unselected",t,i,n))})}function zm(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var U_e=Math.round(Math.random()*9),H_e=typeof Object.defineProperty=="function",j_e=function(){function e(){this._id="__ec_inner_"+U_e++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return H_e?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}();const G_e=j_e;var W_e=hn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n+o),e.lineTo(r-i,n+o),e.closePath()}}),q_e=hn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,o=t.height/2;e.moveTo(r,n-o),e.lineTo(r+i,n),e.lineTo(r,n+o),e.lineTo(r-i,n),e.closePath()}}),X_e=hn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,o=Math.max(i,t.height),s=i/2,a=s*s/(o-s),h=n-o+s+a,d=Math.asin(a/s),m=Math.cos(d)*s,v=Math.sin(d),g=Math.cos(d),_=s*.6,T=s*.7;e.moveTo(r-m,h+a),e.arc(r,h,s,Math.PI-d,Math.PI*2+d),e.bezierCurveTo(r+m-v*_,h+a+g*_,r,n-T,r,n),e.bezierCurveTo(r,n-T,r-m+v*_,h+a+g*_,r-m,h+a),e.closePath()}}),Z_e=hn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,o=t.y,s=n/3*2;e.moveTo(i,o),e.lineTo(i+s,o+r),e.lineTo(i,o+r/4*3),e.lineTo(i-s,o+r),e.lineTo(i,o),e.closePath()}}),K_e={line:Gu,rect:Lo,roundRect:Lo,square:Lo,circle:NA,diamond:q_e,pin:X_e,arrow:Z_e,triangle:W_e},Y_e={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var o=Math.min(r,n);i.x=e,i.y=t,i.width=o,i.height=o},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},JT={};Me(K_e,function(e,t){JT[t]=new e});var J_e=hn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=u8(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=JT[n];i||(n="rect",i=JT[n]),Y_e[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function Q_e(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function Kd(e,t,r,n,i,o,s){var a=e.indexOf("empty")===0;a&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var h;return e.indexOf("image://")===0?h=pF(e.slice(8),new gn(t,r,n,i),s?"center":"cover"):e.indexOf("path://")===0?h=WA(e.slice(7),{},new gn(t,r,n,i),s?"center":"cover"):h=new J_e({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),h.__isEmptyBrush=a,h.setColor=Q_e,o&&h.setColor(o),h}function xN(e){return Zt(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function fP(e,t){if(e!=null)return Zt(e)||(e=[e,e]),[Ri(e[0],t[0])||0,Ri(zr(e[1],e[0]),t[1])||0]}function fh(e){return isFinite(e)}function e0e(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,o=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,s=s*r.height+r.y),n=fh(n)?n:0,i=fh(i)?i:1,o=fh(o)?o:0,s=fh(s)?s:0;var a=e.createLinearGradient(n,o,i,s);return a}function t0e(e,t,r){var n=r.width,i=r.height,o=Math.min(n,i),s=t.x==null?.5:t.x,a=t.y==null?.5:t.y,h=t.r==null?.5:t.r;t.global||(s=s*n+r.x,a=a*i+r.y,h=h*o),s=fh(s)?s:.5,a=fh(a)?a:.5,h=h>=0&&fh(h)?h:.5;var d=e.createRadialGradient(s,a,0,s,a,h);return d}function Sk(e,t,r){for(var n=t.type==="radial"?t0e(e,t,r):e0e(e,t,r),i=t.colorStops,o=0;o<i.length;o++)n.addColorStop(i[o].offset,i[o].color);return n}function r0e(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function O_(e){return parseInt(e,10)}function Tk(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var a=document.defaultView.getComputedStyle(e);return(e[i]||O_(a[n])||O_(e.style[n]))-(O_(a[o])||0)-(O_(a[s])||0)|0}function n0e(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Zn(e)?[e]:Zt(e)?e:null}function dP(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&n0e(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=ur(r,function(o){return o/i}),n/=i)}return[r,n]}var i0e=new Ph(!0);function w1(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function Ck(e){return typeof e=="string"&&e!=="none"}function S1(e){var t=e.fill;return t!=null&&t!=="none"}function Ek(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function Ak(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function Pk(e,t,r){var n=LA(t.image,t.__image,r);if(Sb(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*u0),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}function o0e(e,t,r,n){var i,o=w1(r),s=S1(r),a=r.strokePercent,h=a<1,d=!t.path;(!t.silent||h)&&d&&t.createPathProxy();var m=t.path||i0e,v=t.__dirty;if(!n){var g=r.fill,_=r.stroke,T=s&&!!g.colorStops,P=o&&!!_.colorStops,M=s&&!!g.image,I=o&&!!_.image,D=void 0,O=void 0,z=void 0,F=void 0,N=void 0;(T||P)&&(N=t.getBoundingRect()),T&&(D=v?Sk(e,g,N):t.__canvasFillGradient,t.__canvasFillGradient=D),P&&(O=v?Sk(e,_,N):t.__canvasStrokeGradient,t.__canvasStrokeGradient=O),M&&(z=v||!t.__canvasFillPattern?Pk(e,g,t):t.__canvasFillPattern,t.__canvasFillPattern=z),I&&(F=v||!t.__canvasStrokePattern?Pk(e,_,t):t.__canvasStrokePattern,t.__canvasStrokePattern=z),T?e.fillStyle=D:M&&(z?e.fillStyle=z:s=!1),P?e.strokeStyle=O:I&&(F?e.strokeStyle=F:o=!1)}var H=t.getGlobalScale();m.setScale(H[0],H[1],t.segmentIgnoreThreshold);var U,J;e.setLineDash&&r.lineDash&&(i=dP(t),U=i[0],J=i[1]);var K=!0;(d||v&Bf)&&(m.setDPR(e.dpr),h?m.setContext(null):(m.setContext(e),K=!1),m.reset(),t.buildPath(m,t.shape,n),m.toStatic(),t.pathUpdated()),K&&m.rebuildPath(e,h?a:1),U&&(e.setLineDash(U),e.lineDashOffset=J),n||(r.strokeFirst?(o&&Ak(e,r),s&&Ek(e,r)):(s&&Ek(e,r),o&&Ak(e,r))),U&&e.setLineDash([])}function a0e(e,t,r){var n=t.__image=LA(r.image,t.__image,t,t.onload);if(!(!n||!Sb(n))){var i=r.x||0,o=r.y||0,s=t.getWidth(),a=t.getHeight(),h=n.width/n.height;if(s==null&&a!=null?s=a*h:a==null&&s!=null?a=s/h:s==null&&a==null&&(s=n.width,a=n.height),r.sWidth&&r.sHeight){var d=r.sx||0,m=r.sy||0;e.drawImage(n,d,m,r.sWidth,r.sHeight,i,o,s,a)}else if(r.sx&&r.sy){var d=r.sx,m=r.sy,v=s-d,g=a-m;e.drawImage(n,d,m,v,g,i,o,s,a)}else e.drawImage(n,i,o,s,a)}}function s0e(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||ju,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var o=void 0,s=void 0;e.setLineDash&&r.lineDash&&(n=dP(t),o=n[0],s=n[1]),o&&(e.setLineDash(o),e.lineDashOffset=s),r.strokeFirst?(w1(r)&&e.strokeText(i,r.x,r.y),S1(r)&&e.fillText(i,r.x,r.y)):(S1(r)&&e.fillText(i,r.x,r.y),w1(r)&&e.strokeText(i,r.x,r.y)),o&&e.setLineDash([])}}var Ik=["shadowBlur","shadowOffsetX","shadowOffsetY"],Mk=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function wN(e,t,r,n,i){var o=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){Io(e,i),o=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?yh.opacity:s}(n||t.blend!==r.blend)&&(o||(Io(e,i),o=!0),e.globalCompositeOperation=t.blend||yh.blend);for(var a=0;a<Ik.length;a++){var h=Ik[a];(n||t[h]!==r[h])&&(o||(Io(e,i),o=!0),e[h]=e.dpr*(t[h]||0))}return(n||t.shadowColor!==r.shadowColor)&&(o||(Io(e,i),o=!0),e.shadowColor=t.shadowColor||yh.shadowColor),o}function Dk(e,t,r,n,i){var o=Qv(t,i.inHover),s=n?null:r&&Qv(r,i.inHover)||{};if(o===s)return!1;var a=wN(e,o,s,n,i);if((n||o.fill!==s.fill)&&(a||(Io(e,i),a=!0),Ck(o.fill)&&(e.fillStyle=o.fill)),(n||o.stroke!==s.stroke)&&(a||(Io(e,i),a=!0),Ck(o.stroke)&&(e.strokeStyle=o.stroke)),(n||o.opacity!==s.opacity)&&(a||(Io(e,i),a=!0),e.globalAlpha=o.opacity==null?1:o.opacity),t.hasStroke()){var h=o.lineWidth,d=h/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==d&&(a||(Io(e,i),a=!0),e.lineWidth=d)}for(var m=0;m<Mk.length;m++){var v=Mk[m],g=v[0];(n||o[g]!==s[g])&&(a||(Io(e,i),a=!0),e[g]=o[g]||v[1])}return a}function l0e(e,t,r,n,i){return wN(e,Qv(t,i.inHover),r&&Qv(r,i.inHover),n,i)}function SN(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function u0e(e,t,r){for(var n=!1,i=0;i<e.length;i++){var o=e[i];n=n||o.isZeroArea(),SN(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}r.allClipped=n}function c0e(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var Lk=1,Ok=2,kk=3,Rk=4;function h0e(e){var t=S1(e),r=w1(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Io(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Qv(e,t){return t&&e.__hoverStyle||e.style}function f0e(e,t){QT(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function QT(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~As,t.__isRendered=!1;return}var o=t.__clipPaths,s=r.prevElClipPaths,a=!1,h=!1;if((!s||r0e(o,s))&&(s&&s.length&&(Io(e,r),e.restore(),h=a=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),o&&o.length&&(Io(e,r),e.save(),u0e(o,e,r),a=!0),r.prevElClipPaths=o),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var d=r.prevEl;d||(h=a=!0);var m=t instanceof hn&&t.autoBatch&&h0e(t.style);a||c0e(i,d.transform)?(Io(e,r),SN(e,t)):m||Io(e,r);var v=Qv(t,r.inHover);t instanceof hn?(r.lastDrawType!==Lk&&(h=!0,r.lastDrawType=Lk),Dk(e,t,d,h,r),(!m||!r.batchFill&&!r.batchStroke)&&e.beginPath(),o0e(e,t,v,m),m&&(r.batchFill=v.fill||"",r.batchStroke=v.stroke||"")):t instanceof p1?(r.lastDrawType!==kk&&(h=!0,r.lastDrawType=kk),Dk(e,t,d,h,r),s0e(e,t,v)):t instanceof Nl?(r.lastDrawType!==Ok&&(h=!0,r.lastDrawType=Ok),l0e(e,t,d,h,r),a0e(e,t,v)):t.getTemporalDisplayables&&(r.lastDrawType!==Rk&&(h=!0,r.lastDrawType=Rk),d0e(e,t,r)),m&&n&&Io(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function d0e(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,a;for(s=t.getCursor(),a=n.length;s<a;s++){var h=n[s];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),QT(e,h,o,s===a-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h}for(var d=0,m=i.length;d<m;d++){var h=i[d];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),QT(e,h,o,d===m-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var V2=new G_e,zk=new yg(100),$k=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Bk(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&V2.delete(e);var o=V2.get(e);if(o)return o;var s=Dn(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var a={repeat:"repeat"};return h(a),a.rotation=s.rotation,a.scaleX=a.scaleY=i?1:1/r,V2.set(e,a),e.dirty=!1,a;function h(d){for(var m=[r],v=!0,g=0;g<$k.length;++g){var _=s[$k[g]];if(_!=null&&!Zt(_)&&!lr(_)&&!Zn(_)&&typeof _!="boolean"){v=!1;break}m.push(_)}var T;if(v){T=m.join(",")+(i?"-svg":"");var P=zk.get(T);P&&(i?d.svgElement=P:d.image=P)}var M=CN(s.dashArrayX),I=p0e(s.dashArrayY),D=TN(s.symbol),O=m0e(M),z=EN(I),F=!i&&vg.createCanvas(),N=i&&{tag:"g",attrs:{},key:"dcl",children:[]},H=J(),U;F&&(F.width=H.width*r,F.height=H.height*r,U=F.getContext("2d")),K(),v&&zk.put(T,F||N),d.image=F,d.svgElement=N,d.svgWidth=H.width,d.svgHeight=H.height;function J(){for(var ne=1,ae=0,he=O.length;ae<he;++ae)ne=XO(ne,O[ae]);for(var ie=1,ae=0,he=D.length;ae<he;++ae)ie=XO(ie,D[ae].length);ne*=ie;var de=z*O.length*D.length;return{width:Math.max(1,Math.min(ne,s.maxTileWidth)),height:Math.max(1,Math.min(de,s.maxTileHeight))}}function K(){U&&(U.clearRect(0,0,F.width,F.height),s.backgroundColor&&(U.fillStyle=s.backgroundColor,U.fillRect(0,0,F.width,F.height)));for(var ne=0,ae=0;ae<I.length;++ae)ne+=I[ae];if(ne<=0)return;for(var he=-z,ie=0,de=0,ce=0;he<H.height;){if(ie%2===0){for(var Be=de/2%D.length,Ve=0,ht=0,mt=0;Ve<H.width*2;){for(var dt=0,ae=0;ae<M[ce].length;++ae)dt+=M[ce][ae];if(dt<=0)break;if(ht%2===0){var vt=(1-s.symbolSize)*.5,Jt=Ve+M[ce][ht]*vt,ar=he+I[ie]*vt,nr=M[ce][ht]*s.symbolSize,st=I[ie]*s.symbolSize,ze=mt/2%D[Be].length;et(Jt,ar,nr,st,D[Be][ze])}Ve+=M[ce][ht],++mt,++ht,ht===M[ce].length&&(ht=0)}++ce,ce===M.length&&(ce=0)}he+=I[ie],++de,++ie,ie===I.length&&(ie=0)}function et(We,ut,ct,le,ye){var Ee=i?1:r,je=Kd(ye,We*Ee,ut*Ee,ct*Ee,le*Ee,s.color,s.symbolKeepAspect);if(i){var Ye=n.painter.renderOneToVNode(je);Ye&&N.children.push(Ye)}else f0e(U,je)}}}}function TN(e){if(!e||e.length===0)return[["rect"]];if(lr(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!lr(e[r])){t=!1;break}if(t)return TN([e]);for(var n=[],r=0;r<e.length;++r)lr(e[r])?n.push([e[r]]):n.push(e[r]);return n}function CN(e){if(!e||e.length===0)return[[0,0]];if(Zn(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!Zn(e[n])){r=!1;break}if(r)return CN([e]);for(var i=[],n=0;n<e.length;++n)if(Zn(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=ur(e[n],function(a){return Math.ceil(a)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function p0e(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Zn(e)){var t=Math.ceil(e);return[t,t]}var r=ur(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function m0e(e){return ur(e,function(t){return EN(t)})}function EN(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function v0e(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(s){var a=n.getItemVisual(s,"decal");if(a){var h=n.ensureUniqueItemVisual(s,"style");h.decal=Bk(a,t)}});var i=n.getVisual("decal");if(i){var o=n.getVisual("style");o.decal=Bk(i,t)}}})}var g0e=new Fl;const Wa=g0e;var AN={};function y0e(e,t){AN[e]=t}function _0e(e){return AN[e]}var b0e=1,x0e=800,w0e=900,S0e=1e3,T0e=2e3,C0e=5e3,PN=1e3,E0e=1100,pP=2e3,IN=3e3,A0e=4e3,Bb=4500,P0e=4600,I0e=5e3,M0e=6e3,MN=7e3,D0e={PROCESSOR:{FILTER:S0e,SERIES_FILTER:x0e,STATISTIC:C0e},VISUAL:{LAYOUT:PN,PROGRESSIVE_LAYOUT:E0e,GLOBAL:pP,CHART:IN,POST_CHART_LAYOUT:P0e,COMPONENT:A0e,BRUSH:I0e,CHART_ITEM:Bb,ARIA:M0e,DECAL:MN}},qi="__flagInMainProcess",Eo="__pendingUpdate",U2="__needsUpdateStatus",Fk=/^[a-zA-Z0-9_]+$/,H2="__connectUpdateStatus",Nk=0,L0e=1,O0e=2;function DN(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return ON(this,e,t)}}function LN(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ON(this,e,t)}}function ON(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),Fl.prototype[t].apply(e,r)}var kN=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Fl),RN=kN.prototype;RN.on=LN("on");RN.off=LN("off");var kf,j2,k_,yu,G2,W2,q2,ym,_m,Vk,Uk,X2,Hk,R_,jk,zN,ha,Gk,$N=function(e){Ut(t,e);function t(r,n,i){var o=e.call(this,new $_e)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},lr(n)&&(n=BN[n]),o._dom=r;var s="canvas",a="auto",h=!1,d=o._zr=GO(r,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:zr(i.useDirtyRect,h),useCoarsePointer:zr(i.useCoarsePointer,a),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=hP(Xn(d.flush,d),17),n=Gr(n),n&&XF(n,!0),o._theme=n,o._locale=Vge(i.locale||TF),o._coordSysMgr=new nP;var m=o._api=jk(o);function v(g,_){return g.__prio-_.__prio}return c0(C1,v),c0(eC,v),o._scheduler=new yN(o,m,eC,C1),o._messageCenter=new kN,o._initEvents(),o.resize=Xn(o.resize,o),d.animation.on("frame",o._onframe,o),Vk(d,o),Uk(d,o),vT(o),o}return t.prototype._onframe=function(){if(!this._disposed){Gk(this);var r=this._scheduler;if(this[Eo]){var n=this[Eo].silent;this[qi]=!0;try{kf(this),yu.update.call(this,null,this[Eo].updateParams)}catch(h){throw this[qi]=!1,this[Eo]=null,h}this._zr.flush(),this[qi]=!1,this[Eo]=null,ym.call(this,n),_m.call(this,n)}else if(r.unfinished){var i=b0e,o=this._model,s=this._api;r.unfinished=!1;do{var a=+new Date;r.performSeriesTasks(o),r.performDataProcessorTasks(o),W2(this,o),r.performVisualTasks(o),R_(this,this._model,s,"remain",{}),i-=+new Date-a}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[qi]){if(this._disposed){this.id;return}var o,s,a;if(pr(n)&&(i=n.lazyUpdate,o=n.silent,s=n.replaceMerge,a=n.transition,n=n.notMerge),this[qi]=!0,!this._model||n){var h=new xye(this._api),d=this._theme,m=this._model=new GF;m.scheduler=this._scheduler,m.ssr=this._ssr,m.init(null,null,null,d,this._locale,h)}this._model.setOption(r,{replaceMerge:s},tC);var v={seriesTransition:a,optionChanged:!0};if(i)this[Eo]={silent:o,updateParams:v},this[qi]=!1,this.getZr().wakeUp();else{try{kf(this),yu.update.call(this,null,v)}catch(g){throw this[Eo]=null,this[qi]=!1,g}this._ssr||this._zr.flush(),this[Eo]=null,this[qi]=!1,ym.call(this,o),_m.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Rr.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Rr.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return Me(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,o=[],s=this;Me(n,function(h){i.eachComponent({mainType:h},function(d){var m=s._componentsMap[d.__viewId];m.group.ignore||(o.push(m),m.group.ignore=!0)})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return Me(o,function(h){h.group.ignore=!1}),a},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,o=Math.min,s=Math.max,a=1/0;if(Wk[i]){var h=a,d=a,m=-a,v=-a,g=[],_=r&&r.pixelRatio||this.getDevicePixelRatio();Me(cv,function(O,z){if(O.group===i){var F=n?O.getZr().painter.getSvgDom().innerHTML:O.renderToCanvas(Gr(r)),N=O.getDom().getBoundingClientRect();h=o(N.left,h),d=o(N.top,d),m=s(N.right,m),v=s(N.bottom,v),g.push({dom:F,left:N.left,top:N.top})}}),h*=_,d*=_,m*=_,v*=_;var T=m-h,P=v-d,M=vg.createCanvas(),I=GO(M,{renderer:n?"svg":"canvas"});if(I.resize({width:T,height:P}),n){var D="";return Me(g,function(O){var z=O.left-h,F=O.top-d;D+='<g transform="translate('+z+","+F+')">'+O.dom+"</g>"}),I.painter.getSvgRoot().innerHTML=D,r.connectedBackgroundColor&&I.painter.setBackgroundColor(r.connectedBackgroundColor),I.refreshImmediately(),I.painter.toDataURL()}else return r.connectedBackgroundColor&&I.add(new Lo({shape:{x:0,y:0,width:T,height:P},style:{fill:r.connectedBackgroundColor}})),Me(g,function(O){var z=new Nl({style:{x:O.left*_-h,y:O.top*_-d,image:O.dom}});I.add(z)}),I.refreshImmediately(),M.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return G2(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return G2(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,o,s=p2(i,r);return Me(s,function(a,h){h.indexOf("Models")>=0&&Me(a,function(d){var m=d.coordinateSystem;if(m&&m.containPoint)o=o||!!m.containPoint(n);else if(h==="seriesModels"){var v=this._chartsMap[d.__viewId];v&&v.containPoint&&(o=o||v.containPoint(n,d))}},this)},this),!!o},t.prototype.getVisual=function(r,n){var i=this._model,o=p2(i,r,{defaultMainType:"series"}),s=o.seriesModel,a=s.getData(),h=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?a.indexOfRawIndex(o.dataIndex):null;return h!=null?N_e(a,h,n):bN(a,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;Me(k0e,function(n){var i=function(o){var s=r.getModel(),a=o.target,h,d=n==="globalout";if(d?h={}:a&&zm(a,function(T){var P=Pn(T);if(P&&P.dataIndex!=null){var M=P.dataModel||s.getSeriesByIndex(P.seriesIndex);return h=M&&M.getDataParams(P.dataIndex,P.dataType)||{},!0}else if(P.eventData)return h=Dt({},P.eventData),!0},!0),h){var m=h.componentType,v=h.componentIndex;(m==="markLine"||m==="markPoint"||m==="markArea")&&(m="series",v=h.seriesIndex);var g=m&&v!=null&&s.getComponent(m,v),_=g&&r[g.mainType==="series"?"_chartsMap":"_componentsMap"][g.__viewId];h.event=o,h.type=n,r._$eventProcessor.eventInfo={targetEl:a,packedEvent:h,model:g,view:_},r.trigger(n,h)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),Me(uv,function(n,i){r._messageCenter.on(i,function(o){this.trigger(i,o)},r)}),Me(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),V_e(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&w8(this.getDom(),vP,"");var n=this,i=n._api,o=n._model;Me(n._componentsViews,function(s){s.dispose(o,i)}),Me(n._chartsViews,function(s){s.dispose(o,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete cv[n.id]},t.prototype.resize=function(r){if(!this[qi]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),o=r&&r.silent;this[Eo]&&(o==null&&(o=this[Eo].silent),i=!0,this[Eo]=null),this[qi]=!0;try{i&&kf(this),yu.update.call(this,{type:"resize",animation:Dt({duration:0},r&&r.animation)})}catch(s){throw this[qi]=!1,s}this[qi]=!1,ym.call(this,o),_m.call(this,o)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(pr(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!rC[r]){var i=rC[r](this._api,n),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=Dt({},r);return n.type=uv[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(pr(n)||(n={silent:!!n}),!!T1[r.type]&&this._model){if(this[qi]){this._pendingActions.push(r);return}var i=n.silent;q2.call(this,r,i);var o=n.flush;o?this._zr.flush():o!==!1&&Rr.browser.weChat&&this._throttledZrFlush(),ym.call(this,i),_m.call(this,i)}},t.prototype.updateLabelLayout=function(){Wa.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(n);o.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){kf=function(v){var g=v._scheduler;g.restorePipelines(v._model),g.prepareStageTasks(),j2(v,!0),j2(v,!1),g.plan()},j2=function(v,g){for(var _=v._model,T=v._scheduler,P=g?v._componentsViews:v._chartsViews,M=g?v._componentsMap:v._chartsMap,I=v._zr,D=v._api,O=0;O<P.length;O++)P[O].__alive=!1;g?_.eachComponent(function(N,H){N!=="series"&&z(H)}):_.eachSeries(z);function z(N){var H=N.__requireNewView;N.__requireNewView=!1;var U="_ec_"+N.id+"_"+N.type,J=!H&&M[U];if(!J){var K=Ds(N.type),ne=g?Ml.getClass(K.main,K.sub):bh.getClass(K.sub);J=new ne,J.init(_,D),M[U]=J,P.push(J),I.add(J.group)}N.__viewId=J.__id=U,J.__alive=!0,J.__model=N,J.group.__ecComponentInfo={mainType:N.mainType,index:N.componentIndex},!g&&T.prepareView(J,N,_,D)}for(var O=0;O<P.length;){var F=P[O];F.__alive?O++:(!g&&F.renderTask.dispose(),I.remove(F.group),F.dispose(_,D),P.splice(O,1),M[F.__id]===F&&delete M[F.__id],F.__id=F.group.__ecComponentInfo=null)}},k_=function(v,g,_,T,P){var M=v._model;if(M.setUpdatePayload(_),!T){Me([].concat(v._componentsViews).concat(v._chartsViews),F);return}var I={};I[T+"Id"]=_[T+"Id"],I[T+"Index"]=_[T+"Index"],I[T+"Name"]=_[T+"Name"];var D={mainType:T,query:I};P&&(D.subType=P);var O=_.excludeSeriesId,z;O!=null&&(z=Br(),Me(bo(O),function(N){var H=ks(N,null);H!=null&&z.set(H,!0)})),M&&M.eachComponent(D,function(N){var H=z&&z.get(N.id)!=null;if(!H)if(x3(_))if(N instanceof Od)_.type===_h&&!_.notBlur&&!N.get(["emphasis","disabled"])&&mve(N,_,v._api);else{var U=BA(N.mainType,N.componentIndex,_.name,v._api),J=U.focusSelf,K=U.dispatchers;_.type===_h&&J&&!_.notBlur&&FT(N.mainType,N.componentIndex,v._api),K&&Me(K,function(ne){_.type===_h?Hv(ne):jv(ne)})}else VT(_)&&N instanceof Od&&(yve(N,_,v._api),b3(N),ha(v))},v),M&&M.eachComponent(D,function(N){var H=z&&z.get(N.id)!=null;H||F(v[T==="series"?"_chartsMap":"_componentsMap"][N.__viewId])},v);function F(N){N&&N.__alive&&N[g]&&N[g](N.__model,M,v._api,_)}},yu={prepareAndUpdate:function(v){kf(this),yu.update.call(this,v,{optionChanged:v.newOption!=null})},update:function(v,g){var _=this._model,T=this._api,P=this._zr,M=this._coordSysMgr,I=this._scheduler;if(_){_.setUpdatePayload(v),I.restoreData(_,v),I.performSeriesTasks(_),M.create(_,T),I.performDataProcessorTasks(_,v),W2(this,_),M.update(_,T),r(_),I.performVisualTasks(_,v),X2(this,_,T,v,g);var D=_.get("backgroundColor")||"transparent",O=_.get("darkMode");P.setBackgroundColor(D),O!=null&&O!=="auto"&&P.setDarkMode(O),Wa.trigger("afterupdate",_,T)}},updateTransform:function(v){var g=this,_=this._model,T=this._api;if(_){_.setUpdatePayload(v);var P=[];_.eachComponent(function(I,D){if(I!=="series"){var O=g.getViewOfComponentModel(D);if(O&&O.__alive)if(O.updateTransform){var z=O.updateTransform(D,_,T,v);z&&z.update&&P.push(O)}else P.push(O)}});var M=Br();_.eachSeries(function(I){var D=g._chartsMap[I.__viewId];if(D.updateTransform){var O=D.updateTransform(I,_,T,v);O&&O.update&&M.set(I.uid,1)}else M.set(I.uid,1)}),r(_),this._scheduler.performVisualTasks(_,v,{setDirty:!0,dirtyMap:M}),R_(this,_,T,v,{},M),Wa.trigger("afterupdate",_,T)}},updateView:function(v){var g=this._model;g&&(g.setUpdatePayload(v),bh.markUpdateMethod(v,"updateView"),r(g),this._scheduler.performVisualTasks(g,v,{setDirty:!0}),X2(this,g,this._api,v,{}),Wa.trigger("afterupdate",g,this._api))},updateVisual:function(v){var g=this,_=this._model;_&&(_.setUpdatePayload(v),_.eachSeries(function(T){T.getData().clearAllVisual()}),bh.markUpdateMethod(v,"updateVisual"),r(_),this._scheduler.performVisualTasks(_,v,{visualType:"visual",setDirty:!0}),_.eachComponent(function(T,P){if(T!=="series"){var M=g.getViewOfComponentModel(P);M&&M.__alive&&M.updateVisual(P,_,g._api,v)}}),_.eachSeries(function(T){var P=g._chartsMap[T.__viewId];P.updateVisual(T,_,g._api,v)}),Wa.trigger("afterupdate",_,this._api))},updateLayout:function(v){yu.update.call(this,v)}},G2=function(v,g,_,T){if(v._disposed){v.id;return}for(var P=v._model,M=v._coordSysMgr.getCoordinateSystems(),I,D=p2(P,_),O=0;O<M.length;O++){var z=M[O];if(z[g]&&(I=z[g](P,D,T))!=null)return I}},W2=function(v,g){var _=v._chartsMap,T=v._scheduler;g.eachSeries(function(P){T.updateStreamModes(P,_[P.__viewId])})},q2=function(v,g){var _=this,T=this.getModel(),P=v.type,M=v.escapeConnect,I=T1[P],D=I.actionInfo,O=(D.update||"update").split(":"),z=O.pop(),F=O[0]!=null&&Ds(O[0]);this[qi]=!0;var N=[v],H=!1;v.batch&&(H=!0,N=ur(v.batch,function(ie){return ie=Dn(Dt({},ie),v),ie.batch=null,ie}));var U=[],J,K=VT(v),ne=x3(v);if(ne&&q8(this._api),Me(N,function(ie){if(J=I.action(ie,_._model,_._api),J=J||Dt({},ie),J.type=D.event||J.type,U.push(J),ne){var de=MA(v),ce=de.queryOptionMap,Be=de.mainTypeSpecified,Ve=Be?ce.keys()[0]:"series";k_(_,z,ie,Ve),ha(_)}else K?(k_(_,z,ie,"series"),ha(_)):F&&k_(_,z,ie,F.main,F.sub)}),z!=="none"&&!ne&&!K&&!F)try{this[Eo]?(kf(this),yu.update.call(this,v),this[Eo]=null):yu[z].call(this,v)}catch(ie){throw this[qi]=!1,ie}if(H?J={type:D.event||P,escapeConnect:M,batch:U}:J=U[0],this[qi]=!1,!g){var ae=this._messageCenter;if(ae.trigger(J.type,J),K){var he={type:"selectchanged",escapeConnect:M,selected:_ve(T),isFromClick:v.isFromClick||!1,fromAction:v.type,fromActionPayload:v};ae.trigger(he.type,he)}}},ym=function(v){for(var g=this._pendingActions;g.length;){var _=g.shift();q2.call(this,_,v)}},_m=function(v){!v&&this.trigger("updated")},Vk=function(v,g){v.on("rendered",function(_){g.trigger("rendered",_),v.animation.isFinished()&&!g[Eo]&&!g._scheduler.unfinished&&!g._pendingActions.length&&g.trigger("finished")})},Uk=function(v,g){v.on("mouseover",function(_){var T=_.target,P=zm(T,NT);P&&(vve(P,_,g._api),ha(g))}).on("mouseout",function(_){var T=_.target,P=zm(T,NT);P&&(gve(P,_,g._api),ha(g))}).on("click",function(_){var T=_.target,P=zm(T,function(D){return Pn(D).dataIndex!=null},!0);if(P){var M=P.selected?"unselect":"select",I=Pn(P);g._api.dispatchAction({type:M,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})};function r(v){v.clearColorPalette(),v.eachSeries(function(g){g.clearColorPalette()})}function n(v){var g=[],_=[],T=!1;if(v.eachComponent(function(D,O){var z=O.get("zlevel")||0,F=O.get("z")||0,N=O.getZLevelKey();T=T||!!N,(D==="series"?_:g).push({zlevel:z,z:F,idx:O.componentIndex,type:D,key:N})}),T){var P=g.concat(_),M,I;c0(P,function(D,O){return D.zlevel===O.zlevel?D.z-O.z:D.zlevel-O.zlevel}),Me(P,function(D){var O=v.getComponent(D.type,D.idx),z=D.zlevel,F=D.key;M!=null&&(z=Math.max(M,z)),F?(z===M&&F!==I&&z++,I=F):I&&(z===M&&z++,I=""),M=z,O.setZLevel(z)})}}X2=function(v,g,_,T,P){n(g),Hk(v,g,_,T,P),Me(v._chartsViews,function(M){M.__alive=!1}),R_(v,g,_,T,P),Me(v._chartsViews,function(M){M.__alive||M.remove(g,_)})},Hk=function(v,g,_,T,P,M){Me(M||v._componentsViews,function(I){var D=I.__model;d(D,I),I.render(D,g,_,T),a(D,I),m(D,I)})},R_=function(v,g,_,T,P,M){var I=v._scheduler;P=Dt(P||{},{updatedSeries:g.getSeries()}),Wa.trigger("series:beforeupdate",g,_,P);var D=!1;g.eachSeries(function(O){var z=v._chartsMap[O.__viewId];z.__alive=!0;var F=z.renderTask;I.updatePayload(F,T),d(O,z),M&&M.get(O.uid)&&F.dirty(),F.perform(I.getPerformArgs(F))&&(D=!0),z.group.silent=!!O.get("silent"),s(O,z),b3(O)}),I.unfinished=D||I.unfinished,Wa.trigger("series:layoutlabels",g,_,P),Wa.trigger("series:transition",g,_,P),g.eachSeries(function(O){var z=v._chartsMap[O.__viewId];a(O,z),m(O,z)}),o(v,g),Wa.trigger("series:afterupdate",g,_,P)},ha=function(v){v[U2]=!0,v.getZr().wakeUp()},Gk=function(v){v[U2]&&(v.getZr().storage.traverse(function(g){av(g)||i(g)}),v[U2]=!1)};function i(v){for(var g=[],_=v.currentStates,T=0;T<_.length;T++){var P=_[T];P==="emphasis"||P==="blur"||P==="select"||g.push(P)}v.selected&&v.states.select&&g.push("select"),v.hoverState===RA&&v.states.emphasis?g.push("emphasis"):v.hoverState===kA&&v.states.blur&&g.push("blur"),v.useStates(g)}function o(v,g){var _=v._zr,T=_.storage,P=0;T.traverse(function(M){M.isGroup||P++}),P>g.get("hoverLayerThreshold")&&!Rr.node&&!Rr.worker&&g.eachSeries(function(M){if(!M.preventUsingHoverLayer){var I=v._chartsMap[M.__viewId];I.__alive&&I.eachRendered(function(D){D.states.emphasis&&(D.states.emphasis.hoverLayer=!0)})}})}function s(v,g){var _=v.get("blendMode")||null;g.eachRendered(function(T){T.isGroup||(T.style.blend=_)})}function a(v,g){if(!v.preventAutoZ){var _=v.get("z")||0,T=v.get("zlevel")||0;g.eachRendered(function(P){return h(P,_,T,-1/0),!0})}}function h(v,g,_,T){var P=v.getTextContent(),M=v.getTextGuideLine(),I=v.isGroup;if(I)for(var D=v.childrenRef(),O=0;O<D.length;O++)T=Math.max(h(D[O],g,_,T),T);else v.z=g,v.zlevel=_,T=Math.max(v.z2,T);if(P&&(P.z=g,P.zlevel=_,isFinite(T)&&(P.z2=T+2)),M){var z=v.textGuideLineConfig;M.z=g,M.zlevel=_,isFinite(T)&&(M.z2=T+(z&&z.showAbove?1:-1))}return T}function d(v,g){g.eachRendered(function(_){if(!av(_)){var T=_.getTextContent(),P=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),T&&T.stateTransition&&(T.stateTransition=null),P&&P.stateTransition&&(P.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function m(v,g){var _=v.getModel("stateAnimation"),T=v.isAnimationEnabled(),P=_.get("duration"),M=P>0?{duration:P,delay:_.get("delay"),easing:_.get("easing")}:null;g.eachRendered(function(I){if(I.states&&I.states.emphasis){if(av(I))return;if(I instanceof hn&&Tve(I),I.__dirty){var D=I.prevStates;D&&I.useStates(D)}if(T){I.stateTransition=M;var O=I.getTextContent(),z=I.getTextGuideLine();O&&(O.stateTransition=M),z&&(z.stateTransition=M)}I.__dirty&&i(I)}})}jk=function(v){return new(function(g){Ut(_,g);function _(){return g!==null&&g.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return v._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(T){for(;T;){var P=T.__ecComponentInfo;if(P!=null)return v._model.getComponent(P.mainType,P.index);T=T.parent}},_.prototype.enterEmphasis=function(T,P){Hv(T,P),ha(v)},_.prototype.leaveEmphasis=function(T,P){jv(T,P),ha(v)},_.prototype.enterBlur=function(T){H8(T),ha(v)},_.prototype.leaveBlur=function(T){$A(T),ha(v)},_.prototype.enterSelect=function(T){j8(T),ha(v)},_.prototype.leaveSelect=function(T){G8(T),ha(v)},_.prototype.getModel=function(){return v.getModel()},_.prototype.getViewOfComponentModel=function(T){return v.getViewOfComponentModel(T)},_.prototype.getViewOfSeriesModel=function(T){return v.getViewOfSeriesModel(T)},_}(WF))(v)},zN=function(v){function g(_,T){for(var P=0;P<_.length;P++){var M=_[P];M[H2]=T}}Me(uv,function(_,T){v._messageCenter.on(T,function(P){if(Wk[v.group]&&v[H2]!==Nk){if(P&&P.escapeConnect)return;var M=v.makeActionFromEvent(P),I=[];Me(cv,function(D){D!==v&&D.group===v.group&&I.push(D)}),g(I,Nk),Me(I,function(D){D[H2]!==L0e&&D.dispatchAction(M)}),g(I,O0e)}})})}}(),t}(Fl),mP=$N.prototype;mP.on=DN("on");mP.off=DN("off");mP.one=function(e,t,r){var n=this;function i(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];t&&t.apply&&t.apply(this,o),n.off(e,i)}this.on.call(this,e,i,r)};var k0e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var T1={},uv={},eC=[],tC=[],C1=[],BN={},rC={},cv={},Wk={},R0e=+new Date-0,vP="_echarts_instance_";function z0e(e,t,r){var n=!(r&&r.ssr);if(n){var i=$0e(e);if(i)return i}var o=new $N(e,t,r);return o.id="ec_"+R0e++,cv[o.id]=o,n&&w8(e,vP,o.id),zN(o),Wa.trigger("afterinit",o),o}function $0e(e){return cv[ome(e,vP)]}function FN(e,t){BN[e]=t}function NN(e){vn(tC,e)<0&&tC.push(e)}function VN(e,t){yP(eC,e,t,T0e)}function B0e(e){gP("afterinit",e)}function F0e(e){gP("afterupdate",e)}function gP(e,t){Wa.on(e,t)}function Yd(e,t,r){wr(t)&&(r=t,t="");var n=pr(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!uv[t]&&(ts(Fk.test(n)&&Fk.test(t)),T1[n]||(T1[n]={action:r,actionInfo:e}),uv[t]=n)}function N0e(e,t){nP.register(e,t)}function V0e(e,t){yP(C1,e,t,PN,"layout")}function Bh(e,t){yP(C1,e,t,IN,"visual")}var qk=[];function yP(e,t,r,n,i){if((wr(t)||pr(t))&&(r=t,t=n),!(vn(qk,r)>=0)){qk.push(r);var o=yN.wrapStageHandler(r,i);o.__prio=t,o.__raw=r,e.push(o)}}function UN(e,t){rC[e]=t}function U0e(e,t,r){var n=_0e("registerMap");n&&n(e,t,r)}var H0e=Wye;Bh(pP,x_e);Bh(Bb,w_e);Bh(Bb,S_e);Bh(pP,B_e);Bh(Bb,F_e);Bh(MN,v0e);NN(XF);VN(w0e,Iye);UN("default",T_e);Yd({type:_h,event:_h,update:_h},_o);Yd({type:g0,event:g0,update:g0},_o);Yd({type:nv,event:nv,update:nv},_o);Yd({type:y0,event:y0,update:y0},_o);Yd({type:iv,event:iv,update:iv},_o);FN("light",R_e);FN("dark",z_e);function bm(e){return e==null?0:e.length||1}function Xk(e){return e}var j0e=function(){function e(t,r,n,i,o,s){this._old=t,this._new=r,this._oldKeyGetter=n||Xk,this._newKeyGetter=i||Xk,this.context=o,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),o=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,o,"_newKeyGetter");for(var s=0;s<t.length;s++){var a=i[s],h=n[a],d=bm(h);if(d>1){var m=h.shift();h.length===1&&(n[a]=h[0]),this._update&&this._update(m,s)}else d===1?(n[a]=null,this._update&&this._update(h,s)):this._remove&&this._remove(s)}this._performRestAdd(o,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},o=[],s=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(r,i,s,"_newKeyGetter");for(var a=0;a<o.length;a++){var h=o[a],d=n[h],m=i[h],v=bm(d),g=bm(m);if(v>1&&g===1)this._updateManyToOne&&this._updateManyToOne(m,d),i[h]=null;else if(v===1&&g>1)this._updateOneToMany&&this._updateOneToMany(m,d),i[h]=null;else if(v===1&&g===1)this._update&&this._update(m,d),i[h]=null;else if(v>1&&g>1)this._updateManyToMany&&this._updateManyToMany(m,d),i[h]=null;else if(v>1)for(var _=0;_<v;_++)this._remove&&this._remove(d[_]);else this._remove&&this._remove(d)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],o=r[i],s=bm(o);if(s>1)for(var a=0;a<s;a++)this._add&&this._add(o[a]);else s===1&&this._add&&this._add(o);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var a="_ec_"+this[i](t[s],s);if(o||(n[s]=a),!!r){var h=r[a],d=bm(h);d===0?(r[a]=s,o&&n.push(a)):d===1?r[a]=[h,s]:h.push(s)}}},e}();const G0e=j0e;var W0e=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function q0e(e,t){var r={},n=r.encode={},i=Br(),o=[],s=[],a={};Me(e.dimensions,function(g){var _=e.getDimensionInfo(g),T=_.coordDim;if(T){var P=_.coordDimIndex;Z2(n,T)[P]=g,_.isExtraCoord||(i.set(T,1),Z0e(_.type)&&(o[0]=g),Z2(a,T)[P]=e.getDimensionIndex(_.name)),_.defaultTooltip&&s.push(g)}FF.each(function(M,I){var D=Z2(n,I),O=_.otherDims[I];O!=null&&O!==!1&&(D[O]=_.name)})});var h=[],d={};i.each(function(g,_){var T=n[_];d[_]=T[0],h=h.concat(T)}),r.dataDimsOnCoord=h,r.dataDimIndicesOnCoord=ur(h,function(g){return e.getDimensionInfo(g).storeDimIndex}),r.encodeFirstDimNotExtra=d;var m=n.label;m&&m.length&&(o=m.slice());var v=n.tooltip;return v&&v.length?s=v.slice():s.length||(s=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=s,r.userOutput=new W0e(a,t),r}function Z2(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function X0e(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Z0e(e){return!(e==="ordinal"||e==="time")}var K0e=function(){function e(t){this.otherDims={},t!=null&&Dt(this,t)}return e}();const x0=K0e;var Y0e=ni(),J0e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},HN=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=WN(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return zr(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=KF(this.source),n=!qN(t),i="",o=[],s=0,a=0;s<t;s++){var h=void 0,d=void 0,m=void 0,v=this.dimensions[a];if(v&&v.storeDimIndex===s)h=r?v.name:null,d=v.type,m=v.ordinalMeta,a++;else{var g=this.getSourceDimension(s);g&&(h=r?g.name:null,d=g.type)}o.push({property:h,type:d,ordinalMeta:m}),r&&h!=null&&(!v||!v.isCalculationCoord)&&(i+=n?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=J0e[d]||"f",m&&(i+=m.uid),i+="$"}var _=this.source,T=[_.seriesLayoutBy,_.startIndex,i].join("$$");return{dimensions:o,hash:T}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,o=this.dimensions[n];if(o&&o.storeDimIndex===r)o.isCalculationCoord||(i=o.name),n++;else{var s=this.getSourceDimension(r);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function jN(e){return e instanceof HN}function GN(e){for(var t=Br(),r=0;r<(e||[]).length;r++){var n=e[r],i=pr(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function WN(e){var t=Y0e(e);return t.dimNameMap||(t.dimNameMap=GN(e.dimensionsDefine))}function qN(e){return e>30}var xm=pr,_u=ur,Q0e=typeof Int32Array>"u"?Array:Int32Array,e1e="e\0\0",Zk=-1,t1e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],r1e=["_approximateExtent"],Kk,z_,wm,Sm,K2,$_,Y2,n1e=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,i=!1;jN(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var o={},s=[],a={},h=!1,d={},m=0;m<n.length;m++){var v=n[m],g=lr(v)?new x0({name:v}):v instanceof x0?v:new x0(v),_=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=_,g.coordDimIndex=0);var T=g.otherDims=g.otherDims||{};s.push(_),o[_]=g,d[_]!=null&&(h=!0),g.createInvertedIndices&&(a[_]=[]),T.itemName===0&&(this._nameDimIdx=m),T.itemId===0&&(this._idDimIdx=m),i&&(g.storeDimIndex=m)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(h),this.hostModel=r,this._invertedIndicesMap=a,this._dimOmitted){var P=this._dimIdxToName=Br();Me(s,function(M){P.set(o[M].storeDimIndex,M)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Zn(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,o;if(t instanceof WT&&(o=t),!o){var s=this.dimensions,a=iP(t)||$o(t)?new YF(t,s.length):t;o=new WT;var h=_u(s,function(d){return{type:i._dimInfos[d].type,property:d}});o.initData(a,h,n)}this._store=o,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=q0e(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r.length),i=n.start,o=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var a=i;a<o;a++){var h=a-i;this._nameList[a]=r[h],s&&Y2(this,a)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Nu&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,a=i.getSource().sourceFormat,h=a===Ma;if(h&&!i.pure)for(var d=[],m=t;m<r;m++){var v=i.getItem(m,d);if(!this.hasItemOption&&Xpe(v)&&(this.hasItemOption=!0),v){var g=v.name;o[m]==null&&g!=null&&(o[m]=ks(g,null));var _=v.id;s[m]==null&&_!=null&&(s[m]=ks(_,null))}}if(this._shouldMakeIdFromName())for(var m=t;m<r;m++)Y2(this,m);Kk(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){xm(t)?Dt(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=wm(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return z_(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return Zt(t)?i.getValues(_u(t,function(o){return n._getStoreDimIndex(o)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n[r];return i==null||isNaN(i)?Zk:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){wr(t)&&(n=r,r=t,t=[]);var i=n||this,o=_u(Sm(t),this._getStoreDimIndex,this);this._store.each(o,i?Xn(r,i):r)},e.prototype.filterSelf=function(t,r,n){wr(t)&&(n=r,r=t,t=[]);var i=n||this,o=_u(Sm(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?Xn(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=en(t);return Me(i,function(o){var s=r._getStoreDimIndex(o);n[s]=t[o]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){wr(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var o=n||i||this,s=_u(Sm(t),this._getStoreDimIndex,this),a=$_(this);return a._store=this._store.map(s,o?Xn(r,o):r),a},e.prototype.modify=function(t,r,n,i){var o=n||i||this,s=_u(Sm(t),this._getStoreDimIndex,this);this._store.modify(s,o?Xn(r,o):r)},e.prototype.downSample=function(t,r,n,i){var o=$_(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),o},e.prototype.lttbDownSample=function(t,r){var n=$_(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new yo(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new G0e(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return z_(t,n)},function(n){return z_(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},xm(t)?Dt(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var o=i[r];return o==null&&(o=this.getVisual(r),Zt(o)?o=o.slice():xm(o)&&(o=Dt({},o)),i[r]=o),o},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,xm(r)?Dt(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){xm(t)?Dt(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?Dt(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;ove(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){Me(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:_u(this.dimensions,this._getDimInfo,this),this.hostModel)),K2(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];wr(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(gA(arguments)))})},e.internalField=function(){Kk=function(t){var r=t._invertedIndicesMap;Me(r,function(n,i){var o=t._dimInfos[i],s=o.ordinalMeta,a=t._store;if(s){n=r[i]=new Q0e(s.categories.length);for(var h=0;h<n.length;h++)n[h]=Zk;for(var h=0;h<a.count();h++)n[a.get(o.storeDimIndex,h)]=h}})},wm=function(t,r,n){return ks(t._getCategory(r,n),null)},z_=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=wm(t,t._idDimIdx,r)),n==null&&(n=e1e+r),n},Sm=function(t){return Zt(t)||(t=t!=null?[t]:[]),t},$_=function(t){var r=new e(t._schema?t._schema:_u(t.dimensions,t._getDimInfo,t),t.hostModel);return K2(r,t),r},K2=function(t,r){Me(t1e.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,Me(r1e,function(n){t[n]=Gr(r[n])}),t._calculationInfo=Dt({},r._calculationInfo)},Y2=function(t,r){var n=t._nameList,i=t._idList,o=t._nameDimIdx,s=t._idDimIdx,a=n[r],h=i[r];if(a==null&&o!=null&&(n[r]=a=wm(t,o,r)),h==null&&s!=null&&(i[r]=h=wm(t,s,r)),h==null&&a!=null){var d=t._nameRepeatCount,m=d[a]=(d[a]||0)+1;h=a,m>1&&(h+="__ec__"+m),i[r]=h}}}(),e}();const _P=n1e;function i1e(e,t){iP(e)||(e=oP(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=Br(),o=[],s=a1e(e,r,n,t.dimensionsCount),a=t.canOmitUnusedDimensions&&qN(s),h=n===e.dimensionsDefine,d=h?WN(e):GN(n),m=t.encodeDefine;!m&&t.encodeDefaulter&&(m=t.encodeDefaulter(e,s));for(var v=Br(m),g=new nN(s),_=0;_<g.length;_++)g[_]=-1;function T(J){var K=g[J];if(K<0){var ne=n[J],ae=pr(ne)?ne:{name:ne},he=new x0,ie=ae.name;ie!=null&&d.get(ie)!=null&&(he.name=he.displayName=ie),ae.type!=null&&(he.type=ae.type),ae.displayName!=null&&(he.displayName=ae.displayName);var de=o.length;return g[J]=de,he.storeDimIndex=J,o.push(he),he}return o[K]}if(!a)for(var _=0;_<s;_++)T(_);v.each(function(J,K){var ne=bo(J).slice();if(ne.length===1&&!lr(ne[0])&&ne[0]<0){v.set(K,!1);return}var ae=v.set(K,[]);Me(ne,function(he,ie){var de=lr(he)?d.get(he):he;de!=null&&de<s&&(ae[ie]=de,M(T(de),K,ie))})});var P=0;Me(r,function(J){var K,ne,ae,he;if(lr(J))K=J,he={};else{he=J,K=he.name;var ie=he.ordinalMeta;he.ordinalMeta=null,he=Dt({},he),he.ordinalMeta=ie,ne=he.dimsDef,ae=he.otherDims,he.name=he.coordDim=he.coordDimIndex=he.dimsDef=he.otherDims=null}var de=v.get(K);if(de!==!1){if(de=bo(de),!de.length)for(var ce=0;ce<(ne&&ne.length||1);ce++){for(;P<s&&T(P).coordDim!=null;)P++;P<s&&de.push(P++)}Me(de,function(Be,Ve){var ht=T(Be);if(h&&he.type!=null&&(ht.type=he.type),M(Dn(ht,he),K,Ve),ht.name==null&&ne){var mt=ne[Ve];!pr(mt)&&(mt={name:mt}),ht.name=ht.displayName=mt.name,ht.defaultTooltip=mt.defaultTooltip}ae&&Dn(ht.otherDims,ae)})}});function M(J,K,ne){FF.get(K)!=null?J.otherDims[K]=ne:(J.coordDim=K,J.coordDimIndex=ne,i.set(K,!0))}var I=t.generateCoord,D=t.generateCoordCount,O=D!=null;D=I?D||1:0;var z=I||"value";function F(J){J.name==null&&(J.name=J.coordDim)}if(a)Me(o,function(J){F(J)}),o.sort(function(J,K){return J.storeDimIndex-K.storeDimIndex});else for(var N=0;N<s;N++){var H=T(N),U=H.coordDim;U==null&&(H.coordDim=s1e(z,i,O),H.coordDimIndex=0,(!I||D<=0)&&(H.isExtraCoord=!0),D--),F(H),H.type==null&&(HF(e,N)===Xo.Must||H.isExtraCoord&&(H.otherDims.itemName!=null||H.otherDims.seriesName!=null))&&(H.type="ordinal")}return o1e(o),new HN({source:e,dimensions:o,fullDimensionCount:s,dimensionOmitted:a})}function o1e(e){for(var t=Br(),r=0;r<e.length;r++){var n=e[r],i=n.name,o=t.get(i)||0;o>0&&(n.name=i+(o-1)),o++,t.set(i,o)}}function a1e(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return Me(t,function(o){var s;pr(o)&&(s=o.dimsDef)&&(i=Math.max(i,s.length))}),i}function s1e(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var l1e=function(){function e(t){this.coordSysDims=[],this.axisMap=Br(),this.categoryAxisMap=Br(),this.coordSysName=t}return e}();function u1e(e){var t=e.get("coordinateSystem"),r=new l1e(t),n=c1e[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var c1e={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",Ya).models[0],o=e.getReferringComponents("yAxis",Ya).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",o),Rf(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Rf(o)&&(n.set("y",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",Ya).models[0];t.coordSysDims=["single"],r.set("single",i),Rf(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",Ya).models[0],o=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",o),r.set("angle",s),Rf(o)&&(n.set("radius",o),t.firstCategoryDimIndex=0),Rf(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,o=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=o.dimensions.slice();Me(o.parallelAxisIndex,function(a,h){var d=i.getComponent("parallelAxis",a),m=s[h];r.set(m,d),Rf(d)&&(n.set(m,d),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=h))})}};function Rf(e){return e.get("type")==="category"}function h1e(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,o,s,a;f1e(t)?o=t:(s=t.schema,o=s.dimensions,a=t.store);var h=!!(e&&e.get("stack")),d,m,v,g;if(Me(o,function(D,O){lr(D)&&(o[O]=D={name:D}),h&&!D.isExtraCoord&&(!n&&!d&&D.ordinalMeta&&(d=D),!m&&D.type!=="ordinal"&&D.type!=="time"&&(!i||i===D.coordDim)&&(m=D))}),m&&!n&&!d&&(n=!0),m){v="__\0ecstackresult_"+e.id,g="__\0ecstackedover_"+e.id,d&&(d.createInvertedIndices=!0);var _=m.coordDim,T=m.type,P=0;Me(o,function(D){D.coordDim===_&&P++});var M={name:v,coordDim:_,coordDimIndex:P,type:T,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},I={name:g,coordDim:g,coordDimIndex:P+1,type:T,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(a&&(M.storeDimIndex=a.ensureCalculationDimension(g,T),I.storeDimIndex=a.ensureCalculationDimension(v,T)),s.appendCalculationDimension(M),s.appendCalculationDimension(I)):(o.push(M),o.push(I))}return{stackedDimension:m&&m.name,stackedByDimension:d&&d.name,isStackedByIndex:n,stackedOverDimension:g,stackResultDimension:v}}function f1e(e){return!jN(e.schema)}function E1(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function d1e(e,t){return E1(e,t)?e.getCalculationInfo("stackResultDimension"):t}function p1e(e,t){var r=e.get("coordinateSystem"),n=nP.get(r),i;return t&&t.coordSysDims&&(i=ur(t.coordSysDims,function(o){var s={name:o},a=t.axisMap.get(o);if(a){var h=a.get("type");s.type=X0e(h)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function m1e(e,t,r){var n,i;return r&&Me(e,function(o,s){var a=o.coordDim,h=r.categoryAxisMap.get(a);h&&(n==null&&(n=s),o.ordinalMeta=h.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function v1e(e,t,r){r=r||{};var n=t.getSourceManager(),i,o=!1;e?(o=!0,i=oP(e)):(i=n.getSource(),o=i.sourceFormat===Ma);var s=u1e(t),a=p1e(t,s),h=r.useEncodeDefaulter,d=wr(h)?h:h?Ai(tye,a,t):null,m={coordDimensions:a,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!o},v=i1e(i,m),g=m1e(v.dimensions,r.createInvertedIndices,s),_=o?null:n.getSharedDataStore(v),T=h1e(t,{schema:v,store:_}),P=new _P(v,t);P.setCalculationInfo(T);var M=g!=null&&g1e(i)?function(I,D,O,z){return z===g?O:this.defaultDimValueGetter(I,D,O,z)}:null;return P.hasItemOption=!1,P.initData(o?i:_,null,M),P}function g1e(e){if(e.sourceFormat===Ma){var t=y1e(e.data||[]);return!Zt(_g(t))}}function y1e(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var XN=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();wb(XN);const Hl=XN;var _1e=0,b1e=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++_1e}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&ur(n,x1e);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!lr(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Br(this.categories))},e}();function x1e(e){return pr(e)&&e.value!=null?e.value:e+""}const nC=b1e;function iC(e){return e.type==="interval"||e.type==="log"}function w1e(e,t,r,n){var i={},o=e[1]-e[0],s=i.interval=v8(o/t,!0);r!=null&&s<r&&(s=i.interval=r),n!=null&&s>n&&(s=i.interval=n);var a=i.intervalPrecision=ZN(s),h=i.niceTickExtent=[_i(Math.ceil(e[0]/s)*s,a),_i(Math.floor(e[1]/s)*s,a)];return S1e(h,e),i}function J2(e){var t=Math.pow(10,IA(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,_i(r*t)}function ZN(e){return Dd(e)+2}function Yk(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function S1e(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Yk(e,0,t),Yk(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Fb(e,t){return e>=t[0]&&e<=t[1]}function Nb(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Vb(e,t){return e*(t[1]-t[0])+t[0]}var KN=function(e){Ut(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new nC({})),Zt(i)&&(i=new nC({categories:ur(i,function(o){return pr(o)?o.value:o})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:lr(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),Fb(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),Nb(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(Vb(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,a=this._ordinalMeta.categories.length,h=Math.min(a,n.length);s<h;++s){var d=n[s];i[s]=d,o[d]=s}for(var m=0;s<a;++s){for(;o[m]!=null;)m++;i.push(m),o[m]=s}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Hl);Hl.registerClass(KN);const YN=KN;var Xc=_i,JN=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return Fb(r,this._extent)},t.prototype.normalize=function(r){return Nb(r,this._extent)},t.prototype.scale=function(r){return Vb(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=ZN(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,o=this._niceExtent,s=this._intervalPrecision,a=[];if(!n)return a;var h=1e4;i[0]<o[0]&&(r?a.push({value:Xc(o[0]-n,s)}):a.push({value:i[0]}));for(var d=o[0];d<=o[1]&&(a.push({value:d}),d=Xc(d+n,s),d!==a[a.length-1].value);)if(a.length>h)return[];var m=a.length?a[a.length-1].value:o[1];return i[1]>m&&(r?a.push({value:Xc(m+n,s)}):a.push({value:i[1]})),a},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],o=this.getExtent(),s=1;s<n.length;s++){for(var a=n[s],h=n[s-1],d=0,m=[],v=a.value-h.value,g=v/r;d<r-1;){var _=Xc(h.value+(d+1)*g);_>o[0]&&_<o[1]&&m.push(_),d++}i.push(m)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=Dd(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=Xc(r.value,i,!0);return kF(o)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var a=w1e(o,r,n,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var o=n[1]-n[0];isFinite(o)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(n[0]=Xc(Math.floor(n[0]/s)*s)),r.fixMax||(n[1]=Xc(Math.ceil(n[1]/s)*s))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(Hl);Hl.registerClass(JN);const Tg=JN;var QN=typeof Float32Array<"u",T1e=QN?Float32Array:Array;function C1e(e){return Zt(e)?QN?new Float32Array(e):e:new T1e(e)}var E1e="__ec_stack_";function e7(e){return e.get("stack")||E1e+e.seriesIndex}function t7(e){return e.dim+e.index}function A1e(e,t){var r=[];return t.eachSeriesByType(e,function(n){L1e(n)&&r.push(n)}),r}function P1e(e){var t={};Me(e,function(h){var d=h.coordinateSystem,m=d.getBaseAxis();if(!(m.type!=="time"&&m.type!=="value"))for(var v=h.getData(),g=m.dim+"_"+m.index,_=v.getDimensionIndex(v.mapDimension(m.dim)),T=v.getStore(),P=0,M=T.count();P<M;++P){var I=T.get(_,P);t[g]?t[g].push(I):t[g]=[I]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(h,d){return h-d});for(var o=null,s=1;s<i.length;++s){var a=i[s]-i[s-1];a>0&&(o=o===null?a:Math.min(o,a))}r[n]=o}}return r}function I1e(e){var t=P1e(e),r=[];return Me(e,function(n){var i=n.coordinateSystem,o=i.getBaseAxis(),s=o.getExtent(),a;if(o.type==="category")a=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var h=o.dim+"_"+o.index,d=t[h],m=Math.abs(s[1]-s[0]),v=o.scale.getExtent(),g=Math.abs(v[1]-v[0]);a=d?m/g*d:m}else{var _=n.getData();a=Math.abs(s[1]-s[0])/_.count()}var T=Ri(n.get("barWidth"),a),P=Ri(n.get("barMaxWidth"),a),M=Ri(n.get("barMinWidth")||(O1e(n)?.5:1),a),I=n.get("barGap"),D=n.get("barCategoryGap");r.push({bandWidth:a,barWidth:T,barMaxWidth:P,barMinWidth:M,barGap:I,barCategoryGap:D,axisKey:t7(o),stackId:e7(n)})}),M1e(r)}function M1e(e){var t={};Me(e,function(n,i){var o=n.axisKey,s=n.bandWidth,a=t[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=a.stacks;t[o]=a;var d=n.stackId;h[d]||a.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var m=n.barWidth;m&&!h[d].width&&(h[d].width=m,m=Math.min(a.remainedWidth,m),a.remainedWidth-=m);var v=n.barMaxWidth;v&&(h[d].maxWidth=v);var g=n.barMinWidth;g&&(h[d].minWidth=g);var _=n.barGap;_!=null&&(a.gap=_);var T=n.barCategoryGap;T!=null&&(a.categoryGap=T)});var r={};return Me(t,function(n,i){r[i]={};var o=n.stacks,s=n.bandWidth,a=n.categoryGap;if(a==null){var h=en(o).length;a=Math.max(35-h*4,15)+"%"}var d=Ri(a,s),m=Ri(n.gap,1),v=n.remainedWidth,g=n.autoWidthCount,_=(v-d)/(g+(g-1)*m);_=Math.max(_,0),Me(o,function(I){var D=I.maxWidth,O=I.minWidth;if(I.width){var z=I.width;D&&(z=Math.min(z,D)),O&&(z=Math.max(z,O)),I.width=z,v-=z+m*z,g--}else{var z=_;D&&D<z&&(z=Math.min(D,v)),O&&O>z&&(z=O),z!==_&&(I.width=z,v-=z+m*z,g--)}}),_=(v-d)/(g+(g-1)*m),_=Math.max(_,0);var T=0,P;Me(o,function(I,D){I.width||(I.width=_),P=I,T+=I.width*(1+m)}),P&&(T-=P.width*m);var M=-T/2;Me(o,function(I,D){r[i][D]=r[i][D]||{bandWidth:s,offset:M,width:I.width},M+=I.width*(1+m)})}),r}function D1e(e,t,r){if(e&&t){var n=e[t7(t)];return n!=null&&r!=null?n[e7(r)]:n}}function L1e(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function O1e(e){return e.pipelineContext&&e.pipelineContext.large}var k1e=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},r7=function(e){Ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return Mb(r.value,B3[Gge(ld(this._minLevelUnit))]||B3.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return Wge(r,n,i,s,o)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var o=this.getSetting("useUTC"),s=V1e(this._minLevelUnit,this._approxInterval,o,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=xa,n[1]+=xa),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-xa}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var a=B_.length,h=Math.min(k1e(B_,this._approxInterval,0,a),a-1);this._interval=B_[h][1],this._minLevelUnit=B_[Math.max(h-1,0)][0]},t.prototype.parse=function(r){return Zn(r)?r:+Il(r)},t.prototype.contain=function(r){return Fb(this.parse(r),this._extent)},t.prototype.normalize=function(r){return Nb(this.parse(r),this._extent)},t.prototype.scale=function(r){return Vb(r,this._extent)},t.type="time",t}(Tg),B_=[["second",KA],["minute",YA],["hour",sv],["quarter-day",sv*6],["half-day",sv*12],["day",xa*1.2],["half-week",xa*3.5],["week",xa*7],["month",xa*31],["quarter",xa*95],["half-year",$3/2],["year",$3]];function R1e(e,t,r,n){var i=Il(t),o=Il(r),s=function(T){return F3(i,T,n)===F3(o,T,n)},a=function(){return s("year")},h=function(){return a()&&s("month")},d=function(){return h()&&s("day")},m=function(){return d()&&s("hour")},v=function(){return m()&&s("minute")},g=function(){return v()&&s("second")},_=function(){return g()&&s("millisecond")};switch(e){case"year":return a();case"month":return h();case"day":return d();case"hour":return m();case"minute":return v();case"second":return g();case"millisecond":return _()}}function z1e(e,t){return e/=xa,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function $1e(e){var t=30*xa;return e/=t,e>6?6:e>3?3:e>2?2:1}function B1e(e){return e/=sv,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function Jk(e,t){return e/=t?YA:KA,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function F1e(e){return v8(e,!0)}function N1e(e,t,r){var n=new Date(e);switch(ld(t)){case"year":case"month":n[PF(r)](0);case"day":n[IF(r)](1);case"hour":n[MF(r)](0);case"minute":n[DF(r)](0);case"second":n[LF(r)](0),n[OF(r)](0)}return n.getTime()}function V1e(e,t,r,n){var i=1e4,o=EF,s=0;function a(K,ne,ae,he,ie,de,ce){for(var Be=new Date(ne),Ve=ne,ht=Be[he]();Ve<ae&&Ve<=n[1];)ce.push({value:Ve}),ht+=K,Be[ie](ht),Ve=Be.getTime();ce.push({value:Ve,notAdd:!0})}function h(K,ne,ae){var he=[],ie=!ne.length;if(!R1e(ld(K),n[0],n[1],r)){ie&&(ne=[{value:N1e(new Date(n[0]),K,r)},{value:n[1]}]);for(var de=0;de<ne.length-1;de++){var ce=ne[de].value,Be=ne[de+1].value;if(ce!==Be){var Ve=void 0,ht=void 0,mt=void 0,dt=!1;switch(K){case"year":Ve=Math.max(1,Math.round(t/xa/365)),ht=JA(r),mt=qge(r);break;case"half-year":case"quarter":case"month":Ve=$1e(t),ht=ud(r),mt=PF(r);break;case"week":case"half-week":case"day":Ve=z1e(t),ht=Db(r),mt=IF(r),dt=!0;break;case"half-day":case"quarter-day":case"hour":Ve=B1e(t),ht=qv(r),mt=MF(r);break;case"minute":Ve=Jk(t,!0),ht=Lb(r),mt=DF(r);break;case"second":Ve=Jk(t,!1),ht=Ob(r),mt=LF(r);break;case"millisecond":Ve=F1e(t),ht=kb(r),mt=OF(r);break}a(Ve,ce,Be,ht,mt,dt,he),K==="year"&&ae.length>1&&de===0&&ae.unshift({value:ae[0].value-Ve})}}for(var de=0;de<he.length;de++)ae.push(he[de]);return he}}for(var d=[],m=[],v=0,g=0,_=0;_<o.length&&s++<i;++_){var T=ld(o[_]);if(jge(o[_])){h(o[_],d[d.length-1]||[],m);var P=o[_+1]?ld(o[_+1]):null;if(T!==P){if(m.length){g=v,m.sort(function(K,ne){return K.value-ne.value});for(var M=[],I=0;I<m.length;++I){var D=m[I].value;(I===0||m[I-1].value!==D)&&(M.push(m[I]),D>=n[0]&&D<=n[1]&&v++)}var O=(n[1]-n[0])/t;if(v>O*1.5&&g>O/1.5||(d.push(M),v>O||e===o[_]))break}m=[]}}}for(var z=Ji(ur(d,function(K){return Ji(K,function(ne){return ne.value>=n[0]&&ne.value<=n[1]&&!ne.notAdd})}),function(K){return K.length>0}),F=[],N=z.length-1,_=0;_<z.length;++_)for(var H=z[_],U=0;U<H.length;++U)F.push({value:H[U].value,level:N-_});F.sort(function(K,ne){return K.value-ne.value});for(var J=[],_=0;_<F.length;++_)(_===0||F[_].value!==F[_-1].value)&&J.push(F[_]);return J}Hl.registerClass(r7);const U1e=r7;var Qk=Hl.prototype,hv=Tg.prototype,H1e=_i,j1e=Math.floor,G1e=Math.ceil,F_=Math.pow,Va=Math.log,bP=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Tg,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,o=n.getExtent(),s=hv.getTicks.call(this,r);return ur(s,function(a){var h=a.value,d=_i(F_(this.base,h));return d=h===i[0]&&this._fixMin?N_(d,o[0]):d,d=h===i[1]&&this._fixMax?N_(d,o[1]):d,{value:d}},this)},t.prototype.setExtent=function(r,n){var i=Va(this.base);r=Va(Math.max(0,r))/i,n=Va(Math.max(0,n))/i,hv.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=Qk.getExtent.call(this);n[0]=F_(r,n[0]),n[1]=F_(r,n[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(n[0]=N_(n[0],o[0])),this._fixMax&&(n[1]=N_(n[1],o[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=Va(r[0])/Va(n),r[1]=Va(r[1])/Va(n),Qk.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var o=Gpe(i),s=r/i*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[_i(G1e(n[0]/o)*o),_i(j1e(n[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(r){hv.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=Va(r)/Va(this.base),Fb(r,this._extent)},t.prototype.normalize=function(r){return r=Va(r)/Va(this.base),Nb(r,this._extent)},t.prototype.scale=function(r){return r=Vb(r,this._extent),F_(this.base,r)},t.type="log",t}(Hl),n7=bP.prototype;n7.getMinorTicks=hv.getMinorTicks;n7.getLabel=hv.getLabel;function N_(e,t){return H1e(e,Dd(t))}Hl.registerClass(bP);const W1e=bP;var q1e=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var o=this._modelMinRaw=r.get("min",!0);wr(o)?this._modelMinNum=V_(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=V_(t,o));var s=this._modelMaxRaw=r.get("max",!0);if(wr(s)?this._modelMaxNum=V_(t,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=V_(t,s)),i)this._axisDataLen=r.getCategories().length;else{var a=r.get("boundaryGap"),h=Zt(a)?a:[a||0,a||0];typeof h[0]=="boolean"||typeof h[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Ah(h[0],1),Ah(h[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,s=t?null:n-r||Math.abs(r),a=this._modelMinRaw==="dataMin"?r:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,d=a!=null,m=h!=null;a==null&&(a=t?i?0:NaN:r-o[0]*s),h==null&&(h=t?i?i-1:NaN:n+o[1]*s),(a==null||!isFinite(a))&&(a=NaN),(h==null||!isFinite(h))&&(h=NaN);var v=o1(a)||o1(h)||t&&!i;this._needCrossZero&&(a>0&&h>0&&!d&&(a=0),a<0&&h<0&&!m&&(h=0));var g=this._determinedMin,_=this._determinedMax;return g!=null&&(a=g,d=!0),_!=null&&(h=_,m=!0),{min:a,max:h,minFixed:d,maxFixed:m,isBlank:v}},e.prototype.modifyDataMinMax=function(t,r){this[Z1e[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=X1e[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),X1e={min:"_determinedMin",max:"_determinedMax"},Z1e={min:"_dataMin",max:"_dataMax"};function K1e(e,t,r){var n=e.rawExtentInfo;return n||(n=new q1e(e,t,r),e.rawExtentInfo=n,n)}function V_(e,t){return t==null?null:o1(t)?NaN:e.parse(t)}function i7(e,t){var r=e.type,n=K1e(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,o=n.max,s=t.ecModel;if(s&&r==="time"){var a=A1e("bar",s),h=!1;if(Me(a,function(v){h=h||v.getBaseAxis()===t.axis}),h){var d=I1e(a),m=Y1e(i,o,t,d);i=m.min,o=m.max}}return{extent:[i,o],fixMin:n.minFixed,fixMax:n.maxFixed}}function Y1e(e,t,r,n){var i=r.axis.getExtent(),o=i[1]-i[0],s=D1e(n,r.axis);if(s===void 0)return{min:e,max:t};var a=1/0;Me(s,function(_){a=Math.min(_.offset,a)});var h=-1/0;Me(s,function(_){h=Math.max(_.offset+_.width,h)}),a=Math.abs(a),h=Math.abs(h);var d=a+h,m=t-e,v=1-(a+h)/o,g=m/v-m;return t+=g*(h/d),e-=g*(a/d),{min:e,max:t}}function eR(e,t){var r=t,n=i7(e,r),i=n.extent,o=r.get("splitNumber");e instanceof W1e&&(e.base=r.get("logBase"));var s=e.type,a=r.get("interval"),h=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:h?r.get("minInterval"):null,maxInterval:h?r.get("maxInterval"):null}),a!=null&&e.setInterval&&e.setInterval(a)}function J1e(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new YN({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new U1e({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Hl.getClass(t)||Tg)}}function Q1e(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function Cg(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(i,o){return e.scale.getFormattedLabel(i,o,n)}}(t):lr(t)?function(n){return function(i){var o=e.scale.getLabel(i),s=n.replace("{value}",o??"");return s}}(t):wr(t)?function(n){return function(i,o){return r!=null&&(o=i.value-r),n(xP(e,i),o,i.level!=null?{level:i.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function xP(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function ebe(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,o=r.getExtent();r instanceof YN?i=r.count():(n=r.getTicks(),i=n.length);var s=e.getLabelModel(),a=Cg(e),h,d=1;i>40&&(d=Math.ceil(i/40));for(var m=0;m<i;m+=d){var v=n?n[m]:{value:o[0]+m},g=a(v,m),_=s.getTextRect(g),T=tbe(_,s.get("rotate")||0);h?h.union(T):h=T}return h}}function tbe(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,o=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),s=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),a=new gn(e.x,e.y,o,s);return a}function wP(e){var t=e.get("interval");return t??"auto"}function o7(e){return e.type==="category"&&wP(e.getLabelModel())===0}function rbe(e,t){var r={};return Me(e.mapDimensionsAll(t),function(n){r[d1e(e,n)]=!0}),en(r)}var nbe=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),tR=[],ibe={registerPreprocessor:NN,registerProcessor:VN,registerPostInit:B0e,registerPostUpdate:F0e,registerUpdateLifecycle:gP,registerAction:Yd,registerCoordinateSystem:N0e,registerLayout:V0e,registerVisual:Bh,registerTransform:H0e,registerLoading:UN,registerMap:U0e,registerImpl:y0e,PRIORITY:D0e,ComponentModel:Bn,ComponentView:Ml,SeriesModel:Od,ChartView:bh,registerComponentModel:function(e){Bn.registerClass(e)},registerComponentView:function(e){Ml.registerClass(e)},registerSeriesModel:function(e){Od.registerClass(e)},registerChartView:function(e){bh.registerClass(e)},registerSubTypeDefaulter:function(e,t){Bn.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Fpe(e,t)}};function kd(e){if(Zt(e)){Me(e,function(t){kd(t)});return}vn(tR,e)>=0||(tR.push(e),wr(e)&&(e={install:e}),e.install(ibe))}var eg=ni();function obe(e){return e.type==="category"?sbe(e):ube(e)}function abe(e,t){return e.type==="category"?lbe(e,t):{ticks:ur(e.scale.getTicks(),function(r){return r.value})}}function sbe(e){var t=e.getLabelModel(),r=a7(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function a7(e,t){var r=s7(e,"labels"),n=wP(t),i=l7(r,n);if(i)return i;var o,s;return wr(n)?o=h7(e,n):(s=n==="auto"?cbe(e):n,o=c7(e,s)),u7(r,n,{labels:o,labelCategoryInterval:s})}function lbe(e,t){var r=s7(e,"ticks"),n=wP(t),i=l7(r,n);if(i)return i;var o,s;if((!t.get("show")||e.scale.isBlank())&&(o=[]),wr(n))o=h7(e,n,!0);else if(n==="auto"){var a=a7(e,e.getLabelModel());s=a.labelCategoryInterval,o=ur(a.labels,function(h){return h.tickValue})}else s=n,o=c7(e,s,!0);return u7(r,n,{ticks:o,tickCategoryInterval:s})}function ube(e){var t=e.scale.getTicks(),r=Cg(e);return{labels:ur(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function s7(e,t){return eg(e)[t]||(eg(e)[t]=[])}function l7(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function u7(e,t,r){return e.push({key:t,value:r}),r}function cbe(e){var t=eg(e).autoInterval;return t??(eg(e).autoInterval=e.calculateCategoryInterval())}function hbe(e){var t=fbe(e),r=Cg(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,o=i.getExtent(),s=i.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var h=o[0],d=e.dataToCoord(h+1)-e.dataToCoord(h),m=Math.abs(d*Math.cos(n)),v=Math.abs(d*Math.sin(n)),g=0,_=0;h<=o[1];h+=a){var T=0,P=0,M=AA(r({value:h}),t.font,"center","top");T=M.width*1.3,P=M.height*1.3,g=Math.max(g,T,7),_=Math.max(_,P,7)}var I=g/m,D=_/v;isNaN(I)&&(I=1/0),isNaN(D)&&(D=1/0);var O=Math.max(0,Math.floor(Math.min(I,D))),z=eg(e.model),F=e.getExtent(),N=z.lastAutoInterval,H=z.lastTickCount;return N!=null&&H!=null&&Math.abs(N-O)<=1&&Math.abs(H-s)<=1&&N>O&&z.axisExtent0===F[0]&&z.axisExtent1===F[1]?O=N:(z.lastTickCount=s,z.lastAutoInterval=O,z.axisExtent0=F[0],z.axisExtent1=F[1]),O}function fbe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function c7(e,t,r){var n=Cg(e),i=e.scale,o=i.getExtent(),s=e.getLabelModel(),a=[],h=Math.max((t||0)+1,1),d=o[0],m=i.count();d!==0&&h>1&&m/h>2&&(d=Math.round(Math.ceil(d/h)*h));var v=o7(e),g=s.get("showMinLabel")||v,_=s.get("showMaxLabel")||v;g&&d!==o[0]&&P(o[0]);for(var T=d;T<=o[1];T+=h)P(T);_&&T-h!==o[1]&&P(o[1]);function P(M){var I={value:M};a.push(r?M:{formattedLabel:n(I),rawLabel:i.getLabel(I),tickValue:M})}return a}function h7(e,t,r){var n=e.scale,i=Cg(e),o=[];return Me(n.getTicks(),function(s){var a=n.getLabel(s),h=s.value;t(s.value,a)&&o.push(r?h:{formattedLabel:i(s),rawLabel:a,tickValue:h})}),o}var rR=[0,1],dbe=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return Upe(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),nR(n,i.count())),qO(t,rR,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),nR(n,i.count()));var o=qO(t,n,rR,r);return this.scale.scale(o)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=abe(this,r),i=n.ticks,o=ur(i,function(a){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this),s=r.get("alignWithLabel");return pbe(this,o,s,t.clamp),o},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=ur(n,function(o){return ur(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return obe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return hbe(this)},e}();function nR(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function pbe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var o=e.getExtent(),s,a;if(i===1)t[0].coord=o[0],s=t[1]={coord:o[0]};else{var h=t[i-1].tickValue-t[0].tickValue,d=(t[i-1].coord-t[0].coord)/h;Me(t,function(_){_.coord-=d/2});var m=e.scale.getExtent();a=1+m[1]-t[i-1].tickValue,s={coord:t[i-1].coord+d*a},t.push(s)}var v=o[0]>o[1];g(t[0].coord,o[0])&&(n?t[0].coord=o[0]:t.shift()),n&&g(o[0],t[0].coord)&&t.unshift({coord:o[0]}),g(o[1],s.coord)&&(n?s.coord=o[1]:t.pop()),n&&g(s.coord,o[1])&&t.push({coord:o[1]});function g(_,T){return _=_i(_),T=_i(T),v?_>T:_<T}}const mbe=dbe;function vbe(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,o=i.getComputedTransform(),s=i.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,h=i.style.margin||0,d=s.clone();d.applyTransform(o),d.x-=h/2,d.y-=h/2,d.width+=h,d.height+=h;var m=a?new m1(s,o):null;t.push({label:i,labelLine:n.labelLine,rect:d,localRect:s,obb:m,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:a,transform:o})}}return t}function gbe(e){var t=[];e.sort(function(P,M){return M.priority-P.priority});var r=new gn(0,0,0,0);function n(P){if(!P.ignore){var M=P.ensureState("emphasis");M.ignore==null&&(M.ignore=!1)}P.ignore=!0}for(var i=0;i<e.length;i++){var o=e[i],s=o.axisAligned,a=o.localRect,h=o.transform,d=o.label,m=o.labelLine;r.copy(o.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var v=o.obb,g=!1,_=0;_<t.length;_++){var T=t[_];if(r.intersect(T.rect)){if(s&&T.axisAligned){g=!0;break}if(T.obb||(T.obb=new m1(T.localRect,T.transform)),v||(v=new m1(a,h)),v.intersect(T.obb)){g=!0;break}}}g?(n(d),m&&n(m)):(d.attr("ignore",o.defaultAttr.ignore),m&&m.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}var Q2=null;function ybe(e){return Q2||(Q2=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)),Q2(e)}var eS=null;function _be(e){eS||(eS=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)),eS(e)}function bbe(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function U_(e,t){t===void 0&&(t={});var r=document.createElement(e);return Object.keys(t).forEach(function(n){r[n]=t[n]}),r}function f7(e,t,r){var n=window.getComputedStyle(e,r||null)||{display:"none"};return n[t]}function oC(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(f7(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var xbe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',aC=0,w0=null;function wbe(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=Cbe.bind(e));var r=e.__resize_listeners__;if(!r){if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,i=e.offsetHeight,o=new ResizeObserver(function(){!e.__resize_observer_triggered__&&(e.__resize_observer_triggered__=!0,e.offsetWidth===n&&e.offsetHeight===i)||A1(e)}),s=oC(e),a=s.detached,h=s.rendered;e.__resize_observer_triggered__=a===!1&&h===!1,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){A1(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(aC||(w0=bbe(xbe)),Ebe(e),e.__resize_rendered__=oC(e).rendered,window.MutationObserver){var d=new MutationObserver(e.__resize_mutation_handler__);d.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=d}}e.__resize_listeners__.push(t),aC++}function Sbe(e,t){var r=e.__resize_listeners__;if(r){if(t&&r.splice(r.indexOf(t),1),!r.length||!t){if(e.detachEvent&&e.removeEventListener){e.detachEvent("onresize",e.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);return}e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",SP),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--aC&&w0&&w0.parentNode.removeChild(w0)}}function Tbe(e){var t=e.__resize_last__,r=t.width,n=t.height,i=e.offsetWidth,o=e.offsetHeight;return i!==r||o!==n?{width:i,height:o}:null}function Cbe(){var e=oC(this),t=e.rendered,r=e.detached;t!==this.__resize_rendered__&&(!r&&this.__resize_triggers__&&(TP(this),this.addEventListener("scroll",SP,!0)),this.__resize_rendered__=t,A1(this))}function SP(){var e=this;TP(this),this.__resize_raf__&&_be(this.__resize_raf__),this.__resize_raf__=ybe(function(){var t=Tbe(e);t&&(e.__resize_last__=t,A1(e))})}function A1(e){!e||!e.__resize_listeners__||e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function Ebe(e){var t=f7(e,"position");(!t||t==="static")&&(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};var r=U_("div",{className:"resize-triggers"}),n=U_("div",{className:"resize-expand-trigger"}),i=U_("div"),o=U_("div",{className:"resize-contract-trigger"});n.appendChild(i),r.appendChild(n),r.appendChild(o),e.appendChild(r),e.__resize_triggers__={triggers:r,expand:n,expandChild:i,contract:o},TP(e),e.addEventListener("scroll",SP,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function TP(e){var t=e.__resize_triggers__,r=t.expand,n=t.expandChild,i=t.contract,o=i.scrollWidth,s=i.scrollHeight,a=r.offsetWidth,h=r.offsetHeight,d=r.scrollWidth,m=r.scrollHeight;i.scrollLeft=o,i.scrollTop=s,n.style.width=a+1+"px",n.style.height=h+1+"px",r.scrollLeft=d,r.scrollTop=m}var gl=function(){return gl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gl.apply(this,arguments)},Abe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Pbe(e){return t=Object.create(null),Abe.forEach(function(r){t[r]=function(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[n].apply(e.value,i)}}(r)}),t;var t}var Ibe={autoresize:Boolean},Mbe={loading:Boolean,loadingOptions:Object},Dbe=/^on[^a-z]/,Lbe=function(e){return Dbe.test(e)},iR=[],Tm=[];(function(e,t){if(e&&typeof document<"u"){var r,n=t.prepend===!0?"prepend":"append",i=t.singleTag===!0,o=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var s=iR.indexOf(o);s===-1&&(s=iR.push(o)-1,Tm[s]={}),r=Tm[s]&&Tm[s][n]?Tm[s][n]:Tm[s][n]=a()}else r=a();e.charCodeAt(0)===65279&&(e=e.substring(1)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(document.createTextNode(e))}function a(){var h=document.createElement("style");if(h.setAttribute("type","text/css"),t.attributes)for(var d=Object.keys(t.attributes),m=0;m<d.length;m++)h.setAttribute(d[m],t.attributes[d[m]]);var v=n==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(v,h),h}})("x-vue-echarts{display:block;width:100%;height:100%}",{});var Obe=bt({name:"echarts",props:gl(gl({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},Ibe),Mbe),inheritAttrs:!1,setup:function(e,t){var r=t.attrs,n=Rt(),i=Rt(),o=Rt(),s=Er("ecTheme",null),a=Er("ecInitOptions",null),h=Er("ecUpdateOptions",null),d=ag(e),m=d.autoresize,v=d.manualUpdate,g=d.loading,_=d.loadingOptions,T=_e(function(){return o.value||e.option||null}),P=_e(function(){return e.theme||Qt(s)||{}}),M=_e(function(){return e.initOptions||Qt(a)||{}}),I=_e(function(){return e.updateOptions||Qt(h)||{}}),D=_e(function(){return function(U){var J={};for(var K in U)Lbe(K)||(J[K]=U[K]);return J}(r)}),O=Ol().proxy.$listeners;function z(U){if(n.value){var J=i.value=z0e(n.value,P.value,M.value);e.group&&(J.group=e.group);var K=O;K||(K={},Object.keys(r).filter(function(ae){return ae.indexOf("on")===0&&ae.length>2}).forEach(function(ae){var he=ae.charAt(2).toLowerCase()+ae.slice(3);he.substring(he.length-4)==="Once"&&(he="~".concat(he.substring(0,he.length-4))),K[he]=r[ae]})),Object.keys(K).forEach(function(ae){var he=K[ae];if(he){var ie=ae.toLowerCase();ie.charAt(0)==="~"&&(ie=ie.substring(1),he.__once__=!0);var de=J;if(ie.indexOf("zr:")===0&&(de=J.getZr(),ie=ie.substring(3)),he.__once__){delete he.__once__;var ce=he;he=function(){for(var Be=[],Ve=0;Ve<arguments.length;Ve++)Be[Ve]=arguments[Ve];ce.apply(void 0,Be),de.off(ie,he)}}de.on(ie,he)}}),m.value?ko(function(){J&&!J.isDisposed()&&J.resize(),ne()}):ne()}function ne(){var ae=U||T.value;ae&&J.setOption(ae,I.value)}}function F(){i.value&&(i.value.dispose(),i.value=void 0)}var N=null;rr(v,function(U){typeof N=="function"&&(N(),N=null),U||(N=rr(function(){return e.option},function(J,K){J&&(i.value?i.value.setOption(J,gl({notMerge:J.value!==(K==null?void 0:K.value)},I.value)):z())},{deep:!0}))},{immediate:!0}),rr([P,M],function(){F(),z()},{deep:!0}),di(function(){e.group&&i.value&&(i.value.group=e.group)});var H=Pbe(i);return function(U,J,K){var ne=Er("ecLoadingOptions",{}),ae=_e(function(){return gl(gl({},Qt(ne)),K==null?void 0:K.value)});di(function(){var he=U.value;he&&(J.value?he.showLoading(ae.value):he.hideLoading())})}(i,g,_),function(U,J,K){var ne=null;rr([K,U,J],function(ae,he,ie){var de=ae[0],ce=ae[1],Be=ae[2];de&&ce&&Be&&(ne=hP(function(){ce.resize()},100),wbe(de,ne)),ie(function(){ne&&de&&Sbe(de,ne)})})}(i,m,n),cn(function(){z()}),Ll(F),gl({chart:i,root:n,setOption:function(U,J){e.manualUpdate&&(o.value=U),i.value?i.value.setOption(U,J||{}):z(U)},nonEventAttrs:D},H)},render:function(){var e=gl({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",Dr("x-vue-echarts",e)}}),tS=Math.sin,rS=Math.cos,d7=Math.PI,Zc=Math.PI*2,kbe=180/d7,Rbe=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,o,s){this._add("C",t,r,n,i,o,s)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,o,s){this.ellipse(t,r,n,n,0,i,o,s)},e.prototype.ellipse=function(t,r,n,i,o,s,a,h){var d=a-s,m=!h,v=Math.abs(d),g=Lu(v-Zc)||(m?d>=Zc:-d>=Zc),_=d>0?d%Zc:d%Zc+Zc,T=!1;g?T=!0:Lu(v)?T=!1:T=_>=d7==!!m;var P=t+n*rS(s),M=r+i*tS(s);this._start&&this._add("M",P,M);var I=Math.round(o*kbe);if(g){var D=1/this._p,O=(m?1:-1)*(Zc-D);this._add("A",n,i,I,1,+m,t+n*rS(s+O),r+i*tS(s+O)),D>.01&&this._add("A",n,i,I,0,+m,P,M)}else{var z=t+n*rS(a),F=r+i*tS(a);this._add("A",n,i,I,+T,+m,z,F)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,o,s,a,h,d){for(var m=[],v=this._p,g=1;g<arguments.length;g++){var _=arguments[g];if(isNaN(_)){this._invalid=!0;return}m.push(Math.round(_*v)/v)}this._d.push(t+m.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}();const p7=Rbe;var fv="none",zbe=Math.round;function $be(e){var t=e.fill;return t!=null&&t!==fv}function Bbe(e){var t=e.stroke;return t!=null&&t!==fv}var sC=["lineCap","miterLimit","lineJoin"],Fbe=ur(sC,function(e){return"stroke-"+e.toLowerCase()});function Nbe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Nl){e("opacity",i);return}if($be(t)){var o=Fv(t.fill);e("fill",o.color);var s=t.fillOpacity!=null?t.fillOpacity*o.opacity*i:o.opacity*i;(n||s<1)&&e("fill-opacity",s)}else e("fill",fv);if(Bbe(t)){var a=Fv(t.stroke);e("stroke",a.color);var h=t.strokeNoScale?r.getLineScale():1,d=h?(t.lineWidth||0)/h:0,m=t.strokeOpacity!=null?t.strokeOpacity*a.opacity*i:a.opacity*i,v=t.strokeFirst;if((n||d!==1)&&e("stroke-width",d),(n||v)&&e("paint-order",v?"stroke":"fill"),(n||m<1)&&e("stroke-opacity",m),t.lineDash){var g=dP(r),_=g[0],T=g[1];_&&(T=zbe(T||0),e("stroke-dasharray",_.join(",")),(T||n)&&e("stroke-dashoffset",T))}else n&&e("stroke-dasharray",fv);for(var P=0;P<sC.length;P++){var M=sC[P];if(n||t[M]!==d1[M]){var I=t[M]||d1[M];I&&e(Fbe[P],I)}}}else n&&e("stroke",fv)}var m7="http://www.w3.org/2000/svg",v7="http://www.w3.org/1999/xlink",Vbe="http://www.w3.org/2000/xmlns/",Ube="http://www.w3.org/XML/1998/namespace";function g7(e){return document.createElementNS(m7,e)}function bi(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function Hbe(e,t){var r=[];if(t)for(var n in t){var i=t[n],o=n;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),r.push(o))}return"<"+e+" "+r.join(" ")+">"}function jbe(e){return"</"+e+">"}function CP(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var o=i.children,s=i.tag,a=i.attrs;return Hbe(s,a)+Yo(i.text)+(o?""+r+ur(o,function(h){return n(h)}).join(r)+r:"")+jbe(s)}return n(e)}function Gbe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,o=n+"}",s=ur(en(e),function(h){return h+i+ur(en(e[h]),function(d){return d+":"+e[h][d]+";"}).join(n)+o}).join(n),a=ur(en(t),function(h){return"@keyframes "+h+i+ur(en(t[h]),function(d){return d+i+ur(en(t[h][d]),function(m){var v=t[h][d][m];return m==="d"&&(v='path("'+v+'")'),m+":"+v+";"}).join(n)+o}).join(n)+o}).join(n);return!s&&!a?"":["<![CDATA[",s,a,"]]>"].join(n)}function lC(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oR(e,t,r,n){return bi("svg","root",{width:e,height:t,xmlns:m7,"xmlns:xlink":v7,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var aR={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Qc="transform-origin";function Wbe(e,t,r){var n=Dt({},e.shape);Dt(n,t),e.buildPath(r,n);var i=new p7;return i.reset(n8(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function qbe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[Qc]=r+"px "+n+"px")}var Xbe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function y7(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function Zbe(e,t,r){var n=e.shape.paths,i={},o,s;if(Me(n,function(h){var d=lC(r.zrId);d.animation=!0,Ub(h,{},d,!0);var m=d.cssAnims,v=d.cssNodes,g=en(m),_=g.length;if(_){s=g[_-1];var T=m[s];for(var P in T){var M=T[P];i[P]=i[P]||{d:""},i[P].d+=M.d||""}for(var I in v){var D=v[I].animation;D.indexOf(s)>=0&&(o=D)}}}),!!o){t.d=!1;var a=y7(i,r);return o.replace(s,a)}}function sR(e){return lr(e)?aR[e]?"cubic-bezier("+aR[e]+")":SA(e)?e:"":""}function Ub(e,t,r,n){var i=e.animators,o=i.length,s=[];if(e instanceof fF){var a=Zbe(e,t,r);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var h={},d=0;d<o;d++){var m=i[d],v=[m.getMaxTime()/1e3+"s"],g=sR(m.getClip().easing),_=m.getDelay();g?v.push(g):v.push("linear"),_&&v.push(_/1e3+"s"),m.getLoop()&&v.push("infinite");var T=v.join(" ");h[T]=h[T]||[T,[]],h[T][1].push(m)}function P(D){var O=D[1],z=O.length,F={},N={},H={},U="animation-timing-function";function J(et,We,ut){for(var ct=et.getTracks(),le=et.getMaxTime(),ye=0;ye<ct.length;ye++){var Ee=ct[ye];if(Ee.needsAnimate()){var je=Ee.keyframes,Ye=Ee.propName;if(ut&&(Ye=ut(Ye)),Ye)for(var qe=0;qe<je.length;qe++){var nt=je[qe],Oe=Math.round(nt.time/le*100)+"%",tt=sR(nt.easing),rt=nt.rawValue;(lr(rt)||Zn(rt))&&(We[Oe]=We[Oe]||{},We[Oe][Ye]=nt.rawValue,tt&&(We[Oe][U]=tt))}}}}for(var K=0;K<z;K++){var ne=O[K],ae=ne.targetName;ae?ae==="shape"&&J(ne,N):!n&&J(ne,F)}for(var he in F){var ie={};l8(ie,e),Dt(ie,F[he]);var de=i8(ie),ce=F[he][U];H[he]=de?{transform:de}:{},qbe(H[he],ie),ce&&(H[he][U]=ce)}var Be,Ve=!0;for(var he in N){H[he]=H[he]||{};var ht=!Be,ce=N[he][U];ht&&(Be=new Ph);var mt=Be.len();Be.reset(),H[he].d=Wbe(e,N[he],Be);var dt=Be.len();if(!ht&&mt!==dt){Ve=!1;break}ce&&(H[he][U]=ce)}if(!Ve)for(var he in H)delete H[he].d;if(!n)for(var K=0;K<z;K++){var ne=O[K],ae=ne.targetName;ae==="style"&&J(ne,H,function(ct){return Xbe[ct]})}for(var vt=en(H),Jt=!0,ar,K=1;K<vt.length;K++){var nr=vt[K-1],st=vt[K];if(H[nr][Qc]!==H[st][Qc]){Jt=!1;break}ar=H[nr][Qc]}if(Jt&&ar){for(var he in H)H[he][Qc]&&delete H[he][Qc];t[Qc]=ar}if(Ji(vt,function(et){return en(H[et]).length>0}).length){var ze=y7(H,r);return ze+" "+D[0]+" both"}}for(var M in h){var a=P(h[M]);a&&s.push(a)}if(s.length){var I=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+I]={animation:s.join(",")},t.class=I}}var tg=Math.round;function _7(e){return e&&lr(e.src)}function b7(e){return e&&wr(e.toDataURL)}function EP(e,t,r,n){Nbe(function(i,o){var s=i==="fill"||i==="stroke";s&&r8(o)?w7(t,e,i,n):s&&TA(o)?S7(r,e,i,n):e[i]=o},t,r,!1),rxe(r,e,n)}function lR(e){return Lu(e[0]-1)&&Lu(e[1])&&Lu(e[2])&&Lu(e[3]-1)}function Kbe(e){return Lu(e[4])&&Lu(e[5])}function AP(e,t,r){if(t&&!(Kbe(t)&&lR(t))){var n=r?10:1e4;e.transform=lR(t)?"translate("+tg(t[4]*n)/n+" "+tg(t[5]*n)/n+")":ope(t)}}function uR(e,t,r){for(var n=e.points,i=[],o=0;o<n.length;o++)i.push(tg(n[o][0]*r)/r),i.push(tg(n[o][1]*r)/r);t.points=i.join(" ")}function cR(e){return!e.smooth}function Ybe(e){var t=ur(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var o=0;o<t.length;o++){var s=t[o],a=r[s[0]];a!=null&&(n[s[1]]=tg(a*i)/i)}}}var Jbe={circle:[Ybe(["cx","cy","r"])],polyline:[uR,cR],polygon:[uR,cR]};function Qbe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function x7(e,t){var r=e.style,n=e.shape,i=Jbe[e.type],o={},s=t.animation,a="path",h=e.style.strokePercent,d=t.compress&&n8(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&Qbe(e))&&!(h<1)){a=e.type;var m=Math.pow(10,d);i[0](n,o,m)}else{var v=!e.path||e.shapeChanged();e.path||e.createPathProxy();var g=e.path;v&&(g.beginPath(),e.buildPath(g,e.shape),e.pathUpdated());var _=g.getVersion(),T=e,P=T.__svgPathBuilder;(T.__svgPathVersion!==_||!P||h!==T.__svgPathStrokePercent)&&(P||(P=T.__svgPathBuilder=new p7),P.reset(d),g.rebuildPath(P,h),P.generateStr(),T.__svgPathVersion=_,T.__svgPathStrokePercent=h),o.d=P.getStr()}return AP(o,e.transform),EP(o,r,e,t),t.animation&&Ub(e,o,t),bi(a,e.id+"",o)}function exe(e,t){var r=e.style,n=r.image;if(n&&!lr(n)&&(_7(n)?n=n.src:b7(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,o=r.y||0,s=r.width,a=r.height,h={href:n,width:s,height:a};return i&&(h.x=i),o&&(h.y=o),AP(h,e.transform),EP(h,r,e,t),t.animation&&Ub(e,h,t),bi("image",e.id+"",h)}}function txe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||ju,o=r.x||0,s=spe(r.y||0,xb(i),r.textBaseline),a=ape[r.textAlign]||r.textAlign,h={"dominant-baseline":"central","text-anchor":a};if($8(r)){var d="",m=r.fontStyle,v=z8(r.fontSize);if(!parseFloat(v))return;var g=r.fontFamily||P9,_=r.fontWeight;d+="font-size:"+v+";font-family:"+g+";",m&&m!=="normal"&&(d+="font-style:"+m+";"),_&&_!=="normal"&&(d+="font-weight:"+_+";"),h.style=d}else h.style="font: "+i;return n.match(/\s/)&&(h["xml:space"]="preserve"),o&&(h.x=o),s&&(h.y=s),AP(h,e.transform),EP(h,r,e,t),t.animation&&Ub(e,h,t),bi("text",e.id+"",h,void 0,n)}}function hR(e,t){if(e instanceof hn)return x7(e,t);if(e instanceof Nl)return exe(e,t);if(e instanceof p1)return txe(e,t)}function rxe(e,t,r){var n=e.style;if(lpe(n)){var i=upe(e),o=r.shadowCache,s=o[i];if(!s){var a=e.getGlobalScale(),h=a[0],d=a[1];if(!h||!d)return;var m=n.shadowOffsetX||0,v=n.shadowOffsetY||0,g=n.shadowBlur,_=Fv(n.shadowColor),T=_.opacity,P=_.color,M=g/2/h,I=g/2/d,D=M+" "+I;s=r.zrId+"-s"+r.shadowIdx++,r.defs[s]=bi("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[bi("feDropShadow","",{dx:m/h,dy:v/d,stdDeviation:D,"flood-color":P,"flood-opacity":T})]),o[i]=s}t.filter=bb(s)}}function w7(e,t,r,n){var i=e[r],o,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(e8(i))o="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(t8(i))o="radialGradient",s.cx=zr(i.x,.5),s.cy=zr(i.y,.5),s.r=zr(i.r,.5);else return;for(var a=i.colorStops,h=[],d=0,m=a.length;d<m;++d){var v=CT(a[d].offset)*100+"%",g=a[d].color,_=Fv(g),T=_.color,P=_.opacity,M={offset:v};M["stop-color"]=T,P<1&&(M["stop-opacity"]=P),h.push(bi("stop",d+"",M))}var I=bi(o,"",s,h),D=CP(I),O=n.gradientCache,z=O[D];z||(z=n.zrId+"-g"+n.gradientIdx++,O[D]=z,s.id=z,n.defs[z]=bi(o,z,s,h)),t[r]=bb(z)}function S7(e,t,r,n){var i=e.style[r],o=e.getBoundingRect(),s={},a=i.repeat,h=a==="no-repeat",d=a==="repeat-x",m=a==="repeat-y",v;if(Q9(i)){var g=i.imageWidth,_=i.imageHeight,T=void 0,P=i.image;if(lr(P)?T=P:_7(P)?T=P.src:b7(P)&&(T=P.toDataURL()),typeof Image>"u"){var M="Image width/height must been given explictly in svg-ssr renderer.";ts(g,M),ts(_,M)}else if(g==null||_==null){var I=function(K,ne){if(K){var ae=K.elm,he=g||ne.width,ie=_||ne.height;K.tag==="pattern"&&(d?(ie=1,he/=o.width):m&&(he=1,ie/=o.height)),K.attrs.width=he,K.attrs.height=ie,ae&&(ae.setAttribute("width",he),ae.setAttribute("height",ie))}},D=LA(T,null,e,function(K){h||I(N,K),I(v,K)});D&&D.width&&D.height&&(g=g||D.width,_=_||D.height)}v=bi("image","img",{href:T,width:g,height:_}),s.width=g,s.height=_}else i.svgElement&&(v=Gr(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(v){var O,z;h?O=z=1:d?(z=1,O=s.width/o.width):m?(O=1,z=s.height/o.height):s.patternUnits="userSpaceOnUse",O!=null&&!isNaN(O)&&(s.width=O),z!=null&&!isNaN(z)&&(s.height=z);var F=i8(i);F&&(s.patternTransform=F);var N=bi("pattern","",s,[v]),H=CP(N),U=n.patternCache,J=U[H];J||(J=n.zrId+"-p"+n.patternIdx++,U[H]=J,s.id=J,N=n.defs[J]=bi("pattern",J,s,[v])),t[r]=bb(J)}}function nxe(e,t,r){var n=r.clipPathCache,i=r.defs,o=n[e.id];if(!o){o=r.zrId+"-c"+r.clipPathIdx++;var s={id:o};n[e.id]=o,i[o]=bi("clipPath",o,s,[x7(e,r)])}t["clip-path"]=bb(o)}function fR(e){return document.createTextNode(e)}function sh(e,t,r){e.insertBefore(t,r)}function dR(e,t){e.removeChild(t)}function pR(e,t){e.appendChild(t)}function T7(e){return e.parentNode}function C7(e){return e.nextSibling}function nS(e,t){e.textContent=t}var mR=58,ixe=120,oxe=bi("","");function uC(e){return e===void 0}function Cs(e){return e!==void 0}function axe(e,t,r){for(var n={},i=t;i<=r;++i){var o=e[i].key;o!==void 0&&(n[o]=i)}return n}function $m(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function rg(e){var t,r=e.children,n=e.tag;if(Cs(n)){var i=e.elm=g7(n);if(PP(oxe,e),Zt(r))for(t=0;t<r.length;++t){var o=r[t];o!=null&&pR(i,rg(o))}else Cs(e.text)&&!pr(e.text)&&pR(i,fR(e.text))}else e.elm=fR(e.text);return e.elm}function E7(e,t,r,n,i){for(;n<=i;++n){var o=r[n];o!=null&&sh(e,rg(o),t)}}function P1(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(Cs(i.tag)){var o=T7(i.elm);dR(o,i.elm)}else dR(e,i.elm)}}function PP(e,t){var r,n=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(r in o){var s=o[r],a=i[r];a!==s&&(s===!0?n.setAttribute(r,""):s===!1?n.removeAttribute(r):r.charCodeAt(0)!==ixe?n.setAttribute(r,s):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(Vbe,r,s):r.charCodeAt(3)===mR?n.setAttributeNS(Ube,r,s):r.charCodeAt(5)===mR?n.setAttributeNS(v7,r,s):n.setAttribute(r,s))}for(r in i)r in o||n.removeAttribute(r)}}function sxe(e,t,r){for(var n=0,i=0,o=t.length-1,s=t[0],a=t[o],h=r.length-1,d=r[0],m=r[h],v,g,_,T;n<=o&&i<=h;)s==null?s=t[++n]:a==null?a=t[--o]:d==null?d=r[++i]:m==null?m=r[--h]:$m(s,d)?(Nf(s,d),s=t[++n],d=r[++i]):$m(a,m)?(Nf(a,m),a=t[--o],m=r[--h]):$m(s,m)?(Nf(s,m),sh(e,s.elm,C7(a.elm)),s=t[++n],m=r[--h]):$m(a,d)?(Nf(a,d),sh(e,a.elm,s.elm),a=t[--o],d=r[++i]):(uC(v)&&(v=axe(t,n,o)),g=v[d.key],uC(g)?sh(e,rg(d),s.elm):(_=t[g],_.tag!==d.tag?sh(e,rg(d),s.elm):(Nf(_,d),t[g]=void 0,sh(e,_.elm,s.elm))),d=r[++i]);(n<=o||i<=h)&&(n>o?(T=r[h+1]==null?null:r[h+1].elm,E7(e,T,r,i,h)):P1(e,t,n,o))}function Nf(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(PP(e,t),uC(t.text)?Cs(n)&&Cs(i)?n!==i&&sxe(r,n,i):Cs(i)?(Cs(e.text)&&nS(r,""),E7(r,null,i,0,i.length-1)):Cs(n)?P1(r,n,0,n.length-1):Cs(e.text)&&nS(r,""):e.text!==t.text&&(Cs(n)&&P1(r,n,0,n.length-1),nS(r,t.text)))}function lxe(e,t){if($m(e,t))Nf(e,t);else{var r=e.elm,n=T7(r);rg(t),n!==null&&(sh(n,t.elm,C7(r)),P1(n,[e],0,0))}return t}var uxe=0,cxe=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=vR(),this.configLayer=vR(),this.storage=r,this._opts=n=Dt({},n),this.root=t,this._id="zr"+uxe++,this._oldVNode=oR(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=g7("svg");PP(null,this._oldVNode),i.appendChild(o),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",lxe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return hR(t,lC(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,o=lC(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var s=[],a=this._bgVNode=hxe(n,i,this._backgroundColor,o);a&&s.push(a);var h=t.compress?null:this._mainVNode=bi("g","main",{},[]);this._paintList(r,o,h?h.children:s),h&&s.push(h);var d=ur(en(o.defs),function(g){return o.defs[g]});if(d.length&&s.push(bi("defs","defs",{},d)),t.animation){var m=Gbe(o.cssNodes,o.cssAnims,{newline:!0});if(m){var v=bi("style","stl",{},[],m);s.push(v)}}return oR(n,i,s,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},CP(this.renderToVNode({animation:zr(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:zr(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,o=[],s=0,a,h,d=0,m=0;m<i;m++){var v=t[m];if(!v.invisible){var g=v.__clipPaths,_=g&&g.length||0,T=h&&h.length||0,P=void 0;for(P=Math.max(_-1,T-1);P>=0&&!(g&&h&&g[P]===h[P]);P--);for(var M=T-1;M>P;M--)s--,a=o[s-1];for(var I=P+1;I<_;I++){var D={};nxe(g[I],D,r);var O=bi("g","clip-g-"+d++,D,[]);(a?a.children:n).push(O),o[s++]=O,a=O}h=g;var z=hR(v,r);z&&(a?a.children:n).push(z)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,o=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&o&&(o.style.display="none",t=Tk(i,0,n),r=Tk(i,1,n),o.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,o){var s=o.style;s.width=t+"px",s.height=r+"px"}if(TA(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",t),a.setAttribute("height",r));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=hpe(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function vR(e){return function(){}}function hxe(e,t,r,n){var i;if(r&&r!=="none")if(i=bi("rect","bg",{width:e,height:t,x:"0",y:"0",id:"0"}),r8(r))w7({fill:r},i.attrs,"fill",n);else if(TA(r))S7({style:{fill:r},dirty:_o,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var o=Fv(r),s=o.color,a=o.opacity;i.attrs.fill=s,a<1&&(i.attrs["fill-opacity"]=a)}return i}const fxe=cxe;function dxe(e){e.registerPainter("svg",fxe)}function pxe(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=Ld(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var o=[],s=0;s<r.length;s++)o.push(Ld(e,t,r[s]));return o.join(" ")}}var mxe=function(e){Ut(t,e);function t(r,n,i,o){var s=e.call(this)||this;return s.updateData(r,n,i,o),s}return t.prototype._createSymbol=function(r,n,i,o,s){this.removeAll();var a=Kd(r,-1,-1,2,2,null,s);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=vxe,this._symbolType=r,this.add(a)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Hv(this.childAt(0))},t.prototype.downplay=function(){jv(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,o){this.silent=!1;var s=r.getItemVisual(n,"symbol")||"circle",a=r.hostModel,h=t.getSymbolSize(r,n),d=s!==this._symbolType,m=o&&o.disableAnimation;if(d){var v=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,r,n,h,v)}else{var g=this.childAt(0);g.silent=!1;var _={scaleX:h[0]/2,scaleY:h[1]/2};m?g.attr(_):zh(g,_,a,n),lge(g)}if(this._updateCommon(r,n,h,i,o),d){var g=this.childAt(0);if(!m){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:g.style.opacity}};g.scaleX=g.scaleY=0,g.style.opacity=0,Sg(g,_,a,n)}}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,o,s){var a=this.childAt(0),h=r.hostModel,d,m,v,g,_,T,P,M,I;if(o&&(d=o.emphasisItemStyle,m=o.blurItemStyle,v=o.selectItemStyle,g=o.focus,_=o.blurScope,P=o.labelStatesModels,M=o.hoverScale,I=o.cursorStyle,T=o.emphasisDisabled),!o||r.hasItemOption){var D=o&&o.itemModel?o.itemModel:r.getItemModel(n),O=D.getModel("emphasis");d=O.getModel("itemStyle").getItemStyle(),v=D.getModel(["select","itemStyle"]).getItemStyle(),m=D.getModel(["blur","itemStyle"]).getItemStyle(),g=O.get("focus"),_=O.get("blurScope"),T=O.get("disabled"),P=Pb(D),M=O.getShallow("scale"),I=D.getShallow("cursor")}var z=r.getItemVisual(n,"symbolRotate");a.attr("rotation",(z||0)*Math.PI/180||0);var F=fP(r.getItemVisual(n,"symbolOffset"),i);F&&(a.x=F[0],a.y=F[1]),I&&a.attr("cursor",I);var N=r.getItemVisual(n,"style"),H=N.fill;if(a instanceof Nl){var U=a.style;a.useStyle(Dt({image:U.image,x:U.x,y:U.y,width:U.width,height:U.height},N))}else a.__isEmptyBrush?a.useStyle(Dt({},N)):a.useStyle(N),a.style.decal=null,a.setColor(H,s&&s.symbolInnerColor),a.style.strokeNoScale=!0;var J=r.getItemVisual(n,"liftZ"),K=this._z2;J!=null?K==null&&(this._z2=a.z2,a.z2+=J):K!=null&&(a.z2=K,this._z2=null);var ne=s&&s.useNameLabel;xF(a,P,{labelFetcher:h,labelDataIndex:n,defaultText:ae,inheritColor:H,defaultOpacity:N.opacity});function ae(de){return ne?r.getName(de):pxe(r,de)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var he=a.ensureState("emphasis");he.style=d,a.ensureState("select").style=v,a.ensureState("blur").style=m;var ie=M==null||M===!0?Math.max(1.1,3/this._sizeY):isFinite(M)&&M>0?+M:1;he.scaleX=this._sizeX*ie,he.scaleY=this._sizeY*ie,this.setSymbolScale(1),FA(this,g,_,T)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var o=this.childAt(0),s=Pn(this).dataIndex,a=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var h=o.getTextContent();h&&v1(h,{style:{opacity:0}},n,{dataIndex:s,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();v1(o,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:r,removeOpt:a})},t.getSymbolSize=function(r,n){return xN(r.getItemVisual(n,"symbolSize"))},t}(Fi);function vxe(e,t){this.parent.drift(e,t)}const gxe=mxe;function iS(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function gR(e){return e!=null&&!pr(e)&&(e={isIgnore:e}),e||{}}function yR(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Pb(t),cursorStyle:t.get("cursor")}}var yxe=function(){function e(t){this.group=new Fi,this._SymbolCtor=t||gxe}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=gR(r);var n=this.group,i=t.hostModel,o=this._data,s=this._SymbolCtor,a=r.disableAnimation,h=yR(t),d={disableAnimation:a},m=r.getSymbolPoint||function(v){return t.getItemLayout(v)};o||n.removeAll(),t.diff(o).add(function(v){var g=m(v);if(iS(t,g,v,r)){var _=new s(t,v,h,d);_.setPosition(g),t.setItemGraphicEl(v,_),n.add(_)}}).update(function(v,g){var _=o.getItemGraphicEl(g),T=m(v);if(!iS(t,T,v,r)){n.remove(_);return}var P=t.getItemVisual(v,"symbol")||"circle",M=_&&_.getSymbolType&&_.getSymbolType();if(!_||M&&M!==P)n.remove(_),_=new s(t,v,h,d),_.setPosition(T);else{_.updateData(t,v,h,d);var I={x:T[0],y:T[1]};a?_.attr(I):zh(_,I,i)}n.add(_),t.setItemGraphicEl(v,_)}).remove(function(v){var g=o.getItemGraphicEl(v);g&&g.fadeOut(function(){n.remove(g)},i)}).execute(),this._getSymbolPoint=m,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var o=t._getSymbolPoint(i);n.setPosition(o),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=yR(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=gR(n);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=r.getItemLayout(o);if(iS(r,s,o,n)){var a=new this._SymbolCtor(r,o,this._seriesScope);a.traverse(i),a.setPosition(s),this.group.add(a),r.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(t){Eb(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e}();const A7=yxe;function _xe(e,t,r,n,i){var o=e.getArea(),s=o.x,a=o.y,h=o.width,d=o.height,m=r.get(["lineStyle","width"])||2;s-=m/2,a-=m/2,h+=m,d+=m,s=Math.floor(s),h=Math.round(h);var v=new Lo({shape:{x:s,y:a,width:h,height:d}});if(t){var g=e.getBaseAxis(),_=g.isHorizontal(),T=g.inverse;_?(T&&(v.shape.x+=h),v.shape.width=0):(T||(v.shape.y+=d),v.shape.height=0);var P=wr(i)?function(M){i(M,v)}:null;Sg(v,{shape:{width:h,height:d,x:s,y:a}},r,null,n,P)}return v}function bxe(e,t,r){var n=e.getArea(),i=_i(n.r0,1),o=_i(n.r,1),s=new VA({shape:{cx:_i(e.cx,1),cy:_i(e.cy,1),r0:i,r:o,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var a=e.getBaseAxis().dim==="angle";a?s.shape.endAngle=n.startAngle:s.shape.r=i,Sg(s,{shape:{endAngle:n.endAngle,r:o}},r)}return s}function xxe(e,t,r,n,i){if(e){if(e.type==="polar")return bxe(e,t,r);if(e.type==="cartesian2d")return _xe(e,t,r,n,i)}else return null;return null}function P7(e,t){return{seriesType:e,plan:uP(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,o=r.pipelineContext,s=t||o.large;if(i){var a=ur(i.dimensions,function(_){return n.mapDimension(_)}).slice(0,2),h=a.length,d=n.getCalculationInfo("stackResultDimension");E1(n,a[0])&&(a[0]=d),E1(n,a[1])&&(a[1]=d);var m=n.getStore(),v=n.getDimensionIndex(a[0]),g=n.getDimensionIndex(a[1]);return h&&{progress:function(_,T){for(var P=_.end-_.start,M=s&&C1e(P*h),I=[],D=[],O=_.start,z=0;O<_.end;O++){var F=void 0;if(h===1){var N=m.get(v,O);F=i.dataToPoint(N,null,D)}else I[0]=m.get(v,O),I[1]=m.get(g,O),F=i.dataToPoint(I,null,D);s?(M[z++]=F[0],M[z++]=F[1]):T.setItemLayout(O,F.slice())}s&&T.setLayout("points",M)}}}}}}var wxe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return v1e(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Od);const Sxe=wxe;var I7=4,Txe=function(){function e(){}return e}(),Cxe=function(e){Ut(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new Txe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,o=n.size,s=this.symbolProxy,a=s.shape,h=r.getContext?r.getContext():r,d=h&&o[0]<I7,m=this.softClipShape,v;if(d){this._ctx=h;return}for(this._ctx=null,v=this._off;v<i.length;){var g=i[v++],_=i[v++];isNaN(g)||isNaN(_)||m&&!m.contain(g,_)||(a.x=g-o[0]/2,a.y=_-o[1]/2,a.width=o[0],a.height=o[1],s.buildPath(r,a,!0))}this.incremental&&(this._off=v,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,o=this._ctx,s=this.softClipShape,a;if(o){for(a=this._off;a<n.length;){var h=n[a++],d=n[a++];isNaN(h)||isNaN(d)||s&&!s.contain(h,d)||o.fillRect(h-i[0]/2,d-i[1]/2,i[0],i[1])}this.incremental&&(this._off=a,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,o=i.points,s=i.size,a=Math.max(s[0],4),h=Math.max(s[1],4),d=o.length/2-1;d>=0;d--){var m=d*2,v=o[m]-a/2,g=o[m+1]-h/2;if(r>=v&&n>=g&&r<=v+a&&n<=g+h)return d}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,o=n.size,s=o[0],a=o[1],h=1/0,d=1/0,m=-1/0,v=-1/0,g=0;g<i.length;){var _=i[g++],T=i[g++];h=Math.min(_,h),m=Math.max(_,m),d=Math.min(T,d),v=Math.max(T,v)}r=this._rect=new gn(h-s/2,d-a/2,m-h+s,v-d+a)}return r},t}(hn),Exe=function(){function e(){this.group=new Fi}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,o=n.startIndex*4*2;r=new Float32Array(r.buffer,o,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],o=r.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var a=s.length,h=new Float32Array(a+o.length);h.set(s),h.set(o,a),i.endIndex=t.end,i.setShape({points:h})}else{this._newAdded=[];var d=this._create();d.startIndex=t.start,d.endIndex=t.end,d.incremental=!0,d.setShape({points:o}),this._setCommon(d,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new Cxe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var o=r.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=n.clipShape||null,t.symbolProxy=Kd(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<I7;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var a=r.getVisual("style"),h=a&&a.fill;h&&t.setColor(h);var d=Pn(t);d.seriesIndex=i.seriesIndex,t.on("mousemove",function(m){d.dataIndex=null;var v=t.hoverDataIdx;v>=0&&(d.dataIndex=v+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Axe=Exe;var Pxe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),s=this._updateSymbolDraw(o,r);s.updateData(o,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),s=this._updateSymbolDraw(o,r);s.incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var o=r.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var s=P7("").reset(r,n,i);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,o=n.pipelineContext,s=o.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new Axe:new A7,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(bh);const Ixe=Pxe;var Mxe=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Bn);const Dxe=Mxe;var cC=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ya).models[0]},t.type="cartesian2dAxis",t}(Bn);as(cC,nbe);var M7={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Lxe=Nn({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},M7),IP=Nn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},M7),Oxe=Nn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},IP),kxe=Dn({logBase:10},IP);const Rxe={category:Lxe,value:IP,time:Oxe,log:kxe};var zxe={value:1,category:1,time:1,log:1};function _R(e,t,r,n){Me(zxe,function(i,o){var s=Nn(Nn({},Rxe[o],!0),n,!0),a=function(h){Ut(d,h);function d(){var m=h!==null&&h.apply(this,arguments)||this;return m.type=t+"Axis."+o,m}return d.prototype.mergeDefaultAndTheme=function(m,v){var g=Zv(this),_=g?tP(m):{},T=v.getTheme();Nn(m,T.get(o+"Axis")),Nn(m,this.getDefaultOption()),m.type=bR(m),g&&Kv(m,_,g)},d.prototype.optionUpdated=function(){var m=this.option;m.type==="category"&&(this.__ordinalMeta=nC.createByAxisModel(this))},d.prototype.getCategories=function(m){var v=this.option;if(v.type==="category")return m?v.data:this.__ordinalMeta.categories},d.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},d.type=t+"Axis."+o,d.defaultOption=s,d}(r);e.registerComponentModel(a)}),e.registerSubTypeDefaulter(t+"Axis",bR)}function bR(e){return e.type||(e.data?"category":"value")}var $xe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return ur(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ji(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}();const Bxe=$xe;var hC=["x","y"];function xR(e){return e.type==="interval"||e.type==="time"}var Fxe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=hC,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!xR(r)||!xR(n))){var i=r.getExtent(),o=n.getExtent(),s=this.dataToPoint([i[0],o[0]]),a=this.dataToPoint([i[1],o[1]]),h=i[1]-i[0],d=o[1]-o[0];if(!(!h||!d)){var m=(a[0]-s[0])/h,v=(a[1]-s[1])/d,g=s[0]-i[0]*m,_=s[1]-o[0]*v,T=this._transform=[m,0,0,v,g,_];this._invTransform=wA([],T)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),o=this.dataToPoint(n),s=this.getArea(),a=new gn(i[0],i[1],o[0]-i[0],o[1]-i[1]);return s.intersect(a)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var o=r[0],s=r[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return Ca(i,r,this._transform);var a=this.getAxis("x"),h=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(o,n)),i[1]=h.toGlobalCoord(h.dataToCoord(s,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,s=i.getExtent(),a=o.getExtent(),h=i.parse(r[0]),d=o.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),h),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(a[0],a[1]),d),Math.max(a[0],a[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return Ca(i,r,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(r[0]),n),i[1]=s.coordToData(s.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(r[0],r[1]),o=Math.min(n[0],n[1]),s=Math.max(r[0],r[1])-i,a=Math.max(n[0],n[1])-o;return new gn(i,o,s,a)},t}(Bxe),Nxe=function(e){Ut(t,e);function t(r,n,i,o,s){var a=e.call(this,r,n,i)||this;return a.index=0,a.type=o||"value",a.position=s||"bottom",a}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(mbe);const Vxe=Nxe;function fC(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,o={},s=i.getAxesOnZeroOf()[0],a=i.position,h=s?"onZero":a,d=i.dim,m=n.getRect(),v=[m.x,m.x+m.width,m.y,m.y+m.height],g={left:0,right:1,top:0,bottom:1,onZero:2},_=t.get("offset")||0,T=d==="x"?[v[2]-_,v[3]+_]:[v[0]-_,v[1]+_];if(s){var P=s.toGlobalCoord(s.dataToCoord(0));T[g.onZero]=Math.max(Math.min(P,T[1]),T[0])}o.position=[d==="y"?T[g[h]]:v[0],d==="x"?T[g[h]]:v[3]],o.rotation=Math.PI/2*(d==="x"?0:1);var M={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=M[a],o.labelOffset=s?T[g[a]]-T[g.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Id(r.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var I=t.get(["axisLabel","rotate"]);return o.labelRotate=h==="top"?-I:I,o.z2=1,o}function wR(e){return e.get("coordinateSystem")==="cartesian2d"}function SR(e){var t={xAxisModel:null,yAxisModel:null};return Me(t,function(r,n){var i=n.replace(/Model$/,""),o=e.getReferringComponents(i,Ya).models[0];t[n]=o}),t}var oS=Math.log;function Uxe(e,t,r){var n=Tg.prototype,i=n.getTicks.call(r),o=n.getTicks.call(r,!0),s=i.length-1,a=n.getInterval.call(r),h=i7(e,t),d=h.extent,m=h.fixMin,v=h.fixMax;if(e.type==="log"){var g=oS(e.base);d=[oS(d[0])/g,oS(d[1])/g]}e.setExtent(d[0],d[1]),e.calcNiceExtent({splitNumber:s,fixMin:m,fixMax:v});var _=n.getExtent.call(e);m&&(d[0]=_[0]),v&&(d[1]=_[1]);var T=n.getInterval.call(e),P=d[0],M=d[1];if(m&&v)T=(M-P)/s;else if(m)for(M=d[0]+T*s;M<d[1]&&isFinite(M)&&isFinite(d[1]);)T=J2(T),M=d[0]+T*s;else if(v)for(P=d[1]-T*s;P>d[0]&&isFinite(P)&&isFinite(d[0]);)T=J2(T),P=d[1]-T*s;else{var I=e.getTicks().length-1;I>s&&(T=J2(T));var D=T*s;M=Math.ceil(d[1]/T)*T,P=_i(M-D),P<0&&d[0]>=0?(P=0,M=_i(D)):M>0&&d[1]<=0&&(M=0,P=-_i(D))}var O=(i[0].value-o[0].value)/a,z=(i[s].value-o[s].value)/a;n.setExtent.call(e,P+T*O,M+T*z),n.setInterval.call(e,T),(O||z)&&n.setNiceExtent.call(e,P+T,M-T)}var Hxe=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=hC,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(s){var a,h=en(s),d=h.length;if(d){for(var m=[],v=d-1;v>=0;v--){var g=+h[v],_=s[g],T=_.model,P=_.scale;iC(P)&&T.get("alignTicks")&&T.get("interval")==null?m.push(_):(eR(P,T),iC(P)&&(a=_))}m.length&&(a||(a=m.pop(),eR(a.scale,a.model)),Me(m,function(M){Uxe(M.scale,M.model,a.scale)}))}}i(n.x),i(n.y);var o={};Me(n.x,function(s){TR(n,"y",s,o)}),Me(n.y,function(s){TR(n,"x",s,o)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),s=eP(i,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var a=this._axesList;h(),o&&(Me(a,function(d){if(!d.model.get(["axisLabel","inside"])){var m=ebe(d);if(m){var v=d.isHorizontal()?"height":"width",g=d.model.get(["axisLabel","margin"]);s[v]-=m[v]+g,d.position==="top"?s.y+=m.height+g:d.position==="left"&&(s.x+=m.width+g)}}}),h()),Me(this._coordsList,function(d){d.calcAffineTransform()});function h(){Me(a,function(d){var m=d.isHorizontal(),v=m?[0,s.width]:[0,s.height],g=d.inverse?1:0;d.setExtent(v[g],v[1-g]),jxe(d,m?s.x:s.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}pr(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===r)return o[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",Ya).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",Ya).models[0],o=t.gridModel,s=this._coordsList,a,h;if(r)a=r.coordinateSystem,vn(s,a)<0&&(a=null);else if(n&&i)a=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)h=this.getAxis("x",n.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(o){var d=o.coordinateSystem;d===this&&(a=this._coordsList[0])}return{cartesian:a,axis:h}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},h={x:0,y:0};if(r.eachComponent("xAxis",d("x"),this),r.eachComponent("yAxis",d("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=a,Me(a.x,function(m,v){Me(a.y,function(g,_){var T="x"+v+"y"+_,P=new Fxe(T);P.master=i,P.model=t,i._coordsMap[T]=P,i._coordsList.push(P),P.addAxis(m),P.addAxis(g)})});function d(m){return function(v,g){if(aS(v,t)){var _=v.get("position");m==="x"?_!=="top"&&_!=="bottom"&&(_=s.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=s.left?"right":"left"),s[_]=!0;var T=new Vxe(m,J1e(v),[0,0],v.get("type"),_),P=T.type==="category";T.onBand=P&&v.get("boundaryGap"),T.inverse=v.get("inverse"),v.axis=T,T.model=v,T.grid=o,T.index=g,o._axesList.push(T),a[m][g]=T,h[m]++}}}},e.prototype._updateScale=function(t,r){Me(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if(wR(i)){var o=SR(i),s=o.xAxisModel,a=o.yAxisModel;if(!aS(s,r)||!aS(a,r))return;var h=this.getCartesian(s.componentIndex,a.componentIndex),d=i.getData(),m=h.getAxis("x"),v=h.getAxis("y");n(d,m),n(d,v)}},this);function n(i,o){Me(rbe(i,o.dim),function(s){o.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return Me(this.getCartesians(),function(i){var o=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(o);vn(r,o)<0&&r.push(o),vn(n,s)<0&&n.push(s)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,o){var s=new e(i,t,r);s.name="grid_"+o,s.resize(i,r,!0),i.coordinateSystem=s,n.push(s)}),t.eachSeries(function(i){if(wR(i)){var o=SR(i),s=o.xAxisModel,a=o.yAxisModel,h=s.getCoordSysModel(),d=h.coordinateSystem;i.coordinateSystem=d.getCartesian(s.componentIndex,a.componentIndex)}}),n},e.dimensions=hC,e}();function aS(e,t){return e.getCoordSysModel()===t}function TR(e,t,r,n){r.getAxesOnZeroOf=function(){return o?[o]:[]};var i=e[t],o,s=r.model,a=s.get(["axisLine","onZero"]),h=s.get(["axisLine","onZeroAxisIndex"]);if(!a)return;if(h!=null)CR(i[h])&&(o=i[h]);else for(var d in i)if(i.hasOwnProperty(d)&&CR(i[d])&&!n[m(i[d])]){o=i[d];break}o&&(n[m(o)]=!0);function m(v){return v.dim+"_"+v.index}}function CR(e){return e&&e.type!=="category"&&e.type!=="time"&&Q1e(e)}function jxe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}const Gxe=Hxe;var Ou=Math.PI,xh=function(){function e(t,r){this.group=new Fi,this.opt=r,this.axisModel=t,Dn(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Fi({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!ER[t]},e.prototype.add=function(t){ER[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=m8(r-t),o,s;return h1(i)?(s=n>0?"top":"bottom",o="center"):h1(i-Ou)?(s=n>0?"bottom":"top",o="center"):(s="middle",i>0&&i<Ou?o=n>0?"right":"left":o=n>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),ER={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var o=t.axis.getExtent(),s=n.transform,a=[o[0],0],h=[o[1],0],d=a[0]>h[0];s&&(Ca(a,a,s),Ca(h,h,s));var m=Dt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),v=new Gu({shape:{x1:a[0],y1:a[1],x2:h[0],y2:h[1]},style:m,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Gv(v.shape,v.style.lineWidth),v.anid="line",r.add(v);var g=t.get(["axisLine","symbol"]);if(g!=null){var _=t.get(["axisLine","symbolSize"]);lr(g)&&(g=[g,g]),(lr(_)||Zn(_))&&(_=[_,_]);var T=fP(t.get(["axisLine","symbolOffset"])||0,_),P=_[0],M=_[1];Me([{rotate:e.rotation+Math.PI/2,offset:T[0],r:0},{rotate:e.rotation-Math.PI/2,offset:T[1],r:Math.sqrt((a[0]-h[0])*(a[0]-h[0])+(a[1]-h[1])*(a[1]-h[1]))}],function(I,D){if(g[D]!=="none"&&g[D]!=null){var O=Kd(g[D],-P/2,-M/2,P,M,m.stroke,!0),z=I.r+I.offset,F=d?h:a;O.attr({rotation:I.rotate,x:F[0]+z*Math.cos(e.rotation),y:F[1]-z*Math.sin(e.rotation),silent:!0,z2:11}),r.add(O)}})}}},axisTickLabel:function(e,t,r,n){var i=Xxe(r,n,t,e),o=Kxe(r,n,t,e);if(qxe(t,o,i),Zxe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=vbe(ur(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}}));gbe(s)}},axisName:function(e,t,r,n){var i=Id(e.axisName,t.get("name"));if(i){var o=t.get("nameLocation"),s=e.nameDirection,a=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,d=t.axis.getExtent(),m=d[0]>d[1]?-1:1,v=[o==="start"?d[0]-m*h:o==="end"?d[1]+m*h:(d[0]+d[1])/2,PR(o)?e.labelOffset+s*h:0],g,_=t.get("nameRotate");_!=null&&(_=_*Ou/180);var T;PR(o)?g=xh.innerTextLayout(e.rotation,_??e.rotation,s):(g=Wxe(e.rotation,o,_||0,d),T=e.axisNameAvailableWidth,T!=null&&(T=Math.abs(T/Math.sin(g.rotation)),!isFinite(T)&&(T=null)));var P=a.getFont(),M=t.get("nameTruncate",!0)||{},I=M.ellipsis,D=Id(e.nameTruncateMaxWidth,M.maxWidth,T),O=new rs({x:v[0],y:v[1],rotation:g.rotation,silent:xh.isLabelSilent(t),style:Ih(a,{text:i,font:P,overflow:"truncate",width:D,ellipsis:I,fill:a.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:a.get("align")||g.textAlign,verticalAlign:a.get("verticalAlign")||g.textVerticalAlign}),z2:1});if(bF({el:O,componentModel:t,itemName:i}),O.__fullText=i,O.anid="name",t.get("triggerEvent")){var z=xh.makeAxisEventDataBase(t);z.targetType="axisName",z.name=i,Pn(O).eventData=z}n.add(O),O.updateTransform(),r.add(O),O.decomposeTransform()}}};function Wxe(e,t,r,n){var i=m8(r-e),o,s,a=n[0]>n[1],h=t==="start"&&!a||t!=="start"&&a;return h1(i-Ou/2)?(s=h?"bottom":"top",o="center"):h1(i-Ou*1.5)?(s=h?"top":"bottom",o="center"):(s="middle",i<Ou*1.5&&i>Ou/2?o=h?"left":"right":o=h?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:s}}function qxe(e,t,r){if(!o7(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var o=t[0],s=t[1],a=t[t.length-1],h=t[t.length-2],d=r[0],m=r[1],v=r[r.length-1],g=r[r.length-2];n===!1?(fa(o),fa(d)):AR(o,s)&&(n?(fa(s),fa(m)):(fa(o),fa(d))),i===!1?(fa(a),fa(v)):AR(h,a)&&(i?(fa(h),fa(g)):(fa(a),fa(v)))}}function fa(e){e&&(e.ignore=!0)}function AR(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=bA([]);return xA(i,i,-e.rotation),r.applyTransform(ad([],i,e.getLocalTransform())),n.applyTransform(ad([],i,t.getLocalTransform())),r.intersect(n)}}function PR(e){return e==="middle"||e==="center"}function D7(e,t,r,n,i){for(var o=[],s=[],a=[],h=0;h<e.length;h++){var d=e[h].coord;s[0]=d,s[1]=0,a[0]=d,a[1]=r,t&&(Ca(s,s,t),Ca(a,a,t));var m=new Gu({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:n,z2:2,autoBatch:!0,silent:!0});Gv(m.shape,m.style.lineWidth),m.anid=i+"_"+e[h].tickValue,o.push(m)}return o}function Xxe(e,t,r,n){var i=r.axis,o=r.getModel("axisTick"),s=o.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var a=o.getModel("lineStyle"),h=n.tickDirection*o.get("length"),d=i.getTicksCoords(),m=D7(d,t.transform,h,Dn(a.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),v=0;v<m.length;v++)e.add(m[v]);return m}}function Zxe(e,t,r,n){var i=r.axis,o=r.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),h=n*o.get("length"),d=Dn(a.getLineStyle(),Dn(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),m=0;m<s.length;m++)for(var v=D7(s[m],t.transform,h,d,"minorticks_"+m),g=0;g<v.length;g++)e.add(v[g])}}function Kxe(e,t,r,n){var i=r.axis,o=Id(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var s=r.getModel("axisLabel"),a=s.get("margin"),h=i.getViewLabels(),d=(Id(n.labelRotate,s.get("rotate"))||0)*Ou/180,m=xh.innerTextLayout(n.rotation,d,n.labelDirection),v=r.getCategories&&r.getCategories(!0),g=[],_=xh.isLabelSilent(r),T=r.get("triggerEvent");return Me(h,function(P,M){var I=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(P.tickValue):P.tickValue,D=P.formattedLabel,O=P.rawLabel,z=s;if(v&&v[I]){var F=v[I];pr(F)&&F.textStyle&&(z=new yo(F.textStyle,s,r.ecModel))}var N=z.getTextColor()||r.get(["axisLine","lineStyle","color"]),H=i.dataToCoord(I),U=new rs({x:H,y:n.labelOffset+n.labelDirection*a,rotation:m.rotation,silent:_,z2:10+(P.level||0),style:Ih(z,{text:D,align:z.getShallow("align",!0)||m.textAlign,verticalAlign:z.getShallow("verticalAlign",!0)||z.getShallow("baseline",!0)||m.textVerticalAlign,fill:wr(N)?N(i.type==="category"?O:i.type==="value"?I+"":I,M):N})});if(U.anid="label_"+I,T){var J=xh.makeAxisEventDataBase(r);J.targetType="axisLabel",J.value=O,J.tickIndex=M,i.type==="category"&&(J.dataIndex=I),Pn(U).eventData=J}t.add(U),U.updateTransform(),g.push(U),e.add(U),U.decomposeTransform()}),g}}const L7=xh;function Yxe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Jxe(r,e,t),r.seriesInvolved&&ewe(r,e),r}function Jxe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],s=[];Me(r.getCoordinateSystems(),function(a){if(!a.axisPointerEnabled)return;var h=ng(a.model),d=e.coordSysAxesInfo[h]={};e.coordSysMap[h]=a;var m=a.model,v=m.getModel("tooltip",n);if(Me(a.getAxes(),Ai(P,!1,null)),a.getTooltipAxes&&n&&v.get("show")){var g=v.get("trigger")==="axis",_=v.get(["axisPointer","type"])==="cross",T=a.getTooltipAxes(v.get(["axisPointer","axis"]));(g||_)&&Me(T.baseAxes,Ai(P,_?"cross":!0,g)),_&&Me(T.otherAxes,Ai(P,"cross",!1))}function P(M,I,D){var O=D.model.getModel("axisPointer",i),z=O.get("show");if(!(!z||z==="auto"&&!M&&!dC(O))){I==null&&(I=O.get("triggerTooltip")),O=M?Qxe(D,v,i,t,M,I):O;var F=O.get("snap"),N=ng(D.model),H=I||F||D.type==="category",U=e.axesInfo[N]={key:N,axis:D,coordSys:a,axisPointerModel:O,triggerTooltip:I,involveSeries:H,snap:F,useHandle:dC(O),seriesModels:[],linkGroup:null};d[N]=U,e.seriesInvolved=e.seriesInvolved||H;var J=twe(o,D);if(J!=null){var K=s[J]||(s[J]={axesInfo:{}});K.axesInfo[N]=U,K.mapper=o[J].mapper,U.linkGroup=K}}}})}function Qxe(e,t,r,n,i,o){var s=t.getModel("axisPointer"),a=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};Me(a,function(g){h[g]=Gr(s.get(g))}),h.snap=e.type!=="category"&&!!o,s.get("type")==="cross"&&(h.type="line");var d=h.label||(h.label={});if(d.show==null&&(d.show=!1),i==="cross"){var m=s.get(["label","show"]);if(d.show=m??!0,!o){var v=h.lineStyle=s.get("crossStyle");v&&Dn(d,v.textStyle)}}return e.model.getModel("axisPointer",new yo(h,r,n))}function ewe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),o=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||o===!1||r.get(["axisPointer","show"],!0)===!1||Me(e.coordSysAxesInfo[ng(n.model)],function(s){var a=s.axis;n.getAxis(a.dim)===a&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function twe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(sS(o[n+"AxisId"],r.id)||sS(o[n+"AxisIndex"],r.componentIndex)||sS(o[n+"AxisName"],r.name))return i}}function sS(e,t){return e==="all"||Zt(e)&&vn(e,t)>=0||e===t}function rwe(e){var t=MP(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,o=r.get("status"),s=r.get("value");s!=null&&(s=n.parse(s));var a=dC(r);o==null&&(i.status=a?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(s==null||s>h[1])&&(s=h[1]),s<h[0]&&(s=h[0]),i.value=s,a&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function MP(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ng(e)]}function nwe(e){var t=MP(e);return t&&t.axisPointerModel}function dC(e){return!!e.get(["handle","show"])}function ng(e){return e.type+"||"+e.id}var IR={},iwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,o){this.axisPointerClass&&rwe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,o){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var s=nwe(r);s?(this._axisPointer||(this._axisPointer=new o)).render(r,s,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){IR[r]=n},t.getAxisPointerClass=function(r){return r&&IR[r]},t.type="axis",t}(Ml);const O7=iwe;var pC=ni();function owe(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),h=n.coordinateSystem.getRect(),d=i.getTicksCoords({tickModel:o,clamp:!0});if(d.length){var m=a.length,v=pC(e).splitAreaColors,g=Br(),_=0;if(v)for(var T=0;T<d.length;T++){var P=v.get(d[T].tickValue);if(P!=null){_=(P+(m-1)*T)%m;break}}var M=i.toGlobalCoord(d[0].coord),I=s.getAreaStyle();a=Zt(a)?a:[a];for(var T=1;T<d.length;T++){var D=i.toGlobalCoord(d[T].coord),O=void 0,z=void 0,F=void 0,N=void 0;i.isHorizontal()?(O=M,z=h.y,F=D-O,N=h.height,M=O+F):(O=h.x,z=M,F=h.width,N=D-z,M=z+N);var H=d[T-1].tickValue;H!=null&&g.set(H,_),t.add(new Lo({anid:H!=null?"area_"+H:null,shape:{x:O,y:z,width:F,height:N},style:Dn({fill:a[_]},I),autoBatch:!0,silent:!0})),_=(_+1)%m}pC(e).splitAreaColors=g}}}function awe(e){pC(e).splitAreaColors=null}var swe=["axisLine","axisTickLabel","axisName"],lwe=["splitArea","splitLine","minorSplitLine"],k7=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Fi,this.group.add(this._axisGroup),!!r.get("show")){var a=r.getCoordSysModel(),h=fC(a,r),d=new L7(r,Dt({handleAutoShown:function(v){for(var g=a.coordinateSystem.getCartesians(),_=0;_<g.length;_++)if(iC(g[_].getOtherAxis(r.axis).scale))return!0;return!1}},h));Me(swe,d.add,d),this._axisGroup.add(d.getGroup()),Me(lwe,function(v){r.get([v,"show"])&&uwe[v](this,this._axisGroup,r,a)},this);var m=o&&o.type==="changeAxisOrder"&&o.isInitSort;m||gF(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,o)}},t.prototype.remove=function(){awe(this)},t.type="cartesianAxis",t}(O7),uwe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=Zt(a)?a:[a];for(var h=n.coordinateSystem.getRect(),d=i.isHorizontal(),m=0,v=i.getTicksCoords({tickModel:o}),g=[],_=[],T=s.getLineStyle(),P=0;P<v.length;P++){var M=i.toGlobalCoord(v[P].coord);d?(g[0]=M,g[1]=h.y,_[0]=M,_[1]=h.y+h.height):(g[0]=h.x,g[1]=M,_[0]=h.x+h.width,_[1]=M);var I=m++%a.length,D=v[P].tickValue,O=new Gu({anid:D!=null?"line_"+v[P].tickValue:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:_[0],y2:_[1]},style:Dn({stroke:a[I]},T),silent:!0});Gv(O.shape,T.lineWidth),t.add(O)}}},minorSplitLine:function(e,t,r,n){var i=r.axis,o=r.getModel("minorSplitLine"),s=o.getModel("lineStyle"),a=n.coordinateSystem.getRect(),h=i.isHorizontal(),d=i.getMinorTicksCoords();if(d.length)for(var m=[],v=[],g=s.getLineStyle(),_=0;_<d.length;_++)for(var T=0;T<d[_].length;T++){var P=i.toGlobalCoord(d[_][T].coord);h?(m[0]=P,m[1]=a.y,v[0]=P,v[1]=a.y+a.height):(m[0]=a.x,m[1]=P,v[0]=a.x+a.width,v[1]=P);var M=new Gu({anid:"minor_line_"+d[_][T].tickValue,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:g,silent:!0});Gv(M.shape,g.lineWidth),t.add(M)}},splitArea:function(e,t,r,n){owe(e,t,r,n)}},R7=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(k7),cwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=R7.type,r}return t.type="yAxis",t}(k7),hwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Lo({shape:r.coordinateSystem.getRect(),style:Dn({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ml),MR={offset:0};function z7(e){e.registerComponentView(hwe),e.registerComponentModel(Dxe),e.registerCoordinateSystem("cartesian2d",Gxe),_R(e,"x",cC,MR),_R(e,"y",cC,MR),e.registerComponentView(R7),e.registerComponentView(cwe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function fwe(e){kd(z7),e.registerSeriesModel(Sxe),e.registerChartView(Ixe),e.registerLayout(P7("scatter"))}var DR=Gu.prototype,lS=HA.prototype,$7=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})($7);function uS(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var dwe=function(e){Ut(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $7},t.prototype.buildPath=function(r,n){uS(n)?DR.buildPath.call(this,r,n):lS.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return uS(this.shape)?DR.pointAt.call(this,r):lS.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=uS(n)?[n.x2-n.x1,n.y2-n.y1]:lS.tangentAt.call(this,r);return yA(i,i)},t}(hn);const pwe=dwe;var cS=["fromSymbol","toSymbol"];function LR(e){return"_"+e+"Type"}function OR(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),o=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),a=t.getItemVisual(r,e+"KeepAspect"),h=xN(i),d=fP(s||0,h),m=Kd(n,-h[0]/2+d[0],-h[1]/2+d[1],h[0],h[1],null,a);return m.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,m.name=e,m}}function mwe(e){var t=new pwe({name:"line",subPixelOptimize:!0});return mC(t.shape,e),t}function mC(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var vwe=function(e){Ut(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createLine(r,n,i),o}return t.prototype._createLine=function(r,n,i){var o=r.hostModel,s=r.getItemLayout(n),a=mwe(s);a.shape.percent=0,Sg(a,{shape:{percent:1}},o,n),this.add(a),Me(cS,function(h){var d=OR(h,r,n);this.add(d),this[LR(h)]=r.getItemVisual(n,h)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,s=this.childOfName("line"),a=r.getItemLayout(n),h={shape:{}};mC(h.shape,a),zh(s,h,o,n),Me(cS,function(d){var m=r.getItemVisual(n,d),v=LR(d);if(this[v]!==m){this.remove(this.childOfName(d));var g=OR(d,r,n);this.add(g)}this[v]=m},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var o=r.hostModel,s=this.childOfName("line"),a=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,d=i&&i.selectLineStyle,m=i&&i.labelStatesModels,v=i&&i.emphasisDisabled,g=i&&i.focus,_=i&&i.blurScope;if(!i||r.hasItemOption){var T=r.getItemModel(n),P=T.getModel("emphasis");a=P.getModel("lineStyle").getLineStyle(),h=T.getModel(["blur","lineStyle"]).getLineStyle(),d=T.getModel(["select","lineStyle"]).getLineStyle(),v=P.get("disabled"),g=P.get("focus"),_=P.get("blurScope"),m=Pb(T)}var M=r.getItemVisual(n,"style"),I=M.stroke;s.useStyle(M),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=a,s.ensureState("blur").style=h,s.ensureState("select").style=d,Me(cS,function(N){var H=this.childOfName(N);if(H){H.setColor(I),H.style.opacity=M.opacity;for(var U=0;U<Ns.length;U++){var J=Ns[U],K=s.getState(J);if(K){var ne=K.style||{},ae=H.ensureState(J),he=ae.style||(ae.style={});ne.stroke!=null&&(he[H.__isEmptyBrush?"stroke":"fill"]=ne.stroke),ne.opacity!=null&&(he.opacity=ne.opacity)}}H.markRedraw()}},this);var D=o.getRawValue(n);xF(this,m,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(N,H){return o.getFormattedLabel(N,H,r.dataType)}},inheritColor:I||"#000",defaultOpacity:M.opacity,defaultText:(D==null?r.getName(n):isFinite(D)?_i(D):D)+""});var O=this.getTextContent();if(O){var z=m.normal;O.__align=O.style.align,O.__verticalAlign=O.style.verticalAlign,O.__position=z.get("position")||"middle";var F=z.get("distance");Zt(F)||(F=[F,F]),O.__labelDistance=F}this.setTextConfig({position:null,local:!0,inside:!1}),FA(this,g,_,v)},t.prototype.highlight=function(){Hv(this)},t.prototype.downplay=function(){jv(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");mC(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),o=r.getTextContent();if(!n&&!i&&(!o||o.ignore))return;for(var s=1,a=this.parent;a;)a.scaleX&&(s/=a.scaleX),a=a.parent;var h=r.childOfName("line");if(!this.__dirty&&!h.__dirty)return;var d=h.shape.percent,m=h.pointAt(0),v=h.pointAt(d),g=z9([],v,m);yA(g,g);function _(K,ne){var ae=K.__specifiedRotation;if(ae==null){var he=h.tangentAt(ne);K.attr("rotation",(ne===1?-1:1)*Math.PI/2-Math.atan2(he[1],he[0]))}else K.attr("rotation",ae)}if(n&&(n.setPosition(m),_(n,0),n.scaleX=n.scaleY=s*d,n.markRedraw()),i&&(i.setPosition(v),_(i,1),i.scaleX=i.scaleY=s*d,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var T=void 0,P=void 0,M=o.__labelDistance,I=M[0]*s,D=M[1]*s,O=d/2,z=h.tangentAt(O),F=[z[1],-z[0]],N=h.pointAt(O);F[1]>0&&(F[0]=-F[0],F[1]=-F[1]);var H=z[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var U=-Math.atan2(z[1],z[0]);v[0]<m[0]&&(U=Math.PI+U),o.rotation=U}var J=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":J=-D,P="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":J=D,P="top";break;default:J=0,P="middle"}switch(o.__position){case"end":o.x=g[0]*I+v[0],o.y=g[1]*D+v[1],T=g[0]>.8?"left":g[0]<-.8?"right":"center",P=g[1]>.8?"top":g[1]<-.8?"bottom":"middle";break;case"start":o.x=-g[0]*I+m[0],o.y=-g[1]*D+m[1],T=g[0]>.8?"right":g[0]<-.8?"left":"center",P=g[1]>.8?"bottom":g[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=I*H+m[0],o.y=m[1]+J,T=z[0]<0?"right":"left",o.originX=-I*H,o.originY=-J;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=N[0],o.y=N[1]+J,T="center",o.originY=-J;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-I*H+v[0],o.y=v[1]+J,T=z[0]>=0?"right":"left",o.originX=I*H,o.originY=-J;break}o.scaleX=o.scaleY=s,o.setStyle({verticalAlign:o.__verticalAlign||P,align:o.__align||T})}},t}(Fi);const DP=vwe;var gwe=function(){function e(t){this.group=new Fi,this._LineCtor=t||DP}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,o=n._lineData;n._lineData=t,o||i.removeAll();var s=kR(t);t.diff(o).add(function(a){r._doAdd(t,a,s)}).update(function(a,h){r._doUpdate(o,t,h,a,s)}).remove(function(a){i.remove(o.getItemGraphicEl(a))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=kR(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(a){!a.isGroup&&!ywe(a)&&(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=r.getItemLayout(i);if(hS(o)){var s=new this._LineCtor(r,i,this._seriesScope);s.traverse(n),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){Eb(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(hS(i)){var o=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,o),this.group.add(o)}},e.prototype._doUpdate=function(t,r,n,i,o){var s=t.getItemGraphicEl(n);if(!hS(r.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(r,i,o):s=new this._LineCtor(r,i,o),r.setItemGraphicEl(i,s),this.group.add(s)},e}();function ywe(e){return e.animators&&e.animators.length>0}function kR(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Pb(t)}}function RR(e){return isNaN(e[0])||isNaN(e[1])}function hS(e){return e&&!RR(e[0])&&!RR(e[1])}const _we=gwe;var bwe=function(e){Ut(t,e);function t(r,n,i){var o=e.call(this)||this;return o.add(o.createLine(r,n,i)),o._updateEffectSymbol(r,n),o}return t.prototype.createLine=function(r,n,i){return new DP(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),o=i.getModel("effect"),s=o.get("symbolSize"),a=o.get("symbol");Zt(s)||(s=[s,s]);var h=r.getItemVisual(n,"style"),d=o.get("color")||h&&h.stroke,m=this.childAt(1);this._symbolType!==a&&(this.remove(m),m=Kd(a,-.5,-.5,1,1,d),m.z2=100,m.culling=!0,this.add(m)),m&&(m.setStyle("shadowColor",d),m.setStyle(o.getItemStyle(["color"])),m.scaleX=s[0],m.scaleY=s[1],m.setColor(d),this._symbolType=a,this._symbolScale=s,this._updateEffectAnimation(r,o,n))},t.prototype._updateEffectAnimation=function(r,n,i){var o=this.childAt(1);if(o){var s=r.getItemLayout(i),a=n.get("period")*1e3,h=n.get("loop"),d=n.get("roundTrip"),m=n.get("constantSpeed"),v=Id(n.get("delay"),function(_){return _/r.count()*a/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),m>0&&(a=this._getLineLength(o)/m*1e3),a!==this._period||h!==this._loop||d!==this._roundTrip){o.stopAnimation();var g=void 0;wr(v)?g=v(i):g=v,o.__t>0&&(g=-a*o.__t),this._animateSymbol(o,a,g,h,d)}this._period=a,this._loop=h,this._roundTrip=d}},t.prototype._animateSymbol=function(r,n,i,o,s){if(n>0){r.__t=0;var a=this,h=r.animate("",o).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){a._updateSymbolPosition(r)});o||h.done(function(){a.remove(r)}),h.start()}},t.prototype._getLineLength=function(r){return Gf(r.__p1,r.__cp1)+Gf(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,o=r.__cp1,s=r.__t<1?r.__t:2-r.__t,a=[r.x,r.y],h=a.slice(),d=ki,m=ST;a[0]=d(n[0],o[0],i[0],s),a[1]=d(n[1],o[1],i[1],s);var v=r.__t<1?m(n[0],o[0],i[0],s):m(i[0],o[0],n[0],1-s),g=r.__t<1?m(n[1],o[1],i[1],s):m(i[1],o[1],n[1],1-s);r.rotation=-Math.atan2(g,v)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=Gf(h,a)*1.05,s===1&&(a[0]=h[0]+(a[0]-h[0])/2,a[1]=h[1]+(a[1]-h[1])/2)):r.__lastT===1?r.scaleY=2*Gf(n,a):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=a[0],r.y=a[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t}(Fi);const B7=bwe;var xwe=function(e){Ut(t,e);function t(r,n,i){var o=e.call(this)||this;return o._createPolyline(r,n,i),o}return t.prototype._createPolyline=function(r,n,i){var o=r.getItemLayout(n),s=new UA({shape:{points:o}});this.add(s),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var o=r.hostModel,s=this.childAt(0),a={shape:{points:r.getItemLayout(n)}};zh(s,a,o,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var o=this.childAt(0),s=r.getItemModel(n),a=i&&i.emphasisLineStyle,h=i&&i.focus,d=i&&i.blurScope,m=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var v=s.getModel("emphasis");a=v.getModel("lineStyle").getLineStyle(),m=v.get("disabled"),h=v.get("focus"),d=v.get("blurScope")}o.useStyle(r.getItemVisual(n,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var g=o.ensureState("emphasis");g.style=a,FA(this,h,d,m)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t}(Fi);const F7=xwe;var wwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new F7(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],o=0,s=1;s<n.length;s++){var a=n[s-1],h=n[s];o+=Gf(a,h),i.push(o)}if(o===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=o;this._offsets=i,this._length=o},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,o=this._offsets,s=i.length;if(o){var a=this._lastFrame,h;if(n<this._lastFramePercent){var d=Math.min(a+1,s-1);for(h=d;h>=0&&!(o[h]<=n);h--);h=Math.min(h,s-2)}else{for(h=a;h<s&&!(o[h]>n);h++);h=Math.min(h-1,s-2)}var m=(n-o[h])/(o[h+1]-o[h]),v=i[h],g=i[h+1];r.x=v[0]*(1-m)+m*g[0],r.y=v[1]*(1-m)+m*g[1];var _=r.__t<1?g[0]-v[0]:v[0]-g[0],T=r.__t<1?g[1]-v[1]:v[1]-g[1];r.rotation=-Math.atan2(T,_)-Math.PI/2,this._lastFrame=h,this._lastFramePercent=n,r.ignore=!1}},t}(B7);const Swe=wwe;var Twe=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),Cwe=function(e){Ut(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Twe},t.prototype.buildPath=function(r,n){var i=n.segs,o=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var a=i[s++];if(a>0){r.moveTo(i[s++],i[s++]);for(var h=1;h<a;h++)r.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var d=i[s++],m=i[s++],v=i[s++],g=i[s++];if(r.moveTo(d,m),o>0){var _=(d+v)/2-(m-g)*o,T=(m+g)/2-(v-d)*o;r.quadraticCurveTo(_,T,v,g)}else r.lineTo(v,g)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,o=i.segs,s=i.curveness,a=this.style.lineWidth;if(i.polyline)for(var h=0,d=0;d<o.length;){var m=o[d++];if(m>0)for(var v=o[d++],g=o[d++],_=1;_<m;_++){var T=o[d++],P=o[d++];if(Au(v,g,T,P,a,r,n))return h}h++}else for(var h=0,d=0;d<o.length;){var v=o[d++],g=o[d++],T=o[d++],P=o[d++];if(s>0){var M=(v+T)/2-(g-P)*s,I=(g+P)/2-(T-v)*s;if(P8(v,g,M,I,T,P,a,r,n))return h}else if(Au(v,g,T,P,a,r,n))return h;h++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),o=this.getBoundingRect();if(r=i[0],n=i[1],o.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,o=1/0,s=1/0,a=-1/0,h=-1/0,d=0;d<i.length;){var m=i[d++],v=i[d++];o=Math.min(m,o),a=Math.max(m,a),s=Math.min(v,s),h=Math.max(v,h)}r=this._rect=new gn(o,s,a,h)}return r},t}(hn),Ewe=function(){function e(){this.group=new Fi}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),o=n&&n.shape.segs;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+i.length);a.set(o),a.set(i,s),n.setShape({segs:a})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:i}),this._setCommon(h,r),h.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new Cwe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=r.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var s=Pn(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(a){s.dataIndex=null;var h=t.hoverDataIdx;h>0&&(s.dataIndex=h+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const Awe=Ewe;var Pwe={seriesType:"lines",plan:uP(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,o){var s=[];if(n){var a=void 0,h=i.end-i.start;if(r){for(var d=0,m=i.start;m<i.end;m++)d+=e.getLineCoordsCount(m);a=new Float32Array(h+d*2)}else a=new Float32Array(h*4);for(var v=0,g=[],m=i.start;m<i.end;m++){var _=e.getLineCoords(m,s);r&&(a[v++]=_);for(var T=0;T<_;T++)g=t.dataToPoint(s[T],!1,g),a[v++]=g[0],a[v++]=g[1]}o.setLayout("linesPoints",a)}else for(var m=i.start;m<i.end;m++){var P=o.getItemModel(m),_=e.getLineCoords(m,s),M=[];if(r)for(var I=0;I<_;I++)M.push(t.dataToPoint(s[I]));else{M[0]=t.dataToPoint(s[0]),M[1]=t.dataToPoint(s[1]);var D=P.get(["lineStyle","curveness"]);+D&&(M[2]=[(M[0][0]+M[1][0])/2-(M[0][1]-M[1][1])*D,(M[0][1]+M[1][1])/2-(M[1][0]-M[0][0])*D])}o.setItemLayout(m,M)}}}}}};const N7=Pwe;var Iwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=r.getData(),s=this._updateLineDraw(o,r),a=r.get("zlevel"),h=r.get(["effect","trailLength"]),d=i.getZr(),m=d.painter.getType()==="svg";m||d.painter.getLayer(a).clear(!0),this._lastZlevel!=null&&!m&&d.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&h>0&&(m||d.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),s.updateData(o);var v=r.get("clip",!0)&&xxe(r.coordinateSystem,!1,r);v?this.group.setClipPath(v):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var o=r.getData(),s=this._updateLineDraw(o,r);s.incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var o=r.getData(),s=r.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var a=N7.reset(r,n,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,o=this._showEffect(n),s=!!n.get("polyline"),a=n.pipelineContext,h=a.large;return(!i||o!==this._hasEffet||s!==this._isPolyline||h!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=h?new Awe:new _we(s?o?Swe:F7:o?B7:DP),this._hasEffet=o,this._isPolyline=s,this._isLargeDraw=h),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t}(bh);const Mwe=Iwe;var Dwe=typeof Uint32Array>"u"?Array:Uint32Array,Lwe=typeof Float64Array>"u"?Array:Float64Array;function zR(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=ur(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),lde([i,r[0],r[1]])}))}var Owe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],zR(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(zR(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=gT(this._flatCoords,n.flatCoords),this._flatCoordsOffset=gT(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],o=this._flatCoordsOffset[r*2+1],s=0;s<o;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return o}else{for(var a=this._getCoordsFromItemModel(r),s=0;s<a.length;s++)n[s]=n[s]||[],n[s][0]=a[s][0],n[s][1]=a[s][1];return a.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Zn(r[0])){for(var i=r.length,o=new Dwe(i),s=new Lwe(i),a=0,h=0,d=0,m=0;m<i;){d++;var v=r[m++];o[h++]=a+n,o[h++]=v;for(var g=0;g<v;g++){var _=r[m++],T=r[m++];s[a++]=_,s[a++]=T}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,h),flatCoords:s,count:d}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new _P(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(o,s,a,h){if(o instanceof Array)return NaN;i.hasItemOption=!0;var d=o.value;if(d!=null)return d instanceof Array?d[h]:d}),i},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),s=o.getItemModel(r),a=s.get("name");if(a)return a;var h=s.get("fromName"),d=s.get("toName"),m=[];return h!=null&&m.push(h),d!=null&&m.push(d),Wu("nameValue",{name:m.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Od);const kwe=Owe;function H_(e){return e instanceof Array||(e=[e,e]),e}var Rwe={seriesType:"lines",reset:function(e){var t=H_(e.get("symbol")),r=H_(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(o,s){var a=o.getItemModel(s),h=H_(a.getShallow("symbol",!0)),d=H_(a.getShallow("symbolSize",!0));h[0]&&o.setItemVisual(s,"fromSymbol",h[0]),h[1]&&o.setItemVisual(s,"toSymbol",h[1]),d[0]&&o.setItemVisual(s,"fromSymbolSize",d[0]),d[1]&&o.setItemVisual(s,"toSymbolSize",d[1])}return{dataEach:n.hasItemOption?i:null}}};const zwe=Rwe;function $we(e){e.registerChartView(Mwe),e.registerSeriesModel(kwe),e.registerLayout(N7),e.registerVisual(zwe)}var lh=ni(),$R=Gr,fS=Xn,Bwe=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var o=r.get("value"),s=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var a=this._group,h=this._handle;if(!s||s==="hide"){a&&a.hide(),h&&h.hide();return}a&&a.show(),h&&h.show();var d={};this.makeElOption(d,o,t,r,n);var m=d.graphicKey;m!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=m;var v=this._moveAnimation=this.determineAnimation(t,r);if(!a)a=this._group=new Fi,this.createPointerEl(a,d,t,r),this.createLabelEl(a,d,t,r),n.getZr().add(a);else{var g=Ai(BR,r,v);this.updatePointerEl(a,d,g),this.updateLabelEl(a,d,g,r)}NR(a,r,!0),this._renderHandle(o)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,o=i.type==="category",s=r.get("snap");if(!s&&!o)return!1;if(n==="auto"||n==null){var a=this.animationThreshold;if(o&&i.getBandWidth()>a)return!0;if(s){var h=MP(t).seriesDataCount,d=i.getExtent();return Math.abs(d[0]-d[1])/h>a}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,o){},e.prototype.createPointerEl=function(t,r,n,i){var o=r.pointer;if(o){var s=lh(t).pointerEl=new Sge[o.type]($R(r.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var o=lh(t).labelEl=new rs($R(r.label));t.add(o),FR(o,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=lh(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var o=lh(t).labelEl;o&&(o.setStyle(r.label.style),n(o,{x:r.label.x,y:r.label.y}),FR(o,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,o=r.getModel("handle"),s=r.get("status");if(!o.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var a;this._handle||(a=!0,i=this._handle=yF(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){B9(d.event)},onmousedown:fS(this._onHandleDragMove,this,0,0),drift:fS(this._onHandleDragMove,this),ondragend:fS(this._onHandleDragEnd,this)}),n.add(i)),NR(i,r,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=o.get("size");Zt(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,fN(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)}},e.prototype._moveHandleToValue=function(t,r){BR(this._axisPointerModel,!r&&this._moveAnimation,this._handle,dS(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(dS(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(dS(i)),lh(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),KT(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function BR(e,t,r,n){V7(lh(r).lastProp,n)||(lh(r).lastProp=n,t?zh(r,n,e):(r.stopAnimation(),r.attr(n)))}function V7(e,t){if(pr(e)&&pr(t)){var r=!0;return Me(t,function(n,i){r=r&&V7(e[i],n)}),!!r}else return e===t}function FR(e,t){e[t.get(["label","show"])?"show":"hide"]()}function dS(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function NR(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(o){o.type!=="group"&&(n!=null&&(o.z=n),i!=null&&(o.zlevel=i),o.silent=r)})}const Fwe=Bwe;function Nwe(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function Vwe(e,t,r,n,i){var o=r.get("value"),s=U7(o,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),a=r.getModel("label"),h=QA(a.get("padding")||0),d=a.getFont(),m=AA(s,d),v=i.position,g=m.width+h[1]+h[3],_=m.height+h[0]+h[2],T=i.align;T==="right"&&(v[0]-=g),T==="center"&&(v[0]-=g/2);var P=i.verticalAlign;P==="bottom"&&(v[1]-=_),P==="middle"&&(v[1]-=_/2),Uwe(v,g,_,n);var M=a.get("backgroundColor");(!M||M==="auto")&&(M=t.get(["axisLine","lineStyle","color"])),e.label={x:v[0],y:v[1],style:Ih(a,{text:s,font:d,fill:a.getTextColor(),padding:h,backgroundColor:M}),z2:10}}function Uwe(e,t,r,n){var i=n.getWidth(),o=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,o)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function U7(e,t,r,n,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var a={value:xP(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Me(n,function(h){var d=r.getSeriesByIndex(h.seriesIndex),m=h.dataIndexInside,v=d&&d.getDataParams(m);v&&a.seriesData.push(v)}),lr(s)?o=s.replace("{value}",o):wr(s)&&(o=s(a))}return o}function H7(e,t,r){var n=Bv();return xA(n,n,r.rotation),wT(n,n,r.position),qA([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function Hwe(e,t,r,n,i,o){var s=L7.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),Vwe(t,n,i,o,{position:H7(n.axis,e,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function jwe(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function Gwe(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}var Wwe=function(e){Ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,o,s){var a=i.axis,h=a.grid,d=o.get("type"),m=VR(h,a).getOtherAxis(a).getGlobalExtent(),v=a.toGlobalCoord(a.dataToCoord(n,!0));if(d&&d!=="none"){var g=Nwe(o),_=qwe[d](a,v,m);_.style=g,r.graphicKey=_.type,r.pointer=_}var T=fC(h.model,i);Hwe(n,r,T,i,o,s)},t.prototype.getHandleTransform=function(r,n,i){var o=fC(n.axis.grid.model,n,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var s=H7(n.axis,r,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,o){var s=i.axis,a=s.grid,h=s.getGlobalExtent(!0),d=VR(a,s).getOtherAxis(s).getGlobalExtent(),m=s.dim==="x"?0:1,v=[r.x,r.y];v[m]+=n[m],v[m]=Math.min(h[1],v[m]),v[m]=Math.max(h[0],v[m]);var g=(d[1]+d[0])/2,_=[g,g];_[m]=v[m];var T=[{verticalAlign:"middle"},{align:"center"}];return{x:v[0],y:v[1],rotation:r.rotation,cursorPoint:_,tooltipOption:T[m]}},t}(Fwe);function VR(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var qwe={line:function(e,t,r){var n=jwe([t,r[0]],[t,r[1]],UR(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:Gwe([t-n/2,r[0]],[n,i],UR(e))}}};function UR(e){return e.dim==="x"?0:1}const Xwe=Wwe;var Zwe=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Bn);const Kwe=Zwe;var _l=ni(),Ywe=Me;function j7(e,t,r){if(!Rr.node){var n=t.getZr();_l(n).records||(_l(n).records={}),Jwe(n,t);var i=_l(n).records[e]||(_l(n).records[e]={});i.handler=r}}function Jwe(e,t){if(_l(e).initialized)return;_l(e).initialized=!0,r("click",Ai(HR,"click")),r("mousemove",Ai(HR,"mousemove")),r("globalout",e2e);function r(n,i){e.on(n,function(o){var s=t2e(t);Ywe(_l(e).records,function(a){a&&i(a,o,s.dispatchAction)}),Qwe(s.pendings,t)})}}function Qwe(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function e2e(e,t,r){e.handler("leave",null,r)}function HR(e,t,r,n){t.handler(e,r,n)}function t2e(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function vC(e,t){if(!Rr.node){var r=t.getZr(),n=(_l(r).records||{})[e];n&&(_l(r).records[e]=null)}}var r2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var o=n.getComponent("tooltip"),s=r.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";j7("axisPointer",i,function(a,h,d){s!=="none"&&(a==="leave"||s.indexOf(a)>=0)&&d({type:"updateAxisPointer",currTrigger:a,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(r,n){vC("axisPointer",n)},t.prototype.dispose=function(r,n){vC("axisPointer",n)},t.type="axisPointer",t}(Ml);const n2e=r2e;function G7(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var o=i.getData(),s=bg(o,e);if(s==null||s<0||Zt(s))return{point:[]};var a=o.getItemGraphicEl(s),h=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(s)||[];else if(h&&h.dataToPoint)if(e.isStacked){var d=h.getBaseAxis(),m=h.getOtherAxis(d),v=m.dim,g=d.dim,_=v==="x"||v==="radius"?1:0,T=o.mapDimension(g),P=[];P[_]=o.get(T,s),P[1-_]=o.get(o.getCalculationInfo("stackResultDimension"),s),r=h.dataToPoint(P)||[]}else r=h.dataToPoint(o.getValues(ur(h.dimensions,function(I){return o.mapDimension(I)}),s))||[];else if(a){var M=a.getBoundingRect().clone();M.applyTransform(a.transform),r=[M.x+M.width/2,M.y+M.height/2]}return{point:r,el:a}}var jR=ni();function i2e(e,t,r){var n=e.currTrigger,i=[e.x,e.y],o=e,s=e.dispatchAction||Xn(r.dispatchAction,r),a=t.getComponent("axisPointer").coordSysAxesInfo;if(a){S0(i)&&(i=G7({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var h=S0(i),d=o.axesInfo,m=a.axesInfo,v=n==="leave"||S0(i),g={},_={},T={list:[],map:{}},P={showPointer:Ai(a2e,_),showTooltip:Ai(s2e,T)};Me(a.coordSysMap,function(I,D){var O=h||I.containPoint(i);Me(a.coordSysAxesInfo[D],function(z,F){var N=z.axis,H=h2e(d,z);if(!v&&O&&(!d||H)){var U=H&&H.value;U==null&&!h&&(U=N.pointToData(i)),U!=null&&GR(z,U,P,!1,g)}})});var M={};return Me(m,function(I,D){var O=I.linkGroup;O&&!_[D]&&Me(O.axesInfo,function(z,F){var N=_[F];if(z!==I&&N){var H=N.value;O.mapper&&(H=I.axis.scale.parse(O.mapper(H,WR(z),WR(I)))),M[I.key]=H}})}),Me(M,function(I,D){GR(m[D],I,P,!0,g)}),l2e(_,m,g),u2e(T,i,e,s),c2e(m,s,r),g}}function GR(e,t,r,n,i){var o=e.axis;if(!(o.scale.isBlank()||!o.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var s=o2e(t,e),a=s.payloadBatch,h=s.snapToValue;a[0]&&i.seriesIndex==null&&Dt(i,a[0]),!n&&e.snap&&o.containData(h)&&h!=null&&(t=h),r.showPointer(e,t,a),r.showTooltip(e,s,h)}}function o2e(e,t){var r=t.axis,n=r.dim,i=e,o=[],s=Number.MAX_VALUE,a=-1;return Me(t.seriesModels,function(h,d){var m=h.getData().mapDimensionsAll(n),v,g;if(h.getAxisTooltipData){var _=h.getAxisTooltipData(m,e,r);g=_.dataIndices,v=_.nestestValue}else{if(g=h.getData().indicesOfNearest(m[0],e,r.type==="category"?.5:null),!g.length)return;v=h.getData().get(m[0],g[0])}if(!(v==null||!isFinite(v))){var T=e-v,P=Math.abs(T);P<=s&&((P<s||T>=0&&a<0)&&(s=P,a=T,i=v,o.length=0),Me(g,function(M){o.push({seriesIndex:h.seriesIndex,dataIndexInside:M,dataIndex:h.getData().getRawIndex(M)})}))}}),{payloadBatch:o,snapToValue:i}}function a2e(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function s2e(e,t,r,n){var i=r.payloadBatch,o=t.axis,s=o.model,a=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var h=t.coordSys.model,d=ng(h),m=e.map[d];m||(m=e.map[d]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},e.list.push(m)),m.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function l2e(e,t,r){var n=r.axesInfo=[];Me(t,function(i,o){var s=i.axisPointerModel.option,a=e[o];a?(!i.useHandle&&(s.status="show"),s.value=a.value,s.seriesDataIndices=(a.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function u2e(e,t,r,n){if(S0(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function c2e(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",o=jR(n)[i]||{},s=jR(n)[i]={};Me(e,function(d,m){var v=d.axisPointerModel.option;v.status==="show"&&Me(v.seriesDataIndices,function(g){var _=g.seriesIndex+" | "+g.dataIndex;s[_]=g})});var a=[],h=[];Me(o,function(d,m){!s[m]&&h.push(d)}),Me(s,function(d,m){!o[m]&&a.push(d)}),h.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),a.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}function h2e(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function WR(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function S0(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function W7(e){O7.registerAxisPointerClass("CartesianAxisPointer",Xwe),e.registerComponentModel(Kwe),e.registerComponentView(n2e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!Zt(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=Yxe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},i2e)}function f2e(e){kd(z7),kd(W7)}var d2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Bn);const p2e=d2e;function q7(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function X7(e){if(Rr.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var Z7=X7(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),m2e=X7(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function K7(e,t){if(!e)return t;t=RF(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function v2e(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?t?r[t]:r:null}var g2e=K7(m2e,"transition"),LP=K7(Z7,"transform"),y2e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Rr.transform3dSupported?"will-change:transform;":"");function _2e(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function b2e(e,t,r){if(!lr(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=Xv(t);var o=_2e(r),s=Math.max(Math.round(i)*1.5,6),a="",h=LP+":",d;vn(["left","right"],o)>-1?(a+="top:50%",h+="translateY(-50%) rotate("+(d=o==="left"?-225:-45)+"deg)"):(a+="left:50%",h+="translateX(-50%) rotate("+(d=o==="top"?225:45)+"deg)");var m=d*Math.PI/180,v=s+i,g=v*Math.abs(Math.cos(m))+v*Math.abs(Math.sin(m)),_=Math.round(((g-Math.SQRT2*i)/2+Math.SQRT2*i-(g-v)/2)*100)/100;a+=";"+o+":-"+_+"px";var T=t+" solid "+i+"px;",P=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",a+";"+h+";","border-bottom:"+T,"border-right:"+T,"background-color:"+n+";"];return'<div style="'+P.join("")+'"></div>'}function x2e(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=Rr.transformSupported?","+LP+n:",left"+n+",top"+n),g2e+":"+i}function qR(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Rr.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var o=Rr.transform3dSupported,s="translate"+(o?"3d":"")+"("+n+","+i+(o?",0":"")+")";return r?"top:0;left:0;"+LP+":"+s+";":[["top",0],["left",0],[Z7,s]]}function w2e(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont()),r&&t.push("line-height:"+Math.round(r*3/2)+"px");var i=e.get("textShadowColor"),o=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,a=e.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+s+"px "+a+"px "+o+"px "+i),Me(["decoration","align"],function(h){var d=e.get(h);d&&t.push("text-"+h+":"+d)}),t.join(";")}function S2e(e,t,r){var n=[],i=e.get("transitionDuration"),o=e.get("backgroundColor"),s=e.get("shadowBlur"),a=e.get("shadowColor"),h=e.get("shadowOffsetX"),d=e.get("shadowOffsetY"),m=e.getModel("textStyle"),v=cN(e,"html"),g=h+"px "+d+"px "+s+"px "+a;return n.push("box-shadow:"+g),t&&i&&n.push(x2e(i,r)),o&&n.push("background-color:"+o),Me(["width","color","radius"],function(_){var T="border-"+_,P=RF(T),M=e.get(P);M!=null&&n.push(T+":"+M+(_==="color"?"":"px"))}),n.push(w2e(m)),v!=null&&n.push("padding:"+QA(v).join("px ")+"px"),n.join(";")+";"}function XR(e,t,r,n,i){var o=t&&t.painter;if(r){var s=o&&o.getViewportRoot();s&&wde(e,s,document.body,n,i)}else{e[0]=n,e[1]=i;var a=o&&o.getViewportRootOffset();a&&(e[0]+=a.offsetLeft,e[1]+=a.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var T2e=function(){function e(t,r,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Rr.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=r.getZr(),s=this._appendToBody=n&&n.appendToBody;XR(this._styleCoord,o,s,r.getWidth()/2,r.getHeight()/2),s?document.body.appendChild(i):t.appendChild(i),this._container=t;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(h){if(h=h||window.event,!a._enterable){var d=o.handler,m=o.painter.getViewportRoot();ma(m,h,!0),d.dispatch("mousemove",h)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return e.prototype.update=function(t){var r=this._container,n=v2e(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=y2e+S2e(t,!this._firstShow,this._longHide)+qR(o[0],o[1],!0)+("border-color:"+Xv(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,o){var s=this.el;if(t==null){s.innerHTML="";return}var a="";if(lr(o)&&n.get("trigger")==="item"&&!q7(n)&&(a=b2e(n,i,o)),lr(t))s.innerHTML=t+a;else if(t){s.innerHTML="",Zt(t)||(t=[t]);for(var h=0;h<t.length;h++)i1(t[h])&&t[h].parentNode!==s&&s.appendChild(t[h]);if(a&&s.childNodes.length){var d=document.createElement("div");d.innerHTML=a,s.appendChild(d)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,r){var n=this._styleCoord;if(XR(n,this._zr,this._appendToBody,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,o=qR(n[0],n[1]);Me(o,function(s){i[s[0]]=s[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Rr.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Xn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const C2e=T2e;var E2e=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),KR(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized()},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,o){var s=this;pr(t)&&Po(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new rs({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:cN(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),Me(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(d){s.el.style[d]=n.get(d)}),Me(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(d){s.el.style[d]=a.get(d)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=ZR(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;KR(i,this._zr,t,r),t=i[0],r=i[1];var o=n.style,s=wu(o.borderWidth||0),a=ZR(o);n.x=t+s+a.left,n.y=r+s+a.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Xn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function wu(e){return Math.max(0,e)}function ZR(e){var t=wu(e.shadowBlur||0),r=wu(e.shadowOffsetX||0),n=wu(e.shadowOffsetY||0);return{left:wu(t-r),right:wu(t+r),top:wu(t-n),bottom:wu(t+n)}}function KR(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const A2e=E2e;var P2e=new Lo({shape:{x:-1,y:-1,width:2,height:2}}),I2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Rr.node||!n.getDom())){var i=r.getComponent("tooltip"),o=this._renderMode=ame(i.get("renderMode"));this._tooltipContent=o==="richText"?new A2e(n):new C2e(n.getDom(),n,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(r,n,i){if(!(Rr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i,this._alwaysShowContent=r.get("alwaysShowContent");var o=this._tooltipContent;o.update(r),o.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?fN(this,"_updatePosition",50,"fixRate"):KT(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");j7("itemTooltip",this._api,Xn(function(i,o,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(o,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,o=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(r,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,o){if(!(o.from===this.uid||Rr.node||!i.getDom())){var s=YR(o,i);this._ticket="";var a=o.dataByCoordSys,h=O2e(o,n,i);if(h){var d=h.el.getBoundingRect().clone();d.applyTransform(h.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:h.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var m=P2e;m.x=o.x,m.y=o.y,m.update(),Pn(m).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:m},s)}else if(a)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:a,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,o))return;var v=G7(o,n),g=v.point[0],_=v.point[1];g!=null&&_!=null&&this._tryShow({offsetX:g,offsetY:_,target:v.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},s))}},t.prototype.manuallyHideTip=function(r,n,i,o){var s=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(YR(o,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,o){var s=o.seriesIndex,a=o.dataIndex,h=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||a==null||h==null)){var d=n.getSeriesByIndex(s);if(d){var m=d.getData(),v=Cm([m.getItemModel(a),d,(d.coordinateSystem||{}).model],this._tooltipModel);if(v.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:a,position:o.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,o=this._tooltipModel;if(o){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(i){this._lastDataByCoordSys=null;var a,h;zm(i,function(d){if(Pn(d).dataIndex!=null)return a=d,!0;if(Pn(d).tooltipConfig!=null)return h=d,!0},!0),a?this._showSeriesItemTooltip(r,a,n):h?this._showComponentItemTooltip(r,h,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=Xn(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,o=this._tooltipModel,s=[n.offsetX,n.offsetY],a=Cm([n.tooltipOption],o),h=this._renderMode,d=[],m=Wu("section",{blocks:[],noHeader:!0}),v=[],g=new N2;Me(r,function(D){Me(D.dataByAxis,function(O){var z=i.getComponent(O.axisDim+"Axis",O.axisIndex),F=O.value;if(!(!z||F==null)){var N=U7(F,z.axis,i,O.seriesDataIndices,O.valueLabelOpt),H=Wu("section",{header:N,noHeader:!Ms(N),sortBlocks:!0,blocks:[]});m.blocks.push(H),Me(O.seriesDataIndices,function(U){var J=i.getSeriesByIndex(U.seriesIndex),K=U.dataIndexInside,ne=J.getDataParams(K);if(!(ne.dataIndex<0)){ne.axisDim=O.axisDim,ne.axisIndex=O.axisIndex,ne.axisType=O.axisType,ne.axisId=O.axisId,ne.axisValue=xP(z.axis,{value:F}),ne.axisValueLabel=N,ne.marker=g.makeTooltipMarker("item",Xv(ne.color),h);var ae=ok(J.formatTooltip(K,!0,null)),he=ae.frag;if(he){var ie=Cm([J],o).get("valueFormatter");H.blocks.push(ie?Dt({valueFormatter:ie},he):he)}ae.text&&v.push(ae.text),d.push(ne)}})}})}),m.blocks.reverse(),v.reverse();var _=n.position,T=a.get("order"),P=ck(m,g,h,T,i.get("useUTC"),a.get("textStyle"));P&&v.unshift(P);var M=h==="richText"?`

`:"<br/>",I=v.join(M);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(r,d)?this._updatePosition(a,_,s[0],s[1],this._tooltipContent,d):this._showTooltipContent(a,I,d,Math.random()+"",s[0],s[1],_,null,g)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var o=this._ecModel,s=Pn(n),a=s.seriesIndex,h=o.getSeriesByIndex(a),d=s.dataModel||h,m=s.dataIndex,v=s.dataType,g=d.getData(v),_=this._renderMode,T=r.positionDefault,P=Cm([g.getItemModel(m),d,h&&(h.coordinateSystem||{}).model],this._tooltipModel,T?{position:T}:null),M=P.get("trigger");if(!(M!=null&&M!=="item")){var I=d.getDataParams(m,v),D=new N2;I.marker=D.makeTooltipMarker("item",Xv(I.color),_);var O=ok(d.formatTooltip(m,!1,v)),z=P.get("order"),F=P.get("valueFormatter"),N=O.frag,H=N?ck(F?Dt({valueFormatter:F},N):N,D,_,z,o.get("useUTC"),P.get("textStyle")):O.text,U="item_"+d.name+"_"+m;this._showOrMove(P,function(){this._showTooltipContent(P,H,I,U,r.offsetX,r.offsetY,r.position,r.target,D)}),i({type:"showTip",dataIndexInside:m,dataIndex:g.getRawIndex(m),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var o=Pn(n),s=o.tooltipConfig,a=s.option||{};if(lr(a)){var h=a;a={content:h,formatter:h}}var d=[a],m=this._ecModel.getComponent(o.componentMainType,o.componentIndex);m&&d.push(m),d.push({formatter:a.content});var v=r.positionDefault,g=Cm(d,this._tooltipModel,v?{position:v}:null),_=g.get("content"),T=Math.random()+"",P=new N2;this._showOrMove(g,function(){var M=Gr(g.get("formatterParams")||{});this._showTooltipContent(g,_,M,T,r.offsetX,r.offsetY,r.position,n,P)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,o,s,a,h,d,m){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var v=this._tooltipContent;v.setEnterable(r.get("enterable"));var g=r.get("formatter");h=h||r.get("position");var _=n,T=this._getNearestPoint([s,a],i,r.get("trigger"),r.get("borderColor")),P=T.color;if(g)if(lr(g)){var M=r.ecModel.get("useUTC"),I=Zt(i)?i[0]:i,D=I&&I.axisType&&I.axisType.indexOf("time")>=0;_=g,D&&(_=Mb(I.axisValue,_,M)),_=zF(_,i,!0)}else if(wr(g)){var O=Xn(function(z,F){z===this._ticket&&(v.setContent(F,m,r,P,h),this._updatePosition(r,h,s,a,v,i,d))},this);this._ticket=o,_=g(i,o,O)}else _=g;v.setContent(_,m,r,P,h),v.show(r,P),this._updatePosition(r,h,s,a,v,i,d)}},t.prototype._getNearestPoint=function(r,n,i,o){if(i==="axis"||Zt(n))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!Zt(n))return{color:o||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,o,s,a,h){var d=this._api.getWidth(),m=this._api.getHeight();n=n||r.get("position");var v=s.getSize(),g=r.get("align"),_=r.get("verticalAlign"),T=h&&h.getBoundingRect().clone();if(h&&T.applyTransform(h.transform),wr(n)&&(n=n([i,o],a,s.el,T,{viewSize:[d,m],contentSize:v.slice()})),Zt(n))i=Ri(n[0],d),o=Ri(n[1],m);else if(pr(n)){var P=n;P.width=v[0],P.height=v[1];var M=eP(P,{width:d,height:m});i=M.x,o=M.y,g=null,_=null}else if(lr(n)&&h){var I=L2e(n,T,v,r.get("borderWidth"));i=I[0],o=I[1]}else{var I=M2e(i,o,s,d,m,g?null:20,_?null:20);i=I[0],o=I[1]}if(g&&(i-=JR(g)?v[0]/2:g==="right"?v[0]:0),_&&(o-=JR(_)?v[1]/2:_==="bottom"?v[1]:0),q7(r)){var I=D2e(i,o,s,d,m);i=I[0],o=I[1]}s.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,o=this._cbParamsList,s=!!i&&i.length===r.length;return s&&Me(i,function(a,h){var d=a.dataByAxis||[],m=r[h]||{},v=m.dataByAxis||[];s=s&&d.length===v.length,s&&Me(d,function(g,_){var T=v[_]||{},P=g.seriesDataIndices||[],M=T.seriesDataIndices||[];s=s&&g.value===T.value&&g.axisType===T.axisType&&g.axisId===T.axisId&&P.length===M.length,s&&Me(P,function(I,D){var O=M[D];s=s&&I.seriesIndex===O.seriesIndex&&I.dataIndex===O.dataIndex}),o&&Me(g.seriesDataIndices,function(I){var D=I.seriesIndex,O=n[D],z=o[D];O&&z&&z.data!==O.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!s},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Rr.node||!n.getDom()||(KT(this,"_updatePosition"),this._tooltipContent.dispose(),vC("itemTooltip",n))},t.type="tooltip",t}(Ml);function Cm(e,t,r){var n=t.ecModel,i;r?(i=new yo(r,n,n),i=new yo(t.option,i,n)):i=t;for(var o=e.length-1;o>=0;o--){var s=e[o];s&&(s instanceof yo&&(s=s.get("tooltip",!0)),lr(s)&&(s={formatter:s}),s&&(i=new yo(s,i,n)))}return i}function YR(e,t){return e.dispatchAction||Xn(t.dispatchAction,t)}function M2e(e,t,r,n,i,o,s){var a=r.getSize(),h=a[0],d=a[1];return o!=null&&(e+h+o+2>n?e-=h+o:e+=o),s!=null&&(t+d+s>i?t-=d+s:t+=s),[e,t]}function D2e(e,t,r,n,i){var o=r.getSize(),s=o[0],a=o[1];return e=Math.min(e+s,n)-s,t=Math.min(t+a,i)-a,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function L2e(e,t,r,n){var i=r[0],o=r[1],s=Math.ceil(Math.SQRT2*n)+8,a=0,h=0,d=t.width,m=t.height;switch(e){case"inside":a=t.x+d/2-i/2,h=t.y+m/2-o/2;break;case"top":a=t.x+d/2-i/2,h=t.y-o-s;break;case"bottom":a=t.x+d/2-i/2,h=t.y+m+s;break;case"left":a=t.x-i-s,h=t.y+m/2-o/2;break;case"right":a=t.x+d+s,h=t.y+m/2-o/2}return[a,h]}function JR(e){return e==="center"||e==="middle"}function O2e(e,t,r){var n=MA(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var o=xg(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var a=r.getViewOfComponentModel(s),h;if(a.group.traverse(function(d){var m=Pn(d).tooltipConfig;if(m&&m.name===e.name)return h=d,!0}),h)return{componentMainType:i,componentIndex:s.componentIndex,el:h}}}}const k2e=I2e;function R2e(e){kd(W7),e.registerComponentModel(p2e),e.registerComponentView(k2e),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_o),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_o)}var z2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Bn),$2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var o=this.group,s=r.getModel("textStyle"),a=r.getModel("subtextStyle"),h=r.get("textAlign"),d=zr(r.get("textBaseline"),r.get("textVerticalAlign")),m=new rs({style:Ih(s,{text:r.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),v=m.getBoundingRect(),g=r.get("subtext"),_=new rs({style:Ih(a,{text:g,fill:a.getTextColor(),y:v.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),T=r.get("link"),P=r.get("sublink"),M=r.get("triggerEvent",!0);m.silent=!T&&!M,_.silent=!P&&!M,T&&m.on("click",function(){V3(T,"_"+r.get("target"))}),P&&_.on("click",function(){V3(P,"_"+r.get("subtarget"))}),Pn(m).eventData=Pn(_).eventData=M?{componentType:"title",componentIndex:r.componentIndex}:null,o.add(m),g&&o.add(_);var I=o.getBoundingRect(),D=r.getBoxLayoutParams();D.width=I.width,D.height=I.height;var O=eP(D,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));h||(h=r.get("left")||r.get("right"),h==="middle"&&(h="center"),h==="right"?O.x+=O.width:h==="center"&&(O.x+=O.width/2)),d||(d=r.get("top")||r.get("bottom"),d==="center"&&(d="middle"),d==="bottom"?O.y+=O.height:d==="middle"&&(O.y+=O.height/2),d=d||"top"),o.x=O.x,o.y=O.y,o.markRedraw();var z={align:h,verticalAlign:d};m.setStyle(z),_.setStyle(z),I=o.getBoundingRect();var F=O.margin,N=r.getItemStyle(["color","opacity"]);N.fill=r.get("backgroundColor");var H=new Lo({shape:{x:I.x-F[3],y:I.y-F[0],width:I.width+F[1]+F[3],height:I.height+F[0]+F[2],r:r.get("borderRadius")},style:N,subPixelOptimize:!0,silent:!0});o.add(H)}},t.type="title",t}(Ml);function B2e(e){e.registerComponentModel(z2e),e.registerComponentView($2e)}function F2e(e,t){if(!e)return!1;for(var r=Zt(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function j_(e){kT(e,"label",["show"])}var G_=ni(),Y7=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Rr.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,o){var s=this.mainType;i||n.eachSeries(function(a){var h=a.get(this.mainType,!0),d=G_(a)[s];if(!h||!h.data){G_(a)[s]=null;return}d?d._mergeOption(h,n,!0):(o&&j_(h),Me(h.data,function(m){m instanceof Array?(j_(m[0]),j_(m[1])):j_(m)}),d=this.createMarkerModelFromSeries(h,this,n),Dt(d,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),d.__hostSeries=a),G_(a)[s]=d},this)},t.prototype.formatTooltip=function(r,n,i){var o=this.getData(),s=this.getRawValue(r),a=o.getName(r);return Wu("section",{header:this.name,blocks:[Wu("nameValue",{name:a,value:s,noName:!a,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.getMarkerModelFromSeries=function(r,n){return G_(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Bn);as(Y7,tN.prototype);const I1=Y7;var N2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(I1);const V2e=N2e;function U2e(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function H2e(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function W_(e,t,r,n,i,o){var s=[],a=E1(t,n),h=a?t.getCalculationInfo("stackResultDimension"):n,d=J7(t,h,e),m=t.indicesOfNearest(h,d)[0];s[i]=t.get(r,m),s[o]=t.get(h,m);var v=t.get(n,m),g=Dd(t.get(n,m));return g=Math.min(g,20),g>=0&&(s[o]=+s[o].toFixed(g)),[s,v]}var pS={min:Ai(W_,"min"),max:Ai(W_,"max"),average:Ai(W_,"average"),median:Ai(W_,"median")};function j2e(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n.dimensions;if(!H2e(t)&&!Zt(t.coord)&&n){var o=G2e(t,r,n,e);if(t=Gr(t),t.type&&pS[t.type]&&o.baseAxis&&o.valueAxis){var s=vn(i,o.baseAxis.dim),a=vn(i,o.valueAxis.dim),h=pS[t.type](r,o.baseDataDim,o.valueDataDim,s,a);t.coord=h[0],t.value=h[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null)t.coord=[];else for(var d=t.coord,m=0;m<2;m++)pS[d[m]]&&(d[m]=J7(r,r.mapDimension(i[m]),d[m]));return t}}function G2e(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(W2e(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function W2e(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function q2e(e,t){return e&&e.containData&&t.coord&&!U2e(t)?e.containData(t.coord):!0}function X2e(e,t){return e?function(r,n,i,o){var s=o<2?r.coord&&r.coord[o]:r.value;return cd(s,t[o])}:function(r,n,i,o){return cd(r.value,t[o])}}function J7(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(o,s){isNaN(o)||(n+=o,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var mS=ni(),Z2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Br()},t.prototype.render=function(r,n,i){var o=this,s=this.markerGroupMap;s.each(function(a){mS(a).keep=!1}),n.eachSeries(function(a){var h=I1.getMarkerModelFromSeries(a,o.type);h&&o.renderSeries(a,h,n,i)}),s.each(function(a){!mS(a).keep&&o.group.remove(a.group)})},t.prototype.markKeep=function(r){mS(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;Me(r,function(o){var s=I1.getMarkerModelFromSeries(o,i.type);if(s){var a=s.getData();a.eachItemGraphicEl(function(h){h&&(n?H8(h):$A(h))})}})},t.type="marker",t}(Ml);const K2e=Z2e;function QR(e,t,r){var n=t.coordinateSystem;e.each(function(i){var o=e.getItemModel(i),s,a=Ri(o.get("x"),r.getWidth()),h=Ri(o.get("y"),r.getHeight());if(!isNaN(a)&&!isNaN(h))s=[a,h];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var d=e.get(n.dimensions[0],i),m=e.get(n.dimensions[1],i);s=n.dataToPoint([d,m])}isNaN(a)||(s[0]=a),isNaN(h)||(s[1]=h),e.setItemLayout(i,s)})}var Y2e=function(e){Ut(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(o){var s=I1.getMarkerModelFromSeries(o,"markPoint");s&&(QR(s.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,o){var s=r.coordinateSystem,a=r.id,h=r.getData(),d=this.markerGroupMap,m=d.get(a)||d.set(a,new A7),v=J2e(s,r,n);n.setData(v),QR(n.getData(),r,o),v.each(function(g){var _=v.getItemModel(g),T=_.getShallow("symbol"),P=_.getShallow("symbolSize"),M=_.getShallow("symbolRotate"),I=_.getShallow("symbolOffset"),D=_.getShallow("symbolKeepAspect");if(wr(T)||wr(P)||wr(M)||wr(I)){var O=n.getRawValue(g),z=n.getDataParams(g);wr(T)&&(T=T(O,z)),wr(P)&&(P=P(O,z)),wr(M)&&(M=M(O,z)),wr(I)&&(I=I(O,z))}var F=_.getModel("itemStyle").getItemStyle(),N=bN(h,"color");F.fill||(F.fill=N),v.setItemVisual(g,{symbol:T,symbolSize:P,symbolRotate:M,symbolOffset:I,symbolKeepAspect:D,style:F})}),m.updateData(v),this.group.add(m.group),v.eachItemGraphicEl(function(g){g.traverse(function(_){Pn(_).dataModel=n})}),this.markKeep(m),m.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t}(K2e);function J2e(e,t,r){var n;e?n=ur(e&&e.dimensions,function(a){var h=t.getData().getDimensionInfo(t.getData().mapDimension(a))||{};return Dt(Dt({},h),{name:a,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new _P(n,r),o=ur(r.get("data"),Ai(j2e,t));e&&(o=Ji(o,Ai(q2e,e)));var s=X2e(!!e,n);return i.initData(o,null,s),i}const Q2e=Y2e;function eSe(e){e.registerComponentModel(V2e),e.registerComponentView(Q2e),e.registerPreprocessor(function(t){F2e(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}kd([dxe,B2e,R2e,eSe,f2e,fwe,$we]);const tSe={name:"BusChartVue",components:{"v-chart":Obe},data:()=>({lines:[],stops1:[],stops2:[],historyBusData:[],echartsOption:{tooltip:{show:!1},title:[{subtext:`By bilibili@
GitHub@ni1o1`,sublink:"https://github.com/ni1o1/nikebus",textAlign:"right",bottom:"2%",left:"98%"}],grid:[{top:"10%",bottom:"0%",left:"26px",right:"14px"}],yAxis:[{inverse:!0,min:-100,max:4500,type:"value",boundaryGap:!1,show:!1,splitLine:{show:!1}}],xAxis:[{position:"top",verticalAlign:"top",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0},type:"category",data:[`1
`,`1
`,`2
`,`2
`],splitLine:{show:!1}}],series:[{type:"scatter",label:{fontSize:10,show:!0,color:"#999",position:"right",formatter:"{b}"},data:[]},{type:"lines",coordinateSystem:"cartesian2d",data:[]},{label:{fontSize:11,show:!0,color:"#000",textBorderColor:"#fff",textBorderWidth:2,fontWeight:"bold",position:"right",distance:-5,formatter:"{b}"},type:"scatter",name:"bus",data:[]}],stateAnimation:{duration:500}},timer:{},second:0}),methods:{setEchartsOption(e){this.echartsOption=e},load_data(){Ko.all([Ko.get("/bus_echart/line1.json"),Ko.get("/bus_echart/line2.json"),Ko.get("/bus_echart/stop1.json"),Ko.get("/bus_echart/stop2.json")]).then(Ko.spread((e,t,r,n)=>{const i=e.data,o=t.data,s=r.data,a=n.data;this.lines=[i,o],this.stops1=s,this.stops2=a;const h=s.features.map(_=>({value:[1,ll(i.features[0],_).properties.location*1e3],name:_.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),d=s.features.map(_=>({value:[0,ul(i.features[0])*1e3-ll(i.features[0],_).properties.location*1e3],name:_.properties.name,symbolSize:8,itemStyle:{color:"#ff881b",opacity:1}})),m=a.features.map(_=>({value:[3,ll(o.features[0],_).properties.location*1e3],name:_.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),v=a.features.map(_=>({value:[2,ul(o.features[0])*1e3-ll(o.features[0],_).properties.location*1e3],name:_.properties.name,symbolSize:8,itemStyle:{color:"#379ff4",opacity:1}})),g={series:[{data:[...h,...d,...m,...v]},{data:[{coords:[[0,0],[0,ul(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[1,0],[1,ul(i.features[0])*1e3]],lineStyle:{color:"#ff881b",width:2,opacity:1}},{coords:[[2,0],[2,ul(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}},{coords:[[3,0],[3,ul(o.features[0])*1e3]],lineStyle:{color:"#379ff4",width:2,opacity:1}}]}]};this.setEchartsOption(g)}))},updateBusPos(){this.lines.length>0&&Ko.get("https://bus.sustcra.com/api/v2/monitor_osm/").then(e=>{const r=e.data.filter(i=>i.is_operating==1).map(i=>{let o=0;i.route_code=="XYBS2"?o=1:i.route_code=="XYBS1"&&(o=0);const s=Yi([i.lng,i.lat]);let a=this.lines[o].features[0],h=ll(a,s),d=h.properties.location,m=d*1e3;return i.route_dir>0&&(m=ul(a)*1e3-d*1e3),h.properties.dist*1e3>100|m<100?{value:[-1,0],name:i.id,itemStyle:{color:"#222",show:!1},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}:{value:[1-i.route_dir+o*2,m],name:i.id,itemStyle:{color:"#222"},symbol:"image://https://bus.sustcra.com/bus-top-view.png",symbolSize:30,symbolRotate:180,speed:i.speed}});this.historyBusData=r.filter(i=>typeof i<"u");const n={series:[{},{},{data:r}]};this.setEchartsOption(n)})},refresh(){this.second+=1,this.second%10===0?this.updateBusPos():navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let t=e.coords.latitude,r=e.coords.longitude;const n=Yi([r,t]),i=cO(n,this.stops1),o=ll(this.lines[0].features[0],i).properties.location*1e3,s=ul(this.lines[0].features[0])*1e3-ll(this.lines[0].features[0],i).properties.location*1e3,a=cO(n,this.stops2),h=ll(this.lines[1].features[0],a).properties.location*1e3,d=ul(this.lines[1].features[0])*1e3-ll(this.lines[1].features[0],a).properties.location*1e3,m=this.historyBusData.filter(z=>z.value[0]===0&&z.value[1]<=s).map(z=>parseInt((s-z.value[1])/250)),v=this.historyBusData.filter(z=>z.value[0]===1&&z.value[1]<=o).map(z=>parseInt((o-z.value[1])/250)),g=this.historyBusData.filter(z=>z.value[0]===2&&z.value[1]<=d).map(z=>parseInt((d-z.value[1])/250)),_=this.historyBusData.filter(z=>z.value[0]===3&&z.value[1]<=h).map(z=>parseInt((h-z.value[1])/250)),T=m.length>0?`
 `+Math.min(...m)+"":"",P=v.length>0?`
  `+Math.min(...v)+"":"",M=g.length>0?`
   `+Math.min(...g)+"":"",I=_.length>0?`
    `+Math.min(..._)+"":"";let D=[],O=[];D=[{name:""+P,itemStyle:{color:"#ff881b"},coord:[1,o]},{name:""+T,itemStyle:{color:"#ff881b"},coord:[0,s]}],O=[{name:""+I,itemStyle:{color:"#379ff4"},coord:[3,h]},{name:""+M,itemStyle:{color:"#379ff4"},coord:[2,d]}],this.setEchartsOption({series:[{markPoint:{symbol:"arrow",symbolRotate:-90,symbolOffset:["-50%",0],symbolSize:10,label:{fontSize:10,show:!0,color:"#666",position:"left",formatter:"{b}"},data:[...D,...O]}},{},{}]})})}},watch:{lines:"updateBusPos"},mounted(){this.load_data(),this.updateBusPos(),this.timer=setInterval(()=>{this.refresh()},500)},unmounted(){clearInterval(this.timer)}},rSe=e=>(D4("data-v-adb0a662"),e=e(),L4(),e),nSe=rSe(()=>fr("img",{src:"https://visitor-badge.laobi.icu/badge?page_id=nikebus",alt:"visitor badge",class:"visitor-badge"},null,-1));function iSe(e,t,r,n,i,o){const s=Hn("v-chart");return _t(),Wt(Tr,null,[fe(s,{class:"chart",option:e.echartsOption,autoresize:!0},null,8,["option"]),nSe],64)}const oSe=Kr(tSe,[["render",iSe],["__scopeId","data-v-adb0a662"],["__file","BusChartVue.vue"]]),aSe=is({enhance({app:e}){e.component("BusTable",Zhe),e.component("TabView",efe),e.component("RealtimeMap",ofe),e.component("WeatherSpan",cfe),e.component("BusChartVue",oSe)}}),q_=[dq,vq,bq,Lq,zq,Uq,AK,$K,VK,GK,aSe],sSe=[["v-8daa1a0e","/",{title:""},["/index.html","/README.md"]],["v-74bc627b","/about/",{title:""},["/about/index.html","/about/README.md"]],["v-08ae5eba","/calendar/2018-2019.html",{title:" - 2018-2019 "},["/calendar/2018-2019","/calendar/2018-2019.md"]],["v-93cfbde4","/calendar/2019-2020.html",{title:" - 2019-2020 "},["/calendar/2019-2020","/calendar/2019-2020.md"]],["v-f917537a","/calendar/2020-2021.html",{title:" - 2020-2021 "},["/calendar/2020-2021","/calendar/2020-2021.md"]],["v-1a0de1a3","/calendar/2021-2022.html",{title:" - 2021-2022 "},["/calendar/2021-2022","/calendar/2021-2022.md"]],["v-190ab309","/calendar/2021fall.html",{title:""},["/calendar/2021fall","/calendar/2021fall.md"]],["v-9eb125fa","/calendar/2022-2023.html",{title:" - 2022-2023 "},["/calendar/2022-2023","/calendar/2022-2023.md"]],["v-96167c50","/calendar/",{title:""},["/calendar/index.html","/calendar/README.md"]],["v-96536bf0","/contact/",{title:""},["/contact/index.html","/contact/README.md"]],["v-dbd38712","/emergency/",{title:""},["/emergency/index.html","/emergency/README.md"]],["v-c73889da","/facility/",{title:""},["/facility/index.html","/facility/README.md"]],["v-2c5c0e04","/facility/building-11-elevator.html",{title:"11"},["/facility/building-11-elevator","/facility/building-11-elevator.md"]],["v-104cfa63","/if-you-are-a-freshman/2021.html",{title:"..."},["/if-you-are-a-freshman/2021","/if-you-are-a-freshman/2021.md"]],["v-780207b9","/if-you-are-a-freshman/",{title:"..."},["/if-you-are-a-freshman/index.html","/if-you-are-a-freshman/README.md"]],["v-14e6315a","/life/",{title:""},["/life/index.html","/life/README.md"]],["v-42f2be94","/life/vehicle-charger.html",{title:""},["/life/vehicle-charger","/life/vehicle-charger.md"]],["v-ed48bdf8","/media/",{title:""},["/media/index.html","/media/README.md"]],["v-f4bc5604","/miniapp/",{title:"-"},["/miniapp/index.html","/miniapp/README.md"]],["v-1500d063","/news/",{title:""},["/news/index.html","/news/README.md"]],["v-014445c8","/organizations/",{title:""},["/organizations/index.html","/organizations/README.md"]],["v-461d4a7c","/organizations/registered-organization-2019.html",{title:"2018-2019"},["/organizations/registered-organization-2019","/organizations/registered-organization-2019.md"]],["v-6ba7e826","/organizations/registered-organization-2020.html",{title:"2019-2020"},["/organizations/registered-organization-2020","/organizations/registered-organization-2020.md"]],["v-6d5cc0c5","/organizations/registered-organization-2021.html",{title:"2020-2021"},["/organizations/registered-organization-2021","/organizations/registered-organization-2021.md"]],["v-28ddfa13","/service/",{title:""},["/service/index.html","/service/README.md"]],["v-be92ea7e","/site-help/",{title:""},["/site-help/index.html","/site-help/README.md"]],["v-d7188082","/study/",{title:""},["/study/index.html","/study/README.md"]],["v-d1061704","/study/paper-tools.html",{title:" ddl "},["/study/paper-tools","/study/paper-tools.md"]],["v-4322d0a7","/surroundings/",{title:""},["/surroundings/index.html","/surroundings/README.md"]],["v-69b23ddf","/transport/",{title:""},["/transport/index.html","/transport/README.md"]],["v-57bda71b","/transport/bustimer-old.html",{title:" SUSTech Campus Bus Info"},["/transport/bustimer-old","/transport/bustimer-old.md"]],["v-1678dd6f","/transport/bustimer-wx.html",{title:" SUSTech Campus Bus Info"},["/transport/bustimer-wx","/transport/bustimer-wx.md"]],["v-1630dfb5","/transport/bustimer.html",{title:" SUSTech Campus Bus Info"},["/transport/bustimer","/transport/bustimer.md"]],["v-6a28f6e0","/transport/holiday.html",{title:" -  (2021618)"},["/transport/holiday","/transport/holiday.md"]],["v-48975204","/transport/redirect.html",{title:" - "},["/transport/redirect","/transport/redirect.md"]],["v-8059a7a6","/transport/workday.html",{title:" -  (2021618)"},["/transport/workday","/transport/workday.md"]],["v-181cc452","/contact/professor-emails/",{title:""},["/contact/professor-emails/index.html","/contact/professor-emails/README.md"]],["v-22cd7d0c","/facility/panolens/",{title:""},["/facility/panolens/index.html","/facility/panolens/README.md"]],["v-0e92d420","/if-you-are-a-freshman/preview/",{title:"2021"},["/if-you-are-a-freshman/preview/index.html","/if-you-are-a-freshman/preview/README.md"]],["v-2b8cac58","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AE%BF%E8%88%8D%E7%94%9F%E6%B4%BB%E7%AF%87.html",{title:""},["/life/by-zhicheng-college/.html","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AE%BF%E8%88%8D%E7%94%9F%E6%B4%BB%E7%AF%87","/life/by-zhicheng-college/.md","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AE%BF%E8%88%8D%E7%94%9F%E6%B4%BB%E7%AF%87.md"]],["v-66965350","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E6%A0%A1%E5%86%85%E4%BB%8B%E7%BB%8D%E7%AF%87.html",{title:""},["/life/by-zhicheng-college/.html","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E6%A0%A1%E5%86%85%E4%BB%8B%E7%BB%8D%E7%AF%87","/life/by-zhicheng-college/.md","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E6%A0%A1%E5%86%85%E4%BB%8B%E7%BB%8D%E7%AF%87.md"]],["v-66317da4","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E7%A4%BE%E5%9B%A2%E7%AF%87.html",{title:""},["/life/by-zhicheng-college/.html","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E7%A4%BE%E5%9B%A2%E7%AF%87","/life/by-zhicheng-college/.md","/life/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E7%A4%BE%E5%9B%A2%E7%AF%87.md"]],["v-5c3fcdf6","/life/catering/",{title:""},["/life/catering/index.html","/life/catering/README.md"]],["v-04710004","/life/dormitory/",{title:""},["/life/dormitory/index.html","/life/dormitory/README.md"]],["v-5589dd0c","/life/dormitory/dorm-floor-plan.html",{title:""},["/life/dormitory/dorm-floor-plan","/life/dormitory/dorm-floor-plan.md"]],["v-d42194b6","/life/freshman-register/",{title:""},["/life/freshman-register/index.html","/life/freshman-register/README.md"]],["v-20383a78","/life/sports-facility/",{title:""},["/life/sports-facility/index.html","/life/sports-facility/README.md"]],["v-42c1fa44","/service/campus-card/",{title:""},["/service/campus-card/index.html","/service/campus-card/README.md"]],["v-76cff034","/service/email/",{title:""},["/service/email/index.html","/service/email/README.md"]],["v-ac3449b2","/service/email/send-receive-email-by-proxy.html",{title:""},["/service/email/send-receive-email-by-proxy","/service/email/send-receive-email-by-proxy.md"]],["v-29860ed0","/service/mail-and-express/",{title:""},["/service/mail-and-express/index.html","/service/mail-and-express/README.md"]],["v-622da02f","/service/matlab/",{title:"MATLAB "},["/service/matlab/index.html","/service/matlab/README.md"]],["v-5e590ec6","/service/medical-treatment/",{title:""},["/service/medical-treatment/index.html","/service/medical-treatment/README.md"]],["v-1fa222d4","/service/network/",{title:" (its@sustech.edu.cn)"},["/service/network/index.html","/service/network/README.md"]],["v-48519846","/service/sakai/",{title:"Sakai | "},["/service/sakai/index.html","/service/sakai/README.md"]],["v-369295b4","/service/sid/",{title:"SID"},["/service/sid/index.html","/service/sid/README.md"]],["v-3692bb1f","/service/ssc/",{title:""},["/service/ssc/index.html","/service/ssc/README.md"]],["v-425958ce","/service/student-train-ticket/",{title:""},["/service/student-train-ticket/index.html","/service/student-train-ticket/README.md"]],["v-3692ee77","/service/tax/",{title:"-- "},["/service/tax/index.html","/service/tax/README.md"]],["v-2686552a","/service/unifound/",{title:""},["/service/unifound/index.html","/service/unifound/README.md"]],["v-45d74ec0","/service/work-wechat/",{title:""},["/service/work-wechat/index.html","/service/work-wechat/README.md"]],["v-772a5784","/study/borrow-books/",{title:""},["/study/borrow-books/index.html","/study/borrow-books/README.md"]],["v-8460eeb8","/study/by-shude-college/advice-on-study.html",{title:""},["/study/by-shude-college/advice-on-study","/study/by-shude-college/advice-on-study.md"]],["v-435bd49a","/study/by-shude-college/info-on-study.html",{title:""},["/study/by-shude-college/info-on-study","/study/by-shude-college/info-on-study.md"]],["v-6323734e","/study/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AD%A6%E4%B9%A0%E7%AF%87.html",{title:""},["/study/by-zhicheng-college/.html","/study/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AD%A6%E4%B9%A0%E7%AF%87","/study/by-zhicheng-college/.md","/study/by-zhicheng-college/%E6%96%B0%E7%94%9F%E6%94%BB%E7%95%A5%E4%B9%8B%E5%AD%A6%E4%B9%A0%E7%AF%87.md"]],["v-5eb748bf","/study/cse/innovative-project.html",{title:""},["/study/cse/innovative-project","/study/cse/innovative-project.md"]],["v-2a23f022","/service/blackboard/retrive-ics-url/",{title:"BB | BlackboardDDL"},["/service/blackboard/retrive-ics-url/index.html","/service/blackboard/retrive-ics-url/README.md"]],["v-66061b92","/service/network/apply-for-vpn/",{title:"VPN"},["/service/network/apply-for-vpn/index.html","/service/network/apply-for-vpn/README.md"]],["v-89ac2bec","/service/network/choose-a-pad/",{title:""},["/service/network/choose-a-pad/index.html","/service/network/choose-a-pad/README.md"]],["v-1549b190","/service/network/choose-a-router/",{title:""},["/service/network/choose-a-router/index.html","/service/network/choose-a-router/README.md"]],["v-9e1961f8","/service/network/eduroam/",{title:"eduroam"},["/service/network/eduroam/index.html","/service/network/eduroam/README.md"]],["v-6bba5e58","/service/network/ipv6/",{title:" IPv6 "},["/service/network/ipv6/index.html","/service/network/ipv6/README.md"]],["v-83a77034","/service/network/remote-desktop/",{title:""},["/service/network/remote-desktop/index.html","/service/network/remote-desktop/README.md"]],["v-296d1d15","/service/network/use-vpn/",{title:" SSL VPN "},["/service/network/use-vpn/index.html","/service/network/use-vpn/README.md"]],["v-fb711be8","/study/book-list-by-prof-yuan/2018/",{title:"2018"},["/study/book-list-by-prof-yuan/2018/index.html","/study/book-list-by-prof-yuan/2018/README.md"]],["v-3706649a","/404.html",{title:""},["/404"]]];var e4=bt({name:"Vuepress",setup(){const e=tW();return()=>Dr(e.value)}}),lSe=()=>sSe.reduce((e,[t,r,n,i])=>(e.push({name:t,path:r,component:e4,meta:n},...i.map(o=>({path:o,redirect:r}))),e),[{name:"404",path:"/:catchAll(.*)",component:e4}]),uSe=TW,cSe=()=>{const e=aq({history:uSe(p6("/")),routes:lSe(),scrollBehavior:(t,r,n)=>n||(t.hash?{el:t.hash}:{top:0})});return e.beforeResolve(async(t,r)=>{var n;(t.path!==r.path||r===pl)&&([Tu.value]=await Promise.all([dl.resolvePageData(t.name),(n=g6[t.name])==null?void 0:n.__asyncLoader()]))}),e},hSe=e=>{e.component("ClientOnly",GC),e.component("Content",aW)},fSe=(e,t,r)=>{const n=Ft(t.currentRoute.value.path);rr(()=>t.currentRoute.value.path,g=>n.value=g);const i=_e(()=>dl.resolveLayouts(r)),o=_e(()=>dl.resolveRouteLocale(Vf.value.locales,n.value)),s=_e(()=>dl.resolveSiteLocaleData(Vf.value,o.value)),a=_e(()=>dl.resolvePageFrontmatter(Tu.value)),h=_e(()=>dl.resolvePageHeadTitle(Tu.value,s.value)),d=_e(()=>dl.resolvePageHead(h.value,a.value,s.value)),m=_e(()=>dl.resolvePageLang(Tu.value)),v=_e(()=>dl.resolvePageLayout(Tu.value,i.value));return e.provide(YG,i),e.provide(_6,a),e.provide(eW,h),e.provide(b6,d),e.provide(x6,m),e.provide(S6,v),e.provide(HC,o),e.provide(T6,s),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get:()=>a.value},$head:{get:()=>d.value},$headTitle:{get:()=>h.value},$lang:{get:()=>m.value},$page:{get:()=>Tu.value},$routeLocale:{get:()=>o.value},$site:{get:()=>Vf.value},$siteLocale:{get:()=>s.value},$withBase:{get:()=>H1}}),{layouts:i,pageData:Tu,pageFrontmatter:a,pageHead:d,pageHeadTitle:h,pageLang:m,pageLayout:v,routeLocale:o,siteData:Vf,siteLocaleData:s}},dSe=()=>{const e=QG(),t=w6(),r=Ft([]),n=()=>{e.value.forEach(o=>{const s=pSe(o);s&&r.value.push(s)})},i=()=>{document.documentElement.lang=t.value,r.value.forEach(o=>{o.parentNode===document.head&&document.head.removeChild(o)}),r.value.splice(0,r.value.length),e.value.forEach(o=>{const s=mSe(o);s!==null&&(document.head.appendChild(s),r.value.push(s))})};Mn(nW,i),cn(()=>{n(),i(),rr(()=>e.value,()=>i())})},pSe=([e,t,r=""])=>{const n=Object.entries(t).map(([a,h])=>Os(h)?`[${a}=${JSON.stringify(h)}]`:h===!0?`[${a}]`:"").join(""),i=`head > ${e}${n}`;return Array.from(document.querySelectorAll(i)).find(a=>a.innerText===r)||null},mSe=([e,t,r])=>{if(!Os(e))return null;const n=document.createElement(e);return UC(t)&&Object.entries(t).forEach(([i,o])=>{Os(o)?n.setAttribute(i,o):o===!0&&n.setAttribute(i,"")}),Os(r)&&n.appendChild(document.createTextNode(r)),n},vSe=UG,gSe=async()=>{var r;const e=vSe({name:"VuepressApp",setup(){var n;dSe();for(const i of q_)(n=i.setup)==null||n.call(i);return()=>[Dr(z6),...q_.flatMap(({rootComponents:i=[]})=>i.map(o=>Dr(o)))]}}),t=cSe();hSe(e),fSe(e,t,q_);for(const n of q_)await((r=n.enhance)==null?void 0:r.call(n,{app:e,router:t,siteData:Vf}));return e.use(t),{app:e,router:t}};gSe().then(({app:e,router:t})=>{t.isReady().then(()=>{e.mount("#app")})});export{Kr as _,fe as a,fr as b,Wt as c,gSe as createVueApp,Ro as d,Vj as e,_t as o,Hn as r,mn as w};
